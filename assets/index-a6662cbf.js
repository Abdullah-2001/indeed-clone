var Dp=Object.defineProperty;var $p=($,_,et)=>_ in $?Dp($,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_]=et;var Op=($,_)=>()=>(_||$((_={exports:{}}).exports,_),_.exports);var cs=($,_,et)=>($p($,typeof _!="symbol"?_+"":_,et),et),hu=($,_,et)=>{if(!_.has($))throw TypeError("Cannot "+et)};var wt=($,_,et)=>(hu($,_,"read from private field"),et?et.call($):_.get($)),Qt=($,_,et)=>{if(_.has($))throw TypeError("Cannot add the same private member more than once");_ instanceof WeakSet?_.add($):_.set($,et)},Rn=($,_,et,tt)=>(hu($,_,"write to private field"),tt?tt.call($,et):_.set($,et),et);var Do=($,_,et,tt)=>({set _(nt){Rn($,_,nt,et)},get _(){return wt($,_,tt)}}),hn=($,_,et)=>(hu($,_,"access private method"),et);var Mp=Op((exports,module)=>{function _mergeNamespaces($,_){for(var et=0;et<_.length;et++){const tt=_[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const nt in tt)if(nt!=="default"&&!(nt in $)){const rt=Object.getOwnPropertyDescriptor(tt,nt);rt&&Object.defineProperty($,nt,rt.get?rt:{enumerable:!0,get:()=>tt[nt]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var _=$.default;if(typeof _=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};et.prototype=_.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys($).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor($,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return $[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3($){return $===null||typeof $!="object"?null:($=z$4&&$[z$4]||$["@@iterator"],typeof $=="function"?$:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2($,_,et){this.props=$,this.context=_,this.refs=D$3,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function($,_){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_,"setState")};E$2.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$2($,_,et){this.props=$,this.context=_,this.refs=D$3,this.updater=et||B$2}var H$2=G$2.prototype=new F$2;H$2.constructor=G$2;C$3(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2($,_,et){var tt,nt={},rt=null,it=null;if(_!=null)for(tt in _.ref!==void 0&&(it=_.ref),_.key!==void 0&&(rt=""+_.key),_)J$1.call(_,tt)&&!L$1.hasOwnProperty(tt)&&(nt[tt]=_[tt]);var st=arguments.length-2;if(st===1)nt.children=et;else if(1<st){for(var ot=Array(st),at=0;at<st;at++)ot[at]=arguments[at+2];nt.children=ot}if($&&$.defaultProps)for(tt in st=$.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:l$5,type:$,key:rt,ref:it,props:nt,_owner:K$2.current}}function N$2($,_){return{$$typeof:l$5,type:$.type,key:_,ref:$.ref,props:$.props,_owner:$._owner}}function O$2($){return typeof $=="object"&&$!==null&&$.$$typeof===l$5}function escape$1($){var _={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _[et]})}var P$2=/\/+/g;function Q$2($,_){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):_.toString(36)}function R$3($,_,et,tt,nt){var rt=typeof $;(rt==="undefined"||rt==="boolean")&&($=null);var it=!1;if($===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch($.$$typeof){case l$5:case n$4:it=!0}}if(it)return it=$,nt=nt(it),$=tt===""?"."+Q$2(it,0):tt,I$2(nt)?(et="",$!=null&&(et=$.replace(P$2,"$&/")+"/"),R$3(nt,_,et,"",function(at){return at})):nt!=null&&(O$2(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+$)),_.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$2($))for(var st=0;st<$.length;st++){rt=$[st];var ot=tt+Q$2(rt,st);it+=R$3(rt,_,et,ot,nt)}else if(ot=A$3($),typeof ot=="function")for($=ot.call($),st=0;!(rt=$.next()).done;)rt=rt.value,ot=tt+Q$2(rt,st++),it+=R$3(rt,_,et,ot,nt);else if(rt==="object")throw _=String($),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return it}function S$3($,_,et){if($==null)return $;var tt=[],nt=0;return R$3($,tt,"","",function(rt){return _.call(et,rt,nt++)}),tt}function T$2($){if($._status===-1){var _=$._result;_=_(),_.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_)}if($._status===1)return $._result.default;throw $._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function($,_,et){S$3($,function(){_.apply(this,arguments)},et)},count:function($){var _=0;return S$3($,function(){_++}),_},toArray:function($){return S$3($,function(_){return _})||[]},only:function($){if(!O$2($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function($,_,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$3({},$.props),nt=$.key,rt=$.ref,it=$._owner;if(_!=null){if(_.ref!==void 0&&(rt=_.ref,it=K$2.current),_.key!==void 0&&(nt=""+_.key),$.type&&$.type.defaultProps)var st=$.type.defaultProps;for(ot in _)J$1.call(_,ot)&&!L$1.hasOwnProperty(ot)&&(tt[ot]=_[ot]===void 0&&st!==void 0?st[ot]:_[ot])}var ot=arguments.length-2;if(ot===1)tt.children=et;else if(1<ot){st=Array(ot);for(var at=0;at<ot;at++)st[at]=arguments[at+2];tt.children=st}return{$$typeof:l$5,type:$.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function($){return $={$$typeof:u$2,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$3,_context:$},$.Consumer=$};react_production_min.createElement=M$2;react_production_min.createFactory=function($){var _=M$2.bind(null,$);return _.type=$,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$5,render:$}};react_production_min.isValidElement=O$2;react_production_min.lazy=function($){return{$$typeof:y$3,_payload:{_status:-1,_result:$},_init:T$2}};react_production_min.memo=function($,_){return{$$typeof:x$4,type:$,compare:_===void 0?null:_}};react_production_min.startTransition=function($){var _=V$2.transition;V$2.transition={};try{$()}finally{V$2.transition=_}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,_){return U$2.current.useCallback($,_)};react_production_min.useContext=function($){return U$2.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$2.current.useDeferredValue($)};react_production_min.useEffect=function($,_){return U$2.current.useEffect($,_)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function($,_,et){return U$2.current.useImperativeHandle($,_,et)};react_production_min.useInsertionEffect=function($,_){return U$2.current.useInsertionEffect($,_)};react_production_min.useLayoutEffect=function($,_){return U$2.current.useLayoutEffect($,_)};react_production_min.useMemo=function($,_){return U$2.current.useMemo($,_)};react_production_min.useReducer=function($,_,et){return U$2.current.useReducer($,_,et)};react_production_min.useRef=function($){return U$2.current.useRef($)};react_production_min.useState=function($){return U$2.current.useState($)};react_production_min.useSyncExternalStore=function($,_,et){return U$2.current.useSyncExternalStore($,_,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React__default=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:React__default},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$2($,_,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),_.key!==void 0&&(rt=""+_.key),_.ref!==void 0&&(it=_.ref);for(tt in _)m$3.call(_,tt)&&!p$5.hasOwnProperty(tt)&&(nt[tt]=_[tt]);if($&&$.defaultProps)for(tt in _=$.defaultProps,_)nt[tt]===void 0&&(nt[tt]=_[tt]);return{$$typeof:k$2,type:$,key:rt,ref:it,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _(Wt,fn){var Tn=Wt.length;Wt.push(fn);e:for(;0<Tn;){var Fn=Tn-1>>>1,Mn=Wt[Fn];if(0<nt(Mn,fn))Wt[Fn]=fn,Wt[Tn]=Mn,Tn=Fn;else break e}}function et(Wt){return Wt.length===0?null:Wt[0]}function tt(Wt){if(Wt.length===0)return null;var fn=Wt[0],Tn=Wt.pop();if(Tn!==fn){Wt[0]=Tn;e:for(var Fn=0,Mn=Wt.length,Ut=Mn>>>1;Fn<Ut;){var St=2*(Fn+1)-1,It=Wt[St],Tt=St+1,Dt=Wt[Tt];if(0>nt(It,Tn))Tt<Mn&&0>nt(Dt,It)?(Wt[Fn]=Dt,Wt[Tt]=Tn,Fn=Tt):(Wt[Fn]=It,Wt[St]=Tn,Fn=St);else if(Tt<Mn&&0>nt(Dt,Tn))Wt[Fn]=Dt,Wt[Tt]=Tn,Fn=Tt;else break e}}return fn}function nt(Wt,fn){var Tn=Wt.sortIndex-fn.sortIndex;return Tn!==0?Tn:Wt.id-fn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;$.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();$.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,ct=null,dt=3,_t=!1,pt=!1,ut=!1,mt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(Wt){for(var fn=et(at);fn!==null;){if(fn.callback===null)tt(at);else if(fn.startTime<=Wt)tt(at),fn.sortIndex=fn.expirationTime,_(ot,fn);else break;fn=et(at)}}function bt(Wt){if(ut=!1,vt(Wt),!pt)if(et(ot)!==null)pt=!0,rn(Et);else{var fn=et(at);fn!==null&&wn(bt,fn.startTime-Wt)}}function Et(Wt,fn){pt=!1,ut&&(ut=!1,ft(Ct),Ct=-1),_t=!0;var Tn=dt;try{for(vt(fn),ct=et(ot);ct!==null&&(!(ct.expirationTime>fn)||Wt&&!Mt());){var Fn=ct.callback;if(typeof Fn=="function"){ct.callback=null,dt=ct.priorityLevel;var Mn=Fn(ct.expirationTime<=fn);fn=$.unstable_now(),typeof Mn=="function"?ct.callback=Mn:ct===et(ot)&&tt(ot),vt(fn)}else tt(ot);ct=et(ot)}if(ct!==null)var Ut=!0;else{var St=et(at);St!==null&&wn(bt,St.startTime-fn),Ut=!1}return Ut}finally{ct=null,dt=Tn,_t=!1}}var xt=!1,kt=null,Ct=-1,At=5,Lt=-1;function Mt(){return!($.unstable_now()-Lt<At)}function Ht(){if(kt!==null){var Wt=$.unstable_now();Lt=Wt;var fn=!0;try{fn=kt(!0,Wt)}finally{fn?zt():(xt=!1,kt=null)}}else xt=!1}var zt;if(typeof gt=="function")zt=function(){gt(Ht)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Xt=Nt.port2;Nt.port1.onmessage=Ht,zt=function(){Xt.postMessage(null)}}else zt=function(){mt(Ht,0)};function rn(Wt){kt=Wt,xt||(xt=!0,zt())}function wn(Wt,fn){Ct=mt(function(){Wt($.unstable_now())},fn)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Wt){Wt.callback=null},$.unstable_continueExecution=function(){pt||_t||(pt=!0,rn(Et))},$.unstable_forceFrameRate=function(Wt){0>Wt||125<Wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<Wt?Math.floor(1e3/Wt):5},$.unstable_getCurrentPriorityLevel=function(){return dt},$.unstable_getFirstCallbackNode=function(){return et(ot)},$.unstable_next=function(Wt){switch(dt){case 1:case 2:case 3:var fn=3;break;default:fn=dt}var Tn=dt;dt=fn;try{return Wt()}finally{dt=Tn}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Wt,fn){switch(Wt){case 1:case 2:case 3:case 4:case 5:break;default:Wt=3}var Tn=dt;dt=Wt;try{return fn()}finally{dt=Tn}},$.unstable_scheduleCallback=function(Wt,fn,Tn){var Fn=$.unstable_now();switch(typeof Tn=="object"&&Tn!==null?(Tn=Tn.delay,Tn=typeof Tn=="number"&&0<Tn?Fn+Tn:Fn):Tn=Fn,Wt){case 1:var Mn=-1;break;case 2:Mn=250;break;case 5:Mn=1073741823;break;case 4:Mn=1e4;break;default:Mn=5e3}return Mn=Tn+Mn,Wt={id:lt++,callback:fn,priorityLevel:Wt,startTime:Tn,expirationTime:Mn,sortIndex:-1},Tn>Fn?(Wt.sortIndex=Tn,_(at,Wt),et(ot)===null&&Wt===et(at)&&(ut?(ft(Ct),Ct=-1):ut=!0,wn(bt,Tn-Fn))):(Wt.sortIndex=Mn,_(ot,Wt),pt||_t||(pt=!0,rn(Et))),Wt},$.unstable_shouldYield=Mt,$.unstable_wrapCallback=function(Wt){var fn=dt;return function(){var Tn=dt;dt=fn;try{return Wt.apply(this,arguments)}finally{dt=Tn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$4($){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1($,_){ha$1($,_),ha$1($+"Capture",_)}function ha$1($,_){for(ea$1[$]=_,$=0;$<_.length;$++)da$1.add(_[$])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma$1={};function oa$1($){return ja.call(ma$1,$)?!0:ja.call(la,$)?!1:ka$1.test($)?ma$1[$]=!0:(la[$]=!0,!1)}function pa$1($,_,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa$1($,_,et,tt){if(_===null||typeof _>"u"||pa$1($,_,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$4($,_,et,tt,nt,rt,it){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=$,this.type=_,this.sanitizeURL=rt,this.removeEmptyString=it}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$3[$]=new v$4($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _=$[0];z$3[_]=new v$4(_,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$3[$]=new v$4($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$3[$]=new v$4($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$3[$]=new v$4($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$3[$]=new v$4($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$3[$]=new v$4($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$3[$]=new v$4($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$3[$]=new v$4($,5,!1,$.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _=$.replace(ra$1,sa$1);z$3[_]=new v$4(_,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _=$.replace(ra$1,sa$1);z$3[_]=new v$4(_,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _=$.replace(ra$1,sa$1);z$3[_]=new v$4(_,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$3[$]=new v$4($,1,!1,$.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$3[$]=new v$4($,1,!1,$.toLowerCase(),null,!0,!0)});function ta$1($,_,et,tt){var nt=z$3.hasOwnProperty(_)?z$3[_]:null;(nt!==null?nt.type!==0:tt||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa$1(_,et,nt,tt)&&(et=null),tt||nt===null?oa$1(_)&&(et===null?$.removeAttribute(_):$.setAttribute(_,""+et)):nt.mustUseProperty?$[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_=nt.attributeName,tt=nt.attributeNamespace,et===null?$.removeAttribute(_):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_,et):$.setAttribute(_,et))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja$1&&$[Ja$1]||$["@@iterator"],typeof $=="function"?$:null)}var A$2=Object.assign,La;function Ma$1($){if(La===void 0)try{throw Error()}catch(et){var _=et.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+$}var Na$1=!1;function Oa$1($,_){if(!$||Na$1)return"";Na$1=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(at){var tt=at}Reflect.construct($,[],_)}else{try{_.call()}catch(at){tt=at}$.call(_.prototype)}else{try{throw Error()}catch(at){tt=at}$()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st]){var ot=`
`+nt[it].replace(" at new "," at ");return $.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",$.displayName)),ot}while(1<=it&&0<=st);break}}}finally{Na$1=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma$1($):""}function Pa$1($){switch($.tag){case 5:return Ma$1($.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return $=Oa$1($.type,!1),$;case 11:return $=Oa$1($.type.render,!1),$;case 1:return $=Oa$1($.type,!0),$;default:return""}}function Qa$1($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca$1:return($.displayName||"Context")+".Consumer";case Ba$1:return($._context.displayName||"Context")+".Provider";case Da$1:var _=$.render;return $=$.displayName,$||($=_.displayName||_.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga$1:return _=$.displayName||null,_!==null?_:Qa$1($.type)||"Memo";case Ha$1:_=$._payload,$=$._init;try{return Qa$1($(_))}catch{}}return null}function Ra$1($){var _=$.type;switch($.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_.render,$=$.displayName||$.name||"",_.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(_);case 8:return _===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa$1($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta$1($){var _=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua$1($){var _=Ta$1($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_),tt=""+$[_];if(!$.hasOwnProperty(_)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty($,_,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty($,_,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){$._valueTracker=null,delete $[_]}}}}function Va$1($){$._valueTracker||($._valueTracker=Ua$1($))}function Wa$1($){if(!$)return!1;var _=$._valueTracker;if(!_)return!0;var et=_.getValue(),tt="";return $&&(tt=Ta$1($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya$1($,_){var et=_.checked;return A$2({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??$._wrapperState.initialChecked})}function Za$1($,_){var et=_.defaultValue==null?"":_.defaultValue,tt=_.checked!=null?_.checked:_.defaultChecked;et=Sa$1(_.value!=null?_.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab$1($,_){_=_.checked,_!=null&&ta$1($,"checked",_,!1)}function bb$1($,_){ab$1($,_);var et=Sa$1(_.value),tt=_.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_.hasOwnProperty("value")?cb$1($,_.type,et):_.hasOwnProperty("defaultValue")&&cb$1($,_.type,Sa$1(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&($.defaultChecked=!!_.defaultChecked)}function db$1($,_,et){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var tt=_.type;if(!(tt!=="submit"&&tt!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+$._wrapperState.initialValue,et||_===$.value||($.value=_),$.defaultValue=_}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb$1($,_,et){(_!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb$1=Array.isArray;function fb$1($,_,et,tt){if($=$.options,_){_={};for(var nt=0;nt<et.length;nt++)_["$"+et[nt]]=!0;for(et=0;et<$.length;et++)nt=_.hasOwnProperty("$"+$[et].value),$[et].selected!==nt&&($[et].selected=nt),nt&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa$1(et),_=null,nt=0;nt<$.length;nt++){if($[nt].value===et){$[nt].selected=!0,tt&&($[nt].defaultSelected=!0);return}_!==null||$[nt].disabled||(_=$[nt])}_!==null&&(_.selected=!0)}}function gb$1($,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$2({},_,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb$1($,_){var et=_.value;if(et==null){if(et=_.children,_=_.defaultValue,et!=null){if(_!=null)throw Error(p$4(92));if(eb$1(et)){if(1<et.length)throw Error(p$4(93));et=et[0]}_=et}_==null&&(_=""),et=_}$._wrapperState={initialValue:Sa$1(et)}}function ib$1($,_){var et=Sa$1(_.value),tt=Sa$1(_.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb$1($){var _=$.textContent;_===$._wrapperState.initialValue&&_!==""&&_!==null&&($.value=_)}function kb$1($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1($,_){return $==null||$==="http://www.w3.org/1999/xhtml"?kb$1(_):$==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb$1,nb$1=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return $(_,et,tt,nt)})}:$}(function($,_){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb$1.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_.firstChild;)$.appendChild(_.firstChild)}});function ob$1($,_){if(_){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_;return}}$.textContent=_}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function($){qb$1.forEach(function(_){_=_+$.charAt(0).toUpperCase()+$.substring(1),pb$1[_]=pb$1[$]})});function rb$1($,_,et){return _==null||typeof _=="boolean"||_===""?"":et||typeof _!="number"||_===0||pb$1.hasOwnProperty($)&&pb$1[$]?(""+_).trim():_+"px"}function sb$1($,_){$=$.style;for(var et in _)if(_.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb$1(et,_[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,nt):$[et]=nt}}var tb$1=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1($,_){if(_){if(tb$1[$]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$4(137,$));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$4(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$4(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$4(62))}}function vb$1($,_){if($.indexOf("-")===-1)return typeof _.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1($){if($=Cb$1($)){if(typeof yb$1!="function")throw Error(p$4(280));var _=$.stateNode;_&&(_=Db(_),yb$1($.stateNode,$.type,_))}}function Eb$1($){zb$1?Ab$1?Ab$1.push($):Ab$1=[$]:zb$1=$}function Fb$1(){if(zb$1){var $=zb$1,_=Ab$1;if(Ab$1=zb$1=null,Bb$1($),_)for($=0;$<_.length;$++)Bb$1(_[$])}}function Gb$1($,_){return $(_)}function Hb$1(){}var Ib$1=!1;function Jb$1($,_,et){if(Ib$1)return $(_,et);Ib$1=!0;try{return Gb$1($,_,et)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1($,_){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$4(231,_,typeof et));return et}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1($,_,et,tt,nt,rt,it,st,ot){var at=Array.prototype.slice.call(arguments,3);try{_.apply(et,at)}catch(lt){this.onError(lt)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function($){Ob$1=!0,Pb$1=$}};function Tb$1($,_,et,tt,nt,rt,it,st,ot){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1($,_,et,tt,nt,rt,it,st,ot){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var at=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$4(198));Qb$1||(Qb$1=!0,Rb$1=at)}}function Vb$1($){var _=$,et=$;if($.alternate)for(;_.return;)_=_.return;else{$=_;do _=$,_.flags&4098&&(et=_.return),$=_.return;while($)}return _.tag===3?et:null}function Wb$1($){if($.tag===13){var _=$.memoizedState;if(_===null&&($=$.alternate,$!==null&&(_=$.memoizedState)),_!==null)return _.dehydrated}return null}function Xb$1($){if(Vb$1($)!==$)throw Error(p$4(188))}function Yb$1($){var _=$.alternate;if(!_){if(_=Vb$1($),_===null)throw Error(p$4(188));return _!==$?null:$}for(var et=$,tt=_;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb$1(nt),$;if(rt===tt)return Xb$1(nt),_;rt=rt.sibling}throw Error(p$4(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===et){it=!0,et=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,et=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===et){it=!0,et=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,et=nt;break}st=st.sibling}if(!it)throw Error(p$4(189))}}if(et.alternate!==tt)throw Error(p$4(190))}if(et.tag!==3)throw Error(p$4(188));return et.stateNode.current===et?$:_}function Zb$1($){return $=Yb$1($),$!==null?$b$1($):null}function $b$1($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _=$b$1($);if(_!==null)return _;$=$.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1($){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,$,void 0,($.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1($){return $>>>=0,$===0?32:31-(pc$1($)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc$1($,_){var et=$.pendingLanes;if(et===0)return 0;var tt=0,nt=$.suspendedLanes,rt=$.pingedLanes,it=et&268435455;if(it!==0){var st=it&~nt;st!==0?tt=tc$1(st):(rt&=it,rt!==0&&(tt=tc$1(rt)))}else it=et&~nt,it!==0?tt=tc$1(it):rt!==0&&(tt=tc$1(rt));if(tt===0)return 0;if(_!==0&&_!==tt&&!(_&nt)&&(nt=tt&-tt,rt=_&-_,nt>=rt||nt===16&&(rt&4194240)!==0))return _;if(tt&4&&(tt|=et&16),_=$.entangledLanes,_!==0)for($=$.entanglements,_&=tt;0<_;)et=31-oc$1(_),nt=1<<et,tt|=$[et],_&=~nt;return tt}function vc$1($,_){switch($){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1($,_){for(var et=$.suspendedLanes,tt=$.pingedLanes,nt=$.expirationTimes,rt=$.pendingLanes;0<rt;){var it=31-oc$1(rt),st=1<<it,ot=nt[it];ot===-1?(!(st&et)||st&tt)&&(nt[it]=vc$1(st,_)):ot<=_&&($.expiredLanes|=st),rt&=~st}}function xc$1($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc$1(){var $=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),$}function zc$1($){for(var _=[],et=0;31>et;et++)_.push($);return _}function Ac$1($,_,et){$.pendingLanes|=_,_!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_=31-oc$1(_),$[_]=et}function Bc$1($,_){var et=$.pendingLanes&~_;$.pendingLanes=_,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_,$.mutableReadLanes&=_,$.entangledLanes&=_,_=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var nt=31-oc$1(et),rt=1<<nt;_[nt]=0,tt[nt]=-1,$[nt]=-1,et&=~rt}}function Cc$1($,_){var et=$.entangledLanes|=_;for($=$.entanglements;et;){var tt=31-oc$1(et),nt=1<<tt;nt&_|$[tt]&_&&($[tt]|=_),et&=~nt}}var C$2=0;function Dc$1($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1($,_){switch($){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(_.pointerId)}}function Tc$1($,_,et,tt,nt,rt){return $===null||$.nativeEvent!==rt?($={blockedOn:_,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},_!==null&&(_=Cb$1(_),_!==null&&Fc$1(_)),$):($.eventSystemFlags|=tt,_=$.targetContainers,nt!==null&&_.indexOf(nt)===-1&&_.push(nt),$)}function Uc$1($,_,et,tt,nt){switch(_){case"focusin":return Lc$1=Tc$1(Lc$1,$,_,et,tt,nt),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,$,_,et,tt,nt),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,$,_,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc$1.set(rt,Tc$1(Oc$1.get(rt)||null,$,_,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc$1.set(rt,Tc$1(Pc$1.get(rt)||null,$,_,et,tt,nt)),!0}return!1}function Vc$1($){var _=Wc$1($.target);if(_!==null){var et=Vb$1(_);if(et!==null){if(_=et.tag,_===13){if(_=Wb$1(et),_!==null){$.blockedOn=_,Ic$1($.priority,function(){Gc$1(et)});return}}else if(_===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc$1($){if($.blockedOn!==null)return!1;for(var _=$.targetContainers;0<_.length;){var et=Yc$1($.domEventName,$.eventSystemFlags,_[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb$1=tt,et.target.dispatchEvent(tt),wb$1=null}else return _=Cb$1(et),_!==null&&Fc$1(_),$.blockedOn=et,!1;_.shift()}return!0}function Zc$1($,_,et){Xc$1($)&&et.delete(_)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1($,_){$.blockedOn===_&&($.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1($){function _(nt){return ad$1(nt,$)}if(0<Kc$1.length){ad$1(Kc$1[0],$);for(var et=1;et<Kc$1.length;et++){var tt=Kc$1[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,$),Mc$1!==null&&ad$1(Mc$1,$),Nc$1!==null&&ad$1(Nc$1,$),Oc$1.forEach(_),Pc$1.forEach(_),et=0;et<Qc$1.length;et++)tt=Qc$1[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc$1.length&&(et=Qc$1[0],et.blockedOn===null);)Vc$1(et),et.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1($,_,et,tt){var nt=C$2,rt=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1($,_,et,tt)}finally{C$2=nt,cd$1.transition=rt}}function gd$1($,_,et,tt){var nt=C$2,rt=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1($,_,et,tt)}finally{C$2=nt,cd$1.transition=rt}}function fd$1($,_,et,tt){if(dd$1){var nt=Yc$1($,_,et,tt);if(nt===null)hd$1($,_,tt,id$1,et),Sc$1($,tt);else if(Uc$1(nt,$,_,et,tt))tt.stopPropagation();else if(Sc$1($,tt),_&4&&-1<Rc$1.indexOf($)){for(;nt!==null;){var rt=Cb$1(nt);if(rt!==null&&Ec$1(rt),rt=Yc$1($,_,et,tt),rt===null&&hd$1($,_,tt,id$1,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd$1($,_,tt,null,et)}}var id$1=null;function Yc$1($,_,et,tt){if(id$1=null,$=xb$1(tt),$=Wc$1($),$!==null)if(_=Vb$1($),_===null)$=null;else if(et=_.tag,et===13){if($=Wb$1(_),$!==null)return $;$=null}else if(et===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;$=null}else _!==$&&($=null);return id$1=$,null}function jd$1($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var $,_=ld$1,et=_.length,tt,nt="value"in kd$1?kd$1.value:kd$1.textContent,rt=nt.length;for($=0;$<et&&_[$]===nt[$];$++);var it=et-$;for(tt=1;tt<=it&&_[et-tt]===nt[rt-tt];tt++);return md$1=nt.slice($,1<tt?1-tt:void 0)}function od$1($){var _=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_===13&&($=13)):$=_,$===10&&($=13),32<=$||$===13?$:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1($){function _(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in $)$.hasOwnProperty(st)&&(et=$[st],this[st]=et?et(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$2(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),_}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$2({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$2({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd$1&&(yd$1&&$.type==="mousemove"?(wd$1=$.screenX-yd$1.screenX,xd$1=$.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=$),wd$1)},movementY:function($){return"movementY"in $?$.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$2({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$2({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$2({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$2({},sd$1,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$2({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1($){var _=this.nativeEvent;return _.getModifierState?_.getModifierState($):($=Od$1[$])?!!_[$]:!1}function zd$1(){return Pd$1}var Qd$1=A$2({},ud$1,{key:function($){if($.key){var _=Md$1[$.key]||$.key;if(_!=="Unidentified")return _}return $.type==="keypress"?($=od$1($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd$1[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function($){return $.type==="keypress"?od$1($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od$1($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$2({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$2({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$2({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$2({},Ad$1,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$2=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$1&&"TextEvent"in window&&!be$1,de=ia$1&&(!ae$2||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1($,_){switch($){case"keyup":return $d$1.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie$1=!1;function je($,_){switch($){case"compositionend":return he$1(_);case"keypress":return _.which!==32?null:(fe$1=!0,ee$1);case"textInput":return $=_.data,$===ee$1&&fe$1?null:$;default:return null}}function ke($,_){if(ie$1)return $==="compositionend"||!ae$2&&ge$1($,_)?($=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1($){var _=$&&$.nodeName&&$.nodeName.toLowerCase();return _==="input"?!!le$1[$.type]:_==="textarea"}function ne($,_,et,tt){Eb$1(tt),_=oe$1(_,"onChange"),0<_.length&&(et=new td$1("onChange","change",null,et,tt),$.push({event:et,listeners:_}))}var pe=null,qe=null;function re$1($){se$1($,0)}function te$1($){var _=ue$1($);if(Wa$1(_))return $}function ve($,_){if($==="change")return _}var we$1=!1;if(ia$1){var xe;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te$1(qe)){var _=[];ne(_,qe,$,xb$1($)),Jb$1(re$1,_)}}function Ce($,_,et){$==="focusin"?(Ae$1(),pe=_,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae$1()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te$1(qe)}function Ee($,_){if($==="click")return te$1(_)}function Fe($,_){if($==="input"||$==="change")return te$1(_)}function Ge($,_){return $===_&&($!==0||1/$===1/_)||$!==$&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1($,_){if(He($,_))return!0;if(typeof $!="object"||$===null||typeof _!="object"||_===null)return!1;var et=Object.keys($),tt=Object.keys(_);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_,nt)||!He($[nt],_[nt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_&&tt>=_)return{node:et,offset:_-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_){return $&&_?$===_?!0:$&&$.nodeType===3?!1:_&&_.nodeType===3?Le($,_.parentNode):"contains"in $?$.contains(_):$.compareDocumentPosition?!!($.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var $=window,_=Xa();_ instanceof $.HTMLIFrameElement;){try{var et=typeof _.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_.contentWindow;else break;_=Xa($.document)}return _}function Ne($){var _=$&&$.nodeName&&$.nodeName.toLowerCase();return _&&(_==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_==="textarea"||$.contentEditable==="true")}function Oe($){var _=Me(),et=$.focusedElem,tt=$.selectionRange;if(_!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_=tt.start,$=tt.end,$===void 0&&($=_),"selectionStart"in et)et.selectionStart=_,et.selectionEnd=Math.min($,et.value.length);else if($=(_=et.ownerDocument||document)&&_.defaultView||window,$.getSelection){$=$.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!$.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&($.rangeCount!==1||$.anchorNode!==nt.node||$.anchorOffset!==nt.offset||$.focusNode!==it.node||$.focusOffset!==it.offset)&&(_=_.createRange(),_.setStart(nt.node,nt.offset),$.removeAllRanges(),rt>tt?($.addRange(_),$.extend(it.node,it.offset)):(_.setEnd(it.node,it.offset),$.addRange(_)))}}for(_=[],$=et;$=$.parentNode;)$.nodeType===1&&_.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_.length;et++)$=_[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue($,_,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie$1(Se,tt)||(Se=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&(_=new td$1("onSelect","select",null,_,et),$.push({event:_,listeners:tt}),_.target=Qe)))}function Ve$1($,_){var et={};return et[$.toLowerCase()]=_.toLowerCase(),et["Webkit"+$]="webkit"+_,et["Moz"+$]="moz"+_,et}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _=We[$],et;for(et in _)if(_.hasOwnProperty(et)&&et in Ye)return Xe[$]=_[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_){df.set($,_),fa$1(_,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub$1(tt,_,void 0,$),$.currentTarget=null}function se$1($,_){_=(_&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(_)for(var it=tt.length-1;0<=it;it--){var st=tt[it],ot=st.instance,at=st.currentTarget;if(st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}else for(it=0;it<tt.length;it++){if(st=tt[it],ot=st.instance,at=st.currentTarget,st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}}}if(Qb$1)throw $=Rb$1,Qb$1=!1,Rb$1=null,$}function D$2($,_){var et=_[of];et===void 0&&(et=_[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_,$,2,!1),et.add(tt))}function qf($,_,et){var tt=0;_&&(tt|=4),pf(et,$,tt,_)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da$1.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _=$.nodeType===9?$:$.ownerDocument;_===null||_[rf]||(_[rf]=!0,qf("selectionchange",!1,_))}}function pf($,_,et,tt){switch(jd$1(_)){case 1:var nt=ed$1;break;case 4:nt=gd$1;break;default:nt=fd$1}et=nt.bind(null,_,et,$),nt=void 0,!Lb$1||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(nt=!0),tt?nt!==void 0?$.addEventListener(_,et,{capture:!0,passive:nt}):$.addEventListener(_,et,!0):nt!==void 0?$.addEventListener(_,et,{passive:nt}):$.addEventListener(_,et,!1)}function hd$1($,_,et,tt,nt){var rt=tt;if(!(_&1)&&!(_&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=Wc$1(st),it===null)return;if(ot=it.tag,ot===5||ot===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Jb$1(function(){var at=rt,lt=xb$1(et),ct=[];e:{var dt=df.get($);if(dt!==void 0){var _t=td$1,pt=$;switch($){case"keypress":if(od$1(et)===0)break e;case"keydown":case"keyup":_t=Rd$1;break;case"focusin":pt="focus",_t=Fd$1;break;case"focusout":pt="blur",_t=Fd$1;break;case"beforeblur":case"afterblur":_t=Fd$1;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Vd$1;break;case $e:case af:case bf:_t=Hd$1;break;case cf:_t=Xd$1;break;case"scroll":_t=vd$1;break;case"wheel":_t=Zd$1;break;case"copy":case"cut":case"paste":_t=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Td$1}var ut=(_&4)!==0,mt=!ut&&$==="scroll",ft=ut?dt!==null?dt+"Capture":null:dt;ut=[];for(var gt=at,vt;gt!==null;){vt=gt;var bt=vt.stateNode;if(vt.tag===5&&bt!==null&&(vt=bt,ft!==null&&(bt=Kb$1(gt,ft),bt!=null&&ut.push(tf(gt,bt,vt)))),mt)break;gt=gt.return}0<ut.length&&(dt=new _t(dt,pt,null,et,lt),ct.push({event:dt,listeners:ut}))}}if(!(_&7)){e:{if(dt=$==="mouseover"||$==="pointerover",_t=$==="mouseout"||$==="pointerout",dt&&et!==wb$1&&(pt=et.relatedTarget||et.fromElement)&&(Wc$1(pt)||pt[uf]))break e;if((_t||dt)&&(dt=lt.window===lt?lt:(dt=lt.ownerDocument)?dt.defaultView||dt.parentWindow:window,_t?(pt=et.relatedTarget||et.toElement,_t=at,pt=pt?Wc$1(pt):null,pt!==null&&(mt=Vb$1(pt),pt!==mt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(_t=null,pt=at),_t!==pt)){if(ut=Bd$1,bt="onMouseLeave",ft="onMouseEnter",gt="mouse",($==="pointerout"||$==="pointerover")&&(ut=Td$1,bt="onPointerLeave",ft="onPointerEnter",gt="pointer"),mt=_t==null?dt:ue$1(_t),vt=pt==null?dt:ue$1(pt),dt=new ut(bt,gt+"leave",_t,et,lt),dt.target=mt,dt.relatedTarget=vt,bt=null,Wc$1(lt)===at&&(ut=new ut(ft,gt+"enter",pt,et,lt),ut.target=vt,ut.relatedTarget=mt,bt=ut),mt=bt,_t&&pt)t:{for(ut=_t,ft=pt,gt=0,vt=ut;vt;vt=vf(vt))gt++;for(vt=0,bt=ft;bt;bt=vf(bt))vt++;for(;0<gt-vt;)ut=vf(ut),gt--;for(;0<vt-gt;)ft=vf(ft),vt--;for(;gt--;){if(ut===ft||ft!==null&&ut===ft.alternate)break t;ut=vf(ut),ft=vf(ft)}ut=null}else ut=null;_t!==null&&wf(ct,dt,_t,ut,!1),pt!==null&&mt!==null&&wf(ct,mt,pt,ut,!0)}}e:{if(dt=at?ue$1(at):window,_t=dt.nodeName&&dt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&dt.type==="file")var Et=ve;else if(me$1(dt))if(we$1)Et=Fe;else{Et=De;var xt=Ce}else(_t=dt.nodeName)&&_t.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Et=Ee);if(Et&&(Et=Et($,at))){ne(ct,Et,et,lt);break e}xt&&xt($,dt,at),$==="focusout"&&(xt=dt._wrapperState)&&xt.controlled&&dt.type==="number"&&cb$1(dt,"number",dt.value)}switch(xt=at?ue$1(at):window,$){case"focusin":(me$1(xt)||xt.contentEditable==="true")&&(Qe=xt,Re$1=at,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,et,lt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ct,et,lt)}var kt;if(ae$2)e:{switch($){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie$1?ge$1($,et)&&(Ct="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(Ct="onCompositionStart");Ct&&(de&&et.locale!=="ko"&&(ie$1||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie$1&&(kt=nd$1()):(kd$1=lt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),xt=oe$1(at,Ct),0<xt.length&&(Ct=new Ld$1(Ct,$,null,et,lt),ct.push({event:Ct,listeners:xt}),kt?Ct.data=kt:(kt=he$1(et),kt!==null&&(Ct.data=kt)))),(kt=ce?je($,et):ke($,et))&&(at=oe$1(at,"onBeforeInput"),0<at.length&&(lt=new Ld$1("onBeforeInput","beforeinput",null,et,lt),ct.push({event:lt,listeners:at}),lt.data=kt))}se$1(ct,_)})}function tf($,_,et){return{instance:$,listener:_,currentTarget:et}}function oe$1($,_){for(var et=_+"Capture",tt=[];$!==null;){var nt=$,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb$1($,et),rt!=null&&tt.unshift(tf($,rt,nt)),rt=Kb$1($,_),rt!=null&&tt.push(tf($,rt,nt))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_,et,tt,nt){for(var rt=_._reactName,it=[];et!==null&&et!==tt;){var st=et,ot=st.alternate,at=st.stateNode;if(ot!==null&&ot===tt)break;st.tag===5&&at!==null&&(st=at,nt?(ot=Kb$1(et,rt),ot!=null&&it.unshift(tf(et,ot,st))):nt||(ot=Kb$1(et,rt),ot!=null&&it.push(tf(et,ot,st)))),et=et.return}it.length!==0&&$.push({event:_,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_,et){if(_=zf(_),zf($)!==_&&et)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_){return $==="textarea"||$==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_){var et=_,tt=0;do{var nt=et.nextSibling;if($.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){$.removeChild(nt),bd$1(_);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd$1(_)}function Lf($){for(;$!=null;$=$.nextSibling){var _=$.nodeType;if(_===1||_===3)break;if(_===8){if(_=$.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_===0)return $;_--}else et==="/$"&&_++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1($){var _=$[Of];if(_)return _;for(var et=$.parentNode;et;){if(_=et[uf]||et[Of]){if(et=_.alternate,_.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _}$=et,et=$.parentNode}return null}function Cb$1($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue$1($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$4(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$1($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1($,_){Tf++,Sf[Tf]=$.current,$.current=_}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=_[rt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_,$.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$1(Wf),E$1(H$1)}function ag($,_,et){if(H$1.current!==Vf)throw Error(p$4(168));G$1(H$1,_),G$1(Wf,et)}function bg($,_,et){var tt=$.stateNode;if(_=_.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _))throw Error(p$4(108,Ra$1($)||"Unknown",nt));return A$2({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,$),G$1(Wf,Wf.current),!0}function dg($,_,et){var tt=$.stateNode;if(!tt)throw Error(p$4(169));et?($=bg($,_,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$1(Wf),E$1(H$1),G$1(H$1,$)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_=C$2;try{var et=eg;for(C$2=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice($+1)),ac$1(fc$1,jg),nt}finally{C$2=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_}function ug($,_,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var nt=32-oc$1(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc$1(_)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc$1(_)+nt|et<<nt|tt,sg=rt+$}else rg=1<<rt|et<<nt|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag($,_){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_,et.return=$,_=$.deletions,_===null?($.deletions=[et],$.flags|=16):_.push(et)}function Cg($,_){switch($.tag){case 5:var et=$.type;return _=_.nodeType!==1||et.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?($.stateNode=_,xg=$,yg=Lf(_.firstChild),!0):!1;case 6:return _=$.pendingProps===""||_.nodeType!==3?null:_,_!==null?($.stateNode=_,xg=$,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$1){var _=yg;if(_){var et=_;if(!Cg($,_)){if(Dg($))throw Error(p$4(418));_=Lf(et.nextSibling);var tt=xg;_&&Cg($,_)?Ag(tt,et):($.flags=$.flags&-4097|2,I$1=!1,xg=$)}}else{if(Dg($))throw Error(p$4(418));$.flags=$.flags&-4097|2,I$1=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$1)return Fg($),I$1=!0,!1;var _;if((_=$.tag!==3)&&!(_=$.tag!==5)&&(_=$.type,_=_!=="head"&&_!=="body"&&!Ef($.type,$.memoizedProps)),_&&(_=yg)){if(Dg($))throw Hg(),Error(p$4(418));for(;_;)Ag($,_),_=Lf(_.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$4(317));e:{for($=$.nextSibling,_=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_===0){yg=Lf($.nextSibling);break e}_--}else et!=="$"&&et!=="$!"&&et!=="$?"||_++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg($,_){if($&&$.defaultProps){_=A$2({},_),$=$.defaultProps;for(var et in $)_[et]===void 0&&(_[et]=$[et]);return _}return _}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var _=Mg.current;E$1(Mg),$._currentValue=_}function Sg($,_,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_)!==_?($.childLanes|=_,tt!==null&&(tt.childLanes|=_)):tt!==null&&(tt.childLanes&_)!==_&&(tt.childLanes|=_),$===et)break;$=$.return}}function Tg($,_){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&_&&(Ug=!0),$.firstContext=null)}function Vg($){var _=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:_,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return _}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,_,et,tt){var nt=_.interleaved;return nt===null?(et.next=et,Xg(_)):(et.next=nt.next,nt.next=et),_.interleaved=et,Zg($,tt)}function Zg($,_){$.lanes|=_;var et=$.alternate;for(et!==null&&(et.lanes|=_),et=$,$=$.return;$!==null;)$.childLanes|=_,et=$.alternate,et!==null&&(et.childLanes|=_),et=$,$=$.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,_){$=$.updateQueue,_.updateQueue===$&&(_.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,_){return{eventTime:$,lane:_,tag:0,payload:null,callback:null,next:null}}function dh($,_,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,K$1&2){var nt=tt.pending;return nt===null?_.next=_:(_.next=nt.next,nt.next=_),tt.pending=_,Zg($,et)}return nt=tt.interleaved,nt===null?(_.next=_,Xg(tt)):(_.next=nt.next,nt.next=_),tt.interleaved=_,Zg($,et)}function eh($,_,et){if(_=_.updateQueue,_!==null&&(_=_.shared,(et&4194240)!==0)){var tt=_.lanes;tt&=$.pendingLanes,et|=tt,_.lanes=et,Cc$1($,et)}}function fh($,_){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=_:rt=rt.next=_}else nt=rt=_;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_:$.next=_,et.lastBaseUpdate=_}function gh($,_,et,tt){var nt=$.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,at=ot.next;ot.next=null,it===null?rt=at:it.next=at,it=ot;var lt=$.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==it&&(st===null?lt.firstBaseUpdate=at:st.next=at,lt.lastBaseUpdate=ot))}if(rt!==null){var ct=nt.baseState;it=0,lt=at=ot=null,st=rt;do{var dt=st.lane,_t=st.eventTime;if((tt&dt)===dt){lt!==null&&(lt=lt.next={eventTime:_t,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var pt=$,ut=st;switch(dt=_,_t=et,ut.tag){case 1:if(pt=ut.payload,typeof pt=="function"){ct=pt.call(_t,ct,dt);break e}ct=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ut.payload,dt=typeof pt=="function"?pt.call(_t,ct,dt):pt,dt==null)break e;ct=A$2({},ct,dt);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&($.flags|=64,dt=nt.effects,dt===null?nt.effects=[st]:dt.push(st))}else _t={eventTime:_t,lane:dt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(at=lt=_t,ot=ct):lt=lt.next=_t,it|=dt;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;dt=st,st=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(1);if(lt===null&&(ot=ct),nt.baseState=ot,nt.firstBaseUpdate=at,nt.lastBaseUpdate=lt,_=nt.shared.interleaved,_!==null){nt=_;do it|=nt.lane,nt=nt.next;while(nt!==_)}else rt===null&&(nt.shared.lanes=0);hh|=it,$.lanes=it,$.memoizedState=ct}}function ih($,_,et){if($=_.effects,_.effects=null,$!==null)for(_=0;_<$.length;_++){var tt=$[_],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$4(191,nt));nt.call(tt)}}}var jh=new aa$1.Component().refs;function kh($,_,et,tt){_=$.memoizedState,et=et(tt,_),et=et==null?_:A$2({},_,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var nh={isMounted:function($){return($=$._reactInternals)?Vb$1($)===$:!1},enqueueSetState:function($,_,et){$=$._reactInternals;var tt=L(),nt=lh($),rt=ch(tt,nt);rt.payload=_,et!=null&&(rt.callback=et),_=dh($,rt,nt),_!==null&&(mh(_,$,nt,tt),eh(_,$,nt))},enqueueReplaceState:function($,_,et){$=$._reactInternals;var tt=L(),nt=lh($),rt=ch(tt,nt);rt.tag=1,rt.payload=_,et!=null&&(rt.callback=et),_=dh($,rt,nt),_!==null&&(mh(_,$,nt,tt),eh(_,$,nt))},enqueueForceUpdate:function($,_){$=$._reactInternals;var et=L(),tt=lh($),nt=ch(et,tt);nt.tag=2,_!=null&&(nt.callback=_),_=dh($,nt,tt),_!==null&&(mh(_,$,tt,et),eh(_,$,tt))}};function oh($,_,et,tt,nt,rt,it){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,rt,it):_.prototype&&_.prototype.isPureReactComponent?!Ie$1(et,tt)||!Ie$1(nt,rt):!0}function ph($,_,et){var tt=!1,nt=Vf,rt=_.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf(_)?Xf:H$1.current,tt=_.contextTypes,rt=(tt=tt!=null)?Yf($,nt):Vf),_=new _(et,rt),$.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nh,$.stateNode=_,_._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=nt,$.__reactInternalMemoizedMaskedChildContext=rt),_}function qh($,_,et,tt){$=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(et,tt),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(et,tt),_.state!==$&&nh.enqueueReplaceState(_,_.state,null)}function rh($,_,et,tt){var nt=$.stateNode;nt.props=et,nt.state=$.memoizedState,nt.refs=jh,ah($);var rt=_.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf(_)?Xf:H$1.current,nt.context=Yf($,rt)),nt.state=$.memoizedState,rt=_.getDerivedStateFromProps,typeof rt=="function"&&(kh($,_,rt,et),nt.state=$.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh($,et,nt,tt),nt.state=$.memoizedState),typeof nt.componentDidMount=="function"&&($.flags|=4194308)}function sh($,_,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$4(309));var tt=et.stateNode}if(!tt)throw Error(p$4(147,$));var nt=tt,rt=""+$;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===rt?_.ref:(_=function(it){var st=nt.refs;st===jh&&(st=nt.refs={}),it===null?delete st[rt]:st[rt]=it},_._stringRef=rt,_)}if(typeof $!="string")throw Error(p$4(284));if(!et._owner)throw Error(p$4(290,$))}return $}function th($,_){throw $=Object.prototype.toString.call(_),Error(p$4(31,$==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":$))}function uh($){var _=$._init;return _($._payload)}function vh($){function _(ft,gt){if($){var vt=ft.deletions;vt===null?(ft.deletions=[gt],ft.flags|=16):vt.push(gt)}}function et(ft,gt){if(!$)return null;for(;gt!==null;)_(ft,gt),gt=gt.sibling;return null}function tt(ft,gt){for(ft=new Map;gt!==null;)gt.key!==null?ft.set(gt.key,gt):ft.set(gt.index,gt),gt=gt.sibling;return ft}function nt(ft,gt){return ft=wh(ft,gt),ft.index=0,ft.sibling=null,ft}function rt(ft,gt,vt){return ft.index=vt,$?(vt=ft.alternate,vt!==null?(vt=vt.index,vt<gt?(ft.flags|=2,gt):vt):(ft.flags|=2,gt)):(ft.flags|=1048576,gt)}function it(ft){return $&&ft.alternate===null&&(ft.flags|=2),ft}function st(ft,gt,vt,bt){return gt===null||gt.tag!==6?(gt=xh(vt,ft.mode,bt),gt.return=ft,gt):(gt=nt(gt,vt),gt.return=ft,gt)}function ot(ft,gt,vt,bt){var Et=vt.type;return Et===ya$1?lt(ft,gt,vt.props.children,bt,vt.key):gt!==null&&(gt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha$1&&uh(Et)===gt.type)?(bt=nt(gt,vt.props),bt.ref=sh(ft,gt,vt),bt.return=ft,bt):(bt=yh(vt.type,vt.key,vt.props,null,ft.mode,bt),bt.ref=sh(ft,gt,vt),bt.return=ft,bt)}function at(ft,gt,vt,bt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==vt.containerInfo||gt.stateNode.implementation!==vt.implementation?(gt=zh(vt,ft.mode,bt),gt.return=ft,gt):(gt=nt(gt,vt.children||[]),gt.return=ft,gt)}function lt(ft,gt,vt,bt,Et){return gt===null||gt.tag!==7?(gt=Ah(vt,ft.mode,bt,Et),gt.return=ft,gt):(gt=nt(gt,vt),gt.return=ft,gt)}function ct(ft,gt,vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,ft.mode,vt),gt.return=ft,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va$1:return vt=yh(gt.type,gt.key,gt.props,null,ft.mode,vt),vt.ref=sh(ft,null,gt),vt.return=ft,vt;case wa$1:return gt=zh(gt,ft.mode,vt),gt.return=ft,gt;case Ha$1:var bt=gt._init;return ct(ft,bt(gt._payload),vt)}if(eb$1(gt)||Ka(gt))return gt=Ah(gt,ft.mode,vt,null),gt.return=ft,gt;th(ft,gt)}return null}function dt(ft,gt,vt,bt){var Et=gt!==null?gt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Et!==null?null:st(ft,gt,""+vt,bt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va$1:return vt.key===Et?ot(ft,gt,vt,bt):null;case wa$1:return vt.key===Et?at(ft,gt,vt,bt):null;case Ha$1:return Et=vt._init,dt(ft,gt,Et(vt._payload),bt)}if(eb$1(vt)||Ka(vt))return Et!==null?null:lt(ft,gt,vt,bt,null);th(ft,vt)}return null}function _t(ft,gt,vt,bt,Et){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return ft=ft.get(vt)||null,st(gt,ft,""+bt,Et);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va$1:return ft=ft.get(bt.key===null?vt:bt.key)||null,ot(gt,ft,bt,Et);case wa$1:return ft=ft.get(bt.key===null?vt:bt.key)||null,at(gt,ft,bt,Et);case Ha$1:var xt=bt._init;return _t(ft,gt,vt,xt(bt._payload),Et)}if(eb$1(bt)||Ka(bt))return ft=ft.get(vt)||null,lt(gt,ft,bt,Et,null);th(gt,bt)}return null}function pt(ft,gt,vt,bt){for(var Et=null,xt=null,kt=gt,Ct=gt=0,At=null;kt!==null&&Ct<vt.length;Ct++){kt.index>Ct?(At=kt,kt=null):At=kt.sibling;var Lt=dt(ft,kt,vt[Ct],bt);if(Lt===null){kt===null&&(kt=At);break}$&&kt&&Lt.alternate===null&&_(ft,kt),gt=rt(Lt,gt,Ct),xt===null?Et=Lt:xt.sibling=Lt,xt=Lt,kt=At}if(Ct===vt.length)return et(ft,kt),I$1&&tg(ft,Ct),Et;if(kt===null){for(;Ct<vt.length;Ct++)kt=ct(ft,vt[Ct],bt),kt!==null&&(gt=rt(kt,gt,Ct),xt===null?Et=kt:xt.sibling=kt,xt=kt);return I$1&&tg(ft,Ct),Et}for(kt=tt(ft,kt);Ct<vt.length;Ct++)At=_t(kt,ft,Ct,vt[Ct],bt),At!==null&&($&&At.alternate!==null&&kt.delete(At.key===null?Ct:At.key),gt=rt(At,gt,Ct),xt===null?Et=At:xt.sibling=At,xt=At);return $&&kt.forEach(function(Mt){return _(ft,Mt)}),I$1&&tg(ft,Ct),Et}function ut(ft,gt,vt,bt){var Et=Ka(vt);if(typeof Et!="function")throw Error(p$4(150));if(vt=Et.call(vt),vt==null)throw Error(p$4(151));for(var xt=Et=null,kt=gt,Ct=gt=0,At=null,Lt=vt.next();kt!==null&&!Lt.done;Ct++,Lt=vt.next()){kt.index>Ct?(At=kt,kt=null):At=kt.sibling;var Mt=dt(ft,kt,Lt.value,bt);if(Mt===null){kt===null&&(kt=At);break}$&&kt&&Mt.alternate===null&&_(ft,kt),gt=rt(Mt,gt,Ct),xt===null?Et=Mt:xt.sibling=Mt,xt=Mt,kt=At}if(Lt.done)return et(ft,kt),I$1&&tg(ft,Ct),Et;if(kt===null){for(;!Lt.done;Ct++,Lt=vt.next())Lt=ct(ft,Lt.value,bt),Lt!==null&&(gt=rt(Lt,gt,Ct),xt===null?Et=Lt:xt.sibling=Lt,xt=Lt);return I$1&&tg(ft,Ct),Et}for(kt=tt(ft,kt);!Lt.done;Ct++,Lt=vt.next())Lt=_t(kt,ft,Ct,Lt.value,bt),Lt!==null&&($&&Lt.alternate!==null&&kt.delete(Lt.key===null?Ct:Lt.key),gt=rt(Lt,gt,Ct),xt===null?Et=Lt:xt.sibling=Lt,xt=Lt);return $&&kt.forEach(function(Ht){return _(ft,Ht)}),I$1&&tg(ft,Ct),Et}function mt(ft,gt,vt,bt){if(typeof vt=="object"&&vt!==null&&vt.type===ya$1&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va$1:e:{for(var Et=vt.key,xt=gt;xt!==null;){if(xt.key===Et){if(Et=vt.type,Et===ya$1){if(xt.tag===7){et(ft,xt.sibling),gt=nt(xt,vt.props.children),gt.return=ft,ft=gt;break e}}else if(xt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha$1&&uh(Et)===xt.type){et(ft,xt.sibling),gt=nt(xt,vt.props),gt.ref=sh(ft,xt,vt),gt.return=ft,ft=gt;break e}et(ft,xt);break}else _(ft,xt);xt=xt.sibling}vt.type===ya$1?(gt=Ah(vt.props.children,ft.mode,bt,vt.key),gt.return=ft,ft=gt):(bt=yh(vt.type,vt.key,vt.props,null,ft.mode,bt),bt.ref=sh(ft,gt,vt),bt.return=ft,ft=bt)}return it(ft);case wa$1:e:{for(xt=vt.key;gt!==null;){if(gt.key===xt)if(gt.tag===4&&gt.stateNode.containerInfo===vt.containerInfo&&gt.stateNode.implementation===vt.implementation){et(ft,gt.sibling),gt=nt(gt,vt.children||[]),gt.return=ft,ft=gt;break e}else{et(ft,gt);break}else _(ft,gt);gt=gt.sibling}gt=zh(vt,ft.mode,bt),gt.return=ft,ft=gt}return it(ft);case Ha$1:return xt=vt._init,mt(ft,gt,xt(vt._payload),bt)}if(eb$1(vt))return pt(ft,gt,vt,bt);if(Ka(vt))return ut(ft,gt,vt,bt);th(ft,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,gt!==null&&gt.tag===6?(et(ft,gt.sibling),gt=nt(gt,vt),gt.return=ft,ft=gt):(et(ft,gt),gt=xh(vt,ft.mode,bt),gt.return=ft,ft=gt),it(ft)):et(ft,gt)}return mt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$4(174));return $}function Ih($,_){switch(G$1(Gh,_),G$1(Fh,$),G$1(Eh,Dh),$=_.nodeType,$){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb$1(null,"");break;default:$=$===8?_.parentNode:_,_=$.namespaceURI||null,$=$.tagName,_=lb$1(_,$)}E$1(Eh),G$1(Eh,_)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh($){Hh(Gh.current);var _=Hh(Eh.current),et=lb$1(_,$.type);_!==et&&(G$1(Fh,$),G$1(Eh,et))}function Lh($){Fh.current===$&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh($){for(var _=$;_!==null;){if(_.tag===13){var et=_.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===$)break;for(;_.sibling===null;){if(_.return===null||_.return===$)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$4(321))}function Wh($,_){if(_===null)return!1;for(var et=0;et<_.length&&et<$.length;et++)if(!He($[et],_[et]))return!1;return!0}function Xh($,_,et,tt,nt,rt){if(Rh=rt,N$1=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=et(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$4(301));rt+=1,P$1=O$1=null,_.updateQueue=null,Ph.current=$h,$=et(tt,nt)}while(Th)}if(Ph.current=ai,_=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,_)throw Error(p$4(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$,P$1}function di(){if(O$1===null){var $=N$1.alternate;$=$!==null?$.memoizedState:null}else $=O$1.next;var _=P$1===null?N$1.memoizedState:P$1.next;if(_!==null)P$1=_,O$1=$;else{if($===null)throw Error(p$4(310));O$1=$,$={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$}return P$1}function ei($,_){return typeof _=="function"?_($):_}function fi($){var _=di(),et=_.queue;if(et===null)throw Error(p$4(311));et.lastRenderedReducer=$;var tt=O$1,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var st=it=null,ot=null,at=rt;do{var lt=at.lane;if((Rh&lt)===lt)ot!==null&&(ot=ot.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:$(tt,at.action);else{var ct={lane:lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ot===null?(st=ot=ct,it=tt):ot=ot.next=ct,N$1.lanes|=lt,hh|=lt}at=at.next}while(at!==null&&at!==rt);ot===null?it=tt:ot.next=st,He(tt,_.memoizedState)||(Ug=!0),_.memoizedState=tt,_.baseState=it,_.baseQueue=ot,et.lastRenderedState=tt}if($=et.interleaved,$!==null){nt=$;do rt=nt.lane,N$1.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==$)}else nt===null&&(et.lanes=0);return[_.memoizedState,et.dispatch]}function gi($){var _=di(),et=_.queue;if(et===null)throw Error(p$4(311));et.lastRenderedReducer=$;var tt=et.dispatch,nt=et.pending,rt=_.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=$(rt,it.action),it=it.next;while(it!==nt);He(rt,_.memoizedState)||(Ug=!0),_.memoizedState=rt,_.baseQueue===null&&(_.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii($,_){var et=N$1,tt=di(),nt=_(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,$),[$]),tt.getSnapshot!==_||rt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,_),void 0,null),R$2===null)throw Error(p$4(349));Rh&30||ni(et,_,nt)}return nt}function ni($,_,et){$.flags|=16384,$={getSnapshot:_,value:et},_=N$1.updateQueue,_===null?(_={lastEffect:null,stores:null},N$1.updateQueue=_,_.stores=[$]):(et=_.stores,et===null?_.stores=[$]:et.push($))}function mi($,_,et,tt){_.value=et,_.getSnapshot=tt,oi(_)&&pi($)}function ki($,_,et){return et(function(){oi(_)&&pi($)})}function oi($){var _=$.getSnapshot;$=$.value;try{var et=_();return!He($,et)}catch{return!0}}function pi($){var _=Zg($,1);_!==null&&mh(_,$,1,-1)}function qi($){var _=ci();return typeof $=="function"&&($=$()),_.memoizedState=_.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},_.queue=$,$=$.dispatch=ri.bind(null,N$1,$),[_.memoizedState,$]}function li($,_,et,tt){return $={tag:$,create:_,destroy:et,deps:tt,next:null},_=N$1.updateQueue,_===null?(_={lastEffect:null,stores:null},N$1.updateQueue=_,_.lastEffect=$.next=$):(et=_.lastEffect,et===null?_.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,_,et,tt){var nt=ci();N$1.flags|=$,nt.memoizedState=li(1|_,et,void 0,tt===void 0?null:tt)}function ui($,_,et,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O$1!==null){var it=O$1.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li(_,et,rt,tt);return}}N$1.flags|=$,nt.memoizedState=li(1|_,et,rt,tt)}function vi($,_){return ti(8390656,8,$,_)}function ji($,_){return ui(2048,8,$,_)}function wi($,_){return ui(4,2,$,_)}function xi($,_){return ui(4,4,$,_)}function yi($,_){if(typeof _=="function")return $=$(),_($),function(){_(null)};if(_!=null)return $=$(),_.current=$,function(){_.current=null}}function zi($,_,et){return et=et!=null?et.concat([$]):null,ui(4,4,yi.bind(null,_,$),et)}function Ai(){}function Bi($,_){var et=di();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Wh(_,tt[1])?tt[0]:(et.memoizedState=[$,_],$)}function Ci($,_){var et=di();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Wh(_,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_],$)}function Di($,_,et){return Rh&21?(He(et,_)||(et=yc$1(),N$1.lanes|=et,hh|=et,$.baseState=!0),_):($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=et)}function Ei($,_){var et=C$2;C$2=et!==0&&4>et?et:4,$(!0);var tt=Qh.transition;Qh.transition={};try{$(!1),_()}finally{C$2=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi($,_,et){var tt=lh($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(_,et);else if(et=Yg($,_,et,tt),et!==null){var nt=L();mh(et,$,tt,nt),Ji(et,_,tt)}}function ri($,_,et){var tt=lh($),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(_,nt);else{var rt=$.alternate;if($.lanes===0&&(rt===null||rt.lanes===0)&&(rt=_.lastRenderedReducer,rt!==null))try{var it=_.lastRenderedState,st=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,it)){var ot=_.interleaved;ot===null?(nt.next=nt,Xg(_)):(nt.next=ot.next,ot.next=nt),_.interleaved=nt;return}}catch{}finally{}et=Yg($,_,nt,tt),et!==null&&(nt=L(),mh(et,$,tt,nt),Ji(et,_,tt))}}function Hi($){var _=$.alternate;return $===N$1||_!==null&&_===N$1}function Ii($,_){Th=Sh=!0;var et=$.pending;et===null?_.next=_:(_.next=et.next,et.next=_),$.pending=_}function Ji($,_,et){if(et&4194240){var tt=_.lanes;tt&=$.pendingLanes,et|=tt,_.lanes=et,Cc$1($,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,_){return ci().memoizedState=[$,_===void 0?null:_],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,_,et){return et=et!=null?et.concat([$]):null,ti(4194308,4,yi.bind(null,_,$),et)},useLayoutEffect:function($,_){return ti(4194308,4,$,_)},useInsertionEffect:function($,_){return ti(4,2,$,_)},useMemo:function($,_){var et=ci();return _=_===void 0?null:_,$=$(),et.memoizedState=[$,_],$},useReducer:function($,_,et){var tt=ci();return _=et!==void 0?et(_):_,tt.memoizedState=tt.baseState=_,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_},tt.queue=$,$=$.dispatch=Gi.bind(null,N$1,$),[tt.memoizedState,$]},useRef:function($){var _=ci();return $={current:$},_.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),_=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[_,$]},useMutableSource:function(){},useSyncExternalStore:function($,_,et){var tt=N$1,nt=ci();if(I$1){if(et===void 0)throw Error(p$4(407));et=et()}else{if(et=_(),R$2===null)throw Error(p$4(349));Rh&30||ni(tt,_,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:_};return nt.queue=rt,vi(ki.bind(null,tt,rt,$),[$]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,et,_),void 0,null),et},useId:function(){var $=ci(),_=R$2.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc$1(tt)-1)).toString(32)+et,_=":"+_+"R"+et,et=Uh++,0<et&&(_+="H"+et.toString(32)),_+=":"}else et=Vh++,_=":"+_+"r"+et.toString(32)+":";return $.memoizedState=_},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _=di();return Di(_,O$1.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],_=di().memoizedState;return[$,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _=di();return O$1===null?_.memoizedState=$:Di(_,O$1.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],_=di().memoizedState;return[$,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,_){try{var et="",tt=_;do et+=Pa$1(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:$,source:_,stack:nt,digest:null}}function Li($,_,et){return{value:$,source:null,stack:et??null,digest:_??null}}function Mi($,_){try{console.error(_.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,_,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=_.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi($,_)},et}function Ri($,_,et){et=ch(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi($,_)}}var rt=$.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Mi($,_),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=_.stack;this.componentDidCatch(_.value,{componentStack:it!==null?it:""})}),et}function Ti($,_,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Ni;var nt=new Set;tt.set(_,nt)}else nt=tt.get(_),nt===void 0&&(nt=new Set,tt.set(_,nt));nt.has(et)||(nt.add(et),$=Ui.bind(null,$,_,et),_.then($,$))}function Vi($){do{var _;if((_=$.tag===13)&&(_=$.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return $;$=$.return}while($!==null);return null}function Wi($,_,et,tt,nt){return $.mode&1?($.flags|=65536,$.lanes=nt,$):($===_?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_=ch(-1,1),_.tag=2,dh(et,_,1))),et.lanes|=1),$)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi($,_,et,tt){_.child=$===null?Ch(_,null,et,tt):Bh(_,$.child,et,tt)}function Zi($,_,et,tt,nt){et=et.render;var rt=_.ref;return Tg(_,nt),tt=Xh($,_,et,tt,rt,nt),et=bi(),$!==null&&!Ug?(_.updateQueue=$.updateQueue,_.flags&=-2053,$.lanes&=~nt,$i($,_,nt)):(I$1&&et&&vg(_),_.flags|=1,Yi($,_,tt,nt),_.child)}function aj($,_,et,tt,nt){if($===null){var rt=et.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_.tag=15,_.type=rt,cj($,_,rt,tt,nt)):($=yh(et.type,null,tt,_,_.mode,nt),$.ref=_.ref,$.return=_,_.child=$)}if(rt=$.child,!($.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie$1,et(it,tt)&&$.ref===_.ref)return $i($,_,nt)}return _.flags|=1,$=wh(rt,tt),$.ref=_.ref,$.return=_,_.child=$}function cj($,_,et,tt,nt){if($!==null){var rt=$.memoizedProps;if(Ie$1(rt,tt)&&$.ref===_.ref)if(Ug=!1,_.pendingProps=tt=rt,($.lanes&nt)!==0)$.flags&131072&&(Ug=!0);else return _.lanes=$.lanes,$i($,_,nt)}return dj($,_,et,tt,nt)}function ej($,_,et){var tt=_.pendingProps,nt=tt.children,rt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return $=rt!==null?rt.baseLanes|et:et,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:$,cachePool:null,transitions:null},_.updateQueue=null,G$1(fj,gj),gj|=$,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G$1(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|et,_.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi($,_,nt,et),_.child}function hj($,_){var et=_.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_.flags|=512,_.flags|=2097152)}function dj($,_,et,tt,nt){var rt=Zf(et)?Xf:H$1.current;return rt=Yf(_,rt),Tg(_,nt),et=Xh($,_,et,tt,rt,nt),tt=bi(),$!==null&&!Ug?(_.updateQueue=$.updateQueue,_.flags&=-2053,$.lanes&=~nt,$i($,_,nt)):(I$1&&tt&&vg(_),_.flags|=1,Yi($,_,et,nt),_.child)}function ij($,_,et,tt,nt){if(Zf(et)){var rt=!0;cg(_)}else rt=!1;if(Tg(_,nt),_.stateNode===null)jj($,_),ph(_,et,tt),rh(_,et,tt,nt),tt=!0;else if($===null){var it=_.stateNode,st=_.memoizedProps;it.props=st;var ot=it.context,at=et.contextType;typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$1.current,at=Yf(_,at));var lt=et.getDerivedStateFromProps,ct=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ct||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||ot!==at)&&qh(_,it,tt,at),$g=!1;var dt=_.memoizedState;it.state=dt,gh(_,tt,it,nt),ot=_.memoizedState,st!==tt||dt!==ot||Wf.current||$g?(typeof lt=="function"&&(kh(_,et,lt,tt),ot=_.memoizedState),(st=$g||oh(_,et,st,tt,dt,ot,at))?(ct||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=tt,_.memoizedState=ot),it.props=tt,it.state=ot,it.context=at,tt=st):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),tt=!1)}else{it=_.stateNode,bh($,_),st=_.memoizedProps,at=_.type===_.elementType?st:Lg(_.type,st),it.props=at,ct=_.pendingProps,dt=it.context,ot=et.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(et)?Xf:H$1.current,ot=Yf(_,ot));var _t=et.getDerivedStateFromProps;(lt=typeof _t=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==ct||dt!==ot)&&qh(_,it,tt,ot),$g=!1,dt=_.memoizedState,it.state=dt,gh(_,tt,it,nt);var pt=_.memoizedState;st!==ct||dt!==pt||Wf.current||$g?(typeof _t=="function"&&(kh(_,et,_t,tt),pt=_.memoizedState),(at=$g||oh(_,et,at,tt,dt,pt,ot)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,pt,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,pt,ot)),typeof it.componentDidUpdate=="function"&&(_.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof it.componentDidUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_.flags|=1024),_.memoizedProps=tt,_.memoizedState=pt),it.props=tt,it.state=pt,it.context=ot,tt=at):(typeof it.componentDidUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_.flags|=1024),tt=!1)}return kj($,_,et,tt,rt,nt)}function kj($,_,et,tt,nt,rt){hj($,_);var it=(_.flags&128)!==0;if(!tt&&!it)return nt&&dg(_,et,!1),$i($,_,rt);tt=_.stateNode,Xi.current=_;var st=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _.flags|=1,$!==null&&it?(_.child=Bh(_,$.child,null,rt),_.child=Bh(_,null,st,rt)):Yi($,_,st,rt),_.memoizedState=tt.state,nt&&dg(_,et,!0),_.child}function lj($){var _=$.stateNode;_.pendingContext?ag($,_.pendingContext,_.pendingContext!==_.context):_.context&&ag($,_.context,!1),Ih($,_.containerInfo)}function mj($,_,et,tt,nt){return Ig(),Jg(nt),_.flags|=256,Yi($,_,et,tt),_.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,_,et){var tt=_.pendingProps,nt=M$1.current,rt=!1,it=(_.flags&128)!==0,st;if((st=it)||(st=$!==null&&$.memoizedState===null?!1:(nt&2)!==0),st?(rt=!0,_.flags&=-129):($===null||$.memoizedState!==null)&&(nt|=1),G$1(M$1,nt&1),$===null)return Eg(_),$=_.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(_.mode&1?$.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(it=tt.children,$=tt.fallback,rt?(tt=_.mode,rt=_.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),$=Ah($,tt,et,null),rt.return=_,$.return=_,rt.sibling=$,_.child=rt,_.child.memoizedState=oj(et),_.memoizedState=nj,$):rj(_,it));if(nt=$.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj($,_,it,tt,st,nt,et);if(rt){rt=tt.fallback,it=_.mode,nt=$.child,st=nt.sibling;var ot={mode:"hidden",children:tt.children};return!(it&1)&&_.child!==nt?(tt=_.child,tt.childLanes=0,tt.pendingProps=ot,_.deletions=null):(tt=wh(nt,ot),tt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?rt=wh(st,rt):(rt=Ah(rt,it,et,null),rt.flags|=2),rt.return=_,tt.return=_,tt.sibling=rt,_.child=tt,tt=rt,rt=_.child,it=$.child.memoizedState,it=it===null?oj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=$.childLanes&~et,_.memoizedState=nj,tt}return rt=$.child,$=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),!(_.mode&1)&&(tt.lanes=et),tt.return=_,tt.sibling=null,$!==null&&(et=_.deletions,et===null?(_.deletions=[$],_.flags|=16):et.push($)),_.child=tt,_.memoizedState=null,tt}function rj($,_){return _=qj({mode:"visible",children:_},$.mode,0,null),_.return=$,$.child=_}function tj($,_,et,tt){return tt!==null&&Jg(tt),Bh(_,$.child,null,et),$=rj(_,_.pendingProps.children),$.flags|=2,_.memoizedState=null,$}function sj($,_,et,tt,nt,rt,it){if(et)return _.flags&256?(_.flags&=-257,tt=Li(Error(p$4(422))),tj($,_,it,tt)):_.memoizedState!==null?(_.child=$.child,_.flags|=128,null):(rt=tt.fallback,nt=_.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=_,rt.return=_,tt.sibling=rt,_.child=tt,_.mode&1&&Bh(_,$.child,null,it),_.child.memoizedState=oj(it),_.memoizedState=nj,rt);if(!(_.mode&1))return tj($,_,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var st=tt.dgst;return tt=st,rt=Error(p$4(419)),tt=Li(rt,tt,void 0),tj($,_,it,tt)}if(st=(it&$.childLanes)!==0,Ug||st){if(tt=R$2,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg($,nt),mh(tt,$,nt,-1))}return uj(),tt=Li(Error(p$4(421))),tj($,_,it,tt)}return nt.data==="$?"?(_.flags|=128,_.child=$.child,_=vj.bind(null,$),nt._reactRetry=_,null):($=rt.treeContext,yg=Lf(nt.nextSibling),xg=_,I$1=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_),_=rj(_,tt.children),_.flags|=4096,_)}function wj($,_,et){$.lanes|=_;var tt=$.alternate;tt!==null&&(tt.lanes|=_),Sg($.return,_,et)}function xj($,_,et,tt,nt){var rt=$.memoizedState;rt===null?$.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=_,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function yj($,_,et){var tt=_.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi($,_,tt.children,et),tt=M$1.current,tt&2)tt=tt&1|2,_.flags|=128;else{if($!==null&&$.flags&128)e:for($=_.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,et,_);else if($.tag===19)wj($,et,_);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_)break e;for(;$.sibling===null;){if($.return===null||$.return===_)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G$1(M$1,tt),!(_.mode&1))_.memoizedState=null;else switch(nt){case"forwards":for(et=_.child,nt=null;et!==null;)$=et.alternate,$!==null&&Mh($)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_.child,_.child=null):(nt=et.sibling,et.sibling=null),xj(_,!1,nt,et,rt);break;case"backwards":for(et=null,nt=_.child,_.child=null;nt!==null;){if($=nt.alternate,$!==null&&Mh($)===null){_.child=nt;break}$=nt.sibling,nt.sibling=et,et=nt,nt=$}xj(_,!0,et,null,rt);break;case"together":xj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function jj($,_){!(_.mode&1)&&$!==null&&($.alternate=null,_.alternate=null,_.flags|=2)}function $i($,_,et){if($!==null&&(_.dependencies=$.dependencies),hh|=_.lanes,!(et&_.childLanes))return null;if($!==null&&_.child!==$.child)throw Error(p$4(153));if(_.child!==null){for($=_.child,et=wh($,$.pendingProps),_.child=et,et.return=_;$.sibling!==null;)$=$.sibling,et=et.sibling=wh($,$.pendingProps),et.return=_;et.sibling=null}return _.child}function zj($,_,et){switch(_.tag){case 3:lj(_),Ig();break;case 5:Kh(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:Ih(_,_.stateNode.containerInfo);break;case 10:var tt=_.type._context,nt=_.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),_.flags|=128,null):et&_.child.childLanes?pj($,_,et):(G$1(M$1,M$1.current&1),$=$i($,_,et),$!==null?$.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&_.childLanes)!==0,$.flags&128){if(tt)return yj($,_,et);_.flags|=128}if(nt=_.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return _.lanes=0,ej($,_,et)}return $i($,_,et)}var Aj,Bj,Cj,Dj;Aj=function($,_){for(var et=_.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_)break;for(;et.sibling===null;){if(et.return===null||et.return===_)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function($,_,et,tt){var nt=$.memoizedProps;if(nt!==tt){$=_.stateNode,Hh(Eh.current);var rt=null;switch(et){case"input":nt=Ya$1($,nt),tt=Ya$1($,tt),rt=[];break;case"select":nt=A$2({},nt,{value:void 0}),tt=A$2({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb$1($,nt),tt=gb$1($,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub$1(et,tt);var it;et=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var st=nt[at];for(it in st)st.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea$1.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var ot=tt[at];if(st=nt!=null?nt[at]:void 0,tt.hasOwnProperty(at)&&ot!==st&&(ot!=null||st!=null))if(at==="style")if(st){for(it in st)!st.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in ot)ot.hasOwnProperty(it)&&st[it]!==ot[it]&&(et||(et={}),et[it]=ot[it])}else et||(rt||(rt=[]),rt.push(at,et)),et=ot;else at==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(rt=rt||[]).push(at,ot)):at==="children"?typeof ot!="string"&&typeof ot!="number"||(rt=rt||[]).push(at,""+ot):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(at)?(ot!=null&&at==="onScroll"&&D$2("scroll",$),rt||st===ot||(rt=[])):(rt=rt||[]).push(at,ot))}et&&(rt=rt||[]).push("style",et);var at=rt;(_.updateQueue=at)&&(_.flags|=4)}};Dj=function($,_,et,tt){et!==tt&&(_.flags|=4)};function Ej($,_){if(!I$1)switch($.tailMode){case"hidden":_=$.tail;for(var et=null;_!==null;)_.alternate!==null&&(et=_),_=_.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$2($){var _=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_)for(var nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=$,nt=nt.sibling;else for(nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=$,nt=nt.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_}function Fj($,_,et){var tt=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(_),null;case 1:return Zf(_.type)&&$f(),S$2(_),null;case 3:return tt=_.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_)?_.flags|=4:$===null||$.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,_),S$2(_),null;case 5:Lh(_);var nt=Hh(Gh.current);if(et=_.type,$!==null&&_.stateNode!=null)Cj($,_,et,tt,nt),$.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!tt){if(_.stateNode===null)throw Error(p$4(166));return S$2(_),null}if($=Hh(Eh.current),Gg(_)){tt=_.stateNode,et=_.type;var rt=_.memoizedProps;switch(tt[Of]=_,tt[Pf]=rt,$=(_.mode&1)!==0,et){case"dialog":D$2("cancel",tt),D$2("close",tt);break;case"iframe":case"object":case"embed":D$2("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],tt);break;case"source":D$2("error",tt);break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt);break;case"details":D$2("toggle",tt);break;case"input":Za$1(tt,rt),D$2("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$2("invalid",tt);break;case"textarea":hb$1(tt,rt),D$2("invalid",tt)}ub$1(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var st=rt[it];it==="children"?typeof st=="string"?tt.textContent!==st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,$),nt=["children",st]):typeof st=="number"&&tt.textContent!==""+st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,$),nt=["children",""+st]):ea$1.hasOwnProperty(it)&&st!=null&&it==="onScroll"&&D$2("scroll",tt)}switch(et){case"input":Va$1(tt),db$1(tt,rt,!0);break;case"textarea":Va$1(tt),jb$1(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_.updateQueue=tt,tt!==null&&(_.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb$1(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=it.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=it.createElement(et,{is:tt.is}):($=it.createElement(et),et==="select"&&(it=$,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):$=it.createElementNS($,et),$[Of]=_,$[Pf]=tt,Aj($,_,!1,!1),_.stateNode=$;e:{switch(it=vb$1(et,tt),et){case"dialog":D$2("cancel",$),D$2("close",$),nt=tt;break;case"iframe":case"object":case"embed":D$2("load",$),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],$);nt=tt;break;case"source":D$2("error",$),nt=tt;break;case"img":case"image":case"link":D$2("error",$),D$2("load",$),nt=tt;break;case"details":D$2("toggle",$),nt=tt;break;case"input":Za$1($,tt),nt=Ya$1($,tt),D$2("invalid",$);break;case"option":nt=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},nt=A$2({},tt,{value:void 0}),D$2("invalid",$);break;case"textarea":hb$1($,tt),nt=gb$1($,tt),D$2("invalid",$);break;default:nt=tt}ub$1(et,nt),st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var ot=st[rt];rt==="style"?sb$1($,ot):rt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb$1($,ot)):rt==="children"?typeof ot=="string"?(et!=="textarea"||ot!=="")&&ob$1($,ot):typeof ot=="number"&&ob$1($,""+ot):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea$1.hasOwnProperty(rt)?ot!=null&&rt==="onScroll"&&D$2("scroll",$):ot!=null&&ta$1($,rt,ot,it))}switch(et){case"input":Va$1($),db$1($,tt,!1);break;case"textarea":Va$1($),jb$1($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa$1(tt.value));break;case"select":$.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb$1($,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb$1($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S$2(_),null;case 6:if($&&_.stateNode!=null)Dj($,_,$.memoizedProps,tt);else{if(typeof tt!="string"&&_.stateNode===null)throw Error(p$4(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(_)){if(tt=_.stateNode,et=_.memoizedProps,tt[Of]=_,(rt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}rt&&(_.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_,_.stateNode=tt}return S$2(_),null;case 13:if(E$1(M$1),tt=_.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,rt=!1;else if(rt=Gg(_),tt!==null&&tt.dehydrated!==null){if($===null){if(!rt)throw Error(p$4(318));if(rt=_.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$4(317));rt[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S$2(_),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return _.flags&65536?_:null}return _.flags&128?(_.lanes=et,_):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_.child.flags|=8192,_.mode&1&&($===null||M$1.current&1?T$1===0&&(T$1=3):uj())),_.updateQueue!==null&&(_.flags|=4),S$2(_),null);case 4:return Jh(),Bj($,_),$===null&&sf(_.stateNode.containerInfo),S$2(_),null;case 10:return Rg(_.type._context),S$2(_),null;case 17:return Zf(_.type)&&$f(),S$2(_),null;case 19:if(E$1(M$1),rt=_.memoizedState,rt===null)return S$2(_),null;if(tt=(_.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T$1!==0||$!==null&&$.flags&128)for($=_.child;$!==null;){if(it=Mh($),it!==null){for(_.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&(_.updateQueue=tt,_.flags|=4),_.subtreeFlags=0,tt=et,et=_.child;et!==null;)rt=et,$=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=$,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,$=it.dependencies,rt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),_.child}$=$.sibling}rt.tail!==null&&B$1()>Hj&&(_.flags|=128,tt=!0,Ej(rt,!1),_.lanes=4194304)}else{if(!tt)if($=Mh(it),$!==null){if(_.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_.updateQueue=et,_.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$1)return S$2(_),null}else 2*B$1()-rt.renderingStartTime>Hj&&et!==1073741824&&(_.flags|=128,tt=!0,Ej(rt,!1),_.lanes=4194304);rt.isBackwards?(it.sibling=_.child,_.child=it):(et=rt.last,et!==null?et.sibling=it:_.child=it,rt.last=it)}return rt.tail!==null?(_=rt.tail,rt.rendering=_,rt.tail=_.sibling,rt.renderingStartTime=B$1(),_.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),_):(S$2(_),null);case 22:case 23:return Ij(),tt=_.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_.flags|=8192),tt&&_.mode&1?gj&1073741824&&(S$2(_),_.subtreeFlags&6&&(_.flags|=8192)):S$2(_),null;case 24:return null;case 25:return null}throw Error(p$4(156,_.tag))}function Jj($,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),$=_.flags,$&65536?(_.flags=$&-65537|128,_):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),$=_.flags,$&65536&&!($&128)?(_.flags=$&-65537|128,_):null;case 5:return Lh(_),null;case 13:if(E$1(M$1),$=_.memoizedState,$!==null&&$.dehydrated!==null){if(_.alternate===null)throw Error(p$4(340));Ig()}return $=_.flags,$&65536?(_.flags=$&-65537|128,_):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(_.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj($,_){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1($,_,tt)}else et.current=null}function Nj($,_,et){try{et()}catch(tt){W$1($,_,tt)}}var Oj=!1;function Pj($,_){if(Cf=dd$1,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,st=-1,ot=-1,at=0,lt=0,ct=$,dt=null;t:for(;;){for(var _t;ct!==et||nt!==0&&ct.nodeType!==3||(st=it+nt),ct!==rt||tt!==0&&ct.nodeType!==3||(ot=it+tt),ct.nodeType===3&&(it+=ct.nodeValue.length),(_t=ct.firstChild)!==null;)dt=ct,ct=_t;for(;;){if(ct===$)break t;if(dt===et&&++at===nt&&(st=it),dt===rt&&++lt===tt&&(ot=it),(_t=ct.nextSibling)!==null)break;ct=dt,dt=ct.parentNode}ct=_t}et=st===-1||ot===-1?null:{start:st,end:ot}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd$1=!1,V$1=_;V$1!==null;)if(_=V$1,$=_.child,(_.subtreeFlags&1028)!==0&&$!==null)$.return=_,V$1=$;else for(;V$1!==null;){_=V$1;try{var pt=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var ut=pt.memoizedProps,mt=pt.memoizedState,ft=_.stateNode,gt=ft.getSnapshotBeforeUpdate(_.elementType===_.type?ut:Lg(_.type,ut),mt);ft.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var vt=_.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(bt){W$1(_,_.return,bt)}if($=_.sibling,$!==null){$.return=_.return,V$1=$;break}V$1=_.return}return pt=Oj,Oj=!1,pt}function Qj($,_,et){var tt=_.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&$)===$){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj(_,et,rt)}nt=nt.next}while(nt!==tt)}}function Rj($,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var et=_=_.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_)}}function Sj($){var _=$.ref;if(_!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _=="function"?_($):_.current=$}}function Tj($){var _=$.alternate;_!==null&&($.alternate=null,Tj(_)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_=$.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of],delete _[Qf],delete _[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,_,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_?et.nodeType===8?et.parentNode.insertBefore($,_):et.insertBefore($,_):(et.nodeType===8?(_=et.parentNode,_.insertBefore($,et)):(_=et,_.appendChild($)),et=et._reactRootContainer,et!=null||_.onclick!==null||(_.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Wj($,_,et),$=$.sibling;$!==null;)Wj($,_,et),$=$.sibling}function Xj($,_,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_?et.insertBefore($,_):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Xj($,_,et),$=$.sibling;$!==null;)Xj($,_,et),$=$.sibling}var X$1=null,Yj=!1;function Zj($,_,et){for(et=et.child;et!==null;)ak($,_,et),et=et.sibling}function ak($,_,et){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,_);case 6:var tt=X$1,nt=Yj;X$1=null,Zj($,_,et),X$1=tt,Yj=nt,X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd$1($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj($,_,et),X$1=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Nj(et,_,it),nt=nt.next}while(nt!==tt)}Zj($,_,et);break;case 1:if(!U$1&&(Mj(et,_),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(st){W$1(et,_,st)}Zj($,_,et);break;case 21:Zj($,_,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj($,_,et),U$1=tt):Zj($,_,et);break;default:Zj($,_,et)}}function bk($){var _=$.updateQueue;if(_!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Lj),_.forEach(function(tt){var nt=ck.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk($,_){var et=_.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=$,it=_,st=it;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$4(160));ak(rt,it,nt),X$1=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(at){W$1(nt,_,at)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)ek(_,$),_=_.sibling}function ek($,_){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(_,$),fk($),tt&4){try{Qj(3,$,$.return),Rj(3,$)}catch(ut){W$1($,$.return,ut)}try{Qj(5,$,$.return)}catch(ut){W$1($,$.return,ut)}}break;case 1:dk(_,$),fk($),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(_,$),fk($),tt&512&&et!==null&&Mj(et,et.return),$.flags&32){var nt=$.stateNode;try{ob$1(nt,"")}catch(ut){W$1($,$.return,ut)}}if(tt&4&&(nt=$.stateNode,nt!=null)){var rt=$.memoizedProps,it=et!==null?et.memoizedProps:rt,st=$.type,ot=$.updateQueue;if($.updateQueue=null,ot!==null)try{st==="input"&&rt.type==="radio"&&rt.name!=null&&ab$1(nt,rt),vb$1(st,it);var at=vb$1(st,rt);for(it=0;it<ot.length;it+=2){var lt=ot[it],ct=ot[it+1];lt==="style"?sb$1(nt,ct):lt==="dangerouslySetInnerHTML"?nb$1(nt,ct):lt==="children"?ob$1(nt,ct):ta$1(nt,lt,ct,at)}switch(st){case"input":bb$1(nt,rt);break;case"textarea":ib$1(nt,rt);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var _t=rt.value;_t!=null?fb$1(nt,!!rt.multiple,_t,!1):dt!==!!rt.multiple&&(rt.defaultValue!=null?fb$1(nt,!!rt.multiple,rt.defaultValue,!0):fb$1(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(ut){W$1($,$.return,ut)}}break;case 6:if(dk(_,$),fk($),tt&4){if($.stateNode===null)throw Error(p$4(162));nt=$.stateNode,rt=$.memoizedProps;try{nt.nodeValue=rt}catch(ut){W$1($,$.return,ut)}}break;case 3:if(dk(_,$),fk($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd$1(_.containerInfo)}catch(ut){W$1($,$.return,ut)}break;case 4:dk(_,$),fk($);break;case 13:dk(_,$),fk($),nt=$.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk($);break;case 22:if(lt=et!==null&&et.memoizedState!==null,$.mode&1?(U$1=(at=U$1)||lt,dk(_,$),U$1=at):dk(_,$),fk($),tt&8192){if(at=$.memoizedState!==null,($.stateNode.isHidden=at)&&!lt&&$.mode&1)for(V$1=$,lt=$.child;lt!==null;){for(ct=V$1=lt;V$1!==null;){switch(dt=V$1,_t=dt.child,dt.tag){case 0:case 11:case 14:case 15:Qj(4,dt,dt.return);break;case 1:Mj(dt,dt.return);var pt=dt.stateNode;if(typeof pt.componentWillUnmount=="function"){tt=dt,et=dt.return;try{_=tt,pt.props=_.memoizedProps,pt.state=_.memoizedState,pt.componentWillUnmount()}catch(ut){W$1(tt,et,ut)}}break;case 5:Mj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){hk(ct);continue}}_t!==null?(_t.return=dt,V$1=_t):hk(ct)}lt=lt.sibling}e:for(lt=null,ct=$;;){if(ct.tag===5){if(lt===null){lt=ct;try{nt=ct.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(st=ct.stateNode,ot=ct.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb$1("display",it))}catch(ut){W$1($,$.return,ut)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=at?"":ct.memoizedProps}catch(ut){W$1($,$.return,ut)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===$)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===$)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===$)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:dk(_,$),fk($),tt&4&&bk($);break;case 21:break;default:dk(_,$),fk($)}}function fk($){var _=$.flags;if(_&2){try{e:{for(var et=$.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$4(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob$1(nt,""),tt.flags&=-33);var rt=Vj($);Xj($,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,st=Vj($);Wj($,st,it);break;default:throw Error(p$4(161))}}catch(ot){W$1($,$.return,ot)}$.flags&=-3}_&4096&&($.flags&=-4097)}function ik($,_,et){V$1=$,jk($)}function jk($,_,et){for(var tt=($.mode&1)!==0;V$1!==null;){var nt=V$1,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U$1;st=Kj;var at=U$1;if(Kj=it,(U$1=ot)&&!at)for(V$1=nt;V$1!==null;)it=V$1,ot=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):ot!==null?(ot.return=it,V$1=ot):kk(nt);for(;rt!==null;)V$1=rt,jk(rt),rt=rt.sibling;V$1=nt,Kj=st,U$1=at}lk($)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V$1=rt):lk($)}}function lk($){for(;V$1!==null;){var _=V$1;if(_.flags&8772){var et=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U$1||Rj(5,_);break;case 1:var tt=_.stateNode;if(_.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var nt=_.elementType===_.type?et.memoizedProps:Lg(_.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=_.updateQueue;rt!==null&&ih(_,rt,tt);break;case 3:var it=_.updateQueue;if(it!==null){if(et=null,_.child!==null)switch(_.child.tag){case 5:et=_.child.stateNode;break;case 1:et=_.child.stateNode}ih(_,it,et)}break;case 5:var st=_.stateNode;if(et===null&&_.flags&4){et=st;var ot=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&et.focus();break;case"img":ot.src&&(et.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var at=_.alternate;if(at!==null){var lt=at.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&bd$1(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$1||_.flags&512&&Sj(_)}catch(dt){W$1(_,_.return,dt)}}if(_===$){V$1=null;break}if(et=_.sibling,et!==null){et.return=_.return,V$1=et;break}V$1=_.return}}function hk($){for(;V$1!==null;){var _=V$1;if(_===$){V$1=null;break}var et=_.sibling;if(et!==null){et.return=_.return,V$1=et;break}V$1=_.return}}function kk($){for(;V$1!==null;){var _=V$1;try{switch(_.tag){case 0:case 11:case 15:var et=_.return;try{Rj(4,_)}catch(ot){W$1(_,et,ot)}break;case 1:var tt=_.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_.return;try{tt.componentDidMount()}catch(ot){W$1(_,nt,ot)}}var rt=_.return;try{Sj(_)}catch(ot){W$1(_,rt,ot)}break;case 5:var it=_.return;try{Sj(_)}catch(ot){W$1(_,it,ot)}}}catch(ot){W$1(_,_.return,ot)}if(_===$){V$1=null;break}var st=_.sibling;if(st!==null){st.return=_.return,V$1=st;break}V$1=_.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$1=0,R$2=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh($){return $.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):($=C$2,$!==0||($=window.event,$=$===void 0?16:jd$1($.type)),$):1}function mh($,_,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac$1($,et,tt),(!(K$1&2)||$!==R$2)&&($===R$2&&(!(K$1&2)&&(rk|=et),T$1===4&&Dk($,Z$1)),Ek($,tt),et===1&&K$1===0&&!(_.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek($,_){var et=$.callbackNode;wc$1($,_);var tt=uc$1($,$===R$2?Z$1:0);if(tt===0)et!==null&&bc$1(et),$.callbackNode=null,$.callbackPriority=0;else if(_=tt&-tt,$.callbackPriority!==_){if(et!=null&&bc$1(et),_===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){!(K$1&6)&&jg()}),et=null;else{switch(Dc$1(tt)){case 1:et=fc$1;break;case 4:et=gc$1;break;case 16:et=hc$1;break;case 536870912:et=jc$1;break;default:et=hc$1}et=Gk(et,Hk.bind(null,$))}$.callbackPriority=_,$.callbackNode=et}}function Hk($,_){if(Bk=-1,Ck=0,K$1&6)throw Error(p$4(327));var et=$.callbackNode;if(Ik()&&$.callbackNode!==et)return null;var tt=uc$1($,$===R$2?Z$1:0);if(tt===0)return null;if(tt&30||tt&$.expiredLanes||_)_=Jk($,tt);else{_=tt;var nt=K$1;K$1|=2;var rt=Kk();(R$2!==$||Z$1!==_)&&(vk=null,Hj=B$1()+500,Lk($,_));do try{Mk();break}catch(st){Nk($,st)}while(1);Qg(),nk.current=rt,K$1=nt,Y$1!==null?_=0:(R$2=null,Z$1=0,_=T$1)}if(_!==0){if(_===2&&(nt=xc$1($),nt!==0&&(tt=nt,_=Ok($,nt))),_===1)throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;if(_===6)Dk($,tt);else{if(nt=$.current.alternate,!(tt&30)&&!Pk(nt)&&(_=Jk($,tt),_===2&&(rt=xc$1($),rt!==0&&(tt=rt,_=Ok($,rt))),_===1))throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;switch($.finishedWork=nt,$.finishedLanes=tt,_){case 0:case 1:throw Error(p$4(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,tt),(tt&130023424)===tt&&(_=gk+500-B$1(),10<_)){if(uc$1($,0)!==0)break;if(nt=$.suspendedLanes,(nt&tt)!==tt){L(),$.pingedLanes|=$.suspendedLanes&nt;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),_);break}Qk($,uk,vk);break;case 4:if(Dk($,tt),(tt&4194240)===tt)break;for(_=$.eventTimes,nt=-1;0<tt;){var it=31-oc$1(tt);rt=1<<it,it=_[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),tt);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$4(329))}}}return Ek($,B$1()),$.callbackNode===et?Hk.bind(null,$):null}function Ok($,_){var et=tk;return $.current.memoizedState.isDehydrated&&(Lk($,_).flags|=256),$=Jk($,_),$!==2&&(_=uk,uk=et,_!==null&&Gj(_)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var _=$;;){if(_.flags&16384){var et=_.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=_.child,_.subtreeFlags&16384&&et!==null)et.return=_,_=et;else{if(_===$)break;for(;_.sibling===null;){if(_.return===null||_.return===$)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Dk($,_){for(_&=~sk,_&=~rk,$.suspendedLanes|=_,$.pingedLanes&=~_,$=$.expirationTimes;0<_;){var et=31-oc$1(_),tt=1<<et;$[et]=-1,_&=~tt}}function Fk($){if(K$1&6)throw Error(p$4(327));Ik();var _=uc$1($,0);if(!(_&1))return Ek($,B$1()),null;var et=Jk($,_);if($.tag!==0&&et===2){var tt=xc$1($);tt!==0&&(_=tt,et=Ok($,tt))}if(et===1)throw et=qk,Lk($,0),Dk($,_),Ek($,B$1()),et;if(et===6)throw Error(p$4(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_,Qk($,uk,vk),Ek($,B$1()),null}function Rk($,_){var et=K$1;K$1|=1;try{return $(_)}finally{K$1=et,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var _=K$1;K$1|=1;var et=pk.transition,tt=C$2;try{if(pk.transition=null,C$2=1,$)return $()}finally{C$2=tt,pk.transition=et,K$1=_,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk($,_){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$2=$,Y$1=$=wh($.current,null),Z$1=gj=_,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_=0;_<Wg.length;_++)if(et=Wg[_],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}Wg=null}return $}function Nk($,_){do{var et=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=_,Y$1=null;break}e:{var rt=$,it=et.return,st=et,ot=_;if(_=Z$1,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var at=ot,lt=st,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var dt=lt.alternate;dt?(lt.updateQueue=dt.updateQueue,lt.memoizedState=dt.memoizedState,lt.lanes=dt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var _t=Vi(it);if(_t!==null){_t.flags&=-257,Wi(_t,it,st,rt,_),_t.mode&1&&Ti(rt,at,_),_=_t,ot=at;var pt=_.updateQueue;if(pt===null){var ut=new Set;ut.add(ot),_.updateQueue=ut}else pt.add(ot);break e}else{if(!(_&1)){Ti(rt,at,_),uj();break e}ot=Error(p$4(426))}}else if(I$1&&st.mode&1){var mt=Vi(it);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Wi(mt,it,st,rt,_),Jg(Ki(ot,st));break e}}rt=ot=Ki(ot,st),T$1!==4&&(T$1=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,_&=-_,rt.lanes|=_;var ft=Oi(rt,ot,_);fh(rt,ft);break e;case 1:st=ot;var gt=rt.type,vt=rt.stateNode;if(!(rt.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt)))){rt.flags|=65536,_&=-_,rt.lanes|=_;var bt=Ri(rt,st,_);fh(rt,bt);break e}}rt=rt.return}while(rt!==null)}Tk(et)}catch(Et){_=Et,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$1)}function Jk($,_){var et=K$1;K$1|=2;var tt=Kk();(R$2!==$||Z$1!==_)&&(vk=null,Lk($,_));do try{Uk();break}catch(nt){Nk($,nt)}while(1);if(Qg(),K$1=et,nk.current=tt,Y$1!==null)throw Error(p$4(261));return R$2=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk($){var _=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,_===null?Tk($):Y$1=_,ok.current=null}function Tk($){var _=$;do{var et=_.alternate;if($=_.return,_.flags&32768){if(et=Jj(et,_),et!==null){et.flags&=32767,Y$1=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T$1=6,Y$1=null;return}}else if(et=Fj(et,_,gj),et!==null){Y$1=et;return}if(_=_.sibling,_!==null){Y$1=_;return}Y$1=_=$}while(_!==null);T$1===0&&(T$1=5)}function Qk($,_,et){var tt=C$2,nt=pk.transition;try{pk.transition=null,C$2=1,Xk($,_,et,tt)}finally{pk.transition=nt,C$2=tt}return null}function Xk($,_,et,tt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$4(327));et=$.finishedWork;var nt=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$4(177));$.callbackNode=null,$.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc$1($,rt),$===R$2&&(Y$1=R$2=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=pk.transition,pk.transition=null;var it=C$2;C$2=1;var st=K$1;K$1|=4,ok.current=null,Pj($,et),ek(et,$),Oe(Df),dd$1=!!Cf,Df=Cf=null,$.current=et,ik(et),dc$1(),K$1=st,C$2=it,pk.transition=rt}else $.current=et;if(wk&&(wk=!1,xk=$,yk=nt),rt=$.pendingLanes,rt===0&&(Si=null),mc$1(et.stateNode),Ek($,B$1()),_!==null)for(tt=$.onRecoverableError,et=0;et<_.length;et++)nt=_[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return yk&1&&$.tag!==0&&Ik(),rt=$.pendingLanes,rt&1?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc$1(yk),_=pk.transition,et=C$2;try{if(pk.transition=null,C$2=16>$?16:$,xk===null)var tt=!1;else{if($=xk,xk=null,yk=0,K$1&6)throw Error(p$4(331));var nt=K$1;for(K$1|=4,V$1=$.current;V$1!==null;){var rt=V$1,it=rt.child;if(V$1.flags&16){var st=rt.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var at=st[ot];for(V$1=at;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,rt)}var ct=lt.child;if(ct!==null)ct.return=lt,V$1=ct;else for(;V$1!==null;){lt=V$1;var dt=lt.sibling,_t=lt.return;if(Tj(lt),lt===at){V$1=null;break}if(dt!==null){dt.return=_t,V$1=dt;break}V$1=_t}}}var pt=rt.alternate;if(pt!==null){var ut=pt.child;if(ut!==null){pt.child=null;do{var mt=ut.sibling;ut.sibling=null,ut=mt}while(ut!==null)}}V$1=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V$1=it;else e:for(;V$1!==null;){if(rt=V$1,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var ft=rt.sibling;if(ft!==null){ft.return=rt.return,V$1=ft;break e}V$1=rt.return}}var gt=$.current;for(V$1=gt;V$1!==null;){it=V$1;var vt=it.child;if(it.subtreeFlags&2064&&vt!==null)vt.return=it,V$1=vt;else e:for(it=gt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(Et){W$1(st,st.return,Et)}if(st===it){V$1=null;break e}var bt=st.sibling;if(bt!==null){bt.return=st.return,V$1=bt;break e}V$1=st.return}}if(K$1=nt,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,$)}catch{}tt=!0}return tt}finally{C$2=et,pk.transition=_}}return!1}function Yk($,_,et){_=Ki(et,_),_=Oi($,_,1),$=dh($,_,1),_=L(),$!==null&&(Ac$1($,1,_),Ek($,_))}function W$1($,_,et){if($.tag===3)Yk($,$,et);else for(;_!==null;){if(_.tag===3){Yk(_,$,et);break}else if(_.tag===1){var tt=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){$=Ki(et,$),$=Ri(_,$,1),_=dh(_,$,1),$=L(),_!==null&&(Ac$1(_,1,$),Ek(_,$));break}}_=_.return}}function Ui($,_,et){var tt=$.pingCache;tt!==null&&tt.delete(_),_=L(),$.pingedLanes|=$.suspendedLanes&et,R$2===$&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk($,0):sk|=et),Ek($,_)}function Zk($,_){_===0&&($.mode&1?(_=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):_=1);var et=L();$=Zg($,_),$!==null&&(Ac$1($,_,et),Ek($,et))}function vj($){var _=$.memoizedState,et=0;_!==null&&(et=_.retryLane),Zk($,et)}function ck($,_){var et=0;switch($.tag){case 13:var tt=$.stateNode,nt=$.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$4(314))}tt!==null&&tt.delete(_),Zk($,et)}var Wk;Wk=function($,_,et){if($!==null)if($.memoizedProps!==_.pendingProps||Wf.current)Ug=!0;else{if(!($.lanes&et)&&!(_.flags&128))return Ug=!1,zj($,_,et);Ug=!!($.flags&131072)}else Ug=!1,I$1&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var tt=_.type;jj($,_),$=_.pendingProps;var nt=Yf(_,H$1.current);Tg(_,et),nt=Xh(null,_,tt,$,nt,et);var rt=bi();return _.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(tt)?(rt=!0,cg(_)):rt=!1,_.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_),nt.updater=nh,_.stateNode=nt,nt._reactInternals=_,rh(_,tt,$,et),_=kj(null,_,tt,!0,rt,et)):(_.tag=0,I$1&&rt&&vg(_),Yi(null,_,nt,et),_=_.child),_;case 16:tt=_.elementType;e:{switch(jj($,_),$=_.pendingProps,nt=tt._init,tt=nt(tt._payload),_.type=tt,nt=_.tag=$k(tt),$=Lg(tt,$),nt){case 0:_=dj(null,_,tt,$,et);break e;case 1:_=ij(null,_,tt,$,et);break e;case 11:_=Zi(null,_,tt,$,et);break e;case 14:_=aj(null,_,tt,Lg(tt.type,$),et);break e}throw Error(p$4(306,tt,""))}return _;case 0:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),dj($,_,tt,nt,et);case 1:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),ij($,_,tt,nt,et);case 3:e:{if(lj(_),$===null)throw Error(p$4(387));tt=_.pendingProps,rt=_.memoizedState,nt=rt.element,bh($,_),gh(_,tt,null,et);var it=_.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_.updateQueue.baseState=rt,_.memoizedState=rt,_.flags&256){nt=Ki(Error(p$4(423)),_),_=mj($,_,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$4(424)),_),_=mj($,_,tt,et,nt);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I$1=!0,zg=null,et=Ch(_,null,tt,et),_.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_=$i($,_,et);break e}Yi($,_,tt,et)}_=_.child}return _;case 5:return Kh(_),$===null&&Eg(_),tt=_.type,nt=_.pendingProps,rt=$!==null?$.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(_.flags|=32),hj($,_),Yi($,_,it,et),_.child;case 6:return $===null&&Eg(_),null;case 13:return pj($,_,et);case 4:return Ih(_,_.stateNode.containerInfo),tt=_.pendingProps,$===null?_.child=Bh(_,null,tt,et):Yi($,_,tt,et),_.child;case 11:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),Zi($,_,tt,nt,et);case 7:return Yi($,_,_.pendingProps,et),_.child;case 8:return Yi($,_,_.pendingProps.children,et),_.child;case 12:return Yi($,_,_.pendingProps.children,et),_.child;case 10:e:{if(tt=_.type._context,nt=_.pendingProps,rt=_.memoizedProps,it=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){_=$i($,_,et);break e}}else for(rt=_.child,rt!==null&&(rt.return=_);rt!==null;){var st=rt.dependencies;if(st!==null){it=rt.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===tt){if(rt.tag===1){ot=ch(-1,et&-et),ot.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var lt=at.pending;lt===null?ot.next=ot:(ot.next=lt.next,lt.next=ot),at.pending=ot}}rt.lanes|=et,ot=rt.alternate,ot!==null&&(ot.lanes|=et),Sg(rt.return,et,_),st.lanes|=et;break}ot=ot.next}}else if(rt.tag===10)it=rt.type===_.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$4(341));it.lanes|=et,st=it.alternate,st!==null&&(st.lanes|=et),Sg(it,et,_),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===_){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi($,_,nt.children,et),_=_.child}return _;case 9:return nt=_.type,tt=_.pendingProps.children,Tg(_,et),nt=Vg(nt),tt=tt(nt),_.flags|=1,Yi($,_,tt,et),_.child;case 14:return tt=_.type,nt=Lg(tt,_.pendingProps),nt=Lg(tt.type,nt),aj($,_,tt,nt,et);case 15:return cj($,_,_.type,_.pendingProps,et);case 17:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),jj($,_),_.tag=1,Zf(tt)?($=!0,cg(_)):$=!1,Tg(_,et),ph(_,tt,nt),rh(_,tt,nt,et),kj(null,_,tt,!0,$,et);case 19:return yj($,_,et);case 22:return ej($,_,et)}throw Error(p$4(156,_.tag))};function Gk($,_){return ac$1($,_)}function al($,_,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_,et,tt){return new al($,_,et,tt)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da$1)return 11;if($===Ga$1)return 14}return 2}function wh($,_){var et=$.alternate;return et===null?(et=Bg($.tag,_,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_=$.dependencies,et.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function yh($,_,et,tt,nt,rt){var it=2;if(tt=$,typeof $=="function")bj($)&&(it=1);else if(typeof $=="string")it=5;else e:switch($){case ya$1:return Ah(et.children,nt,rt,_);case za$1:it=8,nt|=8;break;case Aa$1:return $=Bg(12,et,_,nt|2),$.elementType=Aa$1,$.lanes=rt,$;case Ea$1:return $=Bg(13,et,_,nt),$.elementType=Ea$1,$.lanes=rt,$;case Fa$1:return $=Bg(19,et,_,nt),$.elementType=Fa$1,$.lanes=rt,$;case Ia$1:return qj(et,nt,rt,_);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba$1:it=10;break e;case Ca$1:it=9;break e;case Da$1:it=11;break e;case Ga$1:it=14;break e;case Ha$1:it=16,tt=null;break e}throw Error(p$4(130,$==null?$:typeof $,""))}return _=Bg(it,et,_,nt),_.elementType=$,_.type=tt,_.lanes=rt,_}function Ah($,_,et,tt){return $=Bg(7,$,tt,_),$.lanes=et,$}function qj($,_,et,tt){return $=Bg(22,$,tt,_),$.elementType=Ia$1,$.lanes=et,$.stateNode={isHidden:!1},$}function xh($,_,et){return $=Bg(6,$,null,_),$.lanes=et,$}function zh($,_,et){return _=Bg(4,$.children!==null?$.children:[],$.key,_),_.lanes=et,_.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_}function bl($,_,et,tt,nt){this.tag=_,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl($,_,et,tt,nt,rt,it,st,ot){return $=new bl($,_,et,st,ot),_===1?(_=1,rt===!0&&(_|=8)):_=0,rt=Bg(3,null,null,_),$.current=rt,rt.stateNode=$,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),$}function dl($,_,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:tt==null?null:""+tt,children:$,containerInfo:_,implementation:et}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb$1($)!==$||$.tag!==1)throw Error(p$4(170));var _=$;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$4(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_)}return _}function fl($,_,et,tt,nt,rt,it,st,ot){return $=cl(et,tt,!0,$,nt,rt,it,st,ot),$.context=el(null),et=$.current,tt=L(),nt=lh(et),rt=ch(tt,nt),rt.callback=_??null,dh(et,rt,nt),$.current.lanes=nt,Ac$1($,nt,tt),Ek($,tt),$}function gl($,_,et,tt){var nt=_.current,rt=L(),it=lh(nt);return et=el(et),_.context===null?_.context=et:_.pendingContext=et,_=ch(rt,it),_.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_.callback=tt),$=dh(nt,_,it),$!==null&&(mh($,nt,it,rt),eh($,nt,it)),it}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,_){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_?et:_}}function jl($,_){il($,_),($=$.alternate)&&il($,_)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var _=this._internalRoot;if(_===null)throw Error(p$4(409));gl($,_,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _=$.containerInfo;Sk(function(){gl(null,$,null,null)}),_[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var _=Hc$1();$={blockedOn:null,target:$,priority:_};for(var et=0;et<Qc$1.length&&_!==0&&_<Qc$1[et].priority;et++);Qc$1.splice(et,0,$),et===0&&Vc$1($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,_,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=hl(it);rt.call(at)}}var it=fl(_,tt,$,0,null,!1,!1,"",ql);return $._reactRootContainer=it,$[uf]=it.current,sf($.nodeType===8?$.parentNode:$),Sk(),it}for(;nt=$.lastChild;)$.removeChild(nt);if(typeof tt=="function"){var st=tt;tt=function(){var at=hl(ot);st.call(at)}}var ot=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=ot,$[uf]=ot.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(_,ot,et,tt)}),ot}function sl($,_,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var st=nt;nt=function(){var ot=hl(it);st.call(ot)}}gl(_,it,$,nt)}else it=rl(et,_,$,nt,tt);return hl(it)}Ec$1=function($){switch($.tag){case 3:var _=$.stateNode;if(_.current.memoizedState.isDehydrated){var et=tc$1(_.pendingLanes);et!==0&&(Cc$1(_,et|1),Ek(_,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg($,1);if(tt!==null){var nt=L();mh(tt,$,1,nt)}}),jl($,1)}};Fc$1=function($){if($.tag===13){var _=Zg($,134217728);if(_!==null){var et=L();mh(_,$,134217728,et)}jl($,134217728)}};Gc$1=function($){if($.tag===13){var _=lh($),et=Zg($,_);if(et!==null){var tt=L();mh(et,$,_,tt)}jl($,_)}};Hc$1=function(){return C$2};Ic$1=function($,_){var et=C$2;try{return C$2=$,_()}finally{C$2=et}};yb$1=function($,_,et){switch(_){case"input":if(bb$1($,et),_=et.name,et.type==="radio"&&_!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<et.length;_++){var tt=et[_];if(tt!==$&&tt.form===$.form){var nt=Db(tt);if(!nt)throw Error(p$4(90));Wa$1(tt),bb$1(tt,nt)}}}break;case"textarea":ib$1($,et);break;case"select":_=et.value,_!=null&&fb$1($,!!et.multiple,_,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb$1($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,_){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_))throw Error(p$4(200));return dl($,_,null,et)};reactDom_production_min.createRoot=function($,_){if(!ol($))throw Error(p$4(299));var et=!1,tt="",nt=ll;return _!=null&&(_.unstable_strictMode===!0&&(et=!0),_.identifierPrefix!==void 0&&(tt=_.identifierPrefix),_.onRecoverableError!==void 0&&(nt=_.onRecoverableError)),_=cl($,1,!1,null,null,et,!1,tt,nt),$[uf]=_.current,sf($.nodeType===8?$.parentNode:$),new ml(_)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _=$._reactInternals;if(_===void 0)throw typeof $.render=="function"?Error(p$4(188)):($=Object.keys($).join(","),Error(p$4(268,$)));return $=Zb$1(_),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,_,et){if(!pl(_))throw Error(p$4(200));return sl(null,$,_,!0,et)};reactDom_production_min.hydrateRoot=function($,_,et){if(!ol($))throw Error(p$4(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_=fl(_,null,$,1,et??null,nt,!1,rt,it),$[uf]=_.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],nt=et._getVersion,nt=nt(et._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[et,nt]:_.mutableSourceEagerHydrationData.push(et,nt);return new nl(_)};reactDom_production_min.render=function($,_,et){if(!pl(_))throw Error(p$4(200));return sl(null,$,_,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$4(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_,et,tt){if(!pl(et))throw Error(p$4(200));if($==null||$._reactInternals===void 0)throw Error(p$4(38));return sl($,_,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const r$3=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function($){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$4.apply(this,arguments)}var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});function _(tt,nt){let{pathname:rt,search:it,hash:st}=tt.location;return createLocation("",{pathname:rt,search:it,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function et(tt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_,et,null,$)}function invariant($,_){if($===!1||$===null||typeof $>"u")throw new Error(_)}function warning$1($,_){if(!$){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState($,_){return{usr:$.state,key:$.key,idx:_}}function createLocation($,_,et,tt){return et===void 0&&(et=null),_extends$4({pathname:typeof $=="string"?$:$.pathname,search:"",hash:""},typeof _=="string"?parsePath(_):_,{state:et,key:_&&_.key||tt||createKey()})}function createPath($){let{pathname:_="/",search:et="",hash:tt=""}=$;return et&&et!=="?"&&(_+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(_+=tt.charAt(0)==="#"?tt:"#"+tt),_}function parsePath($){let _={};if($){let et=$.indexOf("#");et>=0&&(_.hash=$.substr(et),$=$.substr(0,et));let tt=$.indexOf("?");tt>=0&&(_.search=$.substr(tt),$=$.substr(0,tt)),$&&(_.pathname=$)}return _}function getUrlBasedHistory($,_,et,tt){tt===void 0&&(tt={});let{window:nt=document.defaultView,v5Compat:rt=!1}=tt,it=nt.history,st=Action.Pop,ot=null,at=lt();at==null&&(at=0,it.replaceState(_extends$4({},it.state,{idx:at}),""));function lt(){return(it.state||{idx:null}).idx}function ct(){st=Action.Pop;let mt=lt(),ft=mt==null?null:mt-at;at=mt,ot&&ot({action:st,location:ut.location,delta:ft})}function dt(mt,ft){st=Action.Push;let gt=createLocation(ut.location,mt,ft);et&&et(gt,mt),at=lt()+1;let vt=getHistoryState(gt,at),bt=ut.createHref(gt);try{it.pushState(vt,"",bt)}catch(Et){if(Et instanceof DOMException&&Et.name==="DataCloneError")throw Et;nt.location.assign(bt)}rt&&ot&&ot({action:st,location:ut.location,delta:1})}function _t(mt,ft){st=Action.Replace;let gt=createLocation(ut.location,mt,ft);et&&et(gt,mt),at=lt();let vt=getHistoryState(gt,at),bt=ut.createHref(gt);it.replaceState(vt,"",bt),rt&&ot&&ot({action:st,location:ut.location,delta:0})}function pt(mt){let ft=nt.location.origin!=="null"?nt.location.origin:nt.location.href,gt=typeof mt=="string"?mt:createPath(mt);return invariant(ft,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,ft)}let ut={get action(){return st},get location(){return $(nt,it)},listen(mt){if(ot)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ct),ot=mt,()=>{nt.removeEventListener(PopStateEventType,ct),ot=null}},createHref(mt){return _(nt,mt)},createURL:pt,encodeLocation(mt){let ft=pt(mt);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:dt,replace:_t,go(mt){return it.go(mt)}};return ut}var ResultType;(function($){$.data="data",$.deferred="deferred",$.redirect="redirect",$.error="error"})(ResultType||(ResultType={}));function matchRoutes($,_,et){et===void 0&&(et="/");let tt=typeof _=="string"?parsePath(_):_,nt=stripBasename(tt.pathname||"/",et);if(nt==null)return null;let rt=flattenRoutes($);rankRouteBranches(rt);let it=null;for(let st=0;it==null&&st<rt.length;++st)it=matchRouteBranch(rt[st],safelyDecodeURI(nt));return it}function flattenRoutes($,_,et,tt){_===void 0&&(_=[]),et===void 0&&(et=[]),tt===void 0&&(tt="");let nt=(rt,it,st)=>{let ot={relativePath:st===void 0?rt.path||"":st,caseSensitive:rt.caseSensitive===!0,childrenIndex:it,route:rt};ot.relativePath.startsWith("/")&&(invariant(ot.relativePath.startsWith(tt),'Absolute route path "'+ot.relativePath+'" nested under path '+('"'+tt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ot.relativePath=ot.relativePath.slice(tt.length));let at=joinPaths([tt,ot.relativePath]),lt=et.concat(ot);rt.children&&rt.children.length>0&&(invariant(rt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+at+'".')),flattenRoutes(rt.children,_,lt,at)),!(rt.path==null&&!rt.index)&&_.push({path:at,score:computeScore(at,rt.index),routesMeta:lt})};return $.forEach((rt,it)=>{var st;if(rt.path===""||!((st=rt.path)!=null&&st.includes("?")))nt(rt,it);else for(let ot of explodeOptionalSegments(rt.path))nt(rt,it,ot)}),_}function explodeOptionalSegments($){let _=$.split("/");if(_.length===0)return[];let[et,...tt]=_,nt=et.endsWith("?"),rt=et.replace(/\?$/,"");if(tt.length===0)return nt?[rt,""]:[rt];let it=explodeOptionalSegments(tt.join("/")),st=[];return st.push(...it.map(ot=>ot===""?rt:[rt,ot].join("/"))),nt&&st.push(...it),st.map(ot=>$.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches($){$.sort((_,et)=>_.score!==et.score?et.score-_.score:compareIndexes(_.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_&&(tt+=indexRouteValue),et.filter(nt=>!isSplat(nt)).reduce((nt,rt)=>nt+(paramRe.test(rt)?dynamicSegmentValue:rt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_){return $.length===_.length&&$.slice(0,-1).every((tt,nt)=>tt===_[nt])?$[$.length-1]-_[_.length-1]:0}function matchRouteBranch($,_){let{routesMeta:et}=$,tt={},nt="/",rt=[];for(let it=0;it<et.length;++it){let st=et[it],ot=it===et.length-1,at=nt==="/"?_:_.slice(nt.length)||"/",lt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:ot},at);if(!lt)return null;Object.assign(tt,lt.params);let ct=st.route;rt.push({params:tt,pathname:joinPaths([nt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([nt,lt.pathnameBase])),route:ct}),lt.pathnameBase!=="/"&&(nt=joinPaths([nt,lt.pathnameBase]))}return rt}function matchPath($,_){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),nt=_.match(et);if(!nt)return null;let rt=nt[0],it=rt.replace(/(.)\/+$/,"$1"),st=nt.slice(1);return{params:tt.reduce((at,lt,ct)=>{let{paramName:dt,isOptional:_t}=lt;if(dt==="*"){let ut=st[ct]||"";it=rt.slice(0,rt.length-ut.length).replace(/(.)\/+$/,"$1")}const pt=st[ct];return _t&&!pt?at[dt]=void 0:at[dt]=safelyDecodeURIComponent(pt||"",dt),at},{}),pathname:rt,pathnameBase:it,pattern:$}}function compilePath($,_,et){_===void 0&&(_=!1),et===void 0&&(et=!0),warning$1($==="*"||!$.endsWith("*")||$.endsWith("/*"),'Route path "'+$+'" will be treated as if it were '+('"'+$.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+$.replace(/\*$/,"/*")+'".'));let tt=[],nt="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(it,st,ot)=>(tt.push({paramName:st,isOptional:ot!=null}),ot?"/?([^\\/]+)?":"/([^\\/]+)"));return $.endsWith("*")?(tt.push({paramName:"*"}),nt+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?nt+="\\/*$":$!==""&&$!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_?void 0:"i"),tt]}function safelyDecodeURI($){try{return decodeURI($)}catch(_){return warning$1(!1,'The URL path "'+$+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_+").")),$}}function safelyDecodeURIComponent($,_){try{return decodeURIComponent($)}catch(et){return warning$1(!1,'The value for the URL param "'+_+'" will not be decoded because'+(' the string "'+$+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),$}}function stripBasename($,_){if(_==="/")return $;if(!$.toLowerCase().startsWith(_.toLowerCase()))return null;let et=_.endsWith("/")?_.length-1:_.length,tt=$.charAt(et);return tt&&tt!=="/"?null:$.slice(et)||"/"}function resolvePath($,_){_===void 0&&(_="/");let{pathname:et,search:tt="",hash:nt=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_):_,search:normalizeSearch(tt),hash:normalizeHash(nt)}}function resolvePathname($,_){let et=_.replace(/\/+$/,"").split("/");return $.split("/").forEach(nt=>{nt===".."?et.length>1&&et.pop():nt!=="."&&et.push(nt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError($,_,et,tt){return"Cannot include a '"+$+"' character in a manually specified "+("`to."+_+"` field ["+JSON.stringify(tt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches($){return $.filter((_,et)=>et===0||_.route.path&&_.route.path.length>0)}function resolveTo($,_,et,tt){tt===void 0&&(tt=!1);let nt;typeof $=="string"?nt=parsePath($):(nt=_extends$4({},$),invariant(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let rt=$===""||nt.pathname==="",it=rt?"/":nt.pathname,st;if(tt||it==null)st=et;else{let ct=_.length-1;if(it.startsWith("..")){let dt=it.split("/");for(;dt[0]==="..";)dt.shift(),ct-=1;nt.pathname=dt.join("/")}st=ct>=0?_[ct]:"/"}let ot=resolvePath(nt,st),at=it&&it!=="/"&&it.endsWith("/"),lt=(rt||it===".")&&et.endsWith("/");return!ot.pathname.endsWith("/")&&(at||lt)&&(ot.pathname+="/"),ot}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function isRouteErrorResponse($){return $!=null&&typeof $.status=="number"&&typeof $.statusText=="string"&&typeof $.internal=="boolean"&&"data"in $}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function($){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref($,_){let{relative:et}=_===void 0?{}:_;useInRouterContext()||invariant(!1);let{basename:tt,navigator:nt}=reactExports.useContext(NavigationContext),{hash:rt,pathname:it,search:st}=useResolvedPath($,{relative:et}),ot=it;return tt!=="/"&&(ot=it==="/"?tt:joinPaths([tt,it])),nt.createHref({pathname:ot,search:st,hash:rt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect($){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect($)}function useNavigate(){let{isDataRoute:$}=reactExports.useContext(RouteContext);return $?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let $=reactExports.useContext(DataRouterContext),{basename:_,navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(tt).map(ot=>ot.pathnameBase)),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{it.current=!0}),reactExports.useCallback(function(ot,at){if(at===void 0&&(at={}),!it.current)return;if(typeof ot=="number"){et.go(ot);return}let lt=resolveTo(ot,JSON.parse(rt),nt,at.relative==="path");$==null&&_!=="/"&&(lt.pathname=lt.pathname==="/"?_:joinPaths([_,lt.pathname])),(at.replace?et.replace:et.push)(lt,at.state,at)},[_,et,rt,nt,$])}const OutletContext=reactExports.createContext(null);function useOutlet($){let _=reactExports.useContext(RouteContext).outlet;return _&&reactExports.createElement(OutletContext.Provider,{value:$},_)}function useParams(){let{matches:$}=reactExports.useContext(RouteContext),_=$[$.length-1];return _?_.params:{}}function useResolvedPath($,_){let{relative:et}=_===void 0?{}:_,{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(tt).map(it=>it.pathnameBase));return reactExports.useMemo(()=>resolveTo($,JSON.parse(rt),nt,et==="path"),[$,rt,nt,et])}function useRoutes($,_){return useRoutesImpl($,_)}function useRoutesImpl($,_,et){useInRouterContext()||invariant(!1);let{navigator:tt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),rt=nt[nt.length-1],it=rt?rt.params:{};rt&&rt.pathname;let st=rt?rt.pathnameBase:"/";rt&&rt.route;let ot=useLocation(),at;if(_){var lt;let ut=typeof _=="string"?parsePath(_):_;st==="/"||(lt=ut.pathname)!=null&&lt.startsWith(st)||invariant(!1),at=ut}else at=ot;let ct=at.pathname||"/",dt=st==="/"?ct:ct.slice(st.length)||"/",_t=matchRoutes($,{pathname:dt}),pt=_renderMatches(_t&&_t.map(ut=>Object.assign({},ut,{params:Object.assign({},it,ut.params),pathname:joinPaths([st,tt.encodeLocation?tt.encodeLocation(ut.pathname).pathname:ut.pathname]),pathnameBase:ut.pathnameBase==="/"?st:joinPaths([st,tt.encodeLocation?tt.encodeLocation(ut.pathnameBase).pathname:ut.pathnameBase])})),nt,et);return _&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},at),navigationType:Action.Pop}},pt):pt}function DefaultErrorComponent(){let $=useRouteError(),_=isRouteErrorResponse($)?$.status+" "+$.statusText:$ instanceof Error?$.message:JSON.stringify($),et=$ instanceof Error?$.stack:null,nt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},rt=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),et?reactExports.createElement("pre",{style:nt},et):null,rt)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,et){return et.location!==_.location||et.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error||et.error,location:et.location,revalidation:_.revalidation||et.revalidation}}componentDidCatch(_,et){console.error("React Router caught the following error during render",_,et)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute($){let{routeContext:_,match:et,children:tt}=$,nt=reactExports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:_},tt)}function _renderMatches($,_,et){var tt;if(_===void 0&&(_=[]),et===void 0&&(et=null),$==null){var nt;if((nt=et)!=null&&nt.errors)$=et.matches;else return null}let rt=$,it=(tt=et)==null?void 0:tt.errors;if(it!=null){let st=rt.findIndex(ot=>ot.route.id&&(it==null?void 0:it[ot.route.id]));st>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,st+1))}return rt.reduceRight((st,ot,at)=>{let lt=ot.route.id?it==null?void 0:it[ot.route.id]:null,ct=null;et&&(ct=ot.route.errorElement||defaultErrorElement);let dt=_.concat(rt.slice(0,at+1)),_t=()=>{let pt;return lt?pt=ct:ot.route.Component?pt=reactExports.createElement(ot.route.Component,null):ot.route.element?pt=ot.route.element:pt=st,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:st,matches:dt,isDataRoute:et!=null},children:pt})};return et&&(ot.route.ErrorBoundary||ot.route.errorElement||at===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:ct,error:lt,children:_t(),routeContext:{outlet:null,matches:dt,isDataRoute:!0}}):_t()},null)}var DataRouterHook$1=function($){return $.UseBlocker="useBlocker",$.UseRevalidator="useRevalidator",$.UseNavigateStable="useNavigate",$}(DataRouterHook$1||{}),DataRouterStateHook$1=function($){return $.UseBlocker="useBlocker",$.UseLoaderData="useLoaderData",$.UseActionData="useActionData",$.UseRouteError="useRouteError",$.UseNavigation="useNavigation",$.UseRouteLoaderData="useRouteLoaderData",$.UseMatches="useMatches",$.UseRevalidator="useRevalidator",$.UseNavigateStable="useNavigate",$.UseRouteId="useRouteId",$}(DataRouterStateHook$1||{});function useDataRouterContext$1($){let _=reactExports.useContext(DataRouterContext);return _||invariant(!1),_}function useDataRouterState($){let _=reactExports.useContext(DataRouterStateContext);return _||invariant(!1),_}function useRouteContext($){let _=reactExports.useContext(RouteContext);return _||invariant(!1),_}function useCurrentRouteId($){let _=useRouteContext(),et=_.matches[_.matches.length-1];return et.route.id||invariant(!1),et.route.id}function useRouteError(){var $;let _=reactExports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),tt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _||(($=et.errors)==null?void 0:$[tt])}function useNavigateStable(){let{router:$}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),_=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{et.current=!0}),reactExports.useCallback(function(nt,rt){rt===void 0&&(rt={}),et.current&&(typeof nt=="number"?$.navigate(nt):$.navigate(nt,_extends$3({fromRouteId:_},rt)))},[$,_])}function Navigate($){let{to:_,replace:et,state:tt,relative:nt}=$;useInRouterContext()||invariant(!1);let{matches:rt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=useNavigate(),ot=resolveTo(_,getPathContributingMatches(rt).map(lt=>lt.pathnameBase),it,nt==="path"),at=JSON.stringify(ot);return reactExports.useEffect(()=>st(JSON.parse(at),{replace:et,state:tt,relative:nt}),[st,at,nt,et,tt]),null}function Outlet($){return useOutlet($.context)}function Route($){invariant(!1)}function Router($){let{basename:_="/",children:et=null,location:tt,navigationType:nt=Action.Pop,navigator:rt,static:it=!1}=$;useInRouterContext()&&invariant(!1);let st=_.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:st,navigator:rt,static:it}),[st,rt,it]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:at="/",search:lt="",hash:ct="",state:dt=null,key:_t="default"}=tt,pt=reactExports.useMemo(()=>{let ut=stripBasename(at,st);return ut==null?null:{location:{pathname:ut,search:lt,hash:ct,state:dt,key:_t},navigationType:nt}},[st,at,lt,ct,dt,_t,nt]);return pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:et,value:pt}))}function Routes($){let{children:_,location:et}=$;return useRoutes(createRoutesFromChildren(_),et)}new Promise(()=>{});function createRoutesFromChildren($,_){_===void 0&&(_=[]);let et=[];return reactExports.Children.forEach($,(tt,nt)=>{if(!reactExports.isValidElement(tt))return;let rt=[..._,nt];if(tt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(tt.props.children,rt));return}tt.type!==Route&&invariant(!1),!tt.props.index||!tt.props.children||invariant(!1);let it={id:tt.props.id||rt.join("-"),caseSensitive:tt.props.caseSensitive,element:tt.props.element,Component:tt.props.Component,index:tt.props.index,path:tt.props.path,loader:tt.props.loader,action:tt.props.action,errorElement:tt.props.errorElement,ErrorBoundary:tt.props.ErrorBoundary,hasErrorBoundary:tt.props.ErrorBoundary!=null||tt.props.errorElement!=null,shouldRevalidate:tt.props.shouldRevalidate,handle:tt.props.handle,lazy:tt.props.lazy};tt.props.children&&(it.children=createRoutesFromChildren(tt.props.children,rt)),et.push(it)}),et}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$2($,_){if($==null)return{};var et={},tt=Object.keys($),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}function isModifiedEvent($){return!!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)}function shouldProcessLinkClick($,_){return $.button===0&&(!_||_==="_self")&&!isModifiedEvent($)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2$2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter($){let{basename:_,children:et,future:tt,window:nt}=$,rt=reactExports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:nt,v5Compat:!0}));let it=rt.current,[st,ot]=reactExports.useState({action:it.action,location:it.location}),{v7_startTransition:at}=tt||{},lt=reactExports.useCallback(ct=>{at&&startTransitionImpl?startTransitionImpl(()=>ot(ct)):ot(ct)},[ot,at]);return reactExports.useLayoutEffect(()=>it.listen(lt),[it,lt]),reactExports.createElement(Router,{basename:_,children:et,location:st.location,navigationType:st.action,navigator:it})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(_,et){let{onClick:tt,relative:nt,reloadDocument:rt,replace:it,state:st,target:ot,to:at,preventScrollReset:lt,unstable_viewTransition:ct}=_,dt=_objectWithoutPropertiesLoose$2(_,_excluded$6),{basename:_t}=reactExports.useContext(NavigationContext),pt,ut=!1;if(typeof at=="string"&&ABSOLUTE_URL_REGEX.test(at)&&(pt=at,isBrowser$1))try{let vt=new URL(window.location.href),bt=at.startsWith("//")?new URL(vt.protocol+at):new URL(at),Et=stripBasename(bt.pathname,_t);bt.origin===vt.origin&&Et!=null?at=Et+bt.search+bt.hash:ut=!0}catch{}let mt=useHref(at,{relative:nt}),ft=useLinkClickHandler(at,{replace:it,state:st,target:ot,preventScrollReset:lt,relative:nt,unstable_viewTransition:ct});function gt(vt){tt&&tt(vt),vt.defaultPrevented||ft(vt)}return reactExports.createElement("a",_extends$2({},dt,{href:pt||mt,onClick:ut||rt?tt:gt,ref:et,target:ot}))}),NavLink=reactExports.forwardRef(function(_,et){let{"aria-current":tt="page",caseSensitive:nt=!1,className:rt="",end:it=!1,style:st,to:ot,unstable_viewTransition:at,children:lt}=_,ct=_objectWithoutPropertiesLoose$2(_,_excluded2$2),dt=useResolvedPath(ot,{relative:ct.relative}),_t=useLocation(),pt=reactExports.useContext(DataRouterStateContext),{navigator:ut}=reactExports.useContext(NavigationContext),mt=pt!=null&&useViewTransitionState(dt)&&at===!0,ft=ut.encodeLocation?ut.encodeLocation(dt).pathname:dt.pathname,gt=_t.pathname,vt=pt&&pt.navigation&&pt.navigation.location?pt.navigation.location.pathname:null;nt||(gt=gt.toLowerCase(),vt=vt?vt.toLowerCase():null,ft=ft.toLowerCase());let bt=gt===ft||!it&&gt.startsWith(ft)&&gt.charAt(ft.length)==="/",Et=vt!=null&&(vt===ft||!it&&vt.startsWith(ft)&&vt.charAt(ft.length)==="/"),xt={isActive:bt,isPending:Et,isTransitioning:mt},kt=bt?tt:void 0,Ct;typeof rt=="function"?Ct=rt(xt):Ct=[rt,bt?"active":null,Et?"pending":null,mt?"transitioning":null].filter(Boolean).join(" ");let At=typeof st=="function"?st(xt):st;return reactExports.createElement(Link,_extends$2({},ct,{"aria-current":kt,className:Ct,ref:et,style:At,to:ot,unstable_viewTransition:at}),typeof lt=="function"?lt(xt):lt)});var DataRouterHook;(function($){$.UseScrollRestoration="useScrollRestoration",$.UseSubmit="useSubmit",$.UseSubmitFetcher="useSubmitFetcher",$.UseFetcher="useFetcher",$.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function($){$.UseFetcher="useFetcher",$.UseFetchers="useFetchers",$.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext($){let _=reactExports.useContext(DataRouterContext);return _||invariant(!1),_}function useLinkClickHandler($,_){let{target:et,replace:tt,state:nt,preventScrollReset:rt,relative:it,unstable_viewTransition:st}=_===void 0?{}:_,ot=useNavigate(),at=useLocation(),lt=useResolvedPath($,{relative:it});return reactExports.useCallback(ct=>{if(shouldProcessLinkClick(ct,et)){ct.preventDefault();let dt=tt!==void 0?tt:createPath(at)===createPath(lt);ot($,{replace:dt,state:nt,preventScrollReset:rt,relative:it,unstable_viewTransition:st})}},[at,ot,lt,tt,nt,et,$,rt,it,st])}function useViewTransitionState($,_){_===void 0&&(_={});let et=reactExports.useContext(ViewTransitionContext);et==null&&invariant(!1);let{basename:tt}=useDataRouterContext(DataRouterHook.useViewTransitionState),nt=useResolvedPath($,{relative:_.relative});if(!et.isTransitioning)return!1;let rt=stripBasename(et.currentLocation.pathname,tt)||et.currentLocation.pathname,it=stripBasename(et.nextLocation.pathname,tt)||et.nextLocation.pathname;return matchPath(nt.pathname,it)!=null||matchPath(nt.pathname,rt)!=null}const App$1="";var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React__default.createContext&&React__default.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function($){for(var _,et=1,tt=arguments.length;et<tt;et++){_=arguments[et];for(var nt in _)Object.prototype.hasOwnProperty.call(_,nt)&&($[nt]=_[nt])}return $},__assign.apply(this,arguments)},__rest$1=globalThis&&globalThis.__rest||function($,_){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function Tree2Element($){return $&&$.map(function(_,et){return React__default.createElement(_.tag,__assign({key:et},_.attr),Tree2Element(_.child))})}function GenIcon($){return function(_){return React__default.createElement(IconBase,__assign({attr:__assign({},$.attr)},_),Tree2Element($.child))}}function IconBase($){var _=function(et){var tt=$.attr,nt=$.size,rt=$.title,it=__rest$1($,["attr","size","title"]),st=nt||et.size||"1em",ot;return et.className&&(ot=et.className),$.className&&(ot=(ot?ot+" ":"")+$.className),React__default.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},et.attr,tt,it,{className:ot,style:__assign(__assign({color:$.color||et.color},et.style),$.style),height:st,width:st,xmlns:"http://www.w3.org/2000/svg"}),rt&&React__default.createElement("title",null,rt),$.children)};return IconContext!==void 0?React__default.createElement(IconContext.Consumer,null,function(et){return _(et)}):_(DefaultContext)}function FaFacebookF($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})($)}function FaGoogle($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})($)}function FaInstagram($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})($)}function FaLinkedin($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})($)}function FaBarsStaggered($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"}}]})($)}function FaBriefcase($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V288z"}}]})($)}function FaEnvelopeOpenText($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.4 96H144 107.8 96v8.8V144v40.4 89L.2 202.5c1.6-18.1 10.9-34.9 25.7-45.8L48 140.3V96c0-26.5 21.5-48 48-48h76.6l49.9-36.9C232.2 3.9 243.9 0 256 0s23.8 3.9 33.5 11L339.4 48H416c26.5 0 48 21.5 48 48v44.3l22.1 16.4c14.8 10.9 24.1 27.7 25.7 45.8L416 273.4v-89V144 104.8 96H404.2 368 296.6 215.4zM0 448V242.1L217.6 403.3c11.1 8.2 24.6 12.7 38.4 12.7s27.3-4.4 38.4-12.7L512 242.1V448v0c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64v0zM176 160H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16z"}}]})($)}function FaRocket($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2v82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9V380.8c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4 .5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"}}]})($)}function FaXmark($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}}]})($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function($){const _=[];let et=0;for(let tt=0;tt<$.length;tt++){let nt=$.charCodeAt(tt);nt<128?_[et++]=nt:nt<2048?(_[et++]=nt>>6|192,_[et++]=nt&63|128):(nt&64512)===55296&&tt+1<$.length&&($.charCodeAt(tt+1)&64512)===56320?(nt=65536+((nt&1023)<<10)+($.charCodeAt(++tt)&1023),_[et++]=nt>>18|240,_[et++]=nt>>12&63|128,_[et++]=nt>>6&63|128,_[et++]=nt&63|128):(_[et++]=nt>>12|224,_[et++]=nt>>6&63|128,_[et++]=nt&63|128)}return _},byteArrayToString=function($){const _=[];let et=0,tt=0;for(;et<$.length;){const nt=$[et++];if(nt<128)_[tt++]=String.fromCharCode(nt);else if(nt>191&&nt<224){const rt=$[et++];_[tt++]=String.fromCharCode((nt&31)<<6|rt&63)}else if(nt>239&&nt<365){const rt=$[et++],it=$[et++],st=$[et++],ot=((nt&7)<<18|(rt&63)<<12|(it&63)<<6|st&63)-65536;_[tt++]=String.fromCharCode(55296+(ot>>10)),_[tt++]=String.fromCharCode(56320+(ot&1023))}else{const rt=$[et++],it=$[et++];_[tt++]=String.fromCharCode((nt&15)<<12|(rt&63)<<6|it&63)}}return _.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray($,_){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const et=_?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let nt=0;nt<$.length;nt+=3){const rt=$[nt],it=nt+1<$.length,st=it?$[nt+1]:0,ot=nt+2<$.length,at=ot?$[nt+2]:0,lt=rt>>2,ct=(rt&3)<<4|st>>4;let dt=(st&15)<<2|at>>6,_t=at&63;ot||(_t=64,it||(dt=64)),tt.push(et[lt],et[ct],et[dt],et[_t])}return tt.join("")},encodeString($,_){return this.HAS_NATIVE_SUPPORT&&!_?btoa($):this.encodeByteArray(stringToByteArray$1($),_)},decodeString($,_){return this.HAS_NATIVE_SUPPORT&&!_?atob($):byteArrayToString(this.decodeStringToByteArray($,_))},decodeStringToByteArray($,_){this.init_();const et=_?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let nt=0;nt<$.length;){const rt=et[$.charAt(nt++)],st=nt<$.length?et[$.charAt(nt)]:0;++nt;const at=nt<$.length?et[$.charAt(nt)]:64;++nt;const ct=nt<$.length?et[$.charAt(nt)]:64;if(++nt,rt==null||st==null||at==null||ct==null)throw new DecodeBase64StringError;const dt=rt<<2|st>>4;if(tt.push(dt),at!==64){const _t=st<<4&240|at>>2;if(tt.push(_t),ct!==64){const pt=at<<6&192|ct;tt.push(pt)}}}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function($){const _=stringToByteArray$1($);return base64.encodeByteArray(_,!0)},base64urlEncodeWithoutPadding=function($){return base64Encode($).replace(/\./g,"")},base64Decode=function($){try{return base64.decodeString($,!0)}catch(_){console.error("base64Decode failed: ",_)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const $={}.__FIREBASE_DEFAULTS__;if($)return JSON.parse($)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _=$&&base64Decode($[1]);return _&&JSON.parse(_)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch($){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`);return}},getDefaultEmulatorHost=$=>{var _,et;return(et=(_=getDefaults())===null||_===void 0?void 0:_.emulatorHosts)===null||et===void 0?void 0:et[$]},getDefaultEmulatorHostnameAndPort=$=>{const _=getDefaultEmulatorHost($);if(!_)return;const et=_.lastIndexOf(":");if(et<=0||et+1===_.length)throw new Error(`Invalid host ${_} with no separate hostname and port!`);const tt=parseInt(_.substring(et+1),10);return _[0]==="["?[_.substring(1,et-1),tt]:[_.substring(0,et),tt]},getDefaultAppConfig=()=>{var $;return($=getDefaults())===null||$===void 0?void 0:$.config},getExperimentalSetting=$=>{var _;return(_=getDefaults())===null||_===void 0?void 0:_[`_${$}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_,et)=>{this.resolve=_,this.reject=et})}wrapCallback(_){return(et,tt)=>{et?this.reject(et):this.resolve(tt),typeof _=="function"&&(this.promise.catch(()=>{}),_.length===1?_(et):_(et,tt))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken($,_){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const et={alg:"none",type:"JWT"},tt=_||"demo-project",nt=$.iat||0,rt=$.sub||$.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:nt,exp:nt+3600,auth_time:nt,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},$),st="";return[base64urlEncodeWithoutPadding(JSON.stringify(et)),base64urlEncodeWithoutPadding(JSON.stringify(it)),st].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var $;const _=($=getDefaults())===null||$===void 0?void 0:$.forceEnvironment;if(_==="node")return!0;if(_==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const $=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof $=="object"&&$.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const $=getUA();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise(($,_)=>{try{let et=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",nt=self.indexedDB.open(tt);nt.onsuccess=()=>{nt.result.close(),et||self.indexedDB.deleteDatabase(tt),$(!0)},nt.onupgradeneeded=()=>{et=!1},nt.onerror=()=>{var rt;_(((rt=nt.error)===null||rt===void 0?void 0:rt.message)||"")}}catch(et){_(et)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_,et,tt){super(et),this.code=_,this.customData=tt,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_,et,tt){this.service=_,this.serviceName=et,this.errors=tt}create(_,...et){const tt=et[0]||{},nt=`${this.service}/${_}`,rt=this.errors[_],it=rt?replaceTemplate(rt,tt):"Error",st=`${this.serviceName}: ${it} (${nt}).`;return new FirebaseError(nt,st,tt)}}function replaceTemplate($,_){return $.replace(PATTERN,(et,tt)=>{const nt=_[tt];return nt!=null?String(nt):`<${tt}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1($){for(const _ in $)if(Object.prototype.hasOwnProperty.call($,_))return!1;return!0}function deepEqual$1($,_){if($===_)return!0;const et=Object.keys($),tt=Object.keys(_);for(const nt of et){if(!tt.includes(nt))return!1;const rt=$[nt],it=_[nt];if(isObject$3(rt)&&isObject$3(it)){if(!deepEqual$1(rt,it))return!1}else if(rt!==it)return!1}for(const nt of tt)if(!et.includes(nt))return!1;return!0}function isObject$3($){return $!==null&&typeof $=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring($){const _=[];for(const[et,tt]of Object.entries($))Array.isArray(tt)?tt.forEach(nt=>{_.push(encodeURIComponent(et)+"="+encodeURIComponent(nt))}):_.push(encodeURIComponent(et)+"="+encodeURIComponent(tt));return _.length?"&"+_.join("&"):""}function querystringDecode($){const _={};return $.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[nt,rt]=tt.split("=");_[decodeURIComponent(nt)]=decodeURIComponent(rt)}}),_}function extractQuerystring($){const _=$.indexOf("?");if(!_)return"";const et=$.indexOf("#",_);return $.substring(_,et>0?et:void 0)}function createSubscribe($,_){const et=new ObserverProxy($,_);return et.subscribe.bind(et)}class ObserverProxy{constructor(_,et){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=et,this.task.then(()=>{_(this)}).catch(tt=>{this.error(tt)})}next(_){this.forEachObserver(et=>{et.next(_)})}error(_){this.forEachObserver(et=>{et.error(_)}),this.close(_)}complete(){this.forEachObserver(_=>{_.complete()}),this.close()}subscribe(_,et,tt){let nt;if(_===void 0&&et===void 0&&tt===void 0)throw new Error("Missing Observer.");implementsAnyMethods(_,["next","error","complete"])?nt=_:nt={next:_,error:et,complete:tt},nt.next===void 0&&(nt.next=noop$3),nt.error===void 0&&(nt.error=noop$3),nt.complete===void 0&&(nt.complete=noop$3);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?nt.error(this.finalError):nt.complete()}catch{}}),this.observers.push(nt),rt}unsubscribeOne(_){this.observers===void 0||this.observers[_]===void 0||(delete this.observers[_],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(_){if(!this.finalized)for(let et=0;et<this.observers.length;et++)this.sendOne(et,_)}sendOne(_,et){this.task.then(()=>{if(this.observers!==void 0&&this.observers[_]!==void 0)try{et(this.observers[_])}catch(tt){typeof console<"u"&&console.error&&console.error(tt)}})}close(_){this.finalized||(this.finalized=!0,_!==void 0&&(this.finalError=_),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods($,_){if(typeof $!="object"||$===null)return!1;for(const et of _)if(et in $&&typeof $[et]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance($){return $&&$._delegate?$._delegate:$}class Component{constructor(_,et,tt){this.name=_,this.instanceFactory=et,this.type=tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_){return this.instantiationMode=_,this}setMultipleInstances(_){return this.multipleInstances=_,this}setServiceProps(_){return this.serviceProps=_,this}setInstanceCreatedCallback(_){return this.onInstanceCreated=_,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(_,et){this.name=_,this.container=et,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_){const et=this.normalizeInstanceIdentifier(_);if(!this.instancesDeferred.has(et)){const tt=new Deferred;if(this.instancesDeferred.set(et,tt),this.isInitialized(et)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:et});nt&&tt.resolve(nt)}catch{}}return this.instancesDeferred.get(et).promise}getImmediate(_){var et;const tt=this.normalizeInstanceIdentifier(_==null?void 0:_.identifier),nt=(et=_==null?void 0:_.optional)!==null&&et!==void 0?et:!1;if(this.isInitialized(tt)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:tt})}catch(rt){if(nt)return null;throw rt}else{if(nt)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_){if(_.name!==this.name)throw Error(`Mismatching Component ${_.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_,!!this.shouldAutoInitialize()){if(isComponentEager(_))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[et,tt]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(et);try{const rt=this.getOrInitializeService({instanceIdentifier:nt});tt.resolve(rt)}catch{}}}}clearInstance(_=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_),this.instancesOptions.delete(_),this.instances.delete(_)}async delete(){const _=Array.from(this.instances.values());await Promise.all([..._.filter(et=>"INTERNAL"in et).map(et=>et.INTERNAL.delete()),..._.filter(et=>"_delete"in et).map(et=>et._delete())])}isComponentSet(){return this.component!=null}isInitialized(_=DEFAULT_ENTRY_NAME$1){return this.instances.has(_)}getOptions(_=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_)||{}}initialize(_={}){const{options:et={}}=_,tt=this.normalizeInstanceIdentifier(_.instanceIdentifier);if(this.isInitialized(tt))throw Error(`${this.name}(${tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:tt,options:et});for(const[rt,it]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(rt);tt===st&&it.resolve(nt)}return nt}onInit(_,et){var tt;const nt=this.normalizeInstanceIdentifier(et),rt=(tt=this.onInitCallbacks.get(nt))!==null&&tt!==void 0?tt:new Set;rt.add(_),this.onInitCallbacks.set(nt,rt);const it=this.instances.get(nt);return it&&_(it,nt),()=>{rt.delete(_)}}invokeOnInitCallbacks(_,et){const tt=this.onInitCallbacks.get(et);if(tt)for(const nt of tt)try{nt(_,et)}catch{}}getOrInitializeService({instanceIdentifier:_,options:et={}}){let tt=this.instances.get(_);if(!tt&&this.component&&(tt=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_),options:et}),this.instances.set(_,tt),this.instancesOptions.set(_,et),this.invokeOnInitCallbacks(tt,_),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_,tt)}catch{}return tt||null}normalizeInstanceIdentifier(_=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_:DEFAULT_ENTRY_NAME$1:_}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory($){return $===DEFAULT_ENTRY_NAME$1?void 0:$}function isComponentEager($){return $.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_){this.name=_,this.providers=new Map}addComponent(_){const et=this.getProvider(_.name);if(et.isComponentSet())throw new Error(`Component ${_.name} has already been registered with ${this.name}`);et.setComponent(_)}addOrOverwriteComponent(_){this.getProvider(_.name).isComponentSet()&&this.providers.delete(_.name),this.addComponent(_)}getProvider(_){if(this.providers.has(_))return this.providers.get(_);const et=new Provider(_,this);return this.providers.set(_,et),et}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function($){$[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=($,_,...et)=>{if(_<$.logLevel)return;const tt=new Date().toISOString(),nt=ConsoleMethod[_];if(nt)console[nt](`[${tt}]  ${$.name}:`,...et);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_})`)};class Logger{constructor(_){this.name=_,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_){if(!(_ in LogLevel))throw new TypeError(`Invalid value "${_}" assigned to \`logLevel\``);this._logLevel=_}setLogLevel(_){this._logLevel=typeof _=="string"?levelStringToEnum[_]:_}get logHandler(){return this._logHandler}set logHandler(_){if(typeof _!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_}get userLogHandler(){return this._userLogHandler}set userLogHandler(_){this._userLogHandler=_}debug(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._),this._logHandler(this,LogLevel.DEBUG,..._)}log(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._),this._logHandler(this,LogLevel.VERBOSE,..._)}info(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._),this._logHandler(this,LogLevel.INFO,..._)}warn(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._),this._logHandler(this,LogLevel.WARN,..._)}error(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._),this._logHandler(this,LogLevel.ERROR,..._)}}const instanceOfAny=($,_)=>_.some(et=>$ instanceof et);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest($){const _=new Promise((et,tt)=>{const nt=()=>{$.removeEventListener("success",rt),$.removeEventListener("error",it)},rt=()=>{et(wrap($.result)),nt()},it=()=>{tt($.error),nt()};$.addEventListener("success",rt),$.addEventListener("error",it)});return _.then(et=>{et instanceof IDBCursor&&cursorRequestMap.set(et,$)}).catch(()=>{}),reverseTransformCache.set(_,$),_}function cacheDonePromiseForTransaction($){if(transactionDoneMap.has($))return;const _=new Promise((et,tt)=>{const nt=()=>{$.removeEventListener("complete",rt),$.removeEventListener("error",it),$.removeEventListener("abort",it)},rt=()=>{et(),nt()},it=()=>{tt($.error||new DOMException("AbortError","AbortError")),nt()};$.addEventListener("complete",rt),$.addEventListener("error",it),$.addEventListener("abort",it)});transactionDoneMap.set($,_)}let idbProxyTraps={get($,_,et){if($ instanceof IDBTransaction){if(_==="done")return transactionDoneMap.get($);if(_==="objectStoreNames")return $.objectStoreNames||transactionStoreNamesMap.get($);if(_==="store")return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return wrap($[_])},set($,_,et){return $[_]=et,!0},has($,_){return $ instanceof IDBTransaction&&(_==="done"||_==="store")?!0:_ in $}};function replaceTraps($){idbProxyTraps=$(idbProxyTraps)}function wrapFunction($){return $===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_,...et){const tt=$.call(unwrap(this),_,...et);return transactionStoreNamesMap.set(tt,_.sort?_.sort():[_]),wrap(tt)}:getCursorAdvanceMethods().includes($)?function(..._){return $.apply(unwrap(this),_),wrap(cursorRequestMap.get(this))}:function(..._){return wrap($.apply(unwrap(this),_))}}function transformCachableValue($){return typeof $=="function"?wrapFunction($):($ instanceof IDBTransaction&&cacheDonePromiseForTransaction($),instanceOfAny($,getIdbProxyableTypes())?new Proxy($,idbProxyTraps):$)}function wrap($){if($ instanceof IDBRequest)return promisifyRequest($);if(transformCache.has($))return transformCache.get($);const _=transformCachableValue($);return _!==$&&(transformCache.set($,_),reverseTransformCache.set(_,$)),_}const unwrap=$=>reverseTransformCache.get($);function openDB($,_,{blocked:et,upgrade:tt,blocking:nt,terminated:rt}={}){const it=indexedDB.open($,_),st=wrap(it);return tt&&it.addEventListener("upgradeneeded",ot=>{tt(wrap(it.result),ot.oldVersion,ot.newVersion,wrap(it.transaction),ot)}),et&&it.addEventListener("blocked",ot=>et(ot.oldVersion,ot.newVersion,ot)),st.then(ot=>{rt&&ot.addEventListener("close",()=>rt()),nt&&ot.addEventListener("versionchange",at=>nt(at.oldVersion,at.newVersion,at))}).catch(()=>{}),st}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod($,_){if(!($ instanceof IDBDatabase&&!(_ in $)&&typeof _=="string"))return;if(cachedMethods.get(_))return cachedMethods.get(_);const et=_.replace(/FromIndex$/,""),tt=_!==et,nt=writeMethods.includes(et);if(!(et in(tt?IDBIndex:IDBObjectStore).prototype)||!(nt||readMethods.includes(et)))return;const rt=async function(it,...st){const ot=this.transaction(it,nt?"readwrite":"readonly");let at=ot.store;return tt&&(at=at.index(st.shift())),(await Promise.all([at[et](...st),nt&&ot.done]))[0]};return cachedMethods.set(_,rt),rt}replaceTraps($=>({...$,get:(_,et,tt)=>getMethod(_,et)||$.get(_,et,tt),has:(_,et)=>!!getMethod(_,et)||$.has(_,et)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_){this.container=_}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(isVersionServiceProvider(et)){const tt=et.getImmediate();return`${tt.library}/${tt.version}`}else return null}).filter(et=>et).join(" ")}}function isVersionServiceProvider($){const _=$.getComponent();return(_==null?void 0:_.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent($,_){try{$.container.addComponent(_)}catch(et){logger.debug(`Component ${_.name} failed to register with FirebaseApp ${$.name}`,et)}}function _registerComponent($){const _=$.name;if(_components.has(_))return logger.debug(`There were multiple attempts to register component ${_}.`),!1;_components.set(_,$);for(const et of _apps.values())_addComponent(et,$);for(const et of _serverApps.values())_addComponent(et,$);return!0}function _getProvider($,_){const et=$.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),$.container.getProvider(_)}function _isFirebaseServerApp($){return $.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_,et,tt){this._isDeleted=!1,this._options=Object.assign({},_),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_){this.checkDestroyed(),this._automaticDataCollectionEnabled=_}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_){this._isDeleted=_}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp($,_={}){let et=$;typeof _!="object"&&(_={name:_});const tt=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},_),nt=tt.name;if(typeof nt!="string"||!nt)throw ERROR_FACTORY.create("bad-app-name",{appName:String(nt)});if(et||(et=getDefaultAppConfig()),!et)throw ERROR_FACTORY.create("no-options");const rt=_apps.get(nt);if(rt){if(deepEqual$1(et,rt.options)&&deepEqual$1(tt,rt.config))return rt;throw ERROR_FACTORY.create("duplicate-app",{appName:nt})}const it=new ComponentContainer(nt);for(const ot of _components.values())it.addComponent(ot);const st=new FirebaseAppImpl(et,tt,it);return _apps.set(nt,st),st}function getApp($=DEFAULT_ENTRY_NAME){const _=_apps.get($);if(!_&&$===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!_)throw ERROR_FACTORY.create("no-app",{appName:$});return _}function registerVersion($,_,et){var tt;let nt=(tt=PLATFORM_LOG_STRING[$])!==null&&tt!==void 0?tt:$;et&&(nt+=`-${et}`);const rt=nt.match(/\s|\//),it=_.match(/\s|\//);if(rt||it){const st=[`Unable to register library "${nt}" with version "${_}":`];rt&&st.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),rt&&it&&st.push("and"),it&&st.push(`version name "${_}" contains illegal characters (whitespace or "/")`),logger.warn(st.join(" "));return}_registerComponent(new Component(`${nt}-version`,()=>({library:nt,version:_}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:($,_)=>{switch(_){case 0:try{$.createObjectStore(STORE_NAME)}catch(et){console.warn(et)}}}}).catch($=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:$.message})})),dbPromise}async function readHeartbeatsFromIndexedDB($){try{const et=(await getDbPromise()).transaction(STORE_NAME),tt=await et.objectStore(STORE_NAME).get(computeKey($));return await et.done,tt}catch(_){if(_ instanceof FirebaseError)logger.warn(_.message);else{const et=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_==null?void 0:_.message});logger.warn(et.message)}}}async function writeHeartbeatsToIndexedDB($,_){try{const tt=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await tt.objectStore(STORE_NAME).put(_,computeKey($)),await tt.done}catch(et){if(et instanceof FirebaseError)logger.warn(et.message);else{const tt=ERROR_FACTORY.create("idb-set",{originalErrorMessage:et==null?void 0:et.message});logger.warn(tt.message)}}}function computeKey($){return`${$.name}!${$.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(_){this.container=_,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(et),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}async triggerHeartbeat(){var _,et;const nt=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rt=getUTCDateString();if(!(((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((et=this._heartbeatsCache)===null||et===void 0?void 0:et.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===rt||this._heartbeatsCache.heartbeats.some(it=>it.date===rt)))return this._heartbeatsCache.heartbeats.push({date:rt,agent:nt}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(it=>{const st=new Date(it.date).valueOf();return Date.now()-st<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var _;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const et=getUTCDateString(),{heartbeatsToSend:tt,unsentEntries:nt}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),rt=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:tt}));return this._heartbeatsCache.lastSentHeartbeatDate=et,nt.length>0?(this._heartbeatsCache.heartbeats=nt,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),rt}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader($,_=MAX_HEADER_BYTES){const et=[];let tt=$.slice();for(const nt of $){const rt=et.find(it=>it.agent===nt.agent);if(rt){if(rt.dates.push(nt.date),countBytes(et)>_){rt.dates.pop();break}}else if(et.push({agent:nt.agent,dates:[nt.date]}),countBytes(et)>_){et.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:et,unsentEntries:tt}}class HeartbeatStorageImpl{constructor(_){this.app=_,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const et=await readHeartbeatsFromIndexedDB(this.app);return et!=null&&et.heartbeats?et:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(_){var et;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(et=_.lastSentHeartbeatDate)!==null&&et!==void 0?et:nt.lastSentHeartbeatDate,heartbeats:_.heartbeats})}else return}async add(_){var et;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(et=_.lastSentHeartbeatDate)!==null&&et!==void 0?et:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,..._.heartbeats]})}else return}}function countBytes($){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:$})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents($){_registerComponent(new Component("platform-logger",_=>new PlatformLoggerServiceImpl(_),"PRIVATE")),_registerComponent(new Component("heartbeat",_=>new HeartbeatServiceImpl(_),"PRIVATE")),registerVersion(name$o,version$1$1,$),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest($,_){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn($,..._){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${$}`,..._)}function _logError($,..._){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${$}`,..._)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail($,..._){throw createErrorInternal($,..._)}function _createError($,..._){return createErrorInternal($,..._)}function _errorWithCustomMessage($,_,et){const tt=Object.assign(Object.assign({},prodErrorMap()),{[_]:et});return new ErrorFactory("auth","Firebase",tt).create(_,{appName:$.name})}function _serverAppCurrentUserOperationNotSupportedError($){return _errorWithCustomMessage($,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf($,_,et){const tt=et;if(!(_ instanceof tt))throw tt.name!==_.constructor.name&&_fail($,"argument-error"),_errorWithCustomMessage($,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal($,..._){if(typeof $!="string"){const et=_[0],tt=[..._.slice(1)];return tt[0]&&(tt[0].appName=$.name),$._errorFactory.create(et,...tt)}return _DEFAULT_AUTH_ERROR_FACTORY.create($,..._)}function _assert($,_,...et){if(!$)throw createErrorInternal(_,...et)}function debugFail($){const _="INTERNAL ASSERTION FAILED: "+$;throw _logError(_),new Error(_)}function debugAssert($,_){$||debugFail(_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const $=navigator;return $.languages&&$.languages[0]||$.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(_,et){this.shortDelay=_,this.longDelay=et,debugAssert(et>_,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl($,_){debugAssert($.emulator,"Emulator should always be set here");const{url:et}=$.emulator;return _?`${et}${_.startsWith("/")?_.slice(1):_}`:et}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(_,et,tt){this.fetchImpl=_,et&&(this.headersImpl=et),tt&&(this.responseImpl=tt)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary($,_){return $.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:$.tenantId}):_}async function _performApiRequest($,_,et,tt,nt={}){return _performFetchWithErrorHandling($,nt,async()=>{let rt={},it={};tt&&(_==="GET"?it=tt:rt={body:JSON.stringify(tt)});const st=querystring(Object.assign({key:$.config.apiKey},it)).slice(1),ot=await $._getAdditionalHeaders();return ot["Content-Type"]="application/json",$.languageCode&&(ot["X-Firebase-Locale"]=$.languageCode),FetchProvider.fetch()(_getFinalTarget($,$.config.apiHost,et,st),Object.assign({method:_,headers:ot,referrerPolicy:"no-referrer"},rt))})}async function _performFetchWithErrorHandling($,_,et){$._canInitEmulator=!1;const tt=Object.assign(Object.assign({},SERVER_ERROR_MAP),_);try{const nt=new NetworkTimeout($),rt=await Promise.race([et(),nt.promise]);nt.clearNetworkTimeout();const it=await rt.json();if("needConfirmation"in it)throw _makeTaggedError($,"account-exists-with-different-credential",it);if(rt.ok&&!("errorMessage"in it))return it;{const st=rt.ok?it.errorMessage:it.error.message,[ot,at]=st.split(" : ");if(ot==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError($,"credential-already-in-use",it);if(ot==="EMAIL_EXISTS")throw _makeTaggedError($,"email-already-in-use",it);if(ot==="USER_DISABLED")throw _makeTaggedError($,"user-disabled",it);const lt=tt[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw _errorWithCustomMessage($,lt,at);_fail($,lt)}}catch(nt){if(nt instanceof FirebaseError)throw nt;_fail($,"network-request-failed",{message:String(nt)})}}async function _performSignInRequest($,_,et,tt,nt={}){const rt=await _performApiRequest($,_,et,tt,nt);return"mfaPendingCredential"in rt&&_fail($,"multi-factor-auth-required",{_serverResponse:rt}),rt}function _getFinalTarget($,_,et,tt){const nt=`${_}${et}?${tt}`;return $.config.emulator?_emulatorUrl($.config,nt):`${$.config.apiScheme}://${nt}`}function _parseEnforcementState($){switch($){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((et,tt)=>{this.timer=setTimeout(()=>tt(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError($,_,et){const tt={appName:$.name};et.email&&(tt.email=et.email),et.phoneNumber&&(tt.phoneNumber=et.phoneNumber);const nt=_createError($,_,tt);return nt.customData._tokenResponse=et,nt}function isEnterprise($){return $!==void 0&&$.enterprise!==void 0}class RecaptchaConfig{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],_.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const et of this.recaptchaEnforcementState)if(et.provider&&et.provider===_)return _parseEnforcementState(et.enforcementState);return null}isProviderEnabled(_){return this.getProviderEnforcementState(_)==="ENFORCE"||this.getProviderEnforcementState(_)==="AUDIT"}}async function getRecaptchaConfig($,_){return _performApiRequest($,"GET","/v2/recaptchaConfig",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount($,_){return _performApiRequest($,"POST","/v1/accounts:delete",_)}async function getAccountInfo($,_){return _performApiRequest($,"POST","/v1/accounts:lookup",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString($){if($)try{const _=new Date(Number($));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}async function getIdTokenResult($,_=!1){const et=getModularInstance($),tt=await et.getIdToken(_),nt=_parseToken(tt);_assert(nt&&nt.exp&&nt.auth_time&&nt.iat,et.auth,"internal-error");const rt=typeof nt.firebase=="object"?nt.firebase:void 0,it=rt==null?void 0:rt.sign_in_provider;return{claims:nt,token:tt,authTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.exp)),signInProvider:it||null,signInSecondFactor:(rt==null?void 0:rt.sign_in_second_factor)||null}}function secondsStringToMilliseconds($){return Number($)*1e3}function _parseToken($){const[_,et,tt]=$.split(".");if(_===void 0||et===void 0||tt===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const nt=base64Decode(et);return nt?JSON.parse(nt):(_logError("Failed to decode base64 JWT payload"),null)}catch(nt){return _logError("Caught error parsing JWT payload as JSON",nt==null?void 0:nt.toString()),null}}function _tokenExpiresIn($){const _=_parseToken($);return _assert(_,"internal-error"),_assert(typeof _.exp<"u","internal-error"),_assert(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated($,_,et=!1){if(et)return _;try{return await _}catch(tt){throw tt instanceof FirebaseError&&isUserInvalidated(tt)&&$.auth.currentUser===$&&await $.auth.signOut(),tt}}function isUserInvalidated({code:$}){return $==="auth/user-disabled"||$==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(_){var et;if(_){const tt=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),tt}else{this.errorBackoff=3e4;const nt=((et=this.user.stsTokenManager.expirationTime)!==null&&et!==void 0?et:0)-Date.now()-3e5;return Math.max(0,nt)}}schedule(_=!1){if(!this.isRunning)return;const et=this.getInterval(_);this.timerId=setTimeout(async()=>{await this.iteration()},et)}async iteration(){try{await this.user.getIdToken(!0)}catch(_){(_==null?void 0:_.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(_,et){this.createdAt=_,this.lastLoginAt=et,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving($){var _;const et=$.auth,tt=await $.getIdToken(),nt=await _logoutIfInvalidated($,getAccountInfo(et,{idToken:tt}));_assert(nt==null?void 0:nt.users.length,et,"internal-error");const rt=nt.users[0];$._notifyReloadListener(rt);const it=!((_=rt.providerUserInfo)===null||_===void 0)&&_.length?extractProviderData(rt.providerUserInfo):[],st=mergeProviderData($.providerData,it),ot=$.isAnonymous,at=!($.email&&rt.passwordHash)&&!(st!=null&&st.length),lt=ot?at:!1,ct={uid:rt.localId,displayName:rt.displayName||null,photoURL:rt.photoUrl||null,email:rt.email||null,emailVerified:rt.emailVerified||!1,phoneNumber:rt.phoneNumber||null,tenantId:rt.tenantId||null,providerData:st,metadata:new UserMetadata(rt.createdAt,rt.lastLoginAt),isAnonymous:lt};Object.assign($,ct)}async function reload($){const _=getModularInstance($);await _reloadWithoutSaving(_),await _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)}function mergeProviderData($,_){return[...$.filter(tt=>!_.some(nt=>nt.providerId===tt.providerId)),..._]}function extractProviderData($){return $.map(_=>{var{providerId:et}=_,tt=__rest(_,["providerId"]);return{providerId:et,uid:tt.rawId||"",displayName:tt.displayName||null,email:tt.email||null,phoneNumber:tt.phoneNumber||null,photoURL:tt.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken($,_){const et=await _performFetchWithErrorHandling($,{},async()=>{const tt=querystring({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:nt,apiKey:rt}=$.config,it=_getFinalTarget($,nt,"/v1/token",`key=${rt}`),st=await $._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(it,{method:"POST",headers:st,body:tt})});return{accessToken:et.access_token,expiresIn:et.expires_in,refreshToken:et.refresh_token}}async function revokeToken($,_){return _performApiRequest($,"POST","/v2/accounts:revokeToken",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_assert(_.idToken,"internal-error"),_assert(typeof _.idToken<"u","internal-error"),_assert(typeof _.refreshToken<"u","internal-error");const et="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):_tokenExpiresIn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,et)}updateFromIdToken(_){_assert(_.length!==0,"internal-error");const et=_tokenExpiresIn(_);this.updateTokensAndExpiration(_,null,et)}async getToken(_,et=!1){return!et&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,_,"user-token-expired"),this.refreshToken?(await this.refresh(_,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(_,et){const{accessToken:tt,refreshToken:nt,expiresIn:rt}=await requestStsToken(_,et);this.updateTokensAndExpiration(tt,nt,Number(rt))}updateTokensAndExpiration(_,et,tt){this.refreshToken=et||null,this.accessToken=_||null,this.expirationTime=Date.now()+tt*1e3}static fromJSON(_,et){const{refreshToken:tt,accessToken:nt,expirationTime:rt}=et,it=new StsTokenManager;return tt&&(_assert(typeof tt=="string","internal-error",{appName:_}),it.refreshToken=tt),nt&&(_assert(typeof nt=="string","internal-error",{appName:_}),it.accessToken=nt),rt&&(_assert(typeof rt=="number","internal-error",{appName:_}),it.expirationTime=rt),it}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined($,_){_assert(typeof $=="string"||typeof $>"u","internal-error",{appName:_})}class UserImpl{constructor(_){var{uid:et,auth:tt,stsTokenManager:nt}=_,rt=__rest(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=et,this.auth=tt,this.stsTokenManager=nt,this.accessToken=nt.accessToken,this.displayName=rt.displayName||null,this.email=rt.email||null,this.emailVerified=rt.emailVerified||!1,this.phoneNumber=rt.phoneNumber||null,this.photoURL=rt.photoURL||null,this.isAnonymous=rt.isAnonymous||!1,this.tenantId=rt.tenantId||null,this.providerData=rt.providerData?[...rt.providerData]:[],this.metadata=new UserMetadata(rt.createdAt||void 0,rt.lastLoginAt||void 0)}async getIdToken(_){const et=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_));return _assert(et,this.auth,"internal-error"),this.accessToken!==et&&(this.accessToken=et,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),et}getIdTokenResult(_){return getIdTokenResult(this,_)}reload(){return reload(this)}_assign(_){this!==_&&(_assert(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(et=>Object.assign({},et)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const et=new UserImpl(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return et.metadata._copy(this.metadata),et}_onReload(_){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_,et=!1){let tt=!1;_.idToken&&_.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_),tt=!0),et&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),tt&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const _=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:_})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,et){var tt,nt,rt,it,st,ot,at,lt;const ct=(tt=et.displayName)!==null&&tt!==void 0?tt:void 0,dt=(nt=et.email)!==null&&nt!==void 0?nt:void 0,_t=(rt=et.phoneNumber)!==null&&rt!==void 0?rt:void 0,pt=(it=et.photoURL)!==null&&it!==void 0?it:void 0,ut=(st=et.tenantId)!==null&&st!==void 0?st:void 0,mt=(ot=et._redirectEventId)!==null&&ot!==void 0?ot:void 0,ft=(at=et.createdAt)!==null&&at!==void 0?at:void 0,gt=(lt=et.lastLoginAt)!==null&&lt!==void 0?lt:void 0,{uid:vt,emailVerified:bt,isAnonymous:Et,providerData:xt,stsTokenManager:kt}=et;_assert(vt&&kt,_,"internal-error");const Ct=StsTokenManager.fromJSON(this.name,kt);_assert(typeof vt=="string",_,"internal-error"),assertStringOrUndefined(ct,_.name),assertStringOrUndefined(dt,_.name),_assert(typeof bt=="boolean",_,"internal-error"),_assert(typeof Et=="boolean",_,"internal-error"),assertStringOrUndefined(_t,_.name),assertStringOrUndefined(pt,_.name),assertStringOrUndefined(ut,_.name),assertStringOrUndefined(mt,_.name),assertStringOrUndefined(ft,_.name),assertStringOrUndefined(gt,_.name);const At=new UserImpl({uid:vt,auth:_,email:dt,emailVerified:bt,displayName:ct,isAnonymous:Et,photoURL:pt,phoneNumber:_t,tenantId:ut,stsTokenManager:Ct,createdAt:ft,lastLoginAt:gt});return xt&&Array.isArray(xt)&&(At.providerData=xt.map(Lt=>Object.assign({},Lt))),mt&&(At._redirectEventId=mt),At}static async _fromIdTokenResponse(_,et,tt=!1){const nt=new StsTokenManager;nt.updateFromServerResponse(et);const rt=new UserImpl({uid:et.localId,auth:_,stsTokenManager:nt,isAnonymous:tt});return await _reloadWithoutSaving(rt),rt}static async _fromGetAccountInfoResponse(_,et,tt){const nt=et.users[0];_assert(nt.localId!==void 0,"internal-error");const rt=nt.providerUserInfo!==void 0?extractProviderData(nt.providerUserInfo):[],it=!(nt.email&&nt.passwordHash)&&!(rt!=null&&rt.length),st=new StsTokenManager;st.updateFromIdToken(tt);const ot=new UserImpl({uid:nt.localId,auth:_,stsTokenManager:st,isAnonymous:it}),at={uid:nt.localId,displayName:nt.displayName||null,photoURL:nt.photoUrl||null,email:nt.email||null,emailVerified:nt.emailVerified||!1,phoneNumber:nt.phoneNumber||null,tenantId:nt.tenantId||null,providerData:rt,metadata:new UserMetadata(nt.createdAt,nt.lastLoginAt),isAnonymous:!(nt.email&&nt.passwordHash)&&!(rt!=null&&rt.length)};return Object.assign(ot,at),ot}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance($){debugAssert($ instanceof Function,"Expected a class definition");let _=instanceCache.get($);return _?(debugAssert(_ instanceof $,"Instance stored in cache mismatched with class"),_):(_=new $,instanceCache.set($,_),_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_,et){this.storage[_]=et}async _get(_){const et=this.storage[_];return et===void 0?null:et}async _remove(_){delete this.storage[_]}_addListener(_,et){}_removeListener(_,et){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName($,_,et){return`firebase:${$}:${_}:${et}`}class PersistenceUserManager{constructor(_,et,tt){this.persistence=_,this.auth=et,this.userKey=tt;const{config:nt,name:rt}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,nt.apiKey,rt),this.fullPersistenceKey=_persistenceKeyName("persistence",nt.apiKey,rt),this.boundEventHandler=et._onStorageEvent.bind(et),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}async getCurrentUser(){const _=await this.persistence._get(this.fullUserKey);return _?UserImpl._fromJSON(this.auth,_):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_){if(this.persistence===_)return;const et=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=_,et)return this.setCurrentUser(et)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_,et,tt="authUser"){if(!et.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),_,tt);const nt=(await Promise.all(et.map(async at=>{if(await at._isAvailable())return at}))).filter(at=>at);let rt=nt[0]||_getInstance(inMemoryPersistence);const it=_persistenceKeyName(tt,_.config.apiKey,_.name);let st=null;for(const at of et)try{const lt=await at._get(it);if(lt){const ct=UserImpl._fromJSON(_,lt);at!==rt&&(st=ct),rt=at;break}}catch{}const ot=nt.filter(at=>at._shouldAllowMigration);return!rt._shouldAllowMigration||!ot.length?new PersistenceUserManager(rt,_,tt):(rt=ot[0],st&&await rt._set(it,st.toJSON()),await Promise.all(et.map(async at=>{if(at!==rt)try{await at._remove(it)}catch{}})),new PersistenceUserManager(rt,_,tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName($){const _=$.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(_isIEMobile(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(_isFirefox(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_isBlackBerry(_))return"Blackberry";if(_isWebOS(_))return"Webos";if(_isSafari(_))return"Safari";if((_.includes("chrome/")||_isChromeIOS(_))&&!_.includes("edge/"))return"Chrome";if(_isAndroid(_))return"Android";{const et=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,tt=$.match(et);if((tt==null?void 0:tt.length)===2)return tt[1]}return"Other"}function _isFirefox($=getUA()){return/firefox\//i.test($)}function _isSafari($=getUA()){const _=$.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _isChromeIOS($=getUA()){return/crios\//i.test($)}function _isIEMobile($=getUA()){return/iemobile/i.test($)}function _isAndroid($=getUA()){return/android/i.test($)}function _isBlackBerry($=getUA()){return/blackberry/i.test($)}function _isWebOS($=getUA()){return/webos/i.test($)}function _isIOS($=getUA()){return/iphone|ipad|ipod/i.test($)||/macintosh/i.test($)&&/mobile/i.test($)}function _isIOSStandalone($=getUA()){var _;return _isIOS($)&&!!(!((_=window.navigator)===null||_===void 0)&&_.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser($=getUA()){return _isIOS($)||_isAndroid($)||_isWebOS($)||_isBlackBerry($)||/windows phone/i.test($)||_isIEMobile($)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion($,_=[]){let et;switch($){case"Browser":et=_getBrowserName(getUA());break;case"Worker":et=`${_getBrowserName(getUA())}-${$}`;break;default:et=$}const tt=_.length?_.join(","):"FirebaseCore-web";return`${et}/JsCore/${SDK_VERSION}/${tt}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,et){const tt=rt=>new Promise((it,st)=>{try{const ot=_(rt);it(ot)}catch(ot){st(ot)}});tt.onAbort=et,this.queue.push(tt);const nt=this.queue.length-1;return()=>{this.queue[nt]=()=>Promise.resolve()}}async runMiddleware(_){if(this.auth.currentUser===_)return;const et=[];try{for(const tt of this.queue)await tt(_),tt.onAbort&&et.push(tt.onAbort)}catch(tt){et.reverse();for(const nt of et)try{nt()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:tt==null?void 0:tt.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy($,_={}){return _performApiRequest($,"GET","/v2/passwordPolicy",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(_){var et,tt,nt,rt;const it=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(et=it.minPasswordLength)!==null&&et!==void 0?et:MINIMUM_MIN_PASSWORD_LENGTH,it.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=it.maxPasswordLength),it.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=it.containsLowercaseCharacter),it.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=it.containsUppercaseCharacter),it.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=it.containsNumericCharacter),it.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=it.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(nt=(tt=_.allowedNonAlphanumericCharacters)===null||tt===void 0?void 0:tt.join(""))!==null&&nt!==void 0?nt:"",this.forceUpgradeOnSignin=(rt=_.forceUpgradeOnSignin)!==null&&rt!==void 0?rt:!1,this.schemaVersion=_.schemaVersion}validatePassword(_){var et,tt,nt,rt,it,st;const ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,ot),this.validatePasswordCharacterOptions(_,ot),ot.isValid&&(ot.isValid=(et=ot.meetsMinPasswordLength)!==null&&et!==void 0?et:!0),ot.isValid&&(ot.isValid=(tt=ot.meetsMaxPasswordLength)!==null&&tt!==void 0?tt:!0),ot.isValid&&(ot.isValid=(nt=ot.containsLowercaseLetter)!==null&&nt!==void 0?nt:!0),ot.isValid&&(ot.isValid=(rt=ot.containsUppercaseLetter)!==null&&rt!==void 0?rt:!0),ot.isValid&&(ot.isValid=(it=ot.containsNumericCharacter)!==null&&it!==void 0?it:!0),ot.isValid&&(ot.isValid=(st=ot.containsNonAlphanumericCharacter)!==null&&st!==void 0?st:!0),ot}validatePasswordLengthOptions(_,et){const tt=this.customStrengthOptions.minPasswordLength,nt=this.customStrengthOptions.maxPasswordLength;tt&&(et.meetsMinPasswordLength=_.length>=tt),nt&&(et.meetsMaxPasswordLength=_.length<=nt)}validatePasswordCharacterOptions(_,et){this.updatePasswordCharacterOptionsStatuses(et,!1,!1,!1,!1);let tt;for(let nt=0;nt<_.length;nt++)tt=_.charAt(nt),this.updatePasswordCharacterOptionsStatuses(et,tt>="a"&&tt<="z",tt>="A"&&tt<="Z",tt>="0"&&tt<="9",this.allowedNonAlphanumericCharacters.includes(tt))}updatePasswordCharacterOptionsStatuses(_,et,tt,nt,rt){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=et)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=tt)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=nt)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=rt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(_,et,tt,nt){this.app=_,this.heartbeatServiceProvider=et,this.appCheckServiceProvider=tt,this.config=nt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=nt.sdkClientVersion}_initializeWithPersistence(_,et){return et&&(this._popupRedirectResolver=_getInstance(et)),this._initializationPromise=this.queue(async()=>{var tt,nt;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_),!this._deleted)){if(!((tt=this._popupRedirectResolver)===null||tt===void 0)&&tt._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(et),this.lastNotifiedUid=((nt=this.currentUser)===null||nt===void 0?void 0:nt.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!_)){if(this.currentUser&&_&&this.currentUser.uid===_.uid){this._currentUser._assign(_),await this.currentUser.getIdToken();return}await this._updateCurrentUser(_,!0)}}async initializeCurrentUserFromIdToken(_){try{const et=await getAccountInfo(this,{idToken:_}),tt=await UserImpl._fromGetAccountInfoResponse(this,et,_);await this.directlySetCurrentUser(tt)}catch(et){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",et),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(_){var et;if(_isFirebaseServerApp(this.app)){const it=this.app.settings.authIdToken;return it?new Promise(st=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(it).then(st,st))}):this.directlySetCurrentUser(null)}const tt=await this.assertedPersistence.getCurrentUser();let nt=tt,rt=!1;if(_&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const it=(et=this.redirectUser)===null||et===void 0?void 0:et._redirectEventId,st=nt==null?void 0:nt._redirectEventId,ot=await this.tryRedirectSignIn(_);(!it||it===st)&&(ot!=null&&ot.user)&&(nt=ot.user,rt=!0)}if(!nt)return this.directlySetCurrentUser(null);if(!nt._redirectEventId){if(rt)try{await this.beforeStateQueue.runMiddleware(nt)}catch(it){nt=tt,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(it))}return nt?this.reloadAndSetCurrentUserOrClear(nt):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===nt._redirectEventId?this.directlySetCurrentUser(nt):this.reloadAndSetCurrentUserOrClear(nt)}async tryRedirectSignIn(_){let et=null;try{et=await this._popupRedirectResolver._completeRedirectFn(this,_,!0)}catch{await this._setRedirectUser(null)}return et}async reloadAndSetCurrentUserOrClear(_){try{await _reloadWithoutSaving(_)}catch(et){if((et==null?void 0:et.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(_){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const et=_?getModularInstance(_):null;return et&&_assert(et.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(et&&et._clone(this))}async _updateCurrentUser(_,et=!1){if(!this._deleted)return _&&_assert(this.tenantId===_.tenantId,this,"tenant-id-mismatch"),et||await this.beforeStateQueue.runMiddleware(_),this.queue(async()=>{await this.directlySetCurrentUser(_),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(_){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(_))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(_){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const et=this._getPasswordPolicyInternal();return et.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):et.validatePassword(_)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const _=await _getPasswordPolicy(this),et=new PasswordPolicyImpl(_);this.tenantId===null?this._projectPasswordPolicy=et:this._tenantPasswordPolicies[this.tenantId]=et}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new ErrorFactory("auth","Firebase",_())}onAuthStateChanged(_,et,tt){return this.registerStateListener(this.authStateSubscription,_,et,tt)}beforeAuthStateChanged(_,et){return this.beforeStateQueue.pushCallback(_,et)}onIdTokenChanged(_,et,tt){return this.registerStateListener(this.idTokenSubscription,_,et,tt)}authStateReady(){return new Promise((_,et)=>{if(this.currentUser)_();else{const tt=this.onAuthStateChanged(()=>{tt(),_()},et)}})}async revokeAccessToken(_){if(this.currentUser){const et=await this.currentUser.getIdToken(),tt={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:et};this.tenantId!=null&&(tt.tenantId=this.tenantId),await revokeToken(this,tt)}}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(_=this._currentUser)===null||_===void 0?void 0:_.toJSON()}}async _setRedirectUser(_,et){const tt=await this.getOrInitRedirectPersistenceManager(et);return _===null?tt.removeCurrentUser():tt.setCurrentUser(_)}async getOrInitRedirectPersistenceManager(_){if(!this.redirectPersistenceManager){const et=_&&_getInstance(_)||this._popupRedirectResolver;_assert(et,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(et._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_){var et,tt;return this._isInitialized&&await this.queue(async()=>{}),((et=this._currentUser)===null||et===void 0?void 0:et._redirectEventId)===_?this._currentUser:((tt=this.redirectUser)===null||tt===void 0?void 0:tt._redirectEventId)===_?this.redirectUser:null}async _persistUserIfCurrent(_){if(_===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(_))}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,et;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const tt=(et=(_=this.currentUser)===null||_===void 0?void 0:_.uid)!==null&&et!==void 0?et:null;this.lastNotifiedUid!==tt&&(this.lastNotifiedUid=tt,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,et,tt,nt){if(this._deleted)return()=>{};const rt=typeof et=="function"?et:et.next.bind(et);let it=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(st,this,"internal-error"),st.then(()=>{it||rt(this.currentUser)}),typeof et=="function"){const ot=_.addObserver(et,tt,nt);return()=>{it=!0,ot()}}else{const ot=_.addObserver(et);return()=>{it=!0,ot()}}}async directlySetCurrentUser(_){this.currentUser&&this.currentUser!==_&&this._currentUser._stopProactiveRefresh(),_&&this.isProactiveRefreshEnabled&&_._startProactiveRefresh(),this.currentUser=_,_?await this.assertedPersistence.setCurrentUser(_):await this.assertedPersistence.removeCurrentUser()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _;const et={"X-Client-Version":this.clientVersion};this.app.options.appId&&(et["X-Firebase-gmpid"]=this.app.options.appId);const tt=await((_=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getHeartbeatsHeader());tt&&(et["X-Firebase-Client"]=tt);const nt=await this._getAppCheckToken();return nt&&(et["X-Firebase-AppCheck"]=nt),et}async _getAppCheckToken(){var _;const et=await((_=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getToken());return et!=null&&et.error&&_logWarn(`Error while retrieving App Check token: ${et.error}`),et==null?void 0:et.token}}function _castAuth($){return getModularInstance($)}class Subscription{constructor(_){this.auth=_,this.observer=null,this.addObserver=createSubscribe(et=>this.observer=et)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider($){externalJSProvider=$}function _loadJS($){return externalJSProvider.loadJS($)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName($){return`__${$}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(_){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(_)}async verify(_="verify",et=!1){async function tt(rt){if(!et){if(rt.tenantId==null&&rt._agentRecaptchaConfig!=null)return rt._agentRecaptchaConfig.siteKey;if(rt.tenantId!=null&&rt._tenantRecaptchaConfigs[rt.tenantId]!==void 0)return rt._tenantRecaptchaConfigs[rt.tenantId].siteKey}return new Promise(async(it,st)=>{getRecaptchaConfig(rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ot=>{if(ot.recaptchaKey===void 0)st(new Error("recaptcha Enterprise site key undefined"));else{const at=new RecaptchaConfig(ot);return rt.tenantId==null?rt._agentRecaptchaConfig=at:rt._tenantRecaptchaConfigs[rt.tenantId]=at,it(at.siteKey)}}).catch(ot=>{st(ot)})})}function nt(rt,it,st){const ot=window.grecaptcha;isEnterprise(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(rt,{action:_}).then(at=>{it(at)}).catch(()=>{it(FAKE_TOKEN)})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rt,it)=>{tt(this.auth).then(st=>{if(!et&&isEnterprise(window.grecaptcha))nt(st,rt,it);else{if(typeof window>"u"){it(new Error("RecaptchaVerifier is only supported in browser"));return}let ot=_recaptchaEnterpriseScriptUrl();ot.length!==0&&(ot+=st),_loadJS(ot).then(()=>{nt(st,rt,it)}).catch(at=>{it(at)})}}).catch(st=>{it(st)})})}}async function injectRecaptchaFields($,_,et,tt=!1){const nt=new RecaptchaEnterpriseVerifier($);let rt;try{rt=await nt.verify(et)}catch{rt=await nt.verify(et,!0)}const it=Object.assign({},_);return tt?Object.assign(it,{captchaResp:rt}):Object.assign(it,{captchaResponse:rt}),Object.assign(it,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(it,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),it}async function handleRecaptchaFlow($,_,et,tt){var nt;if(!((nt=$._getRecaptchaConfig())===null||nt===void 0)&&nt.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const rt=await injectRecaptchaFields($,_,et,et==="getOobCode");return tt($,rt)}else return tt($,_).catch(async rt=>{if(rt.code==="auth/missing-recaptcha-token"){console.log(`${et} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const it=await injectRecaptchaFields($,_,et,et==="getOobCode");return tt($,it)}else return Promise.reject(rt)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth($,_){const et=_getProvider($,"auth");if(et.isInitialized()){const nt=et.getImmediate(),rt=et.getOptions();if(deepEqual$1(rt,_??{}))return nt;_fail(nt,"already-initialized")}return et.initialize({options:_})}function _initializeAuthInstance($,_){const et=(_==null?void 0:_.persistence)||[],tt=(Array.isArray(et)?et:[et]).map(_getInstance);_!=null&&_.errorMap&&$._updateErrorMap(_.errorMap),$._initializeWithPersistence(tt,_==null?void 0:_.popupRedirectResolver)}function connectAuthEmulator($,_,et){const tt=_castAuth($);_assert(tt._canInitEmulator,tt,"emulator-config-failed"),_assert(/^https?:\/\//.test(_),tt,"invalid-emulator-scheme");const nt=!!(et!=null&&et.disableWarnings),rt=extractProtocol(_),{host:it,port:st}=extractHostAndPort(_),ot=st===null?"":`:${st}`;tt.config.emulator={url:`${rt}//${it}${ot}/`},tt.settings.appVerificationDisabledForTesting=!0,tt.emulatorConfig=Object.freeze({host:it,port:st,protocol:rt.replace(":",""),options:Object.freeze({disableWarnings:nt})}),nt||emitEmulatorWarning()}function extractProtocol($){const _=$.indexOf(":");return _<0?"":$.substr(0,_+1)}function extractHostAndPort($){const _=extractProtocol($),et=/(\/\/)?([^?#/]+)/.exec($.substr(_.length));if(!et)return{host:"",port:null};const tt=et[2].split("@").pop()||"",nt=/^(\[[^\]]+\])(:|$)/.exec(tt);if(nt){const rt=nt[1];return{host:rt,port:parsePort(tt.substr(rt.length+1))}}else{const[rt,it]=tt.split(":");return{host:rt,port:parsePort(it)}}}function parsePort($){if(!$)return null;const _=Number($);return isNaN(_)?null:_}function emitEmulatorWarning(){function $(){const _=document.createElement("p"),et=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",et.position="fixed",et.width="100%",et.backgroundColor="#ffffff",et.border=".1em solid #000000",et.color="#b50000",et.bottom="0px",et.left="0px",et.margin="0px",et.zIndex="10000",et.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",$):$())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(_,et){this.providerId=_,this.signInMethod=et}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_){return debugFail("not implemented")}_linkToIdToken(_,et){return debugFail("not implemented")}_getReauthenticationResolver(_){return debugFail("not implemented")}}async function linkEmailPassword($,_){return _performApiRequest($,"POST","/v1/accounts:signUp",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary($,_))}async function signInWithEmailLinkForLinking($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(_,et,tt,nt=null){super("password",tt),this._email=_,this._password=et,this._tenantId=nt}static _fromEmailAndPassword(_,et){return new EmailAuthCredential(_,et,"password")}static _fromEmailAndCode(_,et,tt=null){return new EmailAuthCredential(_,et,"emailLink",tt)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const et=typeof _=="string"?JSON.parse(_):_;if(et!=null&&et.email&&(et!=null&&et.password)){if(et.signInMethod==="password")return this._fromEmailAndPassword(et.email,et.password);if(et.signInMethod==="emailLink")return this._fromEmailAndCode(et.email,et.password,et.tenantId)}return null}async _getIdTokenResponse(_){switch(this.signInMethod){case"password":const et={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_,et,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(_,{email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}async _linkToIdToken(_,et){switch(this.signInMethod){case"password":const tt={idToken:et,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_,tt,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(_,{idToken:et,email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const et=new OAuthCredential(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(et.idToken=_.idToken),_.accessToken&&(et.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(et.nonce=_.nonce),_.pendingToken&&(et.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(et.accessToken=_.oauthToken,et.secret=_.oauthTokenSecret):_fail("argument-error"),et}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const et=typeof _=="string"?JSON.parse(_):_,{providerId:tt,signInMethod:nt}=et,rt=__rest(et,["providerId","signInMethod"]);if(!tt||!nt)return null;const it=new OAuthCredential(tt,nt);return it.idToken=rt.idToken||void 0,it.accessToken=rt.accessToken||void 0,it.secret=rt.secret,it.nonce=rt.nonce,it.pendingToken=rt.pendingToken||null,it}_getIdTokenResponse(_){const et=this.buildRequest();return signInWithIdp(_,et)}_linkToIdToken(_,et){const tt=this.buildRequest();return tt.idToken=et,signInWithIdp(_,tt)}_getReauthenticationResolver(_){const et=this.buildRequest();return et.autoCreate=!1,signInWithIdp(_,et)}buildRequest(){const _={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const et={};this.idToken&&(et.id_token=this.idToken),this.accessToken&&(et.access_token=this.accessToken),this.secret&&(et.oauth_token_secret=this.secret),et.providerId=this.providerId,this.nonce&&!this.pendingToken&&(et.nonce=this.nonce),_.postBody=querystring(et)}return _}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode($){switch($){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink($){const _=querystringDecode(extractQuerystring($)).link,et=_?querystringDecode(extractQuerystring(_)).deep_link_id:null,tt=querystringDecode(extractQuerystring($)).deep_link_id;return(tt?querystringDecode(extractQuerystring(tt)).link:null)||tt||et||_||$}class ActionCodeURL{constructor(_){var et,tt,nt,rt,it,st;const ot=querystringDecode(extractQuerystring(_)),at=(et=ot.apiKey)!==null&&et!==void 0?et:null,lt=(tt=ot.oobCode)!==null&&tt!==void 0?tt:null,ct=parseMode((nt=ot.mode)!==null&&nt!==void 0?nt:null);_assert(at&&lt&&ct,"argument-error"),this.apiKey=at,this.operation=ct,this.code=lt,this.continueUrl=(rt=ot.continueUrl)!==null&&rt!==void 0?rt:null,this.languageCode=(it=ot.languageCode)!==null&&it!==void 0?it:null,this.tenantId=(st=ot.tenantId)!==null&&st!==void 0?st:null}static parseLink(_){const et=parseDeepLink(_);try{return new ActionCodeURL(et)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(_,et){return EmailAuthCredential._fromEmailAndPassword(_,et)}static credentialWithLink(_,et){const tt=ActionCodeURL.parseLink(et);return _assert(tt,"argument-error"),EmailAuthCredential._fromEmailAndCode(_,tt.code,tt.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return FacebookAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return FacebookAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_,et){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:et})}static credentialFromResult(_){return GoogleAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GoogleAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:et,oauthAccessToken:tt}=_;if(!et&&!tt)return null;try{return GoogleAuthProvider.credential(et,tt)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return GithubAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GithubAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return GithubAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_,et){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:et})}static credentialFromResult(_){return TwitterAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return TwitterAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:et,oauthTokenSecret:tt}=_;if(!et||!tt)return null;try{return TwitterAuthProvider.credential(et,tt)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp($,_){return _performSignInRequest($,"POST","/v1/accounts:signUp",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static async _fromIdTokenResponse(_,et,tt,nt=!1){const rt=await UserImpl._fromIdTokenResponse(_,tt,nt),it=providerIdForResponse(tt);return new UserCredentialImpl({user:rt,providerId:it,_tokenResponse:tt,operationType:et})}static async _forOperation(_,et,tt){await _._updateTokensIfNecessary(tt,!0);const nt=providerIdForResponse(tt);return new UserCredentialImpl({user:_,providerId:nt,_tokenResponse:tt,operationType:et})}}function providerIdForResponse($){return $.providerId?$.providerId:"phoneNumber"in $?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(_,et,tt,nt){var rt;super(et.code,et.message),this.operationType=tt,this.user=nt,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_.name,tenantId:(rt=_.tenantId)!==null&&rt!==void 0?rt:void 0,_serverResponse:et.customData._serverResponse,operationType:tt}}static _fromErrorAndOperation(_,et,tt,nt){return new MultiFactorError(_,et,tt,nt)}}function _processCredentialSavingMfaContextIfNecessary($,_,et,tt){return(_==="reauthenticate"?et._getReauthenticationResolver($):et._getIdTokenResponse($)).catch(rt=>{throw rt.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation($,rt,_,tt):rt})}async function _link$1($,_,et=!1){const tt=await _logoutIfInvalidated($,_._linkToIdToken($.auth,await $.getIdToken()),et);return UserCredentialImpl._forOperation($,"link",tt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate($,_,et=!1){const{auth:tt}=$;if(_isFirebaseServerApp(tt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(tt));const nt="reauthenticate";try{const rt=await _logoutIfInvalidated($,_processCredentialSavingMfaContextIfNecessary(tt,nt,_,$),et);_assert(rt.idToken,tt,"internal-error");const it=_parseToken(rt.idToken);_assert(it,tt,"internal-error");const{sub:st}=it;return _assert($.uid===st,tt,"user-mismatch"),UserCredentialImpl._forOperation($,nt,rt)}catch(rt){throw(rt==null?void 0:rt.code)==="auth/user-not-found"&&_fail(tt,"user-mismatch"),rt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential($,_,et=!1){if(_isFirebaseServerApp($.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError($));const tt="signIn",nt=await _processCredentialSavingMfaContextIfNecessary($,tt,_),rt=await UserCredentialImpl._fromIdTokenResponse($,tt,nt);return et||await $._updateCurrentUser(rt.user),rt}async function signInWithCredential($,_){return _signInWithCredential(_castAuth($),_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy($){const _=_castAuth($);_._getPasswordPolicyInternal()&&await _._updatePasswordPolicy()}async function createUserWithEmailAndPassword($,_,et){if(_isFirebaseServerApp($.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError($));const tt=_castAuth($),it=await handleRecaptchaFlow(tt,{returnSecureToken:!0,email:_,password:et,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(ot=>{throw ot.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy($),ot}),st=await UserCredentialImpl._fromIdTokenResponse(tt,"signIn",it);return await tt._updateCurrentUser(st.user),st}function signInWithEmailAndPassword($,_,et){return _isFirebaseServerApp($.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError($)):signInWithCredential(getModularInstance($),EmailAuthProvider.credential(_,et)).catch(async tt=>{throw tt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy($),tt})}function onIdTokenChanged($,_,et,tt){return getModularInstance($).onIdTokenChanged(_,et,tt)}function beforeAuthStateChanged($,_,et){return getModularInstance($).beforeAuthStateChanged(_,et)}function onAuthStateChanged($,_,et,tt){return getModularInstance($).onAuthStateChanged(_,et,tt)}function signOut($){return getModularInstance($).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(_,et){this.storageRetriever=_,this.type=et}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,et){return this.storage.setItem(_,JSON.stringify(et)),Promise.resolve()}_get(_){const et=this.storage.getItem(_);return Promise.resolve(et?JSON.parse(et):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const $=getUA();return _isSafari($)||_isIOS($)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,et)=>this.onStorageEvent(_,et),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const et of Object.keys(this.listeners)){const tt=this.storage.getItem(et),nt=this.localCache[et];tt!==nt&&_(et,nt,tt)}}onStorageEvent(_,et=!1){if(!_.key){this.forAllChangedKeys((it,st,ot)=>{this.notifyListeners(it,ot)});return}const tt=_.key;if(et?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(tt);if(_.newValue!==it)_.newValue!==null?this.storage.setItem(tt,_.newValue):this.storage.removeItem(tt);else if(this.localCache[tt]===_.newValue&&!et)return}const nt=()=>{const it=this.storage.getItem(tt);!et&&this.localCache[tt]===it||this.notifyListeners(tt,it)},rt=this.storage.getItem(tt);_isIE10()&&rt!==_.newValue&&_.newValue!==_.oldValue?setTimeout(nt,IE10_LOCAL_STORAGE_SYNC_DELAY):nt()}notifyListeners(_,et){this.localCache[_]=et;const tt=this.listeners[_];if(tt)for(const nt of Array.from(tt))nt(et&&JSON.parse(et))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,et,tt)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:et,newValue:tt}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,et){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(et)}_removeListener(_,et){this.listeners[_]&&(this.listeners[_].delete(et),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(_,et){await super._set(_,et),this.localCache[_]=JSON.stringify(et)}async _get(_){const et=await super._get(_);return this.localCache[_]=JSON.stringify(et),et}async _remove(_){await super._remove(_),delete this.localCache[_]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,et){}_removeListener(_,et){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled($){return Promise.all($.map(async _=>{try{return{fulfilled:!0,value:await _}}catch(et){return{fulfilled:!1,reason:et}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const et=this.receivers.find(nt=>nt.isListeningto(_));if(et)return et;const tt=new Receiver(_);return this.receivers.push(tt),tt}isListeningto(_){return this.eventTarget===_}async handleEvent(_){const et=_,{eventId:tt,eventType:nt,data:rt}=et.data,it=this.handlersMap[nt];if(!(it!=null&&it.size))return;et.ports[0].postMessage({status:"ack",eventId:tt,eventType:nt});const st=Array.from(it).map(async at=>at(et.origin,rt)),ot=await _allSettled(st);et.ports[0].postMessage({status:"done",eventId:tt,eventType:nt,response:ot})}_subscribe(_,et){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(et)}_unsubscribe(_,et){this.handlersMap[_]&&et&&this.handlersMap[_].delete(et),(!et||this.handlersMap[_].size===0)&&delete this.handlersMap[_],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId($="",_=10){let et="";for(let tt=0;tt<_;tt++)et+=Math.floor(Math.random()*10);return $+et}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}async _send(_,et,tt=50){const nt=typeof MessageChannel<"u"?new MessageChannel:null;if(!nt)throw new Error("connection_unavailable");let rt,it;return new Promise((st,ot)=>{const at=_generateEventId("",20);nt.port1.start();const lt=setTimeout(()=>{ot(new Error("unsupported_event"))},tt);it={messageChannel:nt,onMessage(ct){const dt=ct;if(dt.data.eventId===at)switch(dt.data.status){case"ack":clearTimeout(lt),rt=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),st(dt.data.response);break;default:clearTimeout(lt),clearTimeout(rt),ot(new Error("invalid_response"));break}}},this.handlers.add(it),nt.port1.addEventListener("message",it.onMessage),this.target.postMessage({eventType:_,eventId:at,data:et},[nt.port2])}).finally(()=>{it&&this.removeMessageHandler(it)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation($){_window().location.href=$}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var $;return(($=navigator==null?void 0:navigator.serviceWorker)===null||$===void 0?void 0:$.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(_){this.request=_}toPromise(){return new Promise((_,et)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{et(this.request.error)})})}}function getObjectStore($,_){return $.transaction([DB_OBJECTSTORE_NAME],_?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const $=indexedDB.deleteDatabase(DB_NAME);return new DBPromise($).toPromise()}function _openDatabase(){const $=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((_,et)=>{$.addEventListener("error",()=>{et($.error)}),$.addEventListener("upgradeneeded",()=>{const tt=$.result;try{tt.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(nt){et(nt)}}),$.addEventListener("success",async()=>{const tt=$.result;tt.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?_(tt):(tt.close(),await _deleteDatabase(),_(await _openDatabase()))})})}async function _putObject($,_,et){const tt=getObjectStore($,!0).put({[DB_DATA_KEYPATH]:_,value:et});return new DBPromise(tt).toPromise()}async function getObject($,_){const et=getObjectStore($,!1).get(_),tt=await new DBPromise(et).toPromise();return tt===void 0?null:tt.value}function _deleteObject($,_){const et=getObjectStore($,!0).delete(_);return new DBPromise(et).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(_){let et=0;for(;;)try{const tt=await this._openDb();return await _(tt)}catch(tt){if(et++>_TRANSACTION_RETRY_COUNT)throw tt;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(_,et)=>({keyProcessed:(await this._poll()).includes(et.key)})),this.receiver._subscribe("ping",async(_,et)=>["keyChanged"])}async initializeSender(){var _,et;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const tt=await this.sender._send("ping",{},800);tt&&!((_=tt[0])===null||_===void 0)&&_.fulfilled&&!((et=tt[0])===null||et===void 0)&&et.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:_},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const _=await _openDatabase();return await _putObject(_,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(_,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(_){this.pendingWrites++;try{await _()}finally{this.pendingWrites--}}async _set(_,et){return this._withPendingWrite(async()=>(await this._withRetries(tt=>_putObject(tt,_,et)),this.localCache[_]=et,this.notifyServiceWorker(_)))}async _get(_){const et=await this._withRetries(tt=>getObject(tt,_));return this.localCache[_]=et,et}async _remove(_){return this._withPendingWrite(async()=>(await this._withRetries(et=>_deleteObject(et,_)),delete this.localCache[_],this.notifyServiceWorker(_)))}async _poll(){const _=await this._withRetries(nt=>{const rt=getObjectStore(nt,!1).getAll();return new DBPromise(rt).toPromise()});if(!_)return[];if(this.pendingWrites!==0)return[];const et=[],tt=new Set;if(_.length!==0)for(const{fbase_key:nt,value:rt}of _)tt.add(nt),JSON.stringify(this.localCache[nt])!==JSON.stringify(rt)&&(this.notifyListeners(nt,rt),et.push(nt));for(const nt of Object.keys(this.localCache))this.localCache[nt]&&!tt.has(nt)&&(this.notifyListeners(nt,null),et.push(nt));return et}notifyListeners(_,et){this.localCache[_]=et;const tt=this.listeners[_];if(tt)for(const nt of Array.from(tt))nt(et)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,et){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(et)}_removeListener(_,et){this.listeners[_]&&(this.listeners[_].delete(et),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver($,_){return _?_getInstance(_):(_assert($._popupRedirectResolver,$,"argument-error"),$._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return signInWithIdp(_,this._buildIdpRequest())}_linkToIdToken(_,et){return signInWithIdp(_,this._buildIdpRequest(et))}_getReauthenticationResolver(_){return signInWithIdp(_,this._buildIdpRequest())}_buildIdpRequest(_){const et={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(et.idToken=_),et}}function _signIn($){return _signInWithCredential($.auth,new IdpCredential($),$.bypassAuthState)}function _reauth($){const{auth:_,user:et}=$;return _assert(et,_,"internal-error"),_reauthenticate(et,new IdpCredential($),$.bypassAuthState)}async function _link($){const{auth:_,user:et}=$;return _assert(et,_,"internal-error"),_link$1(et,new IdpCredential($),$.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(_,et,tt,nt,rt=!1){this.auth=_,this.resolver=tt,this.user=nt,this.bypassAuthState=rt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(et)?et:[et]}execute(){return new Promise(async(_,et)=>{this.pendingPromise={resolve:_,reject:et};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(tt){this.reject(tt)}})}async onAuthEvent(_){const{urlResponse:et,sessionId:tt,postBody:nt,tenantId:rt,error:it,type:st}=_;if(it){this.reject(it);return}const ot={auth:this.auth,requestUri:et,sessionId:tt,tenantId:rt||void 0,postBody:nt||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(st)(ot))}catch(at){this.reject(at)}}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup($,_,et){if(_isFirebaseServerApp($.app))return Promise.reject(_createError($,"operation-not-supported-in-this-environment"));const tt=_castAuth($);_assertInstanceOf($,_,FederatedAuthProvider);const nt=_withDefaultResolver(tt,et);return new PopupOperation(tt,"signInViaPopup",_,nt).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(_,et,tt,nt,rt){super(_,et,nt,rt),this.provider=tt,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _=await this.execute();return _assert(_,this.auth,"internal-error"),_}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const _=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_),this.authWindow.associatedEvent=_,this.resolver._originValidation(this.auth).catch(et=>{this.reject(et)}),this.resolver._isIframeWebStorageSupported(this.auth,et=>{et||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _;return((_=this.authWindow)===null||_===void 0?void 0:_.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const _=()=>{var et,tt;if(!((tt=(et=this.authWindow)===null||et===void 0?void 0:et.window)===null||tt===void 0)&&tt.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(_,_POLL_WINDOW_CLOSE_TIMEOUT.get())};_()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_,et,tt=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],et,void 0,tt),this.eventId=null}async execute(){let _=redirectOutcomeMap.get(this.auth._key());if(!_){try{const tt=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;_=()=>Promise.resolve(tt)}catch(et){_=()=>Promise.reject(et)}redirectOutcomeMap.set(this.auth._key(),_)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),_()}async onAuthEvent(_){if(_.type==="signInViaRedirect")return super.onAuthEvent(_);if(_.type==="unknown"){this.resolve(null);return}if(_.eventId){const et=await this.auth._redirectUserForId(_.eventId);if(et)return this.user=et,super.onAuthEvent(_);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus($,_){const et=pendingRedirectKey(_),tt=resolverPersistence($);if(!await tt._isAvailable())return!1;const nt=await tt._get(et)==="true";return await tt._remove(et),nt}function _overrideRedirectResult($,_){redirectOutcomeMap.set($._key(),_)}function resolverPersistence($){return _getInstance($._redirectPersistence)}function pendingRedirectKey($){return _persistenceKeyName(PENDING_REDIRECT_KEY,$.config.apiKey,$.name)}async function _getRedirectResult($,_,et=!1){if(_isFirebaseServerApp($.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError($));const tt=_castAuth($),nt=_withDefaultResolver(tt,_),it=await new RedirectAction(tt,nt,et).execute();return it&&!et&&(delete it.user._redirectEventId,await tt._persistUserIfCurrent(it.user),await tt._setRedirectUser(null,_)),it}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let et=!1;return this.consumers.forEach(tt=>{this.isEventForConsumer(_,tt)&&(et=!0,this.sendToConsumer(_,tt),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!isRedirectEvent(_)||(this.hasHandledPotentialRedirect=!0,et||(this.queuedRedirectEvent=_,et=!0)),et}sendToConsumer(_,et){var tt;if(_.error&&!isNullRedirectEvent(_)){const nt=((tt=_.error.code)===null||tt===void 0?void 0:tt.split("auth/")[1])||"internal-error";et.onError(_createError(this.auth,nt))}else et.onAuthEvent(_)}isEventForConsumer(_,et){const tt=et.eventId===null||!!_.eventId&&_.eventId===et.eventId;return et.filter.includes(_.type)&&tt}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_))}saveEventToCache(_){this.cachedEventUids.add(eventUid(_)),this.lastProcessedEventTime=Date.now()}}function eventUid($){return[$.type,$.eventId,$.sessionId,$.tenantId].filter(_=>_).join("-")}function isNullRedirectEvent({type:$,error:_}){return $==="unknown"&&(_==null?void 0:_.code)==="auth/no-auth-event"}function isRedirectEvent($){switch($.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent($);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig($,_={}){return _performApiRequest($,"GET","/v1/projects",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin($){if($.config.emulator)return;const{authorizedDomains:_}=await _getProjectConfig($);for(const et of _)try{if(matchDomain(et))return}catch{}_fail($,"unauthorized-domain")}function matchDomain($){const _=_getCurrentUrl(),{protocol:et,hostname:tt}=new URL(_);if($.startsWith("chrome-extension://")){const it=new URL($);return it.hostname===""&&tt===""?et==="chrome-extension:"&&$.replace("chrome-extension://","")===_.replace("chrome-extension://",""):et==="chrome-extension:"&&it.hostname===tt}if(!HTTP_REGEX.test(et))return!1;if(IP_ADDRESS_REGEX.test($))return tt===$;const nt=$.replace(/\./g,"\\.");return new RegExp("^(.+\\."+nt+"|"+nt+")$","i").test(tt)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const $=_window().___jsl;if($!=null&&$.H){for(const _ of Object.keys($.H))if($.H[_].r=$.H[_].r||[],$.H[_].L=$.H[_].L||[],$.H[_].r=[...$.H[_].L],$.CP)for(let et=0;et<$.CP.length;et++)$.CP[et]=null}}function loadGapi($){return new Promise((_,et)=>{var tt,nt,rt;function it(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),et(_createError($,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((nt=(tt=_window().gapi)===null||tt===void 0?void 0:tt.iframes)===null||nt===void 0)&&nt.Iframe)_(gapi.iframes.getContext());else if(!((rt=_window().gapi)===null||rt===void 0)&&rt.load)it();else{const st=_generateCallbackName("iframefcb");return _window()[st]=()=>{gapi.load?it():et(_createError($,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${st}`).catch(ot=>et(ot))}}).catch(_=>{throw cachedGApiLoader=null,_})}let cachedGApiLoader=null;function _loadGapi($){return cachedGApiLoader=cachedGApiLoader||loadGapi($),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl($){const _=$.config;_assert(_.authDomain,$,"auth-domain-config-required");const et=_.emulator?_emulatorUrl(_,EMULATED_IFRAME_PATH):`https://${$.config.authDomain}/${IFRAME_PATH}`,tt={apiKey:_.apiKey,appName:$.name,v:SDK_VERSION},nt=EID_FROM_APIHOST.get($.config.apiHost);nt&&(tt.eid=nt);const rt=$._getFrameworks();return rt.length&&(tt.fw=rt.join(",")),`${et}?${querystring(tt).slice(1)}`}async function _openIframe($){const _=await _loadGapi($),et=_window().gapi;return _assert(et,$,"internal-error"),_.open({where:document.body,url:getIframeUrl($),messageHandlersFilter:et.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},tt=>new Promise(async(nt,rt)=>{await tt.restyle({setHideOnLeave:!1});const it=_createError($,"network-request-failed"),st=_window().setTimeout(()=>{rt(it)},PING_TIMEOUT.get());function ot(){_window().clearTimeout(st),nt(tt)}tt.ping(ot).then(ot,()=>{rt(it)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open($,_,et,tt=DEFAULT_WIDTH,nt=DEFAULT_HEIGHT){const rt=Math.max((window.screen.availHeight-nt)/2,0).toString(),it=Math.max((window.screen.availWidth-tt)/2,0).toString();let st="";const ot=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:tt.toString(),height:nt.toString(),top:rt,left:it}),at=getUA().toLowerCase();et&&(st=_isChromeIOS(at)?TARGET_BLANK:et),_isFirefox(at)&&(_=_||FIREFOX_EMPTY_URL,ot.scrollbars="yes");const lt=Object.entries(ot).reduce((dt,[_t,pt])=>`${dt}${_t}=${pt},`,"");if(_isIOSStandalone(at)&&st!=="_self")return openAsNewWindowIOS(_||"",st),new AuthPopup(null);const ct=window.open(_||"",st,lt);_assert(ct,$,"popup-blocked");try{ct.focus()}catch{}return new AuthPopup(ct)}function openAsNewWindowIOS($,_){const et=document.createElement("a");et.href=$,et.target=_;const tt=document.createEvent("MouseEvent");tt.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),et.dispatchEvent(tt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl($,_,et,tt,nt,rt){_assert($.config.authDomain,$,"auth-domain-config-required"),_assert($.config.apiKey,$,"invalid-api-key");const it={apiKey:$.config.apiKey,appName:$.name,authType:et,redirectUrl:tt,v:SDK_VERSION,eventId:nt};if(_ instanceof FederatedAuthProvider){_.setDefaultLanguage($.languageCode),it.providerId=_.providerId||"",isEmpty$1(_.getCustomParameters())||(it.customParameters=JSON.stringify(_.getCustomParameters()));for(const[lt,ct]of Object.entries(rt||{}))it[lt]=ct}if(_ instanceof BaseOAuthProvider){const lt=_.getScopes().filter(ct=>ct!=="");lt.length>0&&(it.scopes=lt.join(","))}$.tenantId&&(it.tid=$.tenantId);const st=it;for(const lt of Object.keys(st))st[lt]===void 0&&delete st[lt];const ot=await $._getAppCheckToken(),at=ot?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(ot)}`:"";return`${getHandlerBase($)}?${querystring(st).slice(1)}${at}`}function getHandlerBase({config:$}){return $.emulator?_emulatorUrl($,EMULATOR_WIDGET_PATH):`https://${$.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_,et,tt,nt){var rt;debugAssert((rt=this.eventManagers[_._key()])===null||rt===void 0?void 0:rt.manager,"_initialize() not called before _openPopup()");const it=await _getRedirectUrl(_,et,tt,_getCurrentUrl(),nt);return _open(_,it,_generateEventId())}async _openRedirect(_,et,tt,nt){await this._originValidation(_);const rt=await _getRedirectUrl(_,et,tt,_getCurrentUrl(),nt);return _setWindowLocation(rt),new Promise(()=>{})}_initialize(_){const et=_._key();if(this.eventManagers[et]){const{manager:nt,promise:rt}=this.eventManagers[et];return nt?Promise.resolve(nt):(debugAssert(rt,"If manager is not set, promise should be"),rt)}const tt=this.initAndGetManager(_);return this.eventManagers[et]={promise:tt},tt.catch(()=>{delete this.eventManagers[et]}),tt}async initAndGetManager(_){const et=await _openIframe(_),tt=new AuthEventManager(_);return et.register("authEvent",nt=>(_assert(nt==null?void 0:nt.authEvent,_,"invalid-auth-event"),{status:tt.onEvent(nt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_._key()]={manager:tt},this.iframes[_._key()]=et,tt}_isIframeWebStorageSupported(_,et){this.iframes[_._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},nt=>{var rt;const it=(rt=nt==null?void 0:nt[0])===null||rt===void 0?void 0:rt[WEB_STORAGE_SUPPORT_KEY];it!==void 0&&et(!!it),_fail(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const et=_._key();return this.originValidationPromises[et]||(this.originValidationPromises[et]=_validateOrigin(_)),this.originValidationPromises[et]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),((_=this.auth.currentUser)===null||_===void 0?void 0:_.uid)||null}async getToken(_){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(_)}:null}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const et=this.auth.onIdTokenChanged(tt=>{_((tt==null?void 0:tt.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,et),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const et=this.internalListeners.get(_);et&&(this.internalListeners.delete(_),et(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform($){switch($){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth($){_registerComponent(new Component("auth",(_,{options:et})=>{const tt=_.getProvider("app").getImmediate(),nt=_.getProvider("heartbeat"),rt=_.getProvider("app-check-internal"),{apiKey:it,authDomain:st}=tt.options;_assert(it&&!it.includes(":"),"invalid-api-key",{appName:tt.name});const ot={apiKey:it,authDomain:st,clientPlatform:$,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion($)},at=new AuthImpl(tt,nt,rt,ot);return _initializeAuthInstance(at,et),at},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,et,tt)=>{_.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",_=>{const et=_castAuth(_.getProvider("auth").getImmediate());return(tt=>new AuthInterop(tt))(et)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform($)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=$=>async _=>{const et=_&&await _.getIdTokenResult(),tt=et&&(new Date().getTime()-Date.parse(et.issuedAtTime))/1e3;if(tt&&tt>authIdTokenMaxAge)return;const nt=et==null?void 0:et.token;lastPostedIdToken!==nt&&(lastPostedIdToken=nt,await fetch($,{method:nt?"POST":"DELETE",headers:nt?{Authorization:`Bearer ${nt}`}:{}}))};function getAuth($=getApp()){const _=_getProvider($,"auth");if(_.isInitialized())return _.getImmediate();const et=initializeAuth($,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),tt=getExperimentalSetting("authTokenSyncURL");if(tt&&typeof isSecureContext=="boolean"&&isSecureContext){const rt=new URL(tt,location.origin);if(location.origin===rt.origin){const it=mintCookieFactory(rt.toString());beforeAuthStateChanged(et,it,()=>it(et.currentUser)),onIdTokenChanged(et,st=>it(st))}}const nt=getDefaultEmulatorHost("auth");return nt&&connectAuthEmulator(et,`http://${nt}`),et}function getScriptParentElement(){var $,_;return(_=($=document.getElementsByTagName("head"))===null||$===void 0?void 0:$[0])!==null&&_!==void 0?_:document}_setExternalJSProvider({loadJS($){return new Promise((_,et)=>{const tt=document.createElement("script");tt.setAttribute("src",$),tt.onload=_,tt.onerror=nt=>{const rt=_createError("internal-error");rt.customData=nt,et(rt)},tt.type="text/javascript",tt.charset="UTF-8",getScriptParentElement().appendChild(tt)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");const firebaseConfig={apiKey:"AIzaSyB9OrICZ2v1jcamMtKBFuPDAJVLd6ysDIs",authDomain:"indeed-clone-3f168.firebaseapp.com",projectId:"indeed-clone-3f168",storageBucket:"indeed-clone-3f168.appspot.com",messagingSenderId:"485710660412",appId:"1:485710660412:web:3eda9d882a5a3a75d15439"},app=initializeApp(firebaseConfig),auth=getAuth(app),AuthContext=reactExports.createContext(),googleProvider=new GoogleAuthProvider,AuthProvider=({children:$})=>{const[_,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(!0),rt=(lt,ct)=>(nt(!0),createUserWithEmailAndPassword(auth,lt,ct)),it=()=>(nt(!0),signInWithPopup(auth,googleProvider)),st=(lt,ct)=>(nt(!0),signInWithEmailAndPassword(auth,lt,ct)),ot=()=>(localStorage.removeItem("genius-token"),signOut(auth));reactExports.useEffect(()=>{const lt=onAuthStateChanged(auth,ct=>{et(ct),nt(!1)});return()=>lt()},[]);const at={user:_,loading:tt,createUser:rt,login:st,logOut:ot,signUpWithGmail:it};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:at,children:$})},Navbar=()=>{const[$,_]=reactExports.useState(!1),et=localStorage.getItem("token"),tt=JSON.parse(localStorage.getItem("user")),nt=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()},rt=()=>{_(!$)},it=[{path:"/",title:"Start a search"},{path:"/post-job",title:"Post A Job"},{path:"/applied-candidates",title:"Applied Candidates"}],st=[{path:"/",title:"Start a search"},{path:"/my-job",title:"Applied Jobs"}],ot=useNavigate();return console.log(tt),jsxRuntimeExports.jsxs("header",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsxs("nav",{className:"flex justify-between items-center py-6",children:[jsxRuntimeExports.jsx("a",{href:"/",className:"flex items-center gap-2 text-2xl",children:jsxRuntimeExports.jsx("img",{className:"",style:{height:"51px",width:"141px"},src:"public/images/logo.png"})}),jsxRuntimeExports.jsx("ul",{className:"hidden md:flex gap-12",children:(tt==null?void 0:tt.role)==="company"?it.map(({path:at,title:lt})=>jsxRuntimeExports.jsx("li",{className:"text-base text-primary",children:jsxRuntimeExports.jsx(NavLink,{to:at,className:({isActive:ct})=>ct?"active":"",children:lt})},at)):st.map(({path:at,title:lt})=>jsxRuntimeExports.jsx("li",{className:"text-base text-primary",children:jsxRuntimeExports.jsx(NavLink,{to:at,className:({isActive:ct})=>ct?"active":"",children:lt})},at))}),jsxRuntimeExports.jsx("div",{className:"text-base text-primary font-medium space-x-5 hidden lg:block",children:et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("div",{class:"flex -space-x-2 overflow-hidden",children:tt!=null&&tt.image?jsxRuntimeExports.jsx("img",{onClick:()=>ot("/profile"),className:"inline-block h-10 w-10 rounded-full ring-2 ring-white",src:tt==null?void 0:tt.image,alt:""}):jsxRuntimeExports.jsx("img",{className:"inline-block h-10 w-10 rounded-full ring-2 ring-white",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"py-2 px-5 border rounded hover:bg-blue hover:text-white",children:"Log out"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"py-2 px-5 border rounded",children:"Log in"}),jsxRuntimeExports.jsx(Link,{to:"/sign-up",className:"bg-blue py-2 px-5 text-white rounded",children:"Sign up"})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden block",children:jsxRuntimeExports.jsx("button",{onClick:rt,children:$?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(FaXmark,{className:"w-5 h-5 text-primary/75"})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(FaBarsStaggered,{className:"w-5 h-5 text-primary/75"})})})})]}),jsxRuntimeExports.jsx("div",{className:`px-4 bg-black py-5 rounded-sm ${$?"":"hidden"}`,children:jsxRuntimeExports.jsxs("ul",{children:[it.map(({path:at,title:lt})=>jsxRuntimeExports.jsx("li",{className:"text-base text-white first:text-white py-1",children:jsxRuntimeExports.jsx(NavLink,{onClick:rt,to:at,className:({isActive:ct})=>ct?"active":"",children:lt})},at)),jsxRuntimeExports.jsx("li",{className:"text-white py-1",children:jsxRuntimeExports.jsx(Link,{to:"login",children:"Log in"})})]})})]})};function App(){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(Outlet,{})]})}const index$3="";function FiCalendar($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})($)}function FiClock($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})($)}function FiDollarSign($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})($)}function FiMapPin($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})($)}function FiSearch($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})($)}const Banner=({handleInputChange:$,query:_,query2:et,handleInputChange2:tt})=>{const nt=JSON.parse(localStorage.getItem("user"));return jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 md:py-20 py-14 px-4",children:[nt.role==="candidate"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl font-bold text-primary mb-3",children:["Find your ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"new job"})," today"]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-black/70 mb-8",children:"Thousands of jobs in the computer, engineering and technology sectors are waiting for you."})]}),nt.role==="candidate"?jsxRuntimeExports.jsx("form",{className:"",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-start md:flex-row flex-col md:gap-0 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex md:rounded-s-md rounded shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 md:w-1/2 w-full",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"username",id:"username",className:"block flex-1 border-0 bg-transparent py-1.5 pl-8 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"What position are you looking for ?",onChange:$,value:_}),jsxRuntimeExports.jsx(FiSearch,{className:"absolute mt-2.5 ml-2 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"flex md:rounded-none rounded ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"username",id:"username",className:"block flex-1 border-0 bg-transparent py-1.5 pl-8 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Location",onChange:tt,value:et}),jsxRuntimeExports.jsx(FiMapPin,{className:"absolute mt-2.5 ml-2 text-gray-400"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue py-2 px-8 text-white md:rounded-e-md md:rounded-s-none rounded",children:"Search"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl font-bold text-primary mb-10",children:["Search ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"your jobs"})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsxs("div",{className:"flex md:rounded-s-md rounded shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 w-full",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"username",id:"username",className:"block flex-1 border-0 bg-transparent py-1.5 pl-8 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Search Jobs",onChange:$,value:_}),jsxRuntimeExports.jsx(FiSearch,{className:"absolute mt-2.5 ml-2 text-gray-400"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue py-2 px-8 text-white md:rounded-e-md md:rounded-s-none rounded",children:"Search"})]})]})]})};var picocolors_browser={exports:{}},x$3=String,create=function(){return{isColorSupported:!1,reset:x$3,bold:x$3,dim:x$3,italic:x$3,underline:x$3,inverse:x$3,hidden:x$3,strikethrough:x$3,black:x$3,red:x$3,green:x$3,yellow:x$3,blue:x$3,magenta:x$3,cyan:x$3,white:x$3,gray:x$3,bgBlack:x$3,bgRed:x$3,bgGreen:x$3,bgYellow:x$3,bgBlue:x$3,bgMagenta:x$3,bgCyan:x$3,bgWhite:x$3}};picocolors_browser.exports=create();picocolors_browser.exports.createColors=create;var picocolors_browserExports=picocolors_browser.exports;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);let pico=picocolors_browserExports,terminalHighlight$1=require$$5,CssSyntaxError$3=class Gu extends Error{constructor(_,et,tt,nt,rt,it){super(_),this.name="CssSyntaxError",this.reason=_,rt&&(this.file=rt),nt&&(this.source=nt),it&&(this.plugin=it),typeof et<"u"&&typeof tt<"u"&&(typeof et=="number"?(this.line=et,this.column=tt):(this.line=et.line,this.column=et.column,this.endLine=tt.line,this.endColumn=tt.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Gu)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(_){if(!this.source)return"";let et=this.source;_==null&&(_=pico.isColorSupported),terminalHighlight$1&&_&&(et=terminalHighlight$1(et));let tt=et.split(/\r?\n/),nt=Math.max(this.line-3,0),rt=Math.min(this.line+2,tt.length),it=String(rt).length,st,ot;if(_){let{bold:at,gray:lt,red:ct}=pico.createColors(!0);st=dt=>at(ct(dt)),ot=dt=>lt(dt)}else st=ot=at=>at;return tt.slice(nt,rt).map((at,lt)=>{let ct=nt+1+lt,dt=" "+(" "+ct).slice(-it)+" | ";if(ct===this.line){let _t=ot(dt.replace(/\d/g," "))+at.slice(0,this.column-1).replace(/[^\t]/g," ");return st(">")+ot(dt)+at+`
 `+_t+st("^")}return" "+ot(dt)+at}).join(`
`)}toString(){let _=this.showSourceCode();return _&&(_=`

`+_+`
`),this.name+": "+this.message+_}};var cssSyntaxError=CssSyntaxError$3;CssSyntaxError$3.default=CssSyntaxError$3;var symbols={};symbols.isClean=Symbol("isClean");symbols.my=Symbol("my");const DEFAULT_RAW={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function capitalize($){return $[0].toUpperCase()+$.slice(1)}let Stringifier$2=class{constructor(_){this.builder=_}atrule(_,et){let tt="@"+_.name,nt=_.params?this.rawValue(_,"params"):"";if(typeof _.raws.afterName<"u"?tt+=_.raws.afterName:nt&&(tt+=" "),_.nodes)this.block(_,tt+nt);else{let rt=(_.raws.between||"")+(et?";":"");this.builder(tt+nt+rt,_)}}beforeAfter(_,et){let tt;_.type==="decl"?tt=this.raw(_,null,"beforeDecl"):_.type==="comment"?tt=this.raw(_,null,"beforeComment"):et==="before"?tt=this.raw(_,null,"beforeRule"):tt=this.raw(_,null,"beforeClose");let nt=_.parent,rt=0;for(;nt&&nt.type!=="root";)rt+=1,nt=nt.parent;if(tt.includes(`
`)){let it=this.raw(_,null,"indent");if(it.length)for(let st=0;st<rt;st++)tt+=it}return tt}block(_,et){let tt=this.raw(_,"between","beforeOpen");this.builder(et+tt+"{",_,"start");let nt;_.nodes&&_.nodes.length?(this.body(_),nt=this.raw(_,"after")):nt=this.raw(_,"after","emptyBody"),nt&&this.builder(nt),this.builder("}",_,"end")}body(_){let et=_.nodes.length-1;for(;et>0&&_.nodes[et].type==="comment";)et-=1;let tt=this.raw(_,"semicolon");for(let nt=0;nt<_.nodes.length;nt++){let rt=_.nodes[nt],it=this.raw(rt,"before");it&&this.builder(it),this.stringify(rt,et!==nt||tt)}}comment(_){let et=this.raw(_,"left","commentLeft"),tt=this.raw(_,"right","commentRight");this.builder("/*"+et+_.text+tt+"*/",_)}decl(_,et){let tt=this.raw(_,"between","colon"),nt=_.prop+tt+this.rawValue(_,"value");_.important&&(nt+=_.raws.important||" !important"),et&&(nt+=";"),this.builder(nt,_)}document(_){this.body(_)}raw(_,et,tt){let nt;if(tt||(tt=et),et&&(nt=_.raws[et],typeof nt<"u"))return nt;let rt=_.parent;if(tt==="before"&&(!rt||rt.type==="root"&&rt.first===_||rt&&rt.type==="document"))return"";if(!rt)return DEFAULT_RAW[tt];let it=_.root();if(it.rawCache||(it.rawCache={}),typeof it.rawCache[tt]<"u")return it.rawCache[tt];if(tt==="before"||tt==="after")return this.beforeAfter(_,tt);{let st="raw"+capitalize(tt);this[st]?nt=this[st](it,_):it.walk(ot=>{if(nt=ot.raws[et],typeof nt<"u")return!1})}return typeof nt>"u"&&(nt=DEFAULT_RAW[tt]),it.rawCache[tt]=nt,nt}rawBeforeClose(_){let et;return _.walk(tt=>{if(tt.nodes&&tt.nodes.length>0&&typeof tt.raws.after<"u")return et=tt.raws.after,et.includes(`
`)&&(et=et.replace(/[^\n]+$/,"")),!1}),et&&(et=et.replace(/\S/g,"")),et}rawBeforeComment(_,et){let tt;return _.walkComments(nt=>{if(typeof nt.raws.before<"u")return tt=nt.raws.before,tt.includes(`
`)&&(tt=tt.replace(/[^\n]+$/,"")),!1}),typeof tt>"u"?tt=this.raw(et,null,"beforeDecl"):tt&&(tt=tt.replace(/\S/g,"")),tt}rawBeforeDecl(_,et){let tt;return _.walkDecls(nt=>{if(typeof nt.raws.before<"u")return tt=nt.raws.before,tt.includes(`
`)&&(tt=tt.replace(/[^\n]+$/,"")),!1}),typeof tt>"u"?tt=this.raw(et,null,"beforeRule"):tt&&(tt=tt.replace(/\S/g,"")),tt}rawBeforeOpen(_){let et;return _.walk(tt=>{if(tt.type!=="decl"&&(et=tt.raws.between,typeof et<"u"))return!1}),et}rawBeforeRule(_){let et;return _.walk(tt=>{if(tt.nodes&&(tt.parent!==_||_.first!==tt)&&typeof tt.raws.before<"u")return et=tt.raws.before,et.includes(`
`)&&(et=et.replace(/[^\n]+$/,"")),!1}),et&&(et=et.replace(/\S/g,"")),et}rawColon(_){let et;return _.walkDecls(tt=>{if(typeof tt.raws.between<"u")return et=tt.raws.between.replace(/[^\s:]/g,""),!1}),et}rawEmptyBody(_){let et;return _.walk(tt=>{if(tt.nodes&&tt.nodes.length===0&&(et=tt.raws.after,typeof et<"u"))return!1}),et}rawIndent(_){if(_.raws.indent)return _.raws.indent;let et;return _.walk(tt=>{let nt=tt.parent;if(nt&&nt!==_&&nt.parent&&nt.parent===_&&typeof tt.raws.before<"u"){let rt=tt.raws.before.split(`
`);return et=rt[rt.length-1],et=et.replace(/\S/g,""),!1}}),et}rawSemicolon(_){let et;return _.walk(tt=>{if(tt.nodes&&tt.nodes.length&&tt.last.type==="decl"&&(et=tt.raws.semicolon,typeof et<"u"))return!1}),et}rawValue(_,et){let tt=_[et],nt=_.raws[et];return nt&&nt.value===tt?nt.raw:tt}root(_){this.body(_),_.raws.after&&this.builder(_.raws.after)}rule(_){this.block(_,this.rawValue(_,"selector")),_.raws.ownSemicolon&&this.builder(_.raws.ownSemicolon,_,"end")}stringify(_,et){if(!this[_.type])throw new Error("Unknown AST node type "+_.type+". Maybe you need to change PostCSS stringifier.");this[_.type](_,et)}};var stringifier=Stringifier$2;Stringifier$2.default=Stringifier$2;let Stringifier$1=stringifier;function stringify$5($,_){new Stringifier$1(_).stringify($)}var stringify_1=stringify$5;stringify$5.default=stringify$5;let{isClean:isClean$2,my:my$2}=symbols,CssSyntaxError$2=cssSyntaxError,Stringifier=stringifier,stringify$4=stringify_1;function cloneNode($,_){let et=new $.constructor;for(let tt in $){if(!Object.prototype.hasOwnProperty.call($,tt)||tt==="proxyCache")continue;let nt=$[tt],rt=typeof nt;tt==="parent"&&rt==="object"?_&&(et[tt]=_):tt==="source"?et[tt]=nt:Array.isArray(nt)?et[tt]=nt.map(it=>cloneNode(it,et)):(rt==="object"&&nt!==null&&(nt=cloneNode(nt)),et[tt]=nt)}return et}let Node$5=class{constructor(_={}){this.raws={},this[isClean$2]=!1,this[my$2]=!0;for(let et in _)if(et==="nodes"){this.nodes=[];for(let tt of _[et])typeof tt.clone=="function"?this.append(tt.clone()):this.append(tt)}else this[et]=_[et]}addToError(_){if(_.postcssNode=this,_.stack&&this.source&&/\n\s{4}at /.test(_.stack)){let et=this.source;_.stack=_.stack.replace(/\n\s{4}at /,`$&${et.input.from}:${et.start.line}:${et.start.column}$&`)}return _}after(_){return this.parent.insertAfter(this,_),this}assign(_={}){for(let et in _)this[et]=_[et];return this}before(_){return this.parent.insertBefore(this,_),this}cleanRaws(_){delete this.raws.before,delete this.raws.after,_||delete this.raws.between}clone(_={}){let et=cloneNode(this);for(let tt in _)et[tt]=_[tt];return et}cloneAfter(_={}){let et=this.clone(_);return this.parent.insertAfter(this,et),et}cloneBefore(_={}){let et=this.clone(_);return this.parent.insertBefore(this,et),et}error(_,et={}){if(this.source){let{end:tt,start:nt}=this.rangeBy(et);return this.source.input.error(_,{column:nt.column,line:nt.line},{column:tt.column,line:tt.line},et)}return new CssSyntaxError$2(_)}getProxyProcessor(){return{get(_,et){return et==="proxyOf"?_:et==="root"?()=>_.root().toProxy():_[et]},set(_,et,tt){return _[et]===tt||(_[et]=tt,(et==="prop"||et==="value"||et==="name"||et==="params"||et==="important"||et==="text")&&_.markDirty()),!0}}}markDirty(){if(this[isClean$2]){this[isClean$2]=!1;let _=this;for(;_=_.parent;)_[isClean$2]=!1}}next(){if(!this.parent)return;let _=this.parent.index(this);return this.parent.nodes[_+1]}positionBy(_,et){let tt=this.source.start;if(_.index)tt=this.positionInside(_.index,et);else if(_.word){et=this.toString();let nt=et.indexOf(_.word);nt!==-1&&(tt=this.positionInside(nt,et))}return tt}positionInside(_,et){let tt=et||this.toString(),nt=this.source.start.column,rt=this.source.start.line;for(let it=0;it<_;it++)tt[it]===`
`?(nt=1,rt+=1):nt+=1;return{column:nt,line:rt}}prev(){if(!this.parent)return;let _=this.parent.index(this);return this.parent.nodes[_-1]}rangeBy(_){let et={column:this.source.start.column,line:this.source.start.line},tt=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:et.column+1,line:et.line};if(_.word){let nt=this.toString(),rt=nt.indexOf(_.word);rt!==-1&&(et=this.positionInside(rt,nt),tt=this.positionInside(rt+_.word.length,nt))}else _.start?et={column:_.start.column,line:_.start.line}:_.index&&(et=this.positionInside(_.index)),_.end?tt={column:_.end.column,line:_.end.line}:_.endIndex?tt=this.positionInside(_.endIndex):_.index&&(tt=this.positionInside(_.index+1));return(tt.line<et.line||tt.line===et.line&&tt.column<=et.column)&&(tt={column:et.column+1,line:et.line}),{end:tt,start:et}}raw(_,et){return new Stringifier().raw(this,_,et)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(..._){if(this.parent){let et=this,tt=!1;for(let nt of _)nt===this?tt=!0:tt?(this.parent.insertAfter(et,nt),et=nt):this.parent.insertBefore(et,nt);tt||this.remove()}return this}root(){let _=this;for(;_.parent&&_.parent.type!=="document";)_=_.parent;return _}toJSON(_,et){let tt={},nt=et==null;et=et||new Map;let rt=0;for(let it in this){if(!Object.prototype.hasOwnProperty.call(this,it)||it==="parent"||it==="proxyCache")continue;let st=this[it];if(Array.isArray(st))tt[it]=st.map(ot=>typeof ot=="object"&&ot.toJSON?ot.toJSON(null,et):ot);else if(typeof st=="object"&&st.toJSON)tt[it]=st.toJSON(null,et);else if(it==="source"){let ot=et.get(st.input);ot==null&&(ot=rt,et.set(st.input,rt),rt++),tt[it]={end:st.end,inputId:ot,start:st.start}}else tt[it]=st}return nt&&(tt.inputs=[...et.keys()].map(it=>it.toJSON())),tt}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(_=stringify$4){_.stringify&&(_=_.stringify);let et="";return _(this,tt=>{et+=tt}),et}warn(_,et,tt){let nt={node:this};for(let rt in tt)nt[rt]=tt[rt];return _.warn(et,nt)}get proxyOf(){return this}};var node$1=Node$5;Node$5.default=Node$5;let Node$4=node$1,Declaration$4=class extends Node$4{constructor(_){_&&typeof _.value<"u"&&typeof _.value!="string"&&(_={..._,value:String(_.value)}),super(_),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var declaration$1=Declaration$4;Declaration$4.default=Declaration$4;let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",customAlphabet=($,_=21)=>(et=_)=>{let tt="",nt=et;for(;nt--;)tt+=$[Math.random()*$.length|0];return tt},nanoid$1=($=21)=>{let _="",et=$;for(;et--;)_+=urlAlphabet[Math.random()*64|0];return _};var nonSecure={nanoid:nanoid$1,customAlphabet};let{SourceMapConsumer:SourceMapConsumer$2,SourceMapGenerator:SourceMapGenerator$2}=require$$5,{existsSync,readFileSync}=require$$5,{dirname:dirname$1,join}=require$$5;function fromBase64($){return Buffer?Buffer.from($,"base64").toString():window.atob($)}let PreviousMap$2=class{constructor(_,et){if(et.map===!1)return;this.loadAnnotation(_),this.inline=this.startWith(this.annotation,"data:");let tt=et.map?et.map.prev:void 0,nt=this.loadMap(et.from,tt);!this.mapFile&&et.from&&(this.mapFile=et.from),this.mapFile&&(this.root=dirname$1(this.mapFile)),nt&&(this.text=nt)}consumer(){return this.consumerCache||(this.consumerCache=new SourceMapConsumer$2(this.text)),this.consumerCache}decodeInline(_){let et=/^data:application\/json;charset=utf-?8;base64,/,tt=/^data:application\/json;base64,/,nt=/^data:application\/json;charset=utf-?8,/,rt=/^data:application\/json,/;if(nt.test(_)||rt.test(_))return decodeURIComponent(_.substr(RegExp.lastMatch.length));if(et.test(_)||tt.test(_))return fromBase64(_.substr(RegExp.lastMatch.length));let it=_.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+it)}getAnnotationURL(_){return _.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(_){return typeof _!="object"?!1:typeof _.mappings=="string"||typeof _._mappings=="string"||Array.isArray(_.sections)}loadAnnotation(_){let et=_.match(/\/\*\s*# sourceMappingURL=/gm);if(!et)return;let tt=_.lastIndexOf(et.pop()),nt=_.indexOf("*/",tt);tt>-1&&nt>-1&&(this.annotation=this.getAnnotationURL(_.substring(tt,nt)))}loadFile(_){if(this.root=dirname$1(_),existsSync(_))return this.mapFile=_,readFileSync(_,"utf-8").toString().trim()}loadMap(_,et){if(et===!1)return!1;if(et){if(typeof et=="string")return et;if(typeof et=="function"){let tt=et(_);if(tt){let nt=this.loadFile(tt);if(!nt)throw new Error("Unable to load previous source map: "+tt.toString());return nt}}else{if(et instanceof SourceMapConsumer$2)return SourceMapGenerator$2.fromSourceMap(et).toString();if(et instanceof SourceMapGenerator$2)return et.toString();if(this.isMap(et))return JSON.stringify(et);throw new Error("Unsupported previous source map format: "+et.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let tt=this.annotation;return _&&(tt=join(dirname$1(_),tt)),this.loadFile(tt)}}}startWith(_,et){return _?_.substr(0,et.length)===et:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var previousMap=PreviousMap$2;PreviousMap$2.default=PreviousMap$2;let{SourceMapConsumer:SourceMapConsumer$1,SourceMapGenerator:SourceMapGenerator$1}=require$$5,{fileURLToPath,pathToFileURL:pathToFileURL$1}=require$$5,{isAbsolute,resolve:resolve$1}=require$$5,{nanoid}=nonSecure,terminalHighlight=require$$5,CssSyntaxError$1=cssSyntaxError,PreviousMap$1=previousMap,fromOffsetCache=Symbol("fromOffsetCache"),sourceMapAvailable$1=!!(SourceMapConsumer$1&&SourceMapGenerator$1),pathAvailable$1=!!(resolve$1&&isAbsolute),Input$6=class{constructor(_,et={}){if(_===null||typeof _>"u"||typeof _=="object"&&!_.toString)throw new Error(`PostCSS received ${_} instead of CSS string`);if(this.css=_.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,et.from&&(!pathAvailable$1||/^\w+:\/\//.test(et.from)||isAbsolute(et.from)?this.file=et.from:this.file=resolve$1(et.from)),pathAvailable$1&&sourceMapAvailable$1){let tt=new PreviousMap$1(this.css,et);if(tt.text){this.map=tt;let nt=tt.consumer().file;!this.file&&nt&&(this.file=this.mapResolve(nt))}}this.file||(this.id="<input css "+nanoid(6)+">"),this.map&&(this.map.file=this.from)}error(_,et,tt,nt={}){let rt,it,st;if(et&&typeof et=="object"){let at=et,lt=tt;if(typeof at.offset=="number"){let ct=this.fromOffset(at.offset);et=ct.line,tt=ct.col}else et=at.line,tt=at.column;if(typeof lt.offset=="number"){let ct=this.fromOffset(lt.offset);it=ct.line,st=ct.col}else it=lt.line,st=lt.column}else if(!tt){let at=this.fromOffset(et);et=at.line,tt=at.col}let ot=this.origin(et,tt,it,st);return ot?rt=new CssSyntaxError$1(_,ot.endLine===void 0?ot.line:{column:ot.column,line:ot.line},ot.endLine===void 0?ot.column:{column:ot.endColumn,line:ot.endLine},ot.source,ot.file,nt.plugin):rt=new CssSyntaxError$1(_,it===void 0?et:{column:tt,line:et},it===void 0?tt:{column:st,line:it},this.css,this.file,nt.plugin),rt.input={column:tt,endColumn:st,endLine:it,line:et,source:this.css},this.file&&(pathToFileURL$1&&(rt.input.url=pathToFileURL$1(this.file).toString()),rt.input.file=this.file),rt}fromOffset(_){let et,tt;if(this[fromOffsetCache])tt=this[fromOffsetCache];else{let rt=this.css.split(`
`);tt=new Array(rt.length);let it=0;for(let st=0,ot=rt.length;st<ot;st++)tt[st]=it,it+=rt[st].length+1;this[fromOffsetCache]=tt}et=tt[tt.length-1];let nt=0;if(_>=et)nt=tt.length-1;else{let rt=tt.length-2,it;for(;nt<rt;)if(it=nt+(rt-nt>>1),_<tt[it])rt=it-1;else if(_>=tt[it+1])nt=it+1;else{nt=it;break}}return{col:_-tt[nt]+1,line:nt+1}}mapResolve(_){return/^\w+:\/\//.test(_)?_:resolve$1(this.map.consumer().sourceRoot||this.map.root||".",_)}origin(_,et,tt,nt){if(!this.map)return!1;let rt=this.map.consumer(),it=rt.originalPositionFor({column:et,line:_});if(!it.source)return!1;let st;typeof tt=="number"&&(st=rt.originalPositionFor({column:nt,line:tt}));let ot;isAbsolute(it.source)?ot=pathToFileURL$1(it.source):ot=new URL(it.source,this.map.consumer().sourceRoot||pathToFileURL$1(this.map.mapFile));let at={column:it.column,endColumn:st&&st.column,endLine:st&&st.line,line:it.line,url:ot.toString()};if(ot.protocol==="file:")if(fileURLToPath)at.file=fileURLToPath(ot);else throw new Error("file: protocol is not available in this PostCSS build");let lt=rt.sourceContentFor(it.source);return lt&&(at.source=lt),at}toJSON(){let _={};for(let et of["hasBOM","css","file","id"])this[et]!=null&&(_[et]=this[et]);return this.map&&(_.map={...this.map},_.map.consumerCache&&(_.map.consumerCache=void 0)),_}get from(){return this.file||this.id}};var input=Input$6;Input$6.default=Input$6;terminalHighlight&&terminalHighlight.registerInput&&terminalHighlight.registerInput(Input$6);let{SourceMapConsumer,SourceMapGenerator}=require$$5,{dirname,relative,resolve,sep}=require$$5,{pathToFileURL}=require$$5,Input$5=input,sourceMapAvailable=!!(SourceMapConsumer&&SourceMapGenerator),pathAvailable=!!(dirname&&resolve&&relative&&sep),MapGenerator$2=class{constructor(_,et,tt,nt){this.stringify=_,this.mapOpts=tt.map||{},this.root=et,this.opts=tt,this.css=nt,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let _;this.isInline()?_="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?_=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?_=this.mapOpts.annotation(this.opts.to,this.root):_=this.outputFile()+".map";let et=`
`;this.css.includes(`\r
`)&&(et=`\r
`),this.css+=et+"/*# sourceMappingURL="+_+" */"}applyPrevMaps(){for(let _ of this.previous()){let et=this.toUrl(this.path(_.file)),tt=_.root||dirname(_.file),nt;this.mapOpts.sourcesContent===!1?(nt=new SourceMapConsumer(_.text),nt.sourcesContent&&(nt.sourcesContent=nt.sourcesContent.map(()=>null))):nt=_.consumer(),this.map.applySourceMap(nt,et,this.toUrl(this.path(tt)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let _;for(let et=this.root.nodes.length-1;et>=0;et--)_=this.root.nodes[et],_.type==="comment"&&_.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(et)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),pathAvailable&&sourceMapAvailable&&this.isMap())return this.generateMap();{let _="";return this.stringify(this.root,et=>{_+=et}),[_]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let _=this.previous()[0].consumer();_.file=this.outputFile(),this.map=SourceMapGenerator.fromSourceMap(_)}else this.map=new SourceMapGenerator({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new SourceMapGenerator({file:this.outputFile()});let _=1,et=1,tt="<no source>",nt={generated:{column:0,line:0},original:{column:0,line:0},source:""},rt,it;this.stringify(this.root,(st,ot,at)=>{if(this.css+=st,ot&&at!=="end"&&(nt.generated.line=_,nt.generated.column=et-1,ot.source&&ot.source.start?(nt.source=this.sourcePath(ot),nt.original.line=ot.source.start.line,nt.original.column=ot.source.start.column-1,this.map.addMapping(nt)):(nt.source=tt,nt.original.line=1,nt.original.column=0,this.map.addMapping(nt))),rt=st.match(/\n/g),rt?(_+=rt.length,it=st.lastIndexOf(`
`),et=st.length-it):et+=st.length,ot&&at!=="start"){let lt=ot.parent||{raws:{}};(!(ot.type==="decl"||ot.type==="atrule"&&!ot.nodes)||ot!==lt.last||lt.raws.semicolon)&&(ot.source&&ot.source.end?(nt.source=this.sourcePath(ot),nt.original.line=ot.source.end.line,nt.original.column=ot.source.end.column-1,nt.generated.line=_,nt.generated.column=et-2,this.map.addMapping(nt)):(nt.source=tt,nt.original.line=1,nt.original.column=0,nt.generated.line=_,nt.generated.column=et-1,this.map.addMapping(nt)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(_=>_.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let _=this.mapOpts.annotation;return typeof _<"u"&&_!==!0?!1:this.previous().length?this.previous().some(et=>et.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(_=>_.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(_){if(this.mapOpts.absolute||_.charCodeAt(0)===60||/^\w+:\/\//.test(_))return _;let et=this.memoizedPaths.get(_);if(et)return et;let tt=this.opts.to?dirname(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(tt=dirname(resolve(tt,this.mapOpts.annotation)));let nt=relative(tt,_);return this.memoizedPaths.set(_,nt),nt}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(_=>{if(_.source&&_.source.input.map){let et=_.source.input.map;this.previousMaps.includes(et)||this.previousMaps.push(et)}});else{let _=new Input$5(this.css,this.opts);_.map&&this.previousMaps.push(_.map)}return this.previousMaps}setSourcesContent(){let _={};if(this.root)this.root.walk(et=>{if(et.source){let tt=et.source.input.from;if(tt&&!_[tt]){_[tt]=!0;let nt=this.usesFileUrls?this.toFileUrl(tt):this.toUrl(this.path(tt));this.map.setSourceContent(nt,et.source.input.css)}}});else if(this.css){let et=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(et,this.css)}}sourcePath(_){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(_.source.input.from):this.toUrl(this.path(_.source.input.from))}toBase64(_){return Buffer?Buffer.from(_).toString("base64"):window.btoa(unescape(encodeURIComponent(_)))}toFileUrl(_){let et=this.memoizedFileURLs.get(_);if(et)return et;if(pathToFileURL){let tt=pathToFileURL(_).toString();return this.memoizedFileURLs.set(_,tt),tt}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(_){let et=this.memoizedURLs.get(_);if(et)return et;sep==="\\"&&(_=_.replace(/\\/g,"/"));let tt=encodeURI(_).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(_,tt),tt}};var mapGenerator=MapGenerator$2;let Node$3=node$1,Comment$4=class extends Node$3{constructor(_){super(_),this.type="comment"}};var comment$1=Comment$4;Comment$4.default=Comment$4;let{isClean:isClean$1,my:my$1}=symbols,Declaration$3=declaration$1,Comment$3=comment$1,Node$2=node$1,parse$5,Rule$4,AtRule$4,Root$6;function cleanSource($){return $.map(_=>(_.nodes&&(_.nodes=cleanSource(_.nodes)),delete _.source,_))}function markDirtyUp($){if($[isClean$1]=!1,$.proxyOf.nodes)for(let _ of $.proxyOf.nodes)markDirtyUp(_)}let Container$7=class Yu extends Node$2{append(..._){for(let et of _){let tt=this.normalize(et,this.last);for(let nt of tt)this.proxyOf.nodes.push(nt)}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let et of this.nodes)et.cleanRaws(_)}each(_){if(!this.proxyOf.nodes)return;let et=this.getIterator(),tt,nt;for(;this.indexes[et]<this.proxyOf.nodes.length&&(tt=this.indexes[et],nt=_(this.proxyOf.nodes[tt],tt),nt!==!1);)this.indexes[et]+=1;return delete this.indexes[et],nt}every(_){return this.nodes.every(_)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}getProxyProcessor(){return{get(_,et){return et==="proxyOf"?_:_[et]?et==="each"||typeof et=="string"&&et.startsWith("walk")?(...tt)=>_[et](...tt.map(nt=>typeof nt=="function"?(rt,it)=>nt(rt.toProxy(),it):nt)):et==="every"||et==="some"?tt=>_[et]((nt,...rt)=>tt(nt.toProxy(),...rt)):et==="root"?()=>_.root().toProxy():et==="nodes"?_.nodes.map(tt=>tt.toProxy()):et==="first"||et==="last"?_[et].toProxy():_[et]:_[et]},set(_,et,tt){return _[et]===tt||(_[et]=tt,(et==="name"||et==="params"||et==="selector")&&_.markDirty()),!0}}}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}insertAfter(_,et){let tt=this.index(_),nt=this.normalize(et,this.proxyOf.nodes[tt]).reverse();tt=this.index(_);for(let it of nt)this.proxyOf.nodes.splice(tt+1,0,it);let rt;for(let it in this.indexes)rt=this.indexes[it],tt<rt&&(this.indexes[it]=rt+nt.length);return this.markDirty(),this}insertBefore(_,et){let tt=this.index(_),nt=tt===0?"prepend":!1,rt=this.normalize(et,this.proxyOf.nodes[tt],nt).reverse();tt=this.index(_);for(let st of rt)this.proxyOf.nodes.splice(tt,0,st);let it;for(let st in this.indexes)it=this.indexes[st],tt<=it&&(this.indexes[st]=it+rt.length);return this.markDirty(),this}normalize(_,et){if(typeof _=="string")_=cleanSource(parse$5(_).nodes);else if(Array.isArray(_)){_=_.slice(0);for(let nt of _)nt.parent&&nt.parent.removeChild(nt,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let nt of _)nt.parent&&nt.parent.removeChild(nt,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value>"u")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new Declaration$3(_)]}else if(_.selector)_=[new Rule$4(_)];else if(_.name)_=[new AtRule$4(_)];else if(_.text)_=[new Comment$3(_)];else throw new Error("Unknown node type in node creation");return _.map(nt=>(nt[my$1]||Yu.rebuild(nt),nt=nt.proxyOf,nt.parent&&nt.parent.removeChild(nt),nt[isClean$1]&&markDirtyUp(nt),typeof nt.raws.before>"u"&&et&&typeof et.raws.before<"u"&&(nt.raws.before=et.raws.before.replace(/\S/g,"")),nt.parent=this.proxyOf,nt))}prepend(..._){_=_.reverse();for(let et of _){let tt=this.normalize(et,this.first,"prepend").reverse();for(let nt of tt)this.proxyOf.nodes.unshift(nt);for(let nt in this.indexes)this.indexes[nt]=this.indexes[nt]+tt.length}return this.markDirty(),this}push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let et;for(let tt in this.indexes)et=this.indexes[tt],et>=_&&(this.indexes[tt]=et-1);return this.markDirty(),this}replaceValues(_,et,tt){return tt||(tt=et,et={}),this.walkDecls(nt=>{et.props&&!et.props.includes(nt.prop)||et.fast&&!nt.value.includes(et.fast)||(nt.value=nt.value.replace(_,tt))}),this.markDirty(),this}some(_){return this.nodes.some(_)}walk(_){return this.each((et,tt)=>{let nt;try{nt=_(et,tt)}catch(rt){throw et.addToError(rt)}return nt!==!1&&et.walk&&(nt=et.walk(_)),nt})}walkAtRules(_,et){return et?_ instanceof RegExp?this.walk((tt,nt)=>{if(tt.type==="atrule"&&_.test(tt.name))return et(tt,nt)}):this.walk((tt,nt)=>{if(tt.type==="atrule"&&tt.name===_)return et(tt,nt)}):(et=_,this.walk((tt,nt)=>{if(tt.type==="atrule")return et(tt,nt)}))}walkComments(_){return this.walk((et,tt)=>{if(et.type==="comment")return _(et,tt)})}walkDecls(_,et){return et?_ instanceof RegExp?this.walk((tt,nt)=>{if(tt.type==="decl"&&_.test(tt.prop))return et(tt,nt)}):this.walk((tt,nt)=>{if(tt.type==="decl"&&tt.prop===_)return et(tt,nt)}):(et=_,this.walk((tt,nt)=>{if(tt.type==="decl")return et(tt,nt)}))}walkRules(_,et){return et?_ instanceof RegExp?this.walk((tt,nt)=>{if(tt.type==="rule"&&_.test(tt.selector))return et(tt,nt)}):this.walk((tt,nt)=>{if(tt.type==="rule"&&tt.selector===_)return et(tt,nt)}):(et=_,this.walk((tt,nt)=>{if(tt.type==="rule")return et(tt,nt)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Container$7.registerParse=$=>{parse$5=$};Container$7.registerRule=$=>{Rule$4=$};Container$7.registerAtRule=$=>{AtRule$4=$};Container$7.registerRoot=$=>{Root$6=$};var container=Container$7;Container$7.default=Container$7;Container$7.rebuild=$=>{$.type==="atrule"?Object.setPrototypeOf($,AtRule$4.prototype):$.type==="rule"?Object.setPrototypeOf($,Rule$4.prototype):$.type==="decl"?Object.setPrototypeOf($,Declaration$3.prototype):$.type==="comment"?Object.setPrototypeOf($,Comment$3.prototype):$.type==="root"&&Object.setPrototypeOf($,Root$6.prototype),$[my$1]=!0,$.nodes&&$.nodes.forEach(_=>{Container$7.rebuild(_)})};let Container$6=container,LazyResult$4,Processor$3,Document$3=class extends Container$6{constructor(_){super({type:"document",..._}),this.nodes||(this.nodes=[])}toResult(_={}){return new LazyResult$4(new Processor$3,this,_).stringify()}};Document$3.registerLazyResult=$=>{LazyResult$4=$};Document$3.registerProcessor=$=>{Processor$3=$};var document$1=Document$3;Document$3.default=Document$3;let Warning$2=class{constructor(_,et={}){if(this.type="warning",this.text=_,et.node&&et.node.source){let tt=et.node.rangeBy(et);this.line=tt.start.line,this.column=tt.start.column,this.endLine=tt.end.line,this.endColumn=tt.end.column}for(let tt in et)this[tt]=et[tt]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var warning=Warning$2;Warning$2.default=Warning$2;let Warning$1=warning,Result$3=class{constructor(_,et,tt){this.processor=_,this.messages=[],this.root=et,this.opts=tt,this.css=void 0,this.map=void 0}toString(){return this.css}warn(_,et={}){et.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(et.plugin=this.lastPlugin.postcssPlugin);let tt=new Warning$1(_,et);return this.messages.push(tt),tt}warnings(){return this.messages.filter(_=>_.type==="warning")}get content(){return this.css}};var result=Result$3;Result$3.default=Result$3;const SINGLE_QUOTE="'".charCodeAt(0),DOUBLE_QUOTE='"'.charCodeAt(0),BACKSLASH="\\".charCodeAt(0),SLASH="/".charCodeAt(0),NEWLINE=`
`.charCodeAt(0),SPACE=" ".charCodeAt(0),FEED="\f".charCodeAt(0),TAB="	".charCodeAt(0),CR="\r".charCodeAt(0),OPEN_SQUARE="[".charCodeAt(0),CLOSE_SQUARE="]".charCodeAt(0),OPEN_PARENTHESES="(".charCodeAt(0),CLOSE_PARENTHESES=")".charCodeAt(0),OPEN_CURLY="{".charCodeAt(0),CLOSE_CURLY="}".charCodeAt(0),SEMICOLON=";".charCodeAt(0),ASTERISK="*".charCodeAt(0),COLON=":".charCodeAt(0),AT="@".charCodeAt(0),RE_AT_END=/[\t\n\f\r "#'()/;[\\\]{}]/g,RE_WORD_END=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,RE_BAD_BRACKET=/.[\r\n"'(/\\]/,RE_HEX_ESCAPE=/[\da-f]/i;var tokenize=function(_,et={}){let tt=_.css.valueOf(),nt=et.ignoreErrors,rt,it,st,ot,at,lt,ct,dt,_t,pt,ut=tt.length,mt=0,ft=[],gt=[];function vt(){return mt}function bt(Ct){throw _.error("Unclosed "+Ct,mt)}function Et(){return gt.length===0&&mt>=ut}function xt(Ct){if(gt.length)return gt.pop();if(mt>=ut)return;let At=Ct?Ct.ignoreUnclosed:!1;switch(rt=tt.charCodeAt(mt),rt){case NEWLINE:case SPACE:case TAB:case CR:case FEED:{it=mt;do it+=1,rt=tt.charCodeAt(it);while(rt===SPACE||rt===NEWLINE||rt===TAB||rt===CR||rt===FEED);pt=["space",tt.slice(mt,it)],mt=it-1;break}case OPEN_SQUARE:case CLOSE_SQUARE:case OPEN_CURLY:case CLOSE_CURLY:case COLON:case SEMICOLON:case CLOSE_PARENTHESES:{let Lt=String.fromCharCode(rt);pt=[Lt,Lt,mt];break}case OPEN_PARENTHESES:{if(dt=ft.length?ft.pop()[1]:"",_t=tt.charCodeAt(mt+1),dt==="url"&&_t!==SINGLE_QUOTE&&_t!==DOUBLE_QUOTE&&_t!==SPACE&&_t!==NEWLINE&&_t!==TAB&&_t!==FEED&&_t!==CR){it=mt;do{if(lt=!1,it=tt.indexOf(")",it+1),it===-1)if(nt||At){it=mt;break}else bt("bracket");for(ct=it;tt.charCodeAt(ct-1)===BACKSLASH;)ct-=1,lt=!lt}while(lt);pt=["brackets",tt.slice(mt,it+1),mt,it],mt=it}else it=tt.indexOf(")",mt+1),ot=tt.slice(mt,it+1),it===-1||RE_BAD_BRACKET.test(ot)?pt=["(","(",mt]:(pt=["brackets",ot,mt,it],mt=it);break}case SINGLE_QUOTE:case DOUBLE_QUOTE:{st=rt===SINGLE_QUOTE?"'":'"',it=mt;do{if(lt=!1,it=tt.indexOf(st,it+1),it===-1)if(nt||At){it=mt+1;break}else bt("string");for(ct=it;tt.charCodeAt(ct-1)===BACKSLASH;)ct-=1,lt=!lt}while(lt);pt=["string",tt.slice(mt,it+1),mt,it],mt=it;break}case AT:{RE_AT_END.lastIndex=mt+1,RE_AT_END.test(tt),RE_AT_END.lastIndex===0?it=tt.length-1:it=RE_AT_END.lastIndex-2,pt=["at-word",tt.slice(mt,it+1),mt,it],mt=it;break}case BACKSLASH:{for(it=mt,at=!0;tt.charCodeAt(it+1)===BACKSLASH;)it+=1,at=!at;if(rt=tt.charCodeAt(it+1),at&&rt!==SLASH&&rt!==SPACE&&rt!==NEWLINE&&rt!==TAB&&rt!==CR&&rt!==FEED&&(it+=1,RE_HEX_ESCAPE.test(tt.charAt(it)))){for(;RE_HEX_ESCAPE.test(tt.charAt(it+1));)it+=1;tt.charCodeAt(it+1)===SPACE&&(it+=1)}pt=["word",tt.slice(mt,it+1),mt,it],mt=it;break}default:{rt===SLASH&&tt.charCodeAt(mt+1)===ASTERISK?(it=tt.indexOf("*/",mt+2)+1,it===0&&(nt||At?it=tt.length:bt("comment")),pt=["comment",tt.slice(mt,it+1),mt,it],mt=it):(RE_WORD_END.lastIndex=mt+1,RE_WORD_END.test(tt),RE_WORD_END.lastIndex===0?it=tt.length-1:it=RE_WORD_END.lastIndex-2,pt=["word",tt.slice(mt,it+1),mt,it],ft.push(pt),mt=it);break}}return mt++,pt}function kt(Ct){gt.push(Ct)}return{back:kt,endOfFile:Et,nextToken:xt,position:vt}};let Container$5=container,AtRule$3=class extends Container$5{constructor(_){super(_),this.type="atrule"}append(..._){return this.proxyOf.nodes||(this.nodes=[]),super.append(..._)}prepend(..._){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(..._)}};var atRule=AtRule$3;AtRule$3.default=AtRule$3;Container$5.registerAtRule(AtRule$3);let Container$4=container,LazyResult$3,Processor$2,Root$5=class extends Container$4{constructor(_){super(_),this.type="root",this.nodes||(this.nodes=[])}normalize(_,et,tt){let nt=super.normalize(_);if(et){if(tt==="prepend")this.nodes.length>1?et.raws.before=this.nodes[1].raws.before:delete et.raws.before;else if(this.first!==et)for(let rt of nt)rt.raws.before=et.raws.before}return nt}removeChild(_,et){let tt=this.index(_);return!et&&tt===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[tt].raws.before),super.removeChild(_)}toResult(_={}){return new LazyResult$3(new Processor$2,this,_).stringify()}};Root$5.registerLazyResult=$=>{LazyResult$3=$};Root$5.registerProcessor=$=>{Processor$2=$};var root=Root$5;Root$5.default=Root$5;Container$4.registerRoot(Root$5);let list$2={comma($){return list$2.split($,[","],!0)},space($){let _=[" ",`
`,"	"];return list$2.split($,_)},split($,_,et){let tt=[],nt="",rt=!1,it=0,st=!1,ot="",at=!1;for(let lt of $)at?at=!1:lt==="\\"?at=!0:st?lt===ot&&(st=!1):lt==='"'||lt==="'"?(st=!0,ot=lt):lt==="("?it+=1:lt===")"?it>0&&(it-=1):it===0&&_.includes(lt)&&(rt=!0),rt?(nt!==""&&tt.push(nt.trim()),nt="",rt=!1):nt+=lt;return(et||nt!=="")&&tt.push(nt.trim()),tt}};var list_1=list$2;list$2.default=list$2;let Container$3=container,list$1=list_1,Rule$3=class extends Container$3{constructor(_){super(_),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return list$1.comma(this.selector)}set selectors(_){let et=this.selector?this.selector.match(/,\s*/):null,tt=et?et[0]:","+this.raw("between","beforeOpen");this.selector=_.join(tt)}};var rule=Rule$3;Rule$3.default=Rule$3;Container$3.registerRule(Rule$3);let Declaration$2=declaration$1,tokenizer=tokenize,Comment$2=comment$1,AtRule$2=atRule,Root$4=root,Rule$2=rule;const SAFE_COMMENT_NEIGHBOR={empty:!0,space:!0};function findLastWithPosition($){for(let _=$.length-1;_>=0;_--){let et=$[_],tt=et[3]||et[2];if(tt)return tt}}let Parser$1=class{constructor(_){this.input=_,this.root=new Root$4,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:_,start:{column:1,line:1,offset:0}}}atrule(_){let et=new AtRule$2;et.name=_[1].slice(1),et.name===""&&this.unnamedAtrule(et,_),this.init(et,_[2]);let tt,nt,rt,it=!1,st=!1,ot=[],at=[];for(;!this.tokenizer.endOfFile();){if(_=this.tokenizer.nextToken(),tt=_[0],tt==="("||tt==="["?at.push(tt==="("?")":"]"):tt==="{"&&at.length>0?at.push("}"):tt===at[at.length-1]&&at.pop(),at.length===0)if(tt===";"){et.source.end=this.getPosition(_[2]),et.source.end.offset++,this.semicolon=!0;break}else if(tt==="{"){st=!0;break}else if(tt==="}"){if(ot.length>0){for(rt=ot.length-1,nt=ot[rt];nt&&nt[0]==="space";)nt=ot[--rt];nt&&(et.source.end=this.getPosition(nt[3]||nt[2]),et.source.end.offset++)}this.end(_);break}else ot.push(_);else ot.push(_);if(this.tokenizer.endOfFile()){it=!0;break}}et.raws.between=this.spacesAndCommentsFromEnd(ot),ot.length?(et.raws.afterName=this.spacesAndCommentsFromStart(ot),this.raw(et,"params",ot),it&&(_=ot[ot.length-1],et.source.end=this.getPosition(_[3]||_[2]),et.source.end.offset++,this.spaces=et.raws.between,et.raws.between="")):(et.raws.afterName="",et.params=""),st&&(et.nodes=[],this.current=et)}checkMissedSemicolon(_){let et=this.colon(_);if(et===!1)return;let tt=0,nt;for(let rt=et-1;rt>=0&&(nt=_[rt],!(nt[0]!=="space"&&(tt+=1,tt===2)));rt--);throw this.input.error("Missed semicolon",nt[0]==="word"?nt[3]+1:nt[2])}colon(_){let et=0,tt,nt,rt;for(let[it,st]of _.entries()){if(tt=st,nt=tt[0],nt==="("&&(et+=1),nt===")"&&(et-=1),et===0&&nt===":")if(!rt)this.doubleColon(tt);else{if(rt[0]==="word"&&rt[1]==="progid")continue;return it}rt=tt}return!1}comment(_){let et=new Comment$2;this.init(et,_[2]),et.source.end=this.getPosition(_[3]||_[2]),et.source.end.offset++;let tt=_[1].slice(2,-2);if(/^\s*$/.test(tt))et.text="",et.raws.left=tt,et.raws.right="";else{let nt=tt.match(/^(\s*)([^]*\S)(\s*)$/);et.text=nt[2],et.raws.left=nt[1],et.raws.right=nt[3]}}createTokenizer(){this.tokenizer=tokenizer(this.input)}decl(_,et){let tt=new Declaration$2;this.init(tt,_[0][2]);let nt=_[_.length-1];for(nt[0]===";"&&(this.semicolon=!0,_.pop()),tt.source.end=this.getPosition(nt[3]||nt[2]||findLastWithPosition(_)),tt.source.end.offset++;_[0][0]!=="word";)_.length===1&&this.unknownWord(_),tt.raws.before+=_.shift()[1];for(tt.source.start=this.getPosition(_[0][2]),tt.prop="";_.length;){let at=_[0][0];if(at===":"||at==="space"||at==="comment")break;tt.prop+=_.shift()[1]}tt.raws.between="";let rt;for(;_.length;)if(rt=_.shift(),rt[0]===":"){tt.raws.between+=rt[1];break}else rt[0]==="word"&&/\w/.test(rt[1])&&this.unknownWord([rt]),tt.raws.between+=rt[1];(tt.prop[0]==="_"||tt.prop[0]==="*")&&(tt.raws.before+=tt.prop[0],tt.prop=tt.prop.slice(1));let it=[],st;for(;_.length&&(st=_[0][0],!(st!=="space"&&st!=="comment"));)it.push(_.shift());this.precheckMissedSemicolon(_);for(let at=_.length-1;at>=0;at--){if(rt=_[at],rt[1].toLowerCase()==="!important"){tt.important=!0;let lt=this.stringFrom(_,at);lt=this.spacesFromEnd(_)+lt,lt!==" !important"&&(tt.raws.important=lt);break}else if(rt[1].toLowerCase()==="important"){let lt=_.slice(0),ct="";for(let dt=at;dt>0;dt--){let _t=lt[dt][0];if(ct.trim().indexOf("!")===0&&_t!=="space")break;ct=lt.pop()[1]+ct}ct.trim().indexOf("!")===0&&(tt.important=!0,tt.raws.important=ct,_=lt)}if(rt[0]!=="space"&&rt[0]!=="comment")break}_.some(at=>at[0]!=="space"&&at[0]!=="comment")&&(tt.raws.between+=it.map(at=>at[1]).join(""),it=[]),this.raw(tt,"value",it.concat(_),et),tt.value.includes(":")&&!et&&this.checkMissedSemicolon(_)}doubleColon(_){throw this.input.error("Double colon",{offset:_[2]},{offset:_[2]+_[1].length})}emptyRule(_){let et=new Rule$2;this.init(et,_[2]),et.selector="",et.raws.between="",this.current=et}end(_){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(_[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(_)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(_){if(this.spaces+=_[1],this.current.nodes){let et=this.current.nodes[this.current.nodes.length-1];et&&et.type==="rule"&&!et.raws.ownSemicolon&&(et.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(_){let et=this.input.fromOffset(_);return{column:et.col,line:et.line,offset:_}}init(_,et){this.current.push(_),_.source={input:this.input,start:this.getPosition(et)},_.raws.before=this.spaces,this.spaces="",_.type!=="comment"&&(this.semicolon=!1)}other(_){let et=!1,tt=null,nt=!1,rt=null,it=[],st=_[1].startsWith("--"),ot=[],at=_;for(;at;){if(tt=at[0],ot.push(at),tt==="("||tt==="[")rt||(rt=at),it.push(tt==="("?")":"]");else if(st&&nt&&tt==="{")rt||(rt=at),it.push("}");else if(it.length===0)if(tt===";")if(nt){this.decl(ot,st);return}else break;else if(tt==="{"){this.rule(ot);return}else if(tt==="}"){this.tokenizer.back(ot.pop()),et=!0;break}else tt===":"&&(nt=!0);else tt===it[it.length-1]&&(it.pop(),it.length===0&&(rt=null));at=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(et=!0),it.length>0&&this.unclosedBracket(rt),et&&nt){if(!st)for(;ot.length&&(at=ot[ot.length-1][0],!(at!=="space"&&at!=="comment"));)this.tokenizer.back(ot.pop());this.decl(ot,st)}else this.unknownWord(ot)}parse(){let _;for(;!this.tokenizer.endOfFile();)switch(_=this.tokenizer.nextToken(),_[0]){case"space":this.spaces+=_[1];break;case";":this.freeSemicolon(_);break;case"}":this.end(_);break;case"comment":this.comment(_);break;case"at-word":this.atrule(_);break;case"{":this.emptyRule(_);break;default:this.other(_);break}this.endFile()}precheckMissedSemicolon(){}raw(_,et,tt,nt){let rt,it,st=tt.length,ot="",at=!0,lt,ct;for(let dt=0;dt<st;dt+=1)rt=tt[dt],it=rt[0],it==="space"&&dt===st-1&&!nt?at=!1:it==="comment"?(ct=tt[dt-1]?tt[dt-1][0]:"empty",lt=tt[dt+1]?tt[dt+1][0]:"empty",!SAFE_COMMENT_NEIGHBOR[ct]&&!SAFE_COMMENT_NEIGHBOR[lt]?ot.slice(-1)===","?at=!1:ot+=rt[1]:at=!1):ot+=rt[1];if(!at){let dt=tt.reduce((_t,pt)=>_t+pt[1],"");_.raws[et]={raw:dt,value:ot}}_[et]=ot}rule(_){_.pop();let et=new Rule$2;this.init(et,_[0][2]),et.raws.between=this.spacesAndCommentsFromEnd(_),this.raw(et,"selector",_),this.current=et}spacesAndCommentsFromEnd(_){let et,tt="";for(;_.length&&(et=_[_.length-1][0],!(et!=="space"&&et!=="comment"));)tt=_.pop()[1]+tt;return tt}spacesAndCommentsFromStart(_){let et,tt="";for(;_.length&&(et=_[0][0],!(et!=="space"&&et!=="comment"));)tt+=_.shift()[1];return tt}spacesFromEnd(_){let et,tt="";for(;_.length&&(et=_[_.length-1][0],et==="space");)tt=_.pop()[1]+tt;return tt}stringFrom(_,et){let tt="";for(let nt=et;nt<_.length;nt++)tt+=_[nt][1];return _.splice(et,_.length-et),tt}unclosedBlock(){let _=this.current.source.start;throw this.input.error("Unclosed block",_.line,_.column)}unclosedBracket(_){throw this.input.error("Unclosed bracket",{offset:_[2]},{offset:_[2]+1})}unexpectedClose(_){throw this.input.error("Unexpected }",{offset:_[2]},{offset:_[2]+1})}unknownWord(_){throw this.input.error("Unknown word",{offset:_[0][2]},{offset:_[0][2]+_[0][1].length})}unnamedAtrule(_,et){throw this.input.error("At-rule without name",{offset:et[2]},{offset:et[2]+et[1].length})}};var parser=Parser$1;let Container$2=container,Parser=parser,Input$4=input;function parse$4($,_){let et=new Input$4($,_),tt=new Parser(et);try{tt.parse()}catch(nt){throw nt}return tt.root}var parse_1=parse$4;parse$4.default=parse$4;Container$2.registerParse(parse$4);let{isClean,my}=symbols,MapGenerator$1=mapGenerator,stringify$3=stringify_1,Container$1=container,Document$2=document$1,Result$2=result,parse$3=parse_1,Root$3=root;const TYPE_TO_CLASS_NAME={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},PLUGIN_PROPS={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},NOT_VISITORS={Once:!0,postcssPlugin:!0,prepare:!0},CHILDREN=0;function isPromise($){return typeof $=="object"&&typeof $.then=="function"}function getEvents($){let _=!1,et=TYPE_TO_CLASS_NAME[$.type];return $.type==="decl"?_=$.prop.toLowerCase():$.type==="atrule"&&(_=$.name.toLowerCase()),_&&$.append?[et,et+"-"+_,CHILDREN,et+"Exit",et+"Exit-"+_]:_?[et,et+"-"+_,et+"Exit",et+"Exit-"+_]:$.append?[et,CHILDREN,et+"Exit"]:[et,et+"Exit"]}function toStack($){let _;return $.type==="document"?_=["Document",CHILDREN,"DocumentExit"]:$.type==="root"?_=["Root",CHILDREN,"RootExit"]:_=getEvents($),{eventIndex:0,events:_,iterator:0,node:$,visitorIndex:0,visitors:[]}}function cleanMarks($){return $[isClean]=!1,$.nodes&&$.nodes.forEach(_=>cleanMarks(_)),$}let postcss$2={},LazyResult$2=class Ku{constructor(_,et,tt){this.stringified=!1,this.processed=!1;let nt;if(typeof et=="object"&&et!==null&&(et.type==="root"||et.type==="document"))nt=cleanMarks(et);else if(et instanceof Ku||et instanceof Result$2)nt=cleanMarks(et.root),et.map&&(typeof tt.map>"u"&&(tt.map={}),tt.map.inline||(tt.map.inline=!1),tt.map.prev=et.map);else{let rt=parse$3;tt.syntax&&(rt=tt.syntax.parse),tt.parser&&(rt=tt.parser),rt.parse&&(rt=rt.parse);try{nt=rt(et,tt)}catch(it){this.processed=!0,this.error=it}nt&&!nt[my]&&Container$1.rebuild(nt)}this.result=new Result$2(_,nt,tt),this.helpers={...postcss$2,postcss:postcss$2,result:this.result},this.plugins=this.processor.plugins.map(rt=>typeof rt=="object"&&rt.prepare?{...rt,...rt.prepare(this.result)}:rt)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(_){return this.async().catch(_)}finally(_){return this.async().then(_,_)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(_,et){let tt=this.result.lastPlugin;try{et&&et.addToError(_),this.error=_,_.name==="CssSyntaxError"&&!_.plugin?(_.plugin=tt.postcssPlugin,_.setMessage()):tt.postcssVersion}catch(nt){console&&console.error&&console.error(nt)}return _}prepareVisitors(){this.listeners={};let _=(et,tt,nt)=>{this.listeners[tt]||(this.listeners[tt]=[]),this.listeners[tt].push([et,nt])};for(let et of this.plugins)if(typeof et=="object")for(let tt in et){if(!PLUGIN_PROPS[tt]&&/^[A-Z]/.test(tt))throw new Error(`Unknown event ${tt} in ${et.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!NOT_VISITORS[tt])if(typeof et[tt]=="object")for(let nt in et[tt])nt==="*"?_(et,tt,et[tt][nt]):_(et,tt+"-"+nt.toLowerCase(),et[tt][nt]);else typeof et[tt]=="function"&&_(et,tt,et[tt])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let _=0;_<this.plugins.length;_++){let et=this.plugins[_],tt=this.runOnRoot(et);if(isPromise(tt))try{await tt}catch(nt){throw this.handleError(nt)}}if(this.prepareVisitors(),this.hasListener){let _=this.result.root;for(;!_[isClean];){_[isClean]=!0;let et=[toStack(_)];for(;et.length>0;){let tt=this.visitTick(et);if(isPromise(tt))try{await tt}catch(nt){let rt=et[et.length-1].node;throw this.handleError(nt,rt)}}}if(this.listeners.OnceExit)for(let[et,tt]of this.listeners.OnceExit){this.result.lastPlugin=et;try{if(_.type==="document"){let nt=_.nodes.map(rt=>tt(rt,this.helpers));await Promise.all(nt)}else await tt(_,this.helpers)}catch(nt){throw this.handleError(nt)}}}return this.processed=!0,this.stringify()}runOnRoot(_){this.result.lastPlugin=_;try{if(typeof _=="object"&&_.Once){if(this.result.root.type==="document"){let et=this.result.root.nodes.map(tt=>_.Once(tt,this.helpers));return isPromise(et[0])?Promise.all(et):et}return _.Once(this.result.root,this.helpers)}else if(typeof _=="function")return _(this.result.root,this.result)}catch(et){throw this.handleError(et)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let _=this.result.opts,et=stringify$3;_.syntax&&(et=_.syntax.stringify),_.stringifier&&(et=_.stringifier),et.stringify&&(et=et.stringify);let nt=new MapGenerator$1(et,this.result.root,this.result.opts).generate();return this.result.css=nt[0],this.result.map=nt[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let _ of this.plugins){let et=this.runOnRoot(_);if(isPromise(et))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let _=this.result.root;for(;!_[isClean];)_[isClean]=!0,this.walkSync(_);if(this.listeners.OnceExit)if(_.type==="document")for(let et of _.nodes)this.visitSync(this.listeners.OnceExit,et);else this.visitSync(this.listeners.OnceExit,_)}return this.result}then(_,et){return this.async().then(_,et)}toString(){return this.css}visitSync(_,et){for(let[tt,nt]of _){this.result.lastPlugin=tt;let rt;try{rt=nt(et,this.helpers)}catch(it){throw this.handleError(it,et.proxyOf)}if(et.type!=="root"&&et.type!=="document"&&!et.parent)return!0;if(isPromise(rt))throw this.getAsyncError()}}visitTick(_){let et=_[_.length-1],{node:tt,visitors:nt}=et;if(tt.type!=="root"&&tt.type!=="document"&&!tt.parent){_.pop();return}if(nt.length>0&&et.visitorIndex<nt.length){let[it,st]=nt[et.visitorIndex];et.visitorIndex+=1,et.visitorIndex===nt.length&&(et.visitors=[],et.visitorIndex=0),this.result.lastPlugin=it;try{return st(tt.toProxy(),this.helpers)}catch(ot){throw this.handleError(ot,tt)}}if(et.iterator!==0){let it=et.iterator,st;for(;st=tt.nodes[tt.indexes[it]];)if(tt.indexes[it]+=1,!st[isClean]){st[isClean]=!0,_.push(toStack(st));return}et.iterator=0,delete tt.indexes[it]}let rt=et.events;for(;et.eventIndex<rt.length;){let it=rt[et.eventIndex];if(et.eventIndex+=1,it===CHILDREN){tt.nodes&&tt.nodes.length&&(tt[isClean]=!0,et.iterator=tt.getIterator());return}else if(this.listeners[it]){et.visitors=this.listeners[it];return}}_.pop()}walkSync(_){_[isClean]=!0;let et=getEvents(_);for(let tt of et)if(tt===CHILDREN)_.nodes&&_.each(nt=>{nt[isClean]||this.walkSync(nt)});else{let nt=this.listeners[tt];if(nt&&this.visitSync(nt,_.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};LazyResult$2.registerPostcss=$=>{postcss$2=$};var lazyResult=LazyResult$2;LazyResult$2.default=LazyResult$2;Root$3.registerLazyResult(LazyResult$2);Document$2.registerLazyResult(LazyResult$2);let MapGenerator=mapGenerator,stringify$2=stringify_1,parse$2=parse_1;const Result$1=result;let NoWorkResult$1=class{constructor(_,et,tt){et=et.toString(),this.stringified=!1,this._processor=_,this._css=et,this._opts=tt,this._map=void 0;let nt,rt=stringify$2;this.result=new Result$1(this._processor,nt,this._opts),this.result.css=et;let it=this;Object.defineProperty(this.result,"root",{get(){return it.root}});let st=new MapGenerator(rt,nt,this._opts,et);if(st.isMap()){let[ot,at]=st.generate();ot&&(this.result.css=ot),at&&(this.result.map=at)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(_){return this.async().catch(_)}finally(_){return this.async().then(_,_)}sync(){if(this.error)throw this.error;return this.result}then(_,et){return this.async().then(_,et)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let _,et=parse$2;try{_=et(this._css,this._opts)}catch(tt){this.error=tt}if(this.error)throw this.error;return this._root=_,_}get[Symbol.toStringTag](){return"NoWorkResult"}};var noWorkResult=NoWorkResult$1;NoWorkResult$1.default=NoWorkResult$1;let NoWorkResult=noWorkResult,LazyResult$1=lazyResult,Document$1=document$1,Root$2=root,Processor$1=class{constructor(_=[]){this.version="8.4.31",this.plugins=this.normalize(_)}normalize(_){let et=[];for(let tt of _)if(tt.postcss===!0?tt=tt():tt.postcss&&(tt=tt.postcss),typeof tt=="object"&&Array.isArray(tt.plugins))et=et.concat(tt.plugins);else if(typeof tt=="object"&&tt.postcssPlugin)et.push(tt);else if(typeof tt=="function")et.push(tt);else if(!(typeof tt=="object"&&(tt.parse||tt.stringify)))throw new Error(tt+" is not a PostCSS plugin");return et}process(_,et={}){return this.plugins.length===0&&typeof et.parser>"u"&&typeof et.stringifier>"u"&&typeof et.syntax>"u"?new NoWorkResult(this,_,et):new LazyResult$1(this,_,et)}use(_){return this.plugins=this.plugins.concat(this.normalize([_])),this}};var processor=Processor$1;Processor$1.default=Processor$1;Root$2.registerProcessor(Processor$1);Document$1.registerProcessor(Processor$1);let Declaration$1=declaration$1,PreviousMap=previousMap,Comment$1=comment$1,AtRule$1=atRule,Input$3=input,Root$1=root,Rule$1=rule;function fromJSON$1($,_){if(Array.isArray($))return $.map(nt=>fromJSON$1(nt));let{inputs:et,...tt}=$;if(et){_=[];for(let nt of et){let rt={...nt,__proto__:Input$3.prototype};rt.map&&(rt.map={...rt.map,__proto__:PreviousMap.prototype}),_.push(rt)}}if(tt.nodes&&(tt.nodes=$.nodes.map(nt=>fromJSON$1(nt,_))),tt.source){let{inputId:nt,...rt}=tt.source;tt.source=rt,nt!=null&&(tt.source.input=_[nt])}if(tt.type==="root")return new Root$1(tt);if(tt.type==="decl")return new Declaration$1(tt);if(tt.type==="rule")return new Rule$1(tt);if(tt.type==="comment")return new Comment$1(tt);if(tt.type==="atrule")return new AtRule$1(tt);throw new Error("Unknown node type: "+$.type)}var fromJSON_1=fromJSON$1;fromJSON$1.default=fromJSON$1;let CssSyntaxError=cssSyntaxError,Declaration=declaration$1,LazyResult=lazyResult,Container=container,Processor=processor,stringify$1=stringify_1,fromJSON=fromJSON_1,Document=document$1,Warning=warning,Comment=comment$1,AtRule=atRule,Result=result,Input$2=input,parse$1=parse_1,list=list_1,Rule=rule,Root=root,Node$1=node$1;function postcss(...$){return $.length===1&&Array.isArray($[0])&&($=$[0]),new Processor($)}postcss.plugin=function(_,et){let tt=!1;function nt(...it){console&&console.warn&&!tt&&(tt=!0,console.warn(_+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(_+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let st=et(...it);return st.postcssPlugin=_,st.postcssVersion=new Processor().version,st}let rt;return Object.defineProperty(nt,"postcss",{get(){return rt||(rt=nt()),rt}}),nt.process=function(it,st,ot){return postcss([nt(ot)]).process(it,st)},nt};postcss.stringify=stringify$1;postcss.parse=parse$1;postcss.fromJSON=fromJSON;postcss.list=list;postcss.comment=$=>new Comment($);postcss.atRule=$=>new AtRule($);postcss.decl=$=>new Declaration($);postcss.rule=$=>new Rule($);postcss.root=$=>new Root($);postcss.document=$=>new Document($);postcss.CssSyntaxError=CssSyntaxError;postcss.Declaration=Declaration;postcss.Container=Container;postcss.Processor=Processor;postcss.Document=Document;postcss.Comment=Comment;postcss.Warning=Warning;postcss.AtRule=AtRule;postcss.Result=Result;postcss.Input=Input$2;postcss.Rule=Rule;postcss.Root=Root;postcss.Node=Node$1;LazyResult.registerPostcss(postcss);var postcss_1=postcss;postcss.default=postcss;const postcss$1=getDefaultExportFromCjs(postcss_1);postcss$1.stringify;postcss$1.fromJSON;postcss$1.plugin;postcss$1.parse;postcss$1.list;postcss$1.document;postcss$1.comment;postcss$1.atRule;postcss$1.rule;postcss$1.decl;postcss$1.root;postcss$1.CssSyntaxError;postcss$1.Declaration;postcss$1.Container;postcss$1.Processor;postcss$1.Document;postcss$1.Comment;postcss$1.Warning;postcss$1.AtRule;postcss$1.Result;postcss$1.Input;postcss$1.Rule;postcss$1.Root;postcss$1.Node;const InputField=({handleChange:$,value:_,title:et,name:tt})=>jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:_,name:tt}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),et]}),Location$1=({handleChange:$})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium mb-2",children:"Location"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:"",name:"test"}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"All"]}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"london",title:"London",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"seattle",title:"Seattle",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"madrid",title:"Madrid",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"boston",title:"Boston",name:"test"})]})]}),Button=({onClickHandler:$,value:_,title:et})=>jsxRuntimeExports.jsx("button",{onClick:$,value:_,className:"px-4 py-1 border text-base hover:bg-blue hover:text-white",children:et}),Salary=({handleChange:$,handleClick:_})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium mb-2",children:"Salary"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(Button,{onClickHandler:_,value:"",title:"Hourly"}),jsxRuntimeExports.jsx(Button,{onClickHandler:_,value:"monthly",title:"Monthly"}),jsxRuntimeExports.jsx(Button,{onClickHandler:_,value:"yearly",title:"Yearly"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:"",name:"test2"}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"Any"]}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:30,title:"< 30000k",name:"test2"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:50,title:"< 50000k",name:"test2"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:80,title:"< 80000k",name:"test2"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:100,title:"< 100000k",name:"test2"})]})]}),JobPostingData=({handleChange:$})=>{const _=new Date,et=new Date(_-24*60*60*1e3),tt=new Date(_-7*24*60*60*1e3),nt=new Date(_-30*24*60*60*1e3),rt=et.toISOString().slice(0,10),it=tt.toISOString().slice(0,10),st=nt.toISOString().slice(0,10);return console.log(rt),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium mb-2",children:"Date of posting"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:"",name:"test"}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"All time"]}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:rt,title:"Last 24 hours",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:it,title:"Last 7 days",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:st,title:"Last Month",name:"test"})]})]})},WorkExperience=({handleChange:$})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium mb-2",children:"Work experience"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:"",name:"test"}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"Any experience"]}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"Internship",title:"Internship",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"Work remotely",title:"Work remotely",name:"test"})]})]}),EmploymentType=({handleChange:$})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium mb-2",children:"Type of employment"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"sidebar-label-container",children:[jsxRuntimeExports.jsx("input",{onChange:$,type:"radio",value:"",name:"test"}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"Any"]}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"full-time",title:"Full-time",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"temporary",title:"Temporary",name:"test"}),jsxRuntimeExports.jsx(InputField,{handleChange:$,value:"part-time",title:"Part-time",name:"test"})]})]}),Sidebar=({handleChange:$,handleClick:_})=>jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-2",children:"Filters"}),jsxRuntimeExports.jsx(Location$1,{handleChange:$}),jsxRuntimeExports.jsx(Salary,{handleChange:$,handleClick:_}),jsxRuntimeExports.jsx(JobPostingData,{handleChange:$}),jsxRuntimeExports.jsx(WorkExperience,{handleChange:$}),jsxRuntimeExports.jsx(EmploymentType,{handleChange:$})]}),Jobs=({result:$})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold mb-2",children:[$.length," Jobs"]})}),jsxRuntimeExports.jsx("section",{className:"card-container",children:$})]});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback($){hookCallback=$}function isArray$3($){return $ instanceof Array||Object.prototype.toString.call($)==="[object Array]"}function isObject$2($){return $!=null&&Object.prototype.toString.call($)==="[object Object]"}function hasOwnProp($,_){return Object.prototype.hasOwnProperty.call($,_)}function isObjectEmpty($){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames($).length===0;var _;for(_ in $)if(hasOwnProp($,_))return!1;return!0}function isUndefined$2($){return $===void 0}function isNumber$1($){return typeof $=="number"||Object.prototype.toString.call($)==="[object Number]"}function isDate$1($){return $ instanceof Date||Object.prototype.toString.call($)==="[object Date]"}function map($,_){var et=[],tt,nt=$.length;for(tt=0;tt<nt;++tt)et.push(_($[tt],tt));return et}function extend$1($,_){for(var et in _)hasOwnProp(_,et)&&($[et]=_[et]);return hasOwnProp(_,"toString")&&($.toString=_.toString),hasOwnProp(_,"valueOf")&&($.valueOf=_.valueOf),$}function createUTC($,_,et,tt){return createLocalOrUTC($,_,et,tt,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags($){return $._pf==null&&($._pf=defaultParsingFlags()),$._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function($){var _=Object(this),et=_.length>>>0,tt;for(tt=0;tt<et;tt++)if(tt in _&&$.call(this,_[tt],tt,_))return!0;return!1};function isValid($){var _=null,et=!1,tt=$._d&&!isNaN($._d.getTime());if(tt&&(_=getParsingFlags($),et=some.call(_.parsedDateParts,function(nt){return nt!=null}),tt=_.overflow<0&&!_.empty&&!_.invalidEra&&!_.invalidMonth&&!_.invalidWeekday&&!_.weekdayMismatch&&!_.nullInput&&!_.invalidFormat&&!_.userInvalidated&&(!_.meridiem||_.meridiem&&et),$._strict&&(tt=tt&&_.charsLeftOver===0&&_.unusedTokens.length===0&&_.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen($))$._isValid=tt;else return tt;return $._isValid}function createInvalid($){var _=createUTC(NaN);return $!=null?extend$1(getParsingFlags(_),$):getParsingFlags(_).userInvalidated=!0,_}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig($,_){var et,tt,nt,rt=momentProperties.length;if(isUndefined$2(_._isAMomentObject)||($._isAMomentObject=_._isAMomentObject),isUndefined$2(_._i)||($._i=_._i),isUndefined$2(_._f)||($._f=_._f),isUndefined$2(_._l)||($._l=_._l),isUndefined$2(_._strict)||($._strict=_._strict),isUndefined$2(_._tzm)||($._tzm=_._tzm),isUndefined$2(_._isUTC)||($._isUTC=_._isUTC),isUndefined$2(_._offset)||($._offset=_._offset),isUndefined$2(_._pf)||($._pf=getParsingFlags(_)),isUndefined$2(_._locale)||($._locale=_._locale),rt>0)for(et=0;et<rt;et++)tt=momentProperties[et],nt=_[tt],isUndefined$2(nt)||($[tt]=nt);return $}function Moment($){copyConfig(this,$),this._d=new Date($._d!=null?$._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment($){return $ instanceof Moment||$!=null&&$._isAMomentObject!=null}function warn($){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+$)}function deprecate($,_){var et=!0;return extend$1(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,$),et){var tt=[],nt,rt,it,st=arguments.length;for(rt=0;rt<st;rt++){if(nt="",typeof arguments[rt]=="object"){nt+=`
[`+rt+"] ";for(it in arguments[0])hasOwnProp(arguments[0],it)&&(nt+=it+": "+arguments[0][it]+", ");nt=nt.slice(0,-2)}else nt=arguments[rt];tt.push(nt)}warn($+`
Arguments: `+Array.prototype.slice.call(tt).join("")+`
`+new Error().stack),et=!1}return _.apply(this,arguments)},_)}var deprecations={};function deprecateSimple($,_){hooks.deprecationHandler!=null&&hooks.deprecationHandler($,_),deprecations[$]||(warn(_),deprecations[$]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$3($){return typeof Function<"u"&&$ instanceof Function||Object.prototype.toString.call($)==="[object Function]"}function set$1($){var _,et;for(et in $)hasOwnProp($,et)&&(_=$[et],isFunction$3(_)?this[et]=_:this["_"+et]=_);this._config=$,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs($,_){var et=extend$1({},$),tt;for(tt in _)hasOwnProp(_,tt)&&(isObject$2($[tt])&&isObject$2(_[tt])?(et[tt]={},extend$1(et[tt],$[tt]),extend$1(et[tt],_[tt])):_[tt]!=null?et[tt]=_[tt]:delete et[tt]);for(tt in $)hasOwnProp($,tt)&&!hasOwnProp(_,tt)&&isObject$2($[tt])&&(et[tt]=extend$1({},et[tt]));return et}function Locale($){$!=null&&this.set($)}var keys;Object.keys?keys=Object.keys:keys=function($){var _,et=[];for(_ in $)hasOwnProp($,_)&&et.push(_);return et};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar($,_,et){var tt=this._calendar[$]||this._calendar.sameElse;return isFunction$3(tt)?tt.call(_,et):tt}function zeroFill($,_,et){var tt=""+Math.abs($),nt=_-tt.length,rt=$>=0;return(rt?et?"+":"":"-")+Math.pow(10,Math.max(0,nt)).toString().substr(1)+tt}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken($,_,et,tt){var nt=tt;typeof tt=="string"&&(nt=function(){return this[tt]()}),$&&(formatTokenFunctions[$]=nt),_&&(formatTokenFunctions[_[0]]=function(){return zeroFill(nt.apply(this,arguments),_[1],_[2])}),et&&(formatTokenFunctions[et]=function(){return this.localeData().ordinal(nt.apply(this,arguments),$)})}function removeFormattingTokens($){return $.match(/\[[\s\S]/)?$.replace(/^\[|\]$/g,""):$.replace(/\\/g,"")}function makeFormatFunction($){var _=$.match(formattingTokens),et,tt;for(et=0,tt=_.length;et<tt;et++)formatTokenFunctions[_[et]]?_[et]=formatTokenFunctions[_[et]]:_[et]=removeFormattingTokens(_[et]);return function(nt){var rt="",it;for(it=0;it<tt;it++)rt+=isFunction$3(_[it])?_[it].call(nt,$):_[it];return rt}}function formatMoment($,_){return $.isValid()?(_=expandFormat(_,$.localeData()),formatFunctions[_]=formatFunctions[_]||makeFormatFunction(_),formatFunctions[_]($)):$.localeData().invalidDate()}function expandFormat($,_){var et=5;function tt(nt){return _.longDateFormat(nt)||nt}for(localFormattingTokens.lastIndex=0;et>=0&&localFormattingTokens.test($);)$=$.replace(localFormattingTokens,tt),localFormattingTokens.lastIndex=0,et-=1;return $}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat($){var _=this._longDateFormat[$],et=this._longDateFormat[$.toUpperCase()];return _||!et?_:(this._longDateFormat[$]=et.match(formattingTokens).map(function(tt){return tt==="MMMM"||tt==="MM"||tt==="DD"||tt==="dddd"?tt.slice(1):tt}).join(""),this._longDateFormat[$])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal($){return this._ordinal.replace("%d",$)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime($,_,et,tt){var nt=this._relativeTime[et];return isFunction$3(nt)?nt($,_,et,tt):nt.replace(/%d/i,$)}function pastFuture($,_){var et=this._relativeTime[$>0?"future":"past"];return isFunction$3(et)?et(_):et.replace(/%s/i,_)}var aliases={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits($){return typeof $=="string"?aliases[$]||aliases[$.toLowerCase()]:void 0}function normalizeObjectUnits($){var _={},et,tt;for(tt in $)hasOwnProp($,tt)&&(et=normalizeUnits(tt),et&&(_[et]=$[tt]));return _}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits($){var _=[],et;for(et in $)hasOwnProp($,et)&&_.push({unit:et,priority:priorities[et]});return _.sort(function(tt,nt){return tt.priority-nt.priority}),_}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken($,_,et){regexes[$]=isFunction$3(_)?_:function(tt,nt){return tt&&et?et:_}}function getParseRegexForToken($,_){return hasOwnProp(regexes,$)?regexes[$](_._strict,_._locale):new RegExp(unescapeFormat($))}function unescapeFormat($){return regexEscape($.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_,et,tt,nt,rt){return et||tt||nt||rt}))}function regexEscape($){return $.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor($){return $<0?Math.ceil($)||0:Math.floor($)}function toInt($){var _=+$,et=0;return _!==0&&isFinite(_)&&(et=absFloor(_)),et}var tokens={};function addParseToken($,_){var et,tt=_,nt;for(typeof $=="string"&&($=[$]),isNumber$1(_)&&(tt=function(rt,it){it[_]=toInt(rt)}),nt=$.length,et=0;et<nt;et++)tokens[$[et]]=tt}function addWeekParseToken($,_){addParseToken($,function(et,tt,nt,rt){nt._w=nt._w||{},_(et,nt._w,nt,rt)})}function addTimeToArrayFromToken($,_,et){_!=null&&hasOwnProp(tokens,$)&&tokens[$](_,et._a,et,$)}function isLeapYear($){return $%4===0&&$%100!==0||$%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var $=this.year();return $<=9999?zeroFill($,4):"+"+$});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function($,_){_[YEAR]=$.length===2?hooks.parseTwoDigitYear($):toInt($)});addParseToken("YY",function($,_){_[YEAR]=hooks.parseTwoDigitYear($)});addParseToken("Y",function($,_){_[YEAR]=parseInt($,10)});function daysInYear($){return isLeapYear($)?366:365}hooks.parseTwoDigitYear=function($){return toInt($)+(toInt($)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet($,_){return function(et){return et!=null?(set$1$1(this,$,et),hooks.updateOffset(this,_),this):get$1(this,$)}}function get$1($,_){if(!$.isValid())return NaN;var et=$._d,tt=$._isUTC;switch(_){case"Milliseconds":return tt?et.getUTCMilliseconds():et.getMilliseconds();case"Seconds":return tt?et.getUTCSeconds():et.getSeconds();case"Minutes":return tt?et.getUTCMinutes():et.getMinutes();case"Hours":return tt?et.getUTCHours():et.getHours();case"Date":return tt?et.getUTCDate():et.getDate();case"Day":return tt?et.getUTCDay():et.getDay();case"Month":return tt?et.getUTCMonth():et.getMonth();case"FullYear":return tt?et.getUTCFullYear():et.getFullYear();default:return NaN}}function set$1$1($,_,et){var tt,nt,rt,it,st;if(!(!$.isValid()||isNaN(et))){switch(tt=$._d,nt=$._isUTC,_){case"Milliseconds":return void(nt?tt.setUTCMilliseconds(et):tt.setMilliseconds(et));case"Seconds":return void(nt?tt.setUTCSeconds(et):tt.setSeconds(et));case"Minutes":return void(nt?tt.setUTCMinutes(et):tt.setMinutes(et));case"Hours":return void(nt?tt.setUTCHours(et):tt.setHours(et));case"Date":return void(nt?tt.setUTCDate(et):tt.setDate(et));case"FullYear":break;default:return}rt=et,it=$.month(),st=$.date(),st=st===29&&it===1&&!isLeapYear(rt)?28:st,nt?tt.setUTCFullYear(rt,it,st):tt.setFullYear(rt,it,st)}}function stringGet($){return $=normalizeUnits($),isFunction$3(this[$])?this[$]():this}function stringSet($,_){if(typeof $=="object"){$=normalizeObjectUnits($);var et=getPrioritizedUnits($),tt,nt=et.length;for(tt=0;tt<nt;tt++)this[et[tt].unit]($[et[tt].unit])}else if($=normalizeUnits($),isFunction$3(this[$]))return this[$](_);return this}function mod($,_){return($%_+_)%_}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function($){var _;for(_=0;_<this.length;++_)if(this[_]===$)return _;return-1};function daysInMonth($,_){if(isNaN($)||isNaN(_))return NaN;var et=mod(_,12);return $+=(_-et)/12,et===1?isLeapYear($)?29:28:31-et%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function($){return this.localeData().monthsShort(this,$)});addFormatToken("MMMM",0,0,function($){return this.localeData().months(this,$)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function($,_){return _.monthsShortRegex($)});addRegexToken("MMMM",function($,_){return _.monthsRegex($)});addParseToken(["M","MM"],function($,_){_[MONTH]=toInt($)-1});addParseToken(["MMM","MMMM"],function($,_,et,tt){var nt=et._locale.monthsParse($,tt,et._strict);nt!=null?_[MONTH]=nt:getParsingFlags(et).invalidMonth=$});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths($,_){return $?isArray$3(this._months)?this._months[$.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(_)?"format":"standalone"][$.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort($,_){return $?isArray$3(this._monthsShort)?this._monthsShort[$.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(_)?"format":"standalone"][$.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse($,_,et){var tt,nt,rt,it=$.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],tt=0;tt<12;++tt)rt=createUTC([2e3,tt]),this._shortMonthsParse[tt]=this.monthsShort(rt,"").toLocaleLowerCase(),this._longMonthsParse[tt]=this.months(rt,"").toLocaleLowerCase();return et?_==="MMM"?(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:null):(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:null):_==="MMM"?(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:null)):(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:null))}function localeMonthsParse($,_,et){var tt,nt,rt;if(this._monthsParseExact)return handleStrictParse.call(this,$,_,et);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),tt=0;tt<12;tt++){if(nt=createUTC([2e3,tt]),et&&!this._longMonthsParse[tt]&&(this._longMonthsParse[tt]=new RegExp("^"+this.months(nt,"").replace(".","")+"$","i"),this._shortMonthsParse[tt]=new RegExp("^"+this.monthsShort(nt,"").replace(".","")+"$","i")),!et&&!this._monthsParse[tt]&&(rt="^"+this.months(nt,"")+"|^"+this.monthsShort(nt,""),this._monthsParse[tt]=new RegExp(rt.replace(".",""),"i")),et&&_==="MMMM"&&this._longMonthsParse[tt].test($))return tt;if(et&&_==="MMM"&&this._shortMonthsParse[tt].test($))return tt;if(!et&&this._monthsParse[tt].test($))return tt}}function setMonth($,_){if(!$.isValid())return $;if(typeof _=="string"){if(/^\d+$/.test(_))_=toInt(_);else if(_=$.localeData().monthsParse(_),!isNumber$1(_))return $}var et=_,tt=$.date();return tt=tt<29?tt:Math.min(tt,daysInMonth($.year(),et)),$._isUTC?$._d.setUTCMonth(et,tt):$._d.setMonth(et,tt),$}function getSetMonth($){return $!=null?(setMonth(this,$),hooks.updateOffset(this,!0),this):get$1(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex($){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),$?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&$?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex($){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),$?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&$?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function $(ot,at){return at.length-ot.length}var _=[],et=[],tt=[],nt,rt,it,st;for(nt=0;nt<12;nt++)rt=createUTC([2e3,nt]),it=regexEscape(this.monthsShort(rt,"")),st=regexEscape(this.months(rt,"")),_.push(it),et.push(st),tt.push(st),tt.push(it);_.sort($),et.sort($),tt.sort($),this._monthsRegex=new RegExp("^("+tt.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+et.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_.join("|")+")","i")}function createDate($,_,et,tt,nt,rt,it){var st;return $<100&&$>=0?(st=new Date($+400,_,et,tt,nt,rt,it),isFinite(st.getFullYear())&&st.setFullYear($)):st=new Date($,_,et,tt,nt,rt,it),st}function createUTCDate($){var _,et;return $<100&&$>=0?(et=Array.prototype.slice.call(arguments),et[0]=$+400,_=new Date(Date.UTC.apply(null,et)),isFinite(_.getUTCFullYear())&&_.setUTCFullYear($)):_=new Date(Date.UTC.apply(null,arguments)),_}function firstWeekOffset($,_,et){var tt=7+_-et,nt=(7+createUTCDate($,0,tt).getUTCDay()-_)%7;return-nt+tt-1}function dayOfYearFromWeeks($,_,et,tt,nt){var rt=(7+et-tt)%7,it=firstWeekOffset($,tt,nt),st=1+7*(_-1)+rt+it,ot,at;return st<=0?(ot=$-1,at=daysInYear(ot)+st):st>daysInYear($)?(ot=$+1,at=st-daysInYear($)):(ot=$,at=st),{year:ot,dayOfYear:at}}function weekOfYear($,_,et){var tt=firstWeekOffset($.year(),_,et),nt=Math.floor(($.dayOfYear()-tt-1)/7)+1,rt,it;return nt<1?(it=$.year()-1,rt=nt+weeksInYear(it,_,et)):nt>weeksInYear($.year(),_,et)?(rt=nt-weeksInYear($.year(),_,et),it=$.year()+1):(it=$.year(),rt=nt),{week:rt,year:it}}function weeksInYear($,_,et){var tt=firstWeekOffset($,_,et),nt=firstWeekOffset($+1,_,et);return(daysInYear($)-tt+nt)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function($,_,et,tt){_[tt.substr(0,1)]=toInt($)});function localeWeek($){return weekOfYear($,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek($){var _=this.localeData().week(this);return $==null?_:this.add(($-_)*7,"d")}function getSetISOWeek($){var _=weekOfYear(this,1,4).week;return $==null?_:this.add(($-_)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function($){return this.localeData().weekdaysMin(this,$)});addFormatToken("ddd",0,0,function($){return this.localeData().weekdaysShort(this,$)});addFormatToken("dddd",0,0,function($){return this.localeData().weekdays(this,$)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function($,_){return _.weekdaysMinRegex($)});addRegexToken("ddd",function($,_){return _.weekdaysShortRegex($)});addRegexToken("dddd",function($,_){return _.weekdaysRegex($)});addWeekParseToken(["dd","ddd","dddd"],function($,_,et,tt){var nt=et._locale.weekdaysParse($,tt,et._strict);nt!=null?_.d=nt:getParsingFlags(et).invalidWeekday=$});addWeekParseToken(["d","e","E"],function($,_,et,tt){_[tt]=toInt($)});function parseWeekday($,_){return typeof $!="string"?$:isNaN($)?($=_.weekdaysParse($),typeof $=="number"?$:null):parseInt($,10)}function parseIsoWeekday($,_){return typeof $=="string"?_.weekdaysParse($)%7||7:isNaN($)?null:$}function shiftWeekdays($,_){return $.slice(_,7).concat($.slice(0,_))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays($,_){var et=isArray$3(this._weekdays)?this._weekdays:this._weekdays[$&&$!==!0&&this._weekdays.isFormat.test(_)?"format":"standalone"];return $===!0?shiftWeekdays(et,this._week.dow):$?et[$.day()]:et}function localeWeekdaysShort($){return $===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):$?this._weekdaysShort[$.day()]:this._weekdaysShort}function localeWeekdaysMin($){return $===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):$?this._weekdaysMin[$.day()]:this._weekdaysMin}function handleStrictParse$1($,_,et){var tt,nt,rt,it=$.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],tt=0;tt<7;++tt)rt=createUTC([2e3,1]).day(tt),this._minWeekdaysParse[tt]=this.weekdaysMin(rt,"").toLocaleLowerCase(),this._shortWeekdaysParse[tt]=this.weekdaysShort(rt,"").toLocaleLowerCase(),this._weekdaysParse[tt]=this.weekdays(rt,"").toLocaleLowerCase();return et?_==="dddd"?(nt=indexOf.call(this._weekdaysParse,it),nt!==-1?nt:null):_==="ddd"?(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1?nt:null):(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null):_==="dddd"?(nt=indexOf.call(this._weekdaysParse,it),nt!==-1||(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null)):_==="ddd"?(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1||(nt=indexOf.call(this._weekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null)):(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1||(nt=indexOf.call(this._weekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1?nt:null))}function localeWeekdaysParse($,_,et){var tt,nt,rt;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,$,_,et);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),tt=0;tt<7;tt++){if(nt=createUTC([2e3,1]).day(tt),et&&!this._fullWeekdaysParse[tt]&&(this._fullWeekdaysParse[tt]=new RegExp("^"+this.weekdays(nt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[tt]=new RegExp("^"+this.weekdaysShort(nt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[tt]=new RegExp("^"+this.weekdaysMin(nt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[tt]||(rt="^"+this.weekdays(nt,"")+"|^"+this.weekdaysShort(nt,"")+"|^"+this.weekdaysMin(nt,""),this._weekdaysParse[tt]=new RegExp(rt.replace(".",""),"i")),et&&_==="dddd"&&this._fullWeekdaysParse[tt].test($))return tt;if(et&&_==="ddd"&&this._shortWeekdaysParse[tt].test($))return tt;if(et&&_==="dd"&&this._minWeekdaysParse[tt].test($))return tt;if(!et&&this._weekdaysParse[tt].test($))return tt}}function getSetDayOfWeek($){if(!this.isValid())return $!=null?this:NaN;var _=get$1(this,"Day");return $!=null?($=parseWeekday($,this.localeData()),this.add($-_,"d")):_}function getSetLocaleDayOfWeek($){if(!this.isValid())return $!=null?this:NaN;var _=(this.day()+7-this.localeData()._week.dow)%7;return $==null?_:this.add($-_,"d")}function getSetISODayOfWeek($){if(!this.isValid())return $!=null?this:NaN;if($!=null){var _=parseIsoWeekday($,this.localeData());return this.day(this.day()%7?_:_-7)}else return this.day()||7}function weekdaysRegex($){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),$?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&$?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex($){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),$?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&$?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex($){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),$?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&$?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function $(lt,ct){return ct.length-lt.length}var _=[],et=[],tt=[],nt=[],rt,it,st,ot,at;for(rt=0;rt<7;rt++)it=createUTC([2e3,1]).day(rt),st=regexEscape(this.weekdaysMin(it,"")),ot=regexEscape(this.weekdaysShort(it,"")),at=regexEscape(this.weekdays(it,"")),_.push(st),et.push(ot),tt.push(at),nt.push(st),nt.push(ot),nt.push(at);_.sort($),et.sort($),tt.sort($),nt.sort($),this._weekdaysRegex=new RegExp("^("+nt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+tt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+et.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem($,_){addFormatToken($,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem($,_){return _._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function($,_,et){var tt=toInt($);_[HOUR]=tt===24?0:tt});addParseToken(["a","A"],function($,_,et){et._isPm=et._locale.isPM($),et._meridiem=$});addParseToken(["h","hh"],function($,_,et){_[HOUR]=toInt($),getParsingFlags(et).bigHour=!0});addParseToken("hmm",function($,_,et){var tt=$.length-2;_[HOUR]=toInt($.substr(0,tt)),_[MINUTE]=toInt($.substr(tt)),getParsingFlags(et).bigHour=!0});addParseToken("hmmss",function($,_,et){var tt=$.length-4,nt=$.length-2;_[HOUR]=toInt($.substr(0,tt)),_[MINUTE]=toInt($.substr(tt,2)),_[SECOND]=toInt($.substr(nt)),getParsingFlags(et).bigHour=!0});addParseToken("Hmm",function($,_,et){var tt=$.length-2;_[HOUR]=toInt($.substr(0,tt)),_[MINUTE]=toInt($.substr(tt))});addParseToken("Hmmss",function($,_,et){var tt=$.length-4,nt=$.length-2;_[HOUR]=toInt($.substr(0,tt)),_[MINUTE]=toInt($.substr(tt,2)),_[SECOND]=toInt($.substr(nt))});function localeIsPM($){return($+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem($,_,et){return $>11?et?"pm":"PM":et?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix($,_){var et,tt=Math.min($.length,_.length);for(et=0;et<tt;et+=1)if($[et]!==_[et])return et;return tt}function normalizeLocale($){return $&&$.toLowerCase().replace("_","-")}function chooseLocale($){for(var _=0,et,tt,nt,rt;_<$.length;){for(rt=normalizeLocale($[_]).split("-"),et=rt.length,tt=normalizeLocale($[_+1]),tt=tt?tt.split("-"):null;et>0;){if(nt=loadLocale(rt.slice(0,et).join("-")),nt)return nt;if(tt&&tt.length>=et&&commonPrefix(rt,tt)>=et-1)break;et--}_++}return globalLocale}function isLocaleNameSane($){return!!($&&$.match("^[^/\\\\]*$"))}function loadLocale($){var _=null,et;if(locales[$]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane($))try{_=globalLocale._abbr,et=require,et("./locale/"+$),getSetGlobalLocale(_)}catch{locales[$]=null}return locales[$]}function getSetGlobalLocale($,_){var et;return $&&(isUndefined$2(_)?et=getLocale($):et=defineLocale($,_),et?globalLocale=et:typeof console<"u"&&console.warn&&console.warn("Locale "+$+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale($,_){if(_!==null){var et,tt=baseConfig;if(_.abbr=$,locales[$]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),tt=locales[$]._config;else if(_.parentLocale!=null)if(locales[_.parentLocale]!=null)tt=locales[_.parentLocale]._config;else if(et=loadLocale(_.parentLocale),et!=null)tt=et._config;else return localeFamilies[_.parentLocale]||(localeFamilies[_.parentLocale]=[]),localeFamilies[_.parentLocale].push({name:$,config:_}),null;return locales[$]=new Locale(mergeConfigs(tt,_)),localeFamilies[$]&&localeFamilies[$].forEach(function(nt){defineLocale(nt.name,nt.config)}),getSetGlobalLocale($),locales[$]}else return delete locales[$],null}function updateLocale($,_){if(_!=null){var et,tt,nt=baseConfig;locales[$]!=null&&locales[$].parentLocale!=null?locales[$].set(mergeConfigs(locales[$]._config,_)):(tt=loadLocale($),tt!=null&&(nt=tt._config),_=mergeConfigs(nt,_),tt==null&&(_.abbr=$),et=new Locale(_),et.parentLocale=locales[$],locales[$]=et),getSetGlobalLocale($)}else locales[$]!=null&&(locales[$].parentLocale!=null?(locales[$]=locales[$].parentLocale,$===getSetGlobalLocale()&&getSetGlobalLocale($)):locales[$]!=null&&delete locales[$]);return locales[$]}function getLocale($){var _;if($&&$._locale&&$._locale._abbr&&($=$._locale._abbr),!$)return globalLocale;if(!isArray$3($)){if(_=loadLocale($),_)return _;$=[$]}return chooseLocale($)}function listLocales(){return keys(locales)}function checkOverflow($){var _,et=$._a;return et&&getParsingFlags($).overflow===-2&&(_=et[MONTH]<0||et[MONTH]>11?MONTH:et[DATE]<1||et[DATE]>daysInMonth(et[YEAR],et[MONTH])?DATE:et[HOUR]<0||et[HOUR]>24||et[HOUR]===24&&(et[MINUTE]!==0||et[SECOND]!==0||et[MILLISECOND]!==0)?HOUR:et[MINUTE]<0||et[MINUTE]>59?MINUTE:et[SECOND]<0||et[SECOND]>59?SECOND:et[MILLISECOND]<0||et[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags($)._overflowDayOfYear&&(_<YEAR||_>DATE)&&(_=DATE),getParsingFlags($)._overflowWeeks&&_===-1&&(_=WEEK),getParsingFlags($)._overflowWeekday&&_===-1&&(_=WEEKDAY),getParsingFlags($).overflow=_),$}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO($){var _,et,tt=$._i,nt=extendedIsoRegex.exec(tt)||basicIsoRegex.exec(tt),rt,it,st,ot,at=isoDates.length,lt=isoTimes.length;if(nt){for(getParsingFlags($).iso=!0,_=0,et=at;_<et;_++)if(isoDates[_][1].exec(nt[1])){it=isoDates[_][0],rt=isoDates[_][2]!==!1;break}if(it==null){$._isValid=!1;return}if(nt[3]){for(_=0,et=lt;_<et;_++)if(isoTimes[_][1].exec(nt[3])){st=(nt[2]||" ")+isoTimes[_][0];break}if(st==null){$._isValid=!1;return}}if(!rt&&st!=null){$._isValid=!1;return}if(nt[4])if(tzRegex.exec(nt[4]))ot="Z";else{$._isValid=!1;return}$._f=it+(st||"")+(ot||""),configFromStringAndFormat($)}else $._isValid=!1}function extractFromRFC2822Strings($,_,et,tt,nt,rt){var it=[untruncateYear($),defaultLocaleMonthsShort.indexOf(_),parseInt(et,10),parseInt(tt,10),parseInt(nt,10)];return rt&&it.push(parseInt(rt,10)),it}function untruncateYear($){var _=parseInt($,10);return _<=49?2e3+_:_<=999?1900+_:_}function preprocessRFC2822($){return $.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday($,_,et){if($){var tt=defaultLocaleWeekdaysShort.indexOf($),nt=new Date(_[0],_[1],_[2]).getDay();if(tt!==nt)return getParsingFlags(et).weekdayMismatch=!0,et._isValid=!1,!1}return!0}function calculateOffset($,_,et){if($)return obsOffsets[$];if(_)return 0;var tt=parseInt(et,10),nt=tt%100,rt=(tt-nt)/100;return rt*60+nt}function configFromRFC2822($){var _=rfc2822.exec(preprocessRFC2822($._i)),et;if(_){if(et=extractFromRFC2822Strings(_[4],_[3],_[2],_[5],_[6],_[7]),!checkWeekday(_[1],et,$))return;$._a=et,$._tzm=calculateOffset(_[8],_[9],_[10]),$._d=createUTCDate.apply(null,$._a),$._d.setUTCMinutes($._d.getUTCMinutes()-$._tzm),getParsingFlags($).rfc2822=!0}else $._isValid=!1}function configFromString($){var _=aspNetJsonRegex.exec($._i);if(_!==null){$._d=new Date(+_[1]);return}if(configFromISO($),$._isValid===!1)delete $._isValid;else return;if(configFromRFC2822($),$._isValid===!1)delete $._isValid;else return;$._strict?$._isValid=!1:hooks.createFromInputFallback($)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function($){$._d=new Date($._i+($._useUTC?" UTC":""))});function defaults$3($,_,et){return $??_??et}function currentDateArray($){var _=new Date(hooks.now());return $._useUTC?[_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()]:[_.getFullYear(),_.getMonth(),_.getDate()]}function configFromArray($){var _,et,tt=[],nt,rt,it;if(!$._d){for(nt=currentDateArray($),$._w&&$._a[DATE]==null&&$._a[MONTH]==null&&dayOfYearFromWeekInfo($),$._dayOfYear!=null&&(it=defaults$3($._a[YEAR],nt[YEAR]),($._dayOfYear>daysInYear(it)||$._dayOfYear===0)&&(getParsingFlags($)._overflowDayOfYear=!0),et=createUTCDate(it,0,$._dayOfYear),$._a[MONTH]=et.getUTCMonth(),$._a[DATE]=et.getUTCDate()),_=0;_<3&&$._a[_]==null;++_)$._a[_]=tt[_]=nt[_];for(;_<7;_++)$._a[_]=tt[_]=$._a[_]==null?_===2?1:0:$._a[_];$._a[HOUR]===24&&$._a[MINUTE]===0&&$._a[SECOND]===0&&$._a[MILLISECOND]===0&&($._nextDay=!0,$._a[HOUR]=0),$._d=($._useUTC?createUTCDate:createDate).apply(null,tt),rt=$._useUTC?$._d.getUTCDay():$._d.getDay(),$._tzm!=null&&$._d.setUTCMinutes($._d.getUTCMinutes()-$._tzm),$._nextDay&&($._a[HOUR]=24),$._w&&typeof $._w.d<"u"&&$._w.d!==rt&&(getParsingFlags($).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo($){var _,et,tt,nt,rt,it,st,ot,at;_=$._w,_.GG!=null||_.W!=null||_.E!=null?(rt=1,it=4,et=defaults$3(_.GG,$._a[YEAR],weekOfYear(createLocal(),1,4).year),tt=defaults$3(_.W,1),nt=defaults$3(_.E,1),(nt<1||nt>7)&&(ot=!0)):(rt=$._locale._week.dow,it=$._locale._week.doy,at=weekOfYear(createLocal(),rt,it),et=defaults$3(_.gg,$._a[YEAR],at.year),tt=defaults$3(_.w,at.week),_.d!=null?(nt=_.d,(nt<0||nt>6)&&(ot=!0)):_.e!=null?(nt=_.e+rt,(_.e<0||_.e>6)&&(ot=!0)):nt=rt),tt<1||tt>weeksInYear(et,rt,it)?getParsingFlags($)._overflowWeeks=!0:ot!=null?getParsingFlags($)._overflowWeekday=!0:(st=dayOfYearFromWeeks(et,tt,nt,rt,it),$._a[YEAR]=st.year,$._dayOfYear=st.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat($){if($._f===hooks.ISO_8601){configFromISO($);return}if($._f===hooks.RFC_2822){configFromRFC2822($);return}$._a=[],getParsingFlags($).empty=!0;var _=""+$._i,et,tt,nt,rt,it,st=_.length,ot=0,at,lt;for(nt=expandFormat($._f,$._locale).match(formattingTokens)||[],lt=nt.length,et=0;et<lt;et++)rt=nt[et],tt=(_.match(getParseRegexForToken(rt,$))||[])[0],tt&&(it=_.substr(0,_.indexOf(tt)),it.length>0&&getParsingFlags($).unusedInput.push(it),_=_.slice(_.indexOf(tt)+tt.length),ot+=tt.length),formatTokenFunctions[rt]?(tt?getParsingFlags($).empty=!1:getParsingFlags($).unusedTokens.push(rt),addTimeToArrayFromToken(rt,tt,$)):$._strict&&!tt&&getParsingFlags($).unusedTokens.push(rt);getParsingFlags($).charsLeftOver=st-ot,_.length>0&&getParsingFlags($).unusedInput.push(_),$._a[HOUR]<=12&&getParsingFlags($).bigHour===!0&&$._a[HOUR]>0&&(getParsingFlags($).bigHour=void 0),getParsingFlags($).parsedDateParts=$._a.slice(0),getParsingFlags($).meridiem=$._meridiem,$._a[HOUR]=meridiemFixWrap($._locale,$._a[HOUR],$._meridiem),at=getParsingFlags($).era,at!==null&&($._a[YEAR]=$._locale.erasConvertYear(at,$._a[YEAR])),configFromArray($),checkOverflow($)}function meridiemFixWrap($,_,et){var tt;return et==null?_:$.meridiemHour!=null?$.meridiemHour(_,et):($.isPM!=null&&(tt=$.isPM(et),tt&&_<12&&(_+=12),!tt&&_===12&&(_=0)),_)}function configFromStringAndArray($){var _,et,tt,nt,rt,it,st=!1,ot=$._f.length;if(ot===0){getParsingFlags($).invalidFormat=!0,$._d=new Date(NaN);return}for(nt=0;nt<ot;nt++)rt=0,it=!1,_=copyConfig({},$),$._useUTC!=null&&(_._useUTC=$._useUTC),_._f=$._f[nt],configFromStringAndFormat(_),isValid(_)&&(it=!0),rt+=getParsingFlags(_).charsLeftOver,rt+=getParsingFlags(_).unusedTokens.length*10,getParsingFlags(_).score=rt,st?rt<tt&&(tt=rt,et=_):(tt==null||rt<tt||it)&&(tt=rt,et=_,it&&(st=!0));extend$1($,et||_)}function configFromObject($){if(!$._d){var _=normalizeObjectUnits($._i),et=_.day===void 0?_.date:_.day;$._a=map([_.year,_.month,et,_.hour,_.minute,_.second,_.millisecond],function(tt){return tt&&parseInt(tt,10)}),configFromArray($)}}function createFromConfig($){var _=new Moment(checkOverflow(prepareConfig($)));return _._nextDay&&(_.add(1,"d"),_._nextDay=void 0),_}function prepareConfig($){var _=$._i,et=$._f;return $._locale=$._locale||getLocale($._l),_===null||et===void 0&&_===""?createInvalid({nullInput:!0}):(typeof _=="string"&&($._i=_=$._locale.preparse(_)),isMoment(_)?new Moment(checkOverflow(_)):(isDate$1(_)?$._d=_:isArray$3(et)?configFromStringAndArray($):et?configFromStringAndFormat($):configFromInput($),isValid($)||($._d=null),$))}function configFromInput($){var _=$._i;isUndefined$2(_)?$._d=new Date(hooks.now()):isDate$1(_)?$._d=new Date(_.valueOf()):typeof _=="string"?configFromString($):isArray$3(_)?($._a=map(_.slice(0),function(et){return parseInt(et,10)}),configFromArray($)):isObject$2(_)?configFromObject($):isNumber$1(_)?$._d=new Date(_):hooks.createFromInputFallback($)}function createLocalOrUTC($,_,et,tt,nt){var rt={};return(_===!0||_===!1)&&(tt=_,_=void 0),(et===!0||et===!1)&&(tt=et,et=void 0),(isObject$2($)&&isObjectEmpty($)||isArray$3($)&&$.length===0)&&($=void 0),rt._isAMomentObject=!0,rt._useUTC=rt._isUTC=nt,rt._l=et,rt._i=$,rt._f=_,rt._strict=tt,createFromConfig(rt)}function createLocal($,_,et,tt){return createLocalOrUTC($,_,et,tt,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var $=createLocal.apply(null,arguments);return this.isValid()&&$.isValid()?$<this?this:$:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var $=createLocal.apply(null,arguments);return this.isValid()&&$.isValid()?$>this?this:$:createInvalid()});function pickBy($,_){var et,tt;if(_.length===1&&isArray$3(_[0])&&(_=_[0]),!_.length)return createLocal();for(et=_[0],tt=1;tt<_.length;++tt)(!_[tt].isValid()||_[tt][$](et))&&(et=_[tt]);return et}function min$1(){var $=[].slice.call(arguments,0);return pickBy("isBefore",$)}function max$1(){var $=[].slice.call(arguments,0);return pickBy("isAfter",$)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid($){var _,et=!1,tt,nt=ordering.length;for(_ in $)if(hasOwnProp($,_)&&!(indexOf.call(ordering,_)!==-1&&($[_]==null||!isNaN($[_]))))return!1;for(tt=0;tt<nt;++tt)if($[ordering[tt]]){if(et)return!1;parseFloat($[ordering[tt]])!==toInt($[ordering[tt]])&&(et=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration($){var _=normalizeObjectUnits($),et=_.year||0,tt=_.quarter||0,nt=_.month||0,rt=_.week||_.isoWeek||0,it=_.day||0,st=_.hour||0,ot=_.minute||0,at=_.second||0,lt=_.millisecond||0;this._isValid=isDurationValid(_),this._milliseconds=+lt+at*1e3+ot*6e4+st*1e3*60*60,this._days=+it+rt*7,this._months=+nt+tt*3+et*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration($){return $ instanceof Duration}function absRound($){return $<0?Math.round(-1*$)*-1:Math.round($)}function compareArrays($,_,et){var tt=Math.min($.length,_.length),nt=Math.abs($.length-_.length),rt=0,it;for(it=0;it<tt;it++)(et&&$[it]!==_[it]||!et&&toInt($[it])!==toInt(_[it]))&&rt++;return rt+nt}function offset($,_){addFormatToken($,0,0,function(){var et=this.utcOffset(),tt="+";return et<0&&(et=-et,tt="-"),tt+zeroFill(~~(et/60),2)+_+zeroFill(~~et%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function($,_,et){et._useUTC=!0,et._tzm=offsetFromString(matchShortOffset,$)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString($,_){var et=(_||"").match($),tt,nt,rt;return et===null?null:(tt=et[et.length-1]||[],nt=(tt+"").match(chunkOffset)||["-",0,0],rt=+(nt[1]*60)+toInt(nt[2]),rt===0?0:nt[0]==="+"?rt:-rt)}function cloneWithOffset($,_){var et,tt;return _._isUTC?(et=_.clone(),tt=(isMoment($)||isDate$1($)?$.valueOf():createLocal($).valueOf())-et.valueOf(),et._d.setTime(et._d.valueOf()+tt),hooks.updateOffset(et,!1),et):createLocal($).local()}function getDateOffset($){return-Math.round($._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset($,_,et){var tt=this._offset||0,nt;if(!this.isValid())return $!=null?this:NaN;if($!=null){if(typeof $=="string"){if($=offsetFromString(matchShortOffset,$),$===null)return this}else Math.abs($)<16&&!et&&($=$*60);return!this._isUTC&&_&&(nt=getDateOffset(this)),this._offset=$,this._isUTC=!0,nt!=null&&this.add(nt,"m"),tt!==$&&(!_||this._changeInProgress?addSubtract(this,createDuration($-tt,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?tt:getDateOffset(this)}function getSetZone($,_){return $!=null?(typeof $!="string"&&($=-$),this.utcOffset($,_),this):-this.utcOffset()}function setOffsetToUTC($){return this.utcOffset(0,$)}function setOffsetToLocal($){return this._isUTC&&(this.utcOffset(0,$),this._isUTC=!1,$&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var $=offsetFromString(matchOffset,this._i);$!=null?this.utcOffset($):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset($){return this.isValid()?($=$?createLocal($).utcOffset():0,(this.utcOffset()-$)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$2(this._isDSTShifted))return this._isDSTShifted;var $={},_;return copyConfig($,this),$=prepareConfig($),$._a?(_=$._isUTC?createUTC($._a):createLocal($._a),this._isDSTShifted=this.isValid()&&compareArrays($._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration($,_){var et=$,tt=null,nt,rt,it;return isDuration($)?et={ms:$._milliseconds,d:$._days,M:$._months}:isNumber$1($)||!isNaN(+$)?(et={},_?et[_]=+$:et.milliseconds=+$):(tt=aspNetRegex.exec($))?(nt=tt[1]==="-"?-1:1,et={y:0,d:toInt(tt[DATE])*nt,h:toInt(tt[HOUR])*nt,m:toInt(tt[MINUTE])*nt,s:toInt(tt[SECOND])*nt,ms:toInt(absRound(tt[MILLISECOND]*1e3))*nt}):(tt=isoRegex.exec($))?(nt=tt[1]==="-"?-1:1,et={y:parseIso(tt[2],nt),M:parseIso(tt[3],nt),w:parseIso(tt[4],nt),d:parseIso(tt[5],nt),h:parseIso(tt[6],nt),m:parseIso(tt[7],nt),s:parseIso(tt[8],nt)}):et==null?et={}:typeof et=="object"&&("from"in et||"to"in et)&&(it=momentsDifference(createLocal(et.from),createLocal(et.to)),et={},et.ms=it.milliseconds,et.M=it.months),rt=new Duration(et),isDuration($)&&hasOwnProp($,"_locale")&&(rt._locale=$._locale),isDuration($)&&hasOwnProp($,"_isValid")&&(rt._isValid=$._isValid),rt}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso($,_){var et=$&&parseFloat($.replace(",","."));return(isNaN(et)?0:et)*_}function positiveMomentsDifference($,_){var et={};return et.months=_.month()-$.month()+(_.year()-$.year())*12,$.clone().add(et.months,"M").isAfter(_)&&--et.months,et.milliseconds=+_-+$.clone().add(et.months,"M"),et}function momentsDifference($,_){var et;return $.isValid()&&_.isValid()?(_=cloneWithOffset(_,$),$.isBefore(_)?et=positiveMomentsDifference($,_):(et=positiveMomentsDifference(_,$),et.milliseconds=-et.milliseconds,et.months=-et.months),et):{milliseconds:0,months:0}}function createAdder($,_){return function(et,tt){var nt,rt;return tt!==null&&!isNaN(+tt)&&(deprecateSimple(_,"moment()."+_+"(period, number) is deprecated. Please use moment()."+_+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),rt=et,et=tt,tt=rt),nt=createDuration(et,tt),addSubtract(this,nt,$),this}}function addSubtract($,_,et,tt){var nt=_._milliseconds,rt=absRound(_._days),it=absRound(_._months);$.isValid()&&(tt=tt??!0,it&&setMonth($,get$1($,"Month")+it*et),rt&&set$1$1($,"Date",get$1($,"Date")+rt*et),nt&&$._d.setTime($._d.valueOf()+nt*et),tt&&hooks.updateOffset($,rt||it))}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$3($){return typeof $=="string"||$ instanceof String}function isMomentInput($){return isMoment($)||isDate$1($)||isString$3($)||isNumber$1($)||isNumberOrStringArray($)||isMomentInputObject($)||$===null||$===void 0}function isMomentInputObject($){var _=isObject$2($)&&!isObjectEmpty($),et=!1,tt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],nt,rt,it=tt.length;for(nt=0;nt<it;nt+=1)rt=tt[nt],et=et||hasOwnProp($,rt);return _&&et}function isNumberOrStringArray($){var _=isArray$3($),et=!1;return _&&(et=$.filter(function(tt){return!isNumber$1(tt)&&isString$3($)}).length===0),_&&et}function isCalendarSpec($){var _=isObject$2($)&&!isObjectEmpty($),et=!1,tt=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],nt,rt;for(nt=0;nt<tt.length;nt+=1)rt=tt[nt],et=et||hasOwnProp($,rt);return _&&et}function getCalendarFormat($,_){var et=$.diff(_,"days",!0);return et<-6?"sameElse":et<-1?"lastWeek":et<0?"lastDay":et<1?"sameDay":et<2?"nextDay":et<7?"nextWeek":"sameElse"}function calendar$1($,_){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?($=arguments[0],_=void 0):isCalendarSpec(arguments[0])&&(_=arguments[0],$=void 0):($=void 0,_=void 0));var et=$||createLocal(),tt=cloneWithOffset(et,this).startOf("day"),nt=hooks.calendarFormat(this,tt)||"sameElse",rt=_&&(isFunction$3(_[nt])?_[nt].call(this,et):_[nt]);return this.format(rt||this.localeData().calendar(nt,this,createLocal(et)))}function clone(){return new Moment(this)}function isAfter($,_){var et=isMoment($)?$:createLocal($);return this.isValid()&&et.isValid()?(_=normalizeUnits(_)||"millisecond",_==="millisecond"?this.valueOf()>et.valueOf():et.valueOf()<this.clone().startOf(_).valueOf()):!1}function isBefore($,_){var et=isMoment($)?$:createLocal($);return this.isValid()&&et.isValid()?(_=normalizeUnits(_)||"millisecond",_==="millisecond"?this.valueOf()<et.valueOf():this.clone().endOf(_).valueOf()<et.valueOf()):!1}function isBetween($,_,et,tt){var nt=isMoment($)?$:createLocal($),rt=isMoment(_)?_:createLocal(_);return this.isValid()&&nt.isValid()&&rt.isValid()?(tt=tt||"()",(tt[0]==="("?this.isAfter(nt,et):!this.isBefore(nt,et))&&(tt[1]===")"?this.isBefore(rt,et):!this.isAfter(rt,et))):!1}function isSame($,_){var et=isMoment($)?$:createLocal($),tt;return this.isValid()&&et.isValid()?(_=normalizeUnits(_)||"millisecond",_==="millisecond"?this.valueOf()===et.valueOf():(tt=et.valueOf(),this.clone().startOf(_).valueOf()<=tt&&tt<=this.clone().endOf(_).valueOf())):!1}function isSameOrAfter($,_){return this.isSame($,_)||this.isAfter($,_)}function isSameOrBefore($,_){return this.isSame($,_)||this.isBefore($,_)}function diff($,_,et){var tt,nt,rt;if(!this.isValid())return NaN;if(tt=cloneWithOffset($,this),!tt.isValid())return NaN;switch(nt=(tt.utcOffset()-this.utcOffset())*6e4,_=normalizeUnits(_),_){case"year":rt=monthDiff(this,tt)/12;break;case"month":rt=monthDiff(this,tt);break;case"quarter":rt=monthDiff(this,tt)/3;break;case"second":rt=(this-tt)/1e3;break;case"minute":rt=(this-tt)/6e4;break;case"hour":rt=(this-tt)/36e5;break;case"day":rt=(this-tt-nt)/864e5;break;case"week":rt=(this-tt-nt)/6048e5;break;default:rt=this-tt}return et?rt:absFloor(rt)}function monthDiff($,_){if($.date()<_.date())return-monthDiff(_,$);var et=(_.year()-$.year())*12+(_.month()-$.month()),tt=$.clone().add(et,"months"),nt,rt;return _-tt<0?(nt=$.clone().add(et-1,"months"),rt=(_-tt)/(tt-nt)):(nt=$.clone().add(et+1,"months"),rt=(_-tt)/(nt-tt)),-(et+rt)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString($){if(!this.isValid())return null;var _=$!==!0,et=_?this.clone().utc():this;return et.year()<0||et.year()>9999?formatMoment(et,_?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$3(Date.prototype.toISOString)?_?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(et,"Z")):formatMoment(et,_?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var $="moment",_="",et,tt,nt,rt;return this.isLocal()||($=this.utcOffset()===0?"moment.utc":"moment.parseZone",_="Z"),et="["+$+'("]',tt=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",nt="-MM-DD[T]HH:mm:ss.SSS",rt=_+'[")]',this.format(et+tt+nt+rt)}function format($){$||($=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var _=formatMoment(this,$);return this.localeData().postformat(_)}function from$1($,_){return this.isValid()&&(isMoment($)&&$.isValid()||createLocal($).isValid())?createDuration({to:this,from:$}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function fromNow($){return this.from(createLocal(),$)}function to($,_){return this.isValid()&&(isMoment($)&&$.isValid()||createLocal($).isValid())?createDuration({from:this,to:$}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function toNow($){return this.to(createLocal(),$)}function locale($){var _;return $===void 0?this._locale._abbr:(_=getLocale($),_!=null&&(this._locale=_),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function($){return $===void 0?this.localeData():this.locale($)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1($,_){return($%_+_)%_}function localStartOfDate($,_,et){return $<100&&$>=0?new Date($+400,_,et)-MS_PER_400_YEARS:new Date($,_,et).valueOf()}function utcStartOfDate($,_,et){return $<100&&$>=0?Date.UTC($+400,_,et)-MS_PER_400_YEARS:Date.UTC($,_,et)}function startOf($){var _,et;if($=normalizeUnits($),$===void 0||$==="millisecond"||!this.isValid())return this;switch(et=this._isUTC?utcStartOfDate:localStartOfDate,$){case"year":_=et(this.year(),0,1);break;case"quarter":_=et(this.year(),this.month()-this.month()%3,1);break;case"month":_=et(this.year(),this.month(),1);break;case"week":_=et(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_=et(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_=et(this.year(),this.month(),this.date());break;case"hour":_=this._d.valueOf(),_-=mod$1(_+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":_=this._d.valueOf(),_-=mod$1(_,MS_PER_MINUTE);break;case"second":_=this._d.valueOf(),_-=mod$1(_,MS_PER_SECOND);break}return this._d.setTime(_),hooks.updateOffset(this,!0),this}function endOf($){var _,et;if($=normalizeUnits($),$===void 0||$==="millisecond"||!this.isValid())return this;switch(et=this._isUTC?utcStartOfDate:localStartOfDate,$){case"year":_=et(this.year()+1,0,1)-1;break;case"quarter":_=et(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_=et(this.year(),this.month()+1,1)-1;break;case"week":_=et(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_=et(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_=et(this.year(),this.month(),this.date()+1)-1;break;case"hour":_=this._d.valueOf(),_+=MS_PER_HOUR-mod$1(_+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":_=this._d.valueOf(),_+=MS_PER_MINUTE-mod$1(_,MS_PER_MINUTE)-1;break;case"second":_=this._d.valueOf(),_+=MS_PER_SECOND-mod$1(_,MS_PER_SECOND)-1;break}return this._d.setTime(_),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray$1(){var $=this;return[$.year(),$.month(),$.date(),$.hour(),$.minute(),$.second(),$.millisecond()]}function toObject(){var $=this;return{years:$.year(),months:$.month(),date:$.date(),hours:$.hours(),minutes:$.minutes(),seconds:$.seconds(),milliseconds:$.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function($,_,et,tt){var nt=et._locale.erasParse($,tt,et._strict);nt?getParsingFlags(et).era=nt:getParsingFlags(et).invalidEra=$});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function($,_,et,tt){var nt;et._locale._eraYearOrdinalRegex&&(nt=$.match(et._locale._eraYearOrdinalRegex)),et._locale.eraYearOrdinalParse?_[YEAR]=et._locale.eraYearOrdinalParse($,nt):_[YEAR]=parseInt($,10)});function localeEras($,_){var et,tt,nt,rt=this._eras||getLocale("en")._eras;for(et=0,tt=rt.length;et<tt;++et){switch(typeof rt[et].since){case"string":nt=hooks(rt[et].since).startOf("day"),rt[et].since=nt.valueOf();break}switch(typeof rt[et].until){case"undefined":rt[et].until=1/0;break;case"string":nt=hooks(rt[et].until).startOf("day").valueOf(),rt[et].until=nt.valueOf();break}}return rt}function localeErasParse($,_,et){var tt,nt,rt=this.eras(),it,st,ot;for($=$.toUpperCase(),tt=0,nt=rt.length;tt<nt;++tt)if(it=rt[tt].name.toUpperCase(),st=rt[tt].abbr.toUpperCase(),ot=rt[tt].narrow.toUpperCase(),et)switch(_){case"N":case"NN":case"NNN":if(st===$)return rt[tt];break;case"NNNN":if(it===$)return rt[tt];break;case"NNNNN":if(ot===$)return rt[tt];break}else if([it,st,ot].indexOf($)>=0)return rt[tt]}function localeErasConvertYear($,_){var et=$.since<=$.until?1:-1;return _===void 0?hooks($.since).year():hooks($.since).year()+(_-$.offset)*et}function getEraName(){var $,_,et,tt=this.localeData().eras();for($=0,_=tt.length;$<_;++$)if(et=this.clone().startOf("day").valueOf(),tt[$].since<=et&&et<=tt[$].until||tt[$].until<=et&&et<=tt[$].since)return tt[$].name;return""}function getEraNarrow(){var $,_,et,tt=this.localeData().eras();for($=0,_=tt.length;$<_;++$)if(et=this.clone().startOf("day").valueOf(),tt[$].since<=et&&et<=tt[$].until||tt[$].until<=et&&et<=tt[$].since)return tt[$].narrow;return""}function getEraAbbr(){var $,_,et,tt=this.localeData().eras();for($=0,_=tt.length;$<_;++$)if(et=this.clone().startOf("day").valueOf(),tt[$].since<=et&&et<=tt[$].until||tt[$].until<=et&&et<=tt[$].since)return tt[$].abbr;return""}function getEraYear(){var $,_,et,tt,nt=this.localeData().eras();for($=0,_=nt.length;$<_;++$)if(et=nt[$].since<=nt[$].until?1:-1,tt=this.clone().startOf("day").valueOf(),nt[$].since<=tt&&tt<=nt[$].until||nt[$].until<=tt&&tt<=nt[$].since)return(this.year()-hooks(nt[$].since).year())*et+nt[$].offset;return this.year()}function erasNameRegex($){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),$?this._erasNameRegex:this._erasRegex}function erasAbbrRegex($){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),$?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex($){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),$?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr($,_){return _.erasAbbrRegex($)}function matchEraName($,_){return _.erasNameRegex($)}function matchEraNarrow($,_){return _.erasNarrowRegex($)}function matchEraYearOrdinal($,_){return _._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var $=[],_=[],et=[],tt=[],nt,rt,it,st,ot,at=this.eras();for(nt=0,rt=at.length;nt<rt;++nt)it=regexEscape(at[nt].name),st=regexEscape(at[nt].abbr),ot=regexEscape(at[nt].narrow),_.push(it),$.push(st),et.push(ot),tt.push(it),tt.push(st),tt.push(ot);this._erasRegex=new RegExp("^("+tt.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+$.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+et.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken($,_){addFormatToken(0,[$,$.length],0,_)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function($,_,et,tt){_[tt.substr(0,2)]=toInt($)});addWeekParseToken(["gg","GG"],function($,_,et,tt){_[tt]=hooks.parseTwoDigitYear($)});function getSetWeekYear($){return getSetWeekYearHelper.call(this,$,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear($){return getSetWeekYearHelper.call(this,$,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var $=this.localeData()._week;return weeksInYear(this.year(),$.dow,$.doy)}function getWeeksInWeekYear(){var $=this.localeData()._week;return weeksInYear(this.weekYear(),$.dow,$.doy)}function getSetWeekYearHelper($,_,et,tt,nt){var rt;return $==null?weekOfYear(this,tt,nt).year:(rt=weeksInYear($,tt,nt),_>rt&&(_=rt),setWeekAll.call(this,$,_,et,tt,nt))}function setWeekAll($,_,et,tt,nt){var rt=dayOfYearFromWeeks($,_,et,tt,nt),it=createUTCDate(rt.year,0,rt.dayOfYear);return this.year(it.getUTCFullYear()),this.month(it.getUTCMonth()),this.date(it.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function($,_){_[MONTH]=(toInt($)-1)*3});function getSetQuarter($){return $==null?Math.ceil((this.month()+1)/3):this.month(($-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function($,_){return $?_._dayOfMonthOrdinalParse||_._ordinalParse:_._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function($,_){_[DATE]=toInt($.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function($,_,et){et._dayOfYear=toInt($)});function getSetDayOfYear($){var _=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return $==null?_:this.add($-_,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token$1,getSetMillisecond;for(token$1="SSSS";token$1.length<=9;token$1+="S")addRegexToken(token$1,matchUnsigned);function parseMs($,_){_[MILLISECOND]=toInt(("0."+$)*1e3)}for(token$1="S";token$1.length<=9;token$1+="S")addParseToken(token$1,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from$1;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray$1;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix($){return createLocal($*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat($){return $}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$1;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1($,_,et,tt){var nt=getLocale(),rt=createUTC().set(tt,_);return nt[et](rt,$)}function listMonthsImpl($,_,et){if(isNumber$1($)&&(_=$,$=void 0),$=$||"",_!=null)return get$1$1($,_,et,"month");var tt,nt=[];for(tt=0;tt<12;tt++)nt[tt]=get$1$1($,tt,et,"month");return nt}function listWeekdaysImpl($,_,et,tt){typeof $=="boolean"?(isNumber$1(_)&&(et=_,_=void 0),_=_||""):(_=$,et=_,$=!1,isNumber$1(_)&&(et=_,_=void 0),_=_||"");var nt=getLocale(),rt=$?nt._week.dow:0,it,st=[];if(et!=null)return get$1$1(_,(et+rt)%7,tt,"day");for(it=0;it<7;it++)st[it]=get$1$1(_,(it+rt)%7,tt,"day");return st}function listMonths($,_){return listMonthsImpl($,_,"months")}function listMonthsShort($,_){return listMonthsImpl($,_,"monthsShort")}function listWeekdays($,_,et){return listWeekdaysImpl($,_,et,"weekdays")}function listWeekdaysShort($,_,et){return listWeekdaysImpl($,_,et,"weekdaysShort")}function listWeekdaysMin($,_,et){return listWeekdaysImpl($,_,et,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function($){var _=$%10,et=toInt($%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th";return $+et}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs$1(){var $=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),$.milliseconds=mathAbs($.milliseconds),$.seconds=mathAbs($.seconds),$.minutes=mathAbs($.minutes),$.hours=mathAbs($.hours),$.months=mathAbs($.months),$.years=mathAbs($.years),this}function addSubtract$1($,_,et,tt){var nt=createDuration(_,et);return $._milliseconds+=tt*nt._milliseconds,$._days+=tt*nt._days,$._months+=tt*nt._months,$._bubble()}function add$1($,_){return addSubtract$1(this,$,_,1)}function subtract$1($,_){return addSubtract$1(this,$,_,-1)}function absCeil($){return $<0?Math.floor($):Math.ceil($)}function bubble(){var $=this._milliseconds,_=this._days,et=this._months,tt=this._data,nt,rt,it,st,ot;return $>=0&&_>=0&&et>=0||$<=0&&_<=0&&et<=0||($+=absCeil(monthsToDays(et)+_)*864e5,_=0,et=0),tt.milliseconds=$%1e3,nt=absFloor($/1e3),tt.seconds=nt%60,rt=absFloor(nt/60),tt.minutes=rt%60,it=absFloor(rt/60),tt.hours=it%24,_+=absFloor(it/24),ot=absFloor(daysToMonths(_)),et+=ot,_-=absCeil(monthsToDays(ot)),st=absFloor(et/12),et%=12,tt.days=_,tt.months=et,tt.years=st,this}function daysToMonths($){return $*4800/146097}function monthsToDays($){return $*146097/4800}function as($){if(!this.isValid())return NaN;var _,et,tt=this._milliseconds;if($=normalizeUnits($),$==="month"||$==="quarter"||$==="year")switch(_=this._days+tt/864e5,et=this._months+daysToMonths(_),$){case"month":return et;case"quarter":return et/3;case"year":return et/12}else switch(_=this._days+Math.round(monthsToDays(this._months)),$){case"week":return _/7+tt/6048e5;case"day":return _+tt/864e5;case"hour":return _*24+tt/36e5;case"minute":return _*1440+tt/6e4;case"second":return _*86400+tt/1e3;case"millisecond":return Math.floor(_*864e5)+tt;default:throw new Error("Unknown unit "+$)}}function makeAs($){return function(){return this.as($)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1(){return createDuration(this)}function get$2($){return $=normalizeUnits($),this.isValid()?this[$+"s"]():NaN}function makeGetter($){return function(){return this.isValid()?this._data[$]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$1=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo($,_,et,tt,nt){return nt.relativeTime(_||1,!!et,$,tt)}function relativeTime$1($,_,et,tt){var nt=createDuration($).abs(),rt=round$1(nt.as("s")),it=round$1(nt.as("m")),st=round$1(nt.as("h")),ot=round$1(nt.as("d")),at=round$1(nt.as("M")),lt=round$1(nt.as("w")),ct=round$1(nt.as("y")),dt=rt<=et.ss&&["s",rt]||rt<et.s&&["ss",rt]||it<=1&&["m"]||it<et.m&&["mm",it]||st<=1&&["h"]||st<et.h&&["hh",st]||ot<=1&&["d"]||ot<et.d&&["dd",ot];return et.w!=null&&(dt=dt||lt<=1&&["w"]||lt<et.w&&["ww",lt]),dt=dt||at<=1&&["M"]||at<et.M&&["MM",at]||ct<=1&&["y"]||["yy",ct],dt[2]=_,dt[3]=+$>0,dt[4]=tt,substituteTimeAgo.apply(null,dt)}function getSetRelativeTimeRounding($){return $===void 0?round$1:typeof $=="function"?(round$1=$,!0):!1}function getSetRelativeTimeThreshold($,_){return thresholds[$]===void 0?!1:_===void 0?thresholds[$]:(thresholds[$]=_,$==="s"&&(thresholds.ss=_-1),!0)}function humanize($,_){if(!this.isValid())return this.localeData().invalidDate();var et=!1,tt=thresholds,nt,rt;return typeof $=="object"&&(_=$,$=!1),typeof $=="boolean"&&(et=$),typeof _=="object"&&(tt=Object.assign({},thresholds,_),_.s!=null&&_.ss==null&&(tt.ss=_.s-1)),nt=this.localeData(),rt=relativeTime$1(this,!et,tt,nt),et&&(rt=nt.pastFuture(+this,rt)),nt.postformat(rt)}var abs$1$1=Math.abs;function sign($){return($>0)-($<0)||+$}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var $=abs$1$1(this._milliseconds)/1e3,_=abs$1$1(this._days),et=abs$1$1(this._months),tt,nt,rt,it,st=this.asSeconds(),ot,at,lt,ct;return st?(tt=absFloor($/60),nt=absFloor(tt/60),$%=60,tt%=60,rt=absFloor(et/12),et%=12,it=$?$.toFixed(3).replace(/\.?0+$/,""):"",ot=st<0?"-":"",at=sign(this._months)!==sign(st)?"-":"",lt=sign(this._days)!==sign(st)?"-":"",ct=sign(this._milliseconds)!==sign(st)?"-":"",ot+"P"+(rt?at+rt+"Y":"")+(et?at+et+"M":"")+(_?lt+_+"D":"")+(nt||tt||$?"T":"")+(nt?ct+nt+"H":"")+(tt?ct+tt+"M":"")+($?ct+it+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs$1;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function($,_,et){et._d=new Date(parseFloat($)*1e3)});addParseToken("x",function($,_,et){et._d=new Date(toInt($))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$1;hooks.max=max$1;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Card=({data:$})=>{const _=useNavigate(),et=JSON.parse(localStorage.getItem("user")),{docId:tt,jobId:nt,jobCompanyLogo:rt,jobTitle:it,jobCompany:st,jobCompanyAddress:ot,employmentType:at,jobMinimumSalary:lt,jobMaximumSalary:ct,postingDate:dt,jobDescription:_t,jobPostedAt:pt}=$;return console.log($),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("section",{className:"card",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row items-start",onClick:()=>_(`/jobs/${tt}`),children:[jsxRuntimeExports.jsx("img",{src:rt,alt:"",className:"w-16 h-16 mb-4"}),jsxRuntimeExports.jsxs("div",{className:"card-details",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:it}),jsxRuntimeExports.jsx("h4",{className:"text-primary mb-1",children:st}),jsxRuntimeExports.jsxs("div",{className:"text-primary/70 text-base flex flex-wrap gap-2 mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiMapPin,{})," ",ot]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiClock,{})," ",at]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiDollarSign,{})," ",lt,"-",ct,"k"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiCalendar,{})," ",dt]})]}),jsxRuntimeExports.jsx("p",{className:"text-base text-primary/70",children:_t}),jsxRuntimeExports.jsxs("h4",{className:"text-primary mb-1 font-semibold mt-3",children:["Posted ",hooks(pt==null?void 0:pt.toDate()).fromNow()]})]}),(et==null?void 0:et.role)==="candidate"&&jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue py-2 px-8 text-white rounded",children:"Apply Now"})]})})})},Newsletter=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold mb-2 flex items-center gap-2",children:[" ",jsxRuntimeExports.jsx(FaEnvelopeOpenText,{})," Email me for jobs"]}),jsxRuntimeExports.jsx("p",{className:"text-primary/75 text-base mb-4",children:"Ut esse eiusmod aute. Sit enim labore dolore. Aute ea fugiat commodo ea foes."}),jsxRuntimeExports.jsxs("div",{className:"w-full space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"name@mail.com",className:"w-full block py-2 pl-3 border focus:outline-none"}),jsxRuntimeExports.jsx("input",{type:"submit",value:"Subcribe",className:"w-full block py-2 bg-blue rounded-sm text-white cursor-pointer font-semibold"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-20",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaRocket,{})," Get noticed faster"]}),jsxRuntimeExports.jsx("p",{className:"text-primary/75 text-base mb-4",children:"Ut esse eiusmod aute. Sit enim labore dolore. Aute ea fugiat commodo ea foes."}),jsxRuntimeExports.jsx("div",{className:"w-full space-y-4",children:jsxRuntimeExports.jsx("input",{type:"submit",value:"Upload your resume",className:"w-full block py-2 bg-blue rounded-sm text-white cursor-pointer font-semibold"})})]})]});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$1,goog=goog||{},l$3=commonjsGlobal||self;function aa($){var _=typeof $;return _=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"}function p$3($){var _=typeof $;return _=="object"&&$!=null||_=="function"}function ba($){return Object.prototype.hasOwnProperty.call($,ca)&&$[ca]||($[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea($,_,et){return $.call.apply($.bind,arguments)}function fa($,_,et){if(!$)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(nt,tt),$.apply(_,nt)}}return function(){return $.apply(_,arguments)}}function q$1($,_,et){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=ea:q$1=fa,q$1.apply(null,arguments)}function ha($,_){var et=Array.prototype.slice.call(arguments,1);return function(){var tt=et.slice();return tt.push.apply(tt,arguments),$.apply(this,tt)}}function r$2($,_){function et(){}et.prototype=_.prototype,$.$=_.prototype,$.prototype=new et,$.prototype.constructor=$,$.ac=function(tt,nt,rt){for(var it=Array(arguments.length-2),st=2;st<arguments.length;st++)it[st-2]=arguments[st];return _.prototype[nt].apply(tt,it)}}function v$3(){this.s=this.s,this.o=this.o}var ia=0;v$3.prototype.s=!1;v$3.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$3.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function($,_){return Array.prototype.indexOf.call($,_,void 0)}:function($,_){if(typeof $=="string")return typeof _!="string"||_.length!=1?-1:$.indexOf(_,0);for(let et=0;et<$.length;et++)if(et in $&&$[et]===_)return et;return-1};function ma($){const _=$.length;if(0<_){const et=Array(_);for(let tt=0;tt<_;tt++)et[tt]=$[tt];return et}return[]}function na($,_){for(let et=1;et<arguments.length;et++){const tt=arguments[et];if(aa(tt)){const nt=$.length||0,rt=tt.length||0;$.length=nt+rt;for(let it=0;it<rt;it++)$[nt+it]=tt[it]}else $.push(tt)}}function w$3($,_){this.type=$,this.g=this.target=_,this.defaultPrevented=!1}w$3.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l$3.addEventListener||!Object.defineProperty)return!1;var $=!1,_=Object.defineProperty({},"passive",{get:function(){$=!0}});try{const et=()=>{};l$3.addEventListener("test",et,_),l$3.removeEventListener("test",et,_)}catch{}return $}();function x$2($){return/^[\s\xa0]*$/.test($)}function pa(){var $=l$3.navigator;return $&&($=$.userAgent)?$:""}function y$2($){return pa().indexOf($)!=-1}function qa($){return qa[" "]($),$}qa[" "]=function(){};function ra($,_){var et=sa;return Object.prototype.hasOwnProperty.call(et,$)?et[$]:et[$]=_($)}var ta=y$2("Opera"),z$2=y$2("Trident")||y$2("MSIE"),ua=y$2("Edge"),va=ua||z$2,wa=y$2("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y$2("Edge"))&&!(y$2("Trident")||y$2("MSIE"))&&!y$2("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y$2("Edge");function ya(){var $=l$3.document;return $?$.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var $=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec($);if(ua)return/Edge\/([\d\.]+)/.exec($);if(z$2)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($);if(xa)return/WebKit\/(\S+)/.exec($);if(ta)return/(?:Version)[ \/]?(\S+)/.exec($)}();if(Ba&&(Aa=Ba?Ba[1]:""),z$2){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l$3.document&&z$2){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A$1($,_){if(w$3.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var et=this.type=$.type,tt=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=_,_=$.relatedTarget){if(wa){e:{try{qa(_.nodeName);var nt=!0;break e}catch{}nt=!1}nt||(_=null)}}else et=="mouseover"?_=$.fromElement:et=="mouseout"&&(_=$.toElement);this.relatedTarget=_,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType=typeof $.pointerType=="string"?$.pointerType:Ga[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&A$1.$.h.call(this)}}r$2(A$1,w$3);var Ga={2:"touch",3:"pen",4:"mouse"};A$1.prototype.h=function(){A$1.$.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja($,_,et,tt,nt){this.listener=$,this.proxy=null,this.src=_,this.type=et,this.capture=!!tt,this.la=nt,this.key=++Ia,this.fa=this.ia=!1}function Ma($){$.fa=!0,$.listener=null,$.proxy=null,$.src=null,$.la=null}function Na($,_,et){for(const tt in $)_.call(et,$[tt],tt,$)}function Oa($,_){for(const et in $)_.call(void 0,$[et],et,$)}function Pa($){const _={};for(const et in $)_[et]=$[et];return _}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra($,_){let et,tt;for(let nt=1;nt<arguments.length;nt++){tt=arguments[nt];for(et in tt)$[et]=tt[et];for(let rt=0;rt<Qa.length;rt++)et=Qa[rt],Object.prototype.hasOwnProperty.call(tt,et)&&($[et]=tt[et])}}function Sa($){this.src=$,this.g={},this.h=0}Sa.prototype.add=function($,_,et,tt,nt){var rt=$.toString();$=this.g[rt],$||($=this.g[rt]=[],this.h++);var it=Ta($,_,tt,nt);return-1<it?(_=$[it],et||(_.ia=!1)):(_=new Ja(_,this.src,rt,!!tt,nt),_.ia=et,$.push(_)),_};function Ua($,_){var et=_.type;if(et in $.g){var tt=$.g[et],nt=ka(tt,_),rt;(rt=0<=nt)&&Array.prototype.splice.call(tt,nt,1),rt&&(Ma(_),$.g[et].length==0&&(delete $.g[et],$.h--))}}function Ta($,_,et,tt){for(var nt=0;nt<$.length;++nt){var rt=$[nt];if(!rt.fa&&rt.listener==_&&rt.capture==!!et&&rt.la==tt)return nt}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya($,_,et,tt,nt){if(tt&&tt.once)return Za($,_,et,tt,nt);if(Array.isArray(_)){for(var rt=0;rt<_.length;rt++)Ya($,_[rt],et,tt,nt);return null}return et=$a(et),$&&$[Ha]?$.O(_,et,p$3(tt)?!!tt.capture:!!tt,nt):ab($,_,et,!1,tt,nt)}function ab($,_,et,tt,nt,rt){if(!_)throw Error("Invalid event type");var it=p$3(nt)?!!nt.capture:!!nt,st=bb($);if(st||($[Va]=st=new Sa($)),et=st.add(_,et,tt,it,rt),et.proxy)return et;if(tt=cb(),et.proxy=tt,tt.src=$,tt.listener=et,$.addEventListener)oa||(nt=it),nt===void 0&&(nt=!1),$.addEventListener(_.toString(),tt,nt);else if($.attachEvent)$.attachEvent(db(_.toString()),tt);else if($.addListener&&$.removeListener)$.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return et}function cb(){function $(et){return _.call($.src,$.listener,et)}const _=eb;return $}function Za($,_,et,tt,nt){if(Array.isArray(_)){for(var rt=0;rt<_.length;rt++)Za($,_[rt],et,tt,nt);return null}return et=$a(et),$&&$[Ha]?$.P(_,et,p$3(tt)?!!tt.capture:!!tt,nt):ab($,_,et,!0,tt,nt)}function fb($,_,et,tt,nt){if(Array.isArray(_))for(var rt=0;rt<_.length;rt++)fb($,_[rt],et,tt,nt);else tt=p$3(tt)?!!tt.capture:!!tt,et=$a(et),$&&$[Ha]?($=$.i,_=String(_).toString(),_ in $.g&&(rt=$.g[_],et=Ta(rt,et,tt,nt),-1<et&&(Ma(rt[et]),Array.prototype.splice.call(rt,et,1),rt.length==0&&(delete $.g[_],$.h--)))):$&&($=bb($))&&(_=$.g[_.toString()],$=-1,_&&($=Ta(_,et,tt,nt)),(et=-1<$?_[$]:null)&&gb(et))}function gb($){if(typeof $!="number"&&$&&!$.fa){var _=$.src;if(_&&_[Ha])Ua(_.i,$);else{var et=$.type,tt=$.proxy;_.removeEventListener?_.removeEventListener(et,tt,$.capture):_.detachEvent?_.detachEvent(db(et),tt):_.addListener&&_.removeListener&&_.removeListener(tt),(et=bb(_))?(Ua(et,$),et.h==0&&(et.src=null,_[Va]=null)):Ma($)}}}function db($){return $ in Wa?Wa[$]:Wa[$]="on"+$}function eb($,_){if($.fa)$=!0;else{_=new A$1(_,this);var et=$.listener,tt=$.la||$.src;$.ia&&gb($),$=et.call(tt,_)}return $}function bb($){return $=$[Va],$ instanceof Sa?$:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a($){return typeof $=="function"?$:($[hb]||($[hb]=function(_){return $.handleEvent(_)}),$[hb])}function B(){v$3.call(this),this.i=new Sa(this),this.S=this,this.J=null}r$2(B,v$3);B.prototype[Ha]=!0;B.prototype.removeEventListener=function($,_,et,tt){fb(this,$,_,et,tt)};function C$1($,_){var et,tt=$.J;if(tt)for(et=[];tt;tt=tt.J)et.push(tt);if($=$.S,tt=_.type||_,typeof _=="string")_=new w$3(_,$);else if(_ instanceof w$3)_.target=_.target||$;else{var nt=_;_=new w$3(tt,$),Ra(_,nt)}if(nt=!0,et)for(var rt=et.length-1;0<=rt;rt--){var it=_.g=et[rt];nt=ib(it,tt,!0,_)&&nt}if(it=_.g=$,nt=ib(it,tt,!0,_)&&nt,nt=ib(it,tt,!1,_)&&nt,et)for(rt=0;rt<et.length;rt++)it=_.g=et[rt],nt=ib(it,tt,!1,_)&&nt}B.prototype.N=function(){if(B.$.N.call(this),this.i){var $=this.i,_;for(_ in $.g){for(var et=$.g[_],tt=0;tt<et.length;tt++)Ma(et[tt]);delete $.g[_],$.h--}}this.J=null};B.prototype.O=function($,_,et,tt){return this.i.add(String($),_,!1,et,tt)};B.prototype.P=function($,_,et,tt){return this.i.add(String($),_,!0,et,tt)};function ib($,_,et,tt){if(_=$.i.g[String(_)],!_)return!0;_=_.concat();for(var nt=!0,rt=0;rt<_.length;++rt){var it=_[rt];if(it&&!it.fa&&it.capture==et){var st=it.listener,ot=it.la||it.src;it.ia&&Ua($.i,it),nt=st.call(ot,tt)!==!1&&nt}}return nt&&!tt.defaultPrevented}var jb=l$3.JSON.stringify;class kb{constructor(_,et){this.i=_,this.j=et,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function lb(){var $=mb;let _=null;return $.g&&(_=$.g,$.g=$.g.next,$.g||($.h=null),_.next=null),_}class nb{constructor(){this.h=this.g=null}add(_,et){const tt=ob.get();tt.set(_,et),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var ob=new kb(()=>new pb,$=>$.reset());class pb{constructor(){this.next=this.g=this.h=null}set(_,et){this.h=_,this.g=et,this.next=null}reset(){this.next=this.g=this.h=null}}function qb($){var _=1;$=$.split(":");const et=[];for(;0<_&&$.length;)et.push($.shift()),_--;return $.length&&et.push($.join(":")),et}function rb($){l$3.setTimeout(()=>{throw $},0)}let sb,tb=!1,mb=new nb,vb=()=>{const $=l$3.Promise.resolve(void 0);sb=()=>{$.then(ub)}};var ub=()=>{for(var $;$=lb();){try{$.h.call($.g)}catch(et){rb(et)}var _=ob;_.j($),100>_.h&&(_.h++,$.next=_.g,_.g=$)}tb=!1};function wb($,_){B.call(this),this.h=$||1,this.g=_||l$3,this.j=q$1(this.qb,this),this.l=Date.now()}r$2(wb,B);k$1=wb.prototype;k$1.ga=!1;k$1.T=null;k$1.qb=function(){if(this.ga){var $=Date.now()-this.l;0<$&&$<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-$):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}};k$1.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb($){$.ga=!1,$.T&&($.g.clearTimeout($.T),$.T=null)}k$1.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb($,_,et){if(typeof $=="function")et&&($=q$1($,et));else if($&&typeof $.handleEvent=="function")$=q$1($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l$3.setTimeout($,_||0)}function zb($){$.g=yb(()=>{$.g=null,$.i&&($.i=!1,zb($))},$.j);const _=$.h;$.h=null,$.m.apply(null,_)}class Ab extends v$3{constructor(_,et){super(),this.m=_,this.j=et,this.h=null,this.i=!1,this.g=null}l(_){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l$3.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb($){v$3.call(this),this.h=$,this.g={}}r$2(Bb,v$3);var Cb=[];function Eb($,_,et,tt){Array.isArray(et)||(et&&(Cb[0]=et.toString()),et=Cb);for(var nt=0;nt<et.length;nt++){var rt=Ya(_,et[nt],tt||$.handleEvent,!1,$.h||$);if(!rt)break;$.g[rt.key]=rt}}function Fb($){Na($.g,function(_,et){this.g.hasOwnProperty(et)&&gb(_)},$),$.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb($,_,et,tt,nt,rt){$.info(function(){if($.g)if(rt)for(var it="",st=rt.split("&"),ot=0;ot<st.length;ot++){var at=st[ot].split("=");if(1<at.length){var lt=at[0];at=at[1];var ct=lt.split("_");it=2<=ct.length&&ct[1]=="type"?it+(lt+"="+at+"&"):it+(lt+"=redacted&")}}else it=null;else it=rt;return"XMLHTTP REQ ("+tt+") [attempt "+nt+"]: "+_+`
`+et+`
`+it})}function Ib($,_,et,tt,nt,rt,it){$.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+nt+"]: "+_+`
`+et+`
`+rt+" "+it})}function D$1($,_,et,tt){$.info(function(){return"XMLHTTP TEXT ("+_+"): "+Jb($,et)+(tt?" "+tt:"")})}function Kb($,_){$.info(function(){return"TIMEOUT: "+_})}Gb.prototype.info=function(){};function Jb($,_){if(!$.g)return _;if(!_)return null;try{var et=JSON.parse(_);if(et){for($=0;$<et.length;$++)if(Array.isArray(et[$])){var tt=et[$];if(!(2>tt.length)){var nt=tt[1];if(Array.isArray(nt)&&!(1>nt.length)){var rt=nt[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var it=1;it<nt.length;it++)nt[it]=""}}}}return jb(et)}catch{return _}}var E={},Lb=null;function Mb(){return Lb=Lb||new B}E.Ta="serverreachability";function Nb($){w$3.call(this,E.Ta,$)}r$2(Nb,w$3);function Ob($){const _=Mb();C$1(_,new Nb(_))}E.STAT_EVENT="statevent";function Pb($,_){w$3.call(this,E.STAT_EVENT,$),this.stat=_}r$2(Pb,w$3);function F$1($){const _=Mb();C$1(_,new Pb(_,$))}E.Ua="timingevent";function Qb($,_){w$3.call(this,E.Ua,$),this.size=_}r$2(Qb,w$3);function Rb($,_){if(typeof $!="function")throw Error("Fn must not be null and must be a function");return l$3.setTimeout(function(){$()},_)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb($){return $.h||($.h=$.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w$3.call(this,"d")}r$2(Yb,w$3);function Zb(){w$3.call(this,"c")}r$2(Zb,w$3);var $b;function ac(){}r$2(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc($,_,et,tt){this.l=$,this.j=_,this.m=et,this.W=tt||1,this.U=new Bb(this),this.P=cc,$=va?125:void 0,this.V=new wb($),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k$1=bc.prototype;k$1.setTimeout=function($){this.P=$};function gc($,_,et){$.L=1,$.A=hc(G(_)),$.u=et,$.S=!0,ic($,null)}function ic($,_){$.G=Date.now(),jc($),$.B=G($.A);var et=$.B,tt=$.W;Array.isArray(tt)||(tt=[String(tt)]),kc(et.i,"t",tt),$.o=0,et=$.l.J,$.h=new dc,$.g=lc($.l,et?_:null,!$.u),0<$.O&&($.M=new Ab(q$1($.Pa,$,$.g),$.O)),Eb($.U,$.g,"readystatechange",$.nb),_=$.I?Pa($.I):{},$.u?($.v||($.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",$.g.ha($.B,$.v,$.u,_)):($.v="GET",$.g.ha($.B,$.v,null,_)),Ob(),Hb($.j,$.v,$.B,$.m,$.W,$.u)}k$1.nb=function($){$=$.target;const _=this.M;_&&H($)==3?_.l():this.Pa($)};k$1.Pa=function($){try{if($==this.g)e:{const lt=H(this.g);var _=this.g.Ia();const ct=this.g.da();if(!(3>lt)&&(lt!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||lt!=4||_==7||(_==8||0>=ct?Ob(3):Ob(2)),nc(this);var et=this.g.da();this.ca=et;t:if(oc(this)){var tt=mc(this.g);$="";var nt=tt.length,rt=H(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I(this),pc(this);var it="";break t}this.h.i=new l$3.TextDecoder}for(_=0;_<nt;_++)this.h.h=!0,$+=this.h.i.decode(tt[_],{stream:rt&&_==nt-1});tt.length=0,this.h.g+=$,this.o=0,it=this.h.g}else it=this.g.ja();if(this.i=et==200,Ib(this.j,this.v,this.B,this.m,this.W,lt,et),this.i){if(this.aa&&!this.K){t:{if(this.g){var st,ot=this.g;if((st=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x$2(st)){var at=st;break t}}at=null}if(et=at)D$1(this.j,this.m,et,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,et);else{this.i=!1,this.s=3,F$1(12),I(this),pc(this);break e}}this.S?(rc(this,lt,it),va&&this.i&&lt==3&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,it,null),qc(this,it)),lt==4&&I(this),this.i&&!this.J&&(lt==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),et==400&&0<it.indexOf("Unknown SID")?(this.s=3,F$1(12)):(this.s=0,F$1(13)),I(this),pc(this)}}}catch{}finally{}};function oc($){return $.g?$.v=="GET"&&$.L!=2&&$.l.Ha:!1}function rc($,_,et){let tt=!0,nt;for(;!$.J&&$.o<et.length;)if(nt=uc($,et),nt==fc){_==4&&($.s=4,F$1(14),tt=!1),D$1($.j,$.m,null,"[Incomplete Response]");break}else if(nt==ec){$.s=4,F$1(15),D$1($.j,$.m,et,"[Invalid Chunk]"),tt=!1;break}else D$1($.j,$.m,nt,null),qc($,nt);oc($)&&$.o!=0&&($.h.g=$.h.g.slice($.o),$.o=0),_!=4||et.length!=0||$.h.h||($.s=1,F$1(16),tt=!1),$.i=$.i&&tt,tt?0<et.length&&!$.ba&&($.ba=!0,_=$.l,_.g==$&&_.ca&&!_.M&&(_.l.info("Great, no buffering proxy detected. Bytes received: "+et.length),vc(_),_.M=!0,F$1(11))):(D$1($.j,$.m,et,"[Invalid Chunked Response]"),I($),pc($))}k$1.mb=function(){if(this.g){var $=H(this.g),_=this.g.ja();this.o<_.length&&(nc(this),rc(this,$,_),this.i&&$!=4&&jc(this))}};function uc($,_){var et=$.o,tt=_.indexOf(`
`,et);return tt==-1?fc:(et=Number(_.substring(et,tt)),isNaN(et)?ec:(tt+=1,tt+et>_.length?fc:(_=_.slice(tt,tt+et),$.o=tt+et,_)))}k$1.cancel=function(){this.J=!0,I(this)};function jc($){$.Y=Date.now()+$.P,wc($,$.P)}function wc($,_){if($.C!=null)throw Error("WatchDog timer not null");$.C=Rb(q$1($.lb,$),_)}function nc($){$.C&&(l$3.clearTimeout($.C),$.C=null)}k$1.lb=function(){this.C=null;const $=Date.now();0<=$-this.Y?(Kb(this.j,this.B),this.L!=2&&(Ob(),F$1(17)),I(this),this.s=2,pc(this)):wc(this,this.Y-$)};function pc($){$.l.H==0||$.J||sc($.l,$)}function I($){nc($);var _=$.M;_&&typeof _.sa=="function"&&_.sa(),$.M=null,xb($.V),Fb($.U),$.g&&(_=$.g,$.g=null,_.abort(),_.sa())}function qc($,_){try{var et=$.l;if(et.H!=0&&(et.g==$||xc(et.i,$))){if(!$.K&&xc(et.i,$)&&et.H==3){try{var tt=et.Ja.g.parse(_)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var nt=tt;if(nt[0]==0){e:if(!et.u){if(et.g)if(et.g.G+3e3<$.G)yc(et),zc(et);else break e;Ac(et),F$1(18)}}else et.Fa=nt[1],0<et.Fa-et.V&&37500>nt[2]&&et.G&&et.A==0&&!et.v&&(et.v=Rb(q$1(et.ib,et),6e3));if(1>=Bc(et.i)&&et.oa){try{et.oa()}catch{}et.oa=void 0}}else J(et,11)}else if(($.K||et.g==$)&&yc(et),!x$2(_))for(nt=et.Ja.g.parse(_),_=0;_<nt.length;_++){let at=nt[_];if(et.V=at[0],at=at[1],et.H==2)if(at[0]=="c"){et.K=at[1],et.pa=at[2];const lt=at[3];lt!=null&&(et.ra=lt,et.l.info("VER="+et.ra));const ct=at[4];ct!=null&&(et.Ga=ct,et.l.info("SVER="+et.Ga));const dt=at[5];dt!=null&&typeof dt=="number"&&0<dt&&(tt=1.5*dt,et.L=tt,et.l.info("backChannelRequestTimeoutMs_="+tt)),tt=et;const _t=$.g;if(_t){const pt=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pt){var rt=tt.i;rt.g||pt.indexOf("spdy")==-1&&pt.indexOf("quic")==-1&&pt.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Cc(rt,rt.h),rt.h=null))}if(tt.F){const ut=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;ut&&(tt.Da=ut,K(tt.I,tt.F,ut))}}et.H=3,et.h&&et.h.Ba(),et.ca&&(et.S=Date.now()-$.G,et.l.info("Handshake RTT: "+et.S+"ms")),tt=et;var it=$;if(tt.wa=Dc(tt,tt.J?tt.pa:null,tt.Y),it.K){Ec(tt.i,it);var st=it,ot=tt.L;ot&&st.setTimeout(ot),st.C&&(nc(st),jc(st)),tt.g=it}else Fc(tt);0<et.j.length&&Gc(et)}else at[0]!="stop"&&at[0]!="close"||J(et,7);else et.H==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?J(et,7):Hc(et):at[0]!="noop"&&et.h&&et.h.Aa(at),et.A=0)}}Ob(4)}catch{}}function Ic($){if($.Z&&typeof $.Z=="function")return $.Z();if(typeof Map<"u"&&$ instanceof Map||typeof Set<"u"&&$ instanceof Set)return Array.from($.values());if(typeof $=="string")return $.split("");if(aa($)){for(var _=[],et=$.length,tt=0;tt<et;tt++)_.push($[tt]);return _}_=[],et=0;for(tt in $)_[et++]=$[tt];return _}function Jc($){if($.ta&&typeof $.ta=="function")return $.ta();if(!$.Z||typeof $.Z!="function"){if(typeof Map<"u"&&$ instanceof Map)return Array.from($.keys());if(!(typeof Set<"u"&&$ instanceof Set)){if(aa($)||typeof $=="string"){var _=[];$=$.length;for(var et=0;et<$;et++)_.push(et);return _}_=[],et=0;for(const tt in $)_[et++]=tt;return _}}}function Kc($,_){if($.forEach&&typeof $.forEach=="function")$.forEach(_,void 0);else if(aa($)||typeof $=="string")Array.prototype.forEach.call($,_,void 0);else for(var et=Jc($),tt=Ic($),nt=tt.length,rt=0;rt<nt;rt++)_.call(void 0,tt[rt],et&&et[rt],$)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc($,_){if($){$=$.split("&");for(var et=0;et<$.length;et++){var tt=$[et].indexOf("="),nt=null;if(0<=tt){var rt=$[et].substring(0,tt);nt=$[et].substring(tt+1)}else rt=$[et];_(rt,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function M($){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,$ instanceof M){this.h=$.h,Nc(this,$.j),this.s=$.s,this.g=$.g,Oc(this,$.m),this.l=$.l;var _=$.i,et=new Pc;et.i=_.i,_.g&&(et.g=new Map(_.g),et.h=_.h),Qc(this,et),this.o=$.o}else $&&(_=String($).match(Lc))?(this.h=!1,Nc(this,_[1]||"",!0),this.s=Rc(_[2]||""),this.g=Rc(_[3]||"",!0),Oc(this,_[4]),this.l=Rc(_[5]||"",!0),Qc(this,_[6]||"",!0),this.o=Rc(_[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M.prototype.toString=function(){var $=[],_=this.j;_&&$.push(Sc(_,Tc,!0),":");var et=this.g;return(et||_=="file")&&($.push("//"),(_=this.s)&&$.push(Sc(_,Tc,!0),"@"),$.push(encodeURIComponent(String(et)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),et=this.m,et!=null&&$.push(":",String(et))),(et=this.l)&&(this.g&&et.charAt(0)!="/"&&$.push("/"),$.push(Sc(et,et.charAt(0)=="/"?Uc:Vc,!0))),(et=this.i.toString())&&$.push("?",et),(et=this.o)&&$.push("#",Sc(et,Wc)),$.join("")};function G($){return new M($)}function Nc($,_,et){$.j=et?Rc(_,!0):_,$.j&&($.j=$.j.replace(/:$/,""))}function Oc($,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);$.m=_}else $.m=null}function Qc($,_,et){_ instanceof Pc?($.i=_,Xc($.i,$.h)):(et||(_=Sc(_,Yc)),$.i=new Pc(_,$.h))}function K($,_,et){$.i.set(_,et)}function hc($){return K($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Rc($,_){return $?_?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function Sc($,_,et){return typeof $=="string"?($=encodeURI($).replace(_,Zc),et&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function Zc($){return $=$.charCodeAt(0),"%"+($>>4&15).toString(16)+($&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc($,_){this.h=this.g=null,this.i=$||null,this.j=!!_}function N($){$.g||($.g=new Map,$.h=0,$.i&&Mc($.i,function(_,et){$.add(decodeURIComponent(_.replace(/\+/g," ")),et)}))}k$1=Pc.prototype;k$1.add=function($,_){N(this),this.i=null,$=O(this,$);var et=this.g.get($);return et||this.g.set($,et=[]),et.push(_),this.h+=1,this};function $c($,_){N($),_=O($,_),$.g.has(_)&&($.i=null,$.h-=$.g.get(_).length,$.g.delete(_))}function ad($,_){return N($),_=O($,_),$.g.has(_)}k$1.forEach=function($,_){N(this),this.g.forEach(function(et,tt){et.forEach(function(nt){$.call(_,nt,tt,this)},this)},this)};k$1.ta=function(){N(this);const $=Array.from(this.g.values()),_=Array.from(this.g.keys()),et=[];for(let tt=0;tt<_.length;tt++){const nt=$[tt];for(let rt=0;rt<nt.length;rt++)et.push(_[tt])}return et};k$1.Z=function($){N(this);let _=[];if(typeof $=="string")ad(this,$)&&(_=_.concat(this.g.get(O(this,$))));else{$=Array.from(this.g.values());for(let et=0;et<$.length;et++)_=_.concat($[et])}return _};k$1.set=function($,_){return N(this),this.i=null,$=O(this,$),ad(this,$)&&(this.h-=this.g.get($).length),this.g.set($,[_]),this.h+=1,this};k$1.get=function($,_){return $?($=this.Z($),0<$.length?String($[0]):_):_};function kc($,_,et){$c($,_),0<et.length&&($.i=null,$.g.set(O($,_),ma(et)),$.h+=et.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";const $=[],_=Array.from(this.g.keys());for(var et=0;et<_.length;et++){var tt=_[et];const rt=encodeURIComponent(String(tt)),it=this.Z(tt);for(tt=0;tt<it.length;tt++){var nt=rt;it[tt]!==""&&(nt+="="+encodeURIComponent(String(it[tt]))),$.push(nt)}}return this.i=$.join("&")};function O($,_){return _=String(_),$.j&&(_=_.toLowerCase()),_}function Xc($,_){_&&!$.j&&(N($),$.i=null,$.g.forEach(function(et,tt){var nt=tt.toLowerCase();tt!=nt&&($c(this,tt),kc(this,nt,et))},$)),$.j=_}var bd=class{constructor($,_){this.g=$,this.map=_}};function cd($){this.l=$||dd,l$3.PerformanceNavigationTiming?($=l$3.performance.getEntriesByType("navigation"),$=0<$.length&&($[0].nextHopProtocol=="hq"||$[0].nextHopProtocol=="h2")):$=!!(l$3.g&&l$3.g.Ka&&l$3.g.Ka()&&l$3.g.Ka().dc),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed($){return $.h?!0:$.g?$.g.size>=$.j:!1}function Bc($){return $.h?1:$.g?$.g.size:0}function xc($,_){return $.h?$.h==_:$.g?$.g.has(_):!1}function Cc($,_){$.g?$.g.add(_):$.h=_}function Ec($,_){$.h&&$.h==_?$.h=null:$.g&&$.g.has(_)&&$.g.delete(_)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const $ of this.g.values())$.cancel();this.g.clear()}};function fd($){if($.h!=null)return $.i.concat($.h.F);if($.g!=null&&$.g.size!==0){let _=$.i;for(const et of $.g.values())_=_.concat(et.F);return _}return ma($.i)}var gd=class{stringify($){return l$3.JSON.stringify($,void 0)}parse($){return l$3.JSON.parse($,void 0)}};function hd(){this.g=new gd}function id($,_,et){const tt=et||"";try{Kc($,function(nt,rt){let it=nt;p$3(nt)&&(it=jb(nt)),_.push(tt+rt+"="+encodeURIComponent(it))})}catch(nt){throw _.push(tt+"type="+encodeURIComponent("_badmap")),nt}}function jd($,_){const et=new Gb;if(l$3.Image){const tt=new Image;tt.onload=ha(kd,et,tt,"TestLoadImage: loaded",!0,_),tt.onerror=ha(kd,et,tt,"TestLoadImage: error",!1,_),tt.onabort=ha(kd,et,tt,"TestLoadImage: abort",!1,_),tt.ontimeout=ha(kd,et,tt,"TestLoadImage: timeout",!1,_),l$3.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=$}else _(!1)}function kd($,_,et,tt,nt){try{_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null,nt(tt)}catch{}}function ld($){this.l=$.ec||null,this.j=$.ob||!1}r$2(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function($){return function(){return $}}({});function md($,_){B.call(this),this.F=$,this.u=_,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r$2(md,B);var nd=0;k$1=md.prototype;k$1.open=function($,_){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=$,this.B=_,this.readyState=1,od(this)};k$1.send=function($){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.v,method:this.C,credentials:this.m,cache:void 0};$&&(_.body=$),(this.F||l$3).fetch(new Request(this.B,_)).then(this.$a.bind(this),this.ka.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k$1.$a=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")$.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l$3.ReadableStream<"u"&&"body"in $){if(this.j=$.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else $.text().then(this.Za.bind(this),this.ka.bind(this))};function qd($){$.j.read().then($.Xa.bind($)).catch($.ka.bind($))}k$1.Xa=function($){if(this.g){if(this.u&&$.value)this.response.push($.value);else if(!this.u){var _=$.value?$.value:new Uint8Array(0);(_=this.A.decode(_,{stream:!$.done}))&&(this.response=this.responseText+=_)}$.done?pd(this):od(this),this.readyState==3&&qd(this)}};k$1.Za=function($){this.g&&(this.response=this.responseText=$,pd(this))};k$1.Ya=function($){this.g&&(this.response=$,pd(this))};k$1.ka=function(){this.g&&pd(this)};function pd($){$.readyState=4,$.l=null,$.j=null,$.A=null,od($)}k$1.setRequestHeader=function($,_){this.v.append($,_)};k$1.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const $=[],_=this.h.entries();for(var et=_.next();!et.done;)et=et.value,$.push(et[0]+": "+et[1]),et=_.next();return $.join(`\r
`)};function od($){$.onreadystatechange&&$.onreadystatechange.call($)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function($){this.m=$?"include":"same-origin"}});var rd=l$3.JSON.parse;function P($){B.call(this),this.headers=new Map,this.u=$||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r$2(P,B);var sd="",td=/^https?$/i,ud=["POST","PUT"];k$1=P.prototype;k$1.Oa=function($){this.M=$};k$1.ha=function($,_,et,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+$);_=_?_.toUpperCase():"GET",this.I=$,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q$1(this.La,this);try{this.G=!0,this.g.open(_,String($),!0),this.G=!1}catch(rt){vd(this,rt);return}if($=et||"",et=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var nt in tt)et.set(nt,tt[nt]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const rt of tt.keys())et.set(rt,tt.get(rt));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(et.keys()).find(rt=>rt.toLowerCase()=="content-type"),nt=l$3.FormData&&$ instanceof l$3.FormData,!(0<=ka(ud,_))||tt||nt||et.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,it]of et)this.g.setRequestHeader(rt,it);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send($),this.v=!1}catch(rt){vd(this,rt)}};function xd($){return z$2&&typeof $.timeout=="number"&&$.ontimeout!==void 0}k$1.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function vd($,_){$.h=!1,$.g&&($.l=!0,$.g.abort(),$.l=!1),$.j=_,$.m=5,yd($),zd($)}function yd($){$.F||($.F=!0,C$1($,"complete"),C$1($,"error"))}k$1.abort=function($){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=$||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))};k$1.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k$1.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k$1.kb=function(){Ad(this)};function Ad($){if($.h&&typeof goog<"u"&&(!$.C[1]||H($)!=4||$.da()!=2)){if($.v&&H($)==4)yb($.La,0,$);else if(C$1($,"readystatechange"),H($)==4){$.h=!1;try{const it=$.da();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var et;if(!(et=_)){var tt;if(tt=it===0){var nt=String($.I).match(Lc)[1]||null;!nt&&l$3.self&&l$3.self.location&&(nt=l$3.self.location.protocol.slice(0,-1)),tt=!td.test(nt?nt.toLowerCase():"")}et=tt}if(et)C$1($,"complete"),C$1($,"success");else{$.m=6;try{var rt=2<H($)?$.g.statusText:""}catch{rt=""}$.j=rt+" ["+$.da()+"]",yd($)}}finally{zd($)}}}}function zd($,_){if($.g){wd($);const et=$.g,tt=$.C[0]?()=>{}:null;$.g=null,$.C=null,_||C$1($,"ready");try{et.onreadystatechange=tt}catch{}}}function wd($){$.g&&$.L&&($.g.ontimeout=null),$.A&&(l$3.clearTimeout($.A),$.A=null)}k$1.isActive=function(){return!!this.g};function H($){return $.g?$.g.readyState:0}k$1.da=function(){try{return 2<H(this)?this.g.status:-1}catch{return-1}};k$1.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Wa=function($){if(this.g){var _=this.g.responseText;return $&&_.indexOf($)==0&&(_=_.substring($.length)),rd(_)}};function mc($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.K){case sd:case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch{return null}}function tc($){const _={};$=($.g&&2<=H($)&&$.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<$.length;tt++){if(x$2($[tt]))continue;var et=qb($[tt]);const nt=et[0];if(et=et[1],typeof et!="string")continue;et=et.trim();const rt=_[nt]||[];_[nt]=rt,rt.push(et)}Oa(_,function(tt){return tt.join(", ")})}k$1.Ia=function(){return this.m};k$1.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd($){let _="";return Na($,function(et,tt){_+=tt,_+=":",_+=et,_+=`\r
`}),_}function Cd($,_,et){e:{for(tt in et){var tt=!1;break e}tt=!0}tt||(et=Bd(et),typeof $=="string"?et!=null&&encodeURIComponent(String(et)):K($,_,et))}function Dd($,_,et){return et&&et.internalChannelParams&&et.internalChannelParams[$]||_}function Ed($){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,$),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,$),this.hb=Dd("retryDelaySeedMs",1e4,$),this.eb=Dd("forwardChannelMaxRetries",2,$),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,$),this.va=$&&$.xmlHttpFactory||void 0,this.Ha=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.i=new cd($&&$.concurrentRequestLimit),this.Ja=new hd,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=$&&$.bc||!1,$&&$.Ea&&this.l.Ea(),$&&$.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&$&&$.detectBufferingProxy||!1,this.qa=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.qa=$.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k$1=Ed.prototype;k$1.ra=8;k$1.H=1;function Hc($){if(Fd($),$.H==3){var _=$.W++,et=G($.I);if(K(et,"SID",$.K),K(et,"RID",_),K(et,"TYPE","terminate"),Gd($,et),_=new bc($,$.l,_),_.L=2,_.A=hc(G(et)),et=!1,l$3.navigator&&l$3.navigator.sendBeacon)try{et=l$3.navigator.sendBeacon(_.A.toString(),"")}catch{}!et&&l$3.Image&&(new Image().src=_.A,et=!0),et||(_.g=lc(_.l,null),_.g.ha(_.A)),_.G=Date.now(),jc(_)}Hd($)}function zc($){$.g&&(vc($),$.g.cancel(),$.g=null)}function Fd($){zc($),$.u&&(l$3.clearTimeout($.u),$.u=null),yc($),$.i.cancel(),$.m&&(typeof $.m=="number"&&l$3.clearTimeout($.m),$.m=null)}function Gc($){if(!ed($.i)&&!$.m){$.m=!0;var _=$.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(_,$),$.C=0}}function Id($,_){return Bc($.i)>=$.i.j-($.m?1:0)?!1:$.m?($.j=_.F.concat($.j),!0):$.H==1||$.H==2||$.C>=($.cb?0:$.eb)?!1:($.m=Rb(q$1($.Na,$,_),Jd($,$.C)),$.C++,!0)}k$1.Na=function($){if(this.m)if(this.m=null,this.H==1){if(!$){this.W=Math.floor(1e5*Math.random()),$=this.W++;const nt=new bc(this,this.l,$);let rt=this.s;if(this.U&&(rt?(rt=Pa(rt),Ra(rt,this.U)):rt=this.U),this.o!==null||this.O||(nt.I=rt,rt=null),this.P)e:{for(var _=0,et=0;et<this.j.length;et++){t:{var tt=this.j[et];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break t}tt=void 0}if(tt===void 0)break;if(_+=tt,4096<_){_=et;break e}if(_===4096||et===this.j.length-1){_=et+1;break e}}_=1e3}else _=1e3;_=Kd(this,nt,_),et=G(this.I),K(et,"RID",$),K(et,"CVER",22),this.F&&K(et,"X-HTTP-Session-Id",this.F),Gd(this,et),rt&&(this.O?_="headers="+encodeURIComponent(String(Bd(rt)))+"&"+_:this.o&&Cd(et,this.o,rt)),Cc(this.i,nt),this.bb&&K(et,"TYPE","init"),this.P?(K(et,"$req",_),K(et,"SID","null"),nt.aa=!0,gc(nt,et,null)):gc(nt,et,_),this.H=2}}else this.H==3&&($?Ld(this,$):this.j.length==0||ed(this.i)||Ld(this))};function Ld($,_){var et;_?et=_.m:et=$.W++;const tt=G($.I);K(tt,"SID",$.K),K(tt,"RID",et),K(tt,"AID",$.V),Gd($,tt),$.o&&$.s&&Cd(tt,$.o,$.s),et=new bc($,$.l,et,$.C+1),$.o===null&&(et.I=$.s),_&&($.j=_.F.concat($.j)),_=Kd($,et,1e3),et.setTimeout(Math.round(.5*$.xa)+Math.round(.5*$.xa*Math.random())),Cc($.i,et),gc(et,tt,_)}function Gd($,_){$.na&&Na($.na,function(et,tt){K(_,tt,et)}),$.h&&Kc({},function(et,tt){K(_,tt,et)})}function Kd($,_,et){et=Math.min($.j.length,et);var tt=$.h?q$1($.h.Va,$.h,$):null;e:{var nt=$.j;let rt=-1;for(;;){const it=["count="+et];rt==-1?0<et?(rt=nt[0].g,it.push("ofs="+rt)):rt=0:it.push("ofs="+rt);let st=!0;for(let ot=0;ot<et;ot++){let at=nt[ot].g;const lt=nt[ot].map;if(at-=rt,0>at)rt=Math.max(0,nt[ot].g-100),st=!1;else try{id(lt,it,"req"+at+"_")}catch{tt&&tt(lt)}}if(st){tt=it.join("&");break e}}}return $=$.j.splice(0,et),_.F=$,tt}function Fc($){if(!$.g&&!$.u){$.ba=1;var _=$.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(_,$),$.A=0}}function Ac($){return $.g||$.u||3<=$.A?!1:($.ba++,$.u=Rb(q$1($.Ma,$),Jd($,$.A)),$.A++,!0)}k$1.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var $=2*this.S;this.l.info("BP detection timer enabled: "+$),this.B=Rb(q$1(this.jb,this),$)}};k$1.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))};function vc($){$.B!=null&&(l$3.clearTimeout($.B),$.B=null)}function Md($){$.g=new bc($,$.l,"rpc",$.ba),$.o===null&&($.g.I=$.s),$.g.O=0;var _=G($.wa);K(_,"RID","rpc"),K(_,"SID",$.K),K(_,"AID",$.V),K(_,"CI",$.G?"0":"1"),!$.G&&$.qa&&K(_,"TO",$.qa),K(_,"TYPE","xmlhttp"),Gd($,_),$.o&&$.s&&Cd(_,$.o,$.s),$.L&&$.g.setTimeout($.L);var et=$.g;$=$.pa,et.L=1,et.A=hc(G(_)),et.u=null,et.S=!0,ic(et,$)}k$1.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$1(19))};function yc($){$.v!=null&&(l$3.clearTimeout($.v),$.v=null)}function sc($,_){var et=null;if($.g==_){yc($),vc($),$.g=null;var tt=2}else if(xc($.i,_))et=_.F,Ec($.i,_),tt=1;else return;if($.H!=0){if(_.i)if(tt==1){et=_.u?_.u.length:0,_=Date.now()-_.G;var nt=$.C;tt=Mb(),C$1(tt,new Qb(tt,et)),Gc($)}else Fc($);else if(nt=_.s,nt==3||nt==0&&0<_.ca||!(tt==1&&Id($,_)||tt==2&&Ac($)))switch(et&&0<et.length&&(_=$.i,_.i=_.i.concat(et)),nt){case 1:J($,5);break;case 4:J($,10);break;case 3:J($,6);break;default:J($,2)}}}function Jd($,_){let et=$.ab+Math.floor(Math.random()*$.hb);return $.isActive()||(et*=2),et*_}function J($,_){if($.l.info("Error code "+_),_==2){var et=null;$.h&&(et=null);var tt=q$1($.pb,$);et||(et=new M("//www.google.com/images/cleardot.gif"),l$3.location&&l$3.location.protocol=="http"||Nc(et,"https"),hc(et)),jd(et.toString(),tt)}else F$1(2);$.H=0,$.h&&$.h.za(_),Hd($),Fd($)}k$1.pb=function($){$?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))};function Hd($){if($.H=0,$.ma=[],$.h){const _=fd($.i);(_.length!=0||$.j.length!=0)&&(na($.ma,_),na($.ma,$.j),$.i.i.length=0,ma($.j),$.j.length=0),$.h.ya()}}function Dc($,_,et){var tt=et instanceof M?G(et):new M(et);if(tt.g!="")_&&(tt.g=_+"."+tt.g),Oc(tt,tt.m);else{var nt=l$3.location;tt=nt.protocol,_=_?_+"."+nt.hostname:nt.hostname,nt=+nt.port;var rt=new M(null);tt&&Nc(rt,tt),_&&(rt.g=_),nt&&Oc(rt,nt),et&&(rt.l=et),tt=rt}return et=$.F,_=$.Da,et&&_&&K(tt,et,_),K(tt,"VER",$.ra),Gd($,tt),tt}function lc($,_,et){if(_&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=$.Ha&&!$.va?new P(new ld({ob:et})):new P($.va),_.Oa($.J),_}k$1.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k$1=Nd.prototype;k$1.Ba=function(){};k$1.Aa=function(){};k$1.za=function(){};k$1.ya=function(){};k$1.isActive=function(){return!0};k$1.Va=function(){};function Od(){if(z$2&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function($,_){return new Q($,_)};function Q($,_){B.call(this),this.g=new Ed(_),this.l=$,this.h=_&&_.messageUrlParams||null,$=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.s=$,$=_&&_.initMessageHeaders||null,_&&_.messageContentType&&($?$["X-WebChannel-Content-Type"]=_.messageContentType:$={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.Ca&&($?$["X-WebChannel-Client-Profile"]=_.Ca:$={"X-WebChannel-Client-Profile":_.Ca}),this.g.U=$,($=_&&_.cc)&&!x$2($)&&(this.g.o=$),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x$2(_)&&(this.g.F=_,$=this.h,$!==null&&_ in $&&($=this.h,_ in $&&delete $[_])),this.j=new R$1(this)}r$2(Q,B);Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var $=this.g,_=this.l,et=this.h||void 0;F$1(0),$.Y=_,$.na=et||{},$.G=$.aa,$.I=Dc($,null,$.Y),Gc($)};Q.prototype.close=function(){Hc(this.g)};Q.prototype.u=function($){var _=this.g;if(typeof $=="string"){var et={};et.__data__=$,$=et}else this.v&&(et={},et.__data__=jb($),$=et);_.j.push(new bd(_.fb++,$)),_.H==3&&Gc(_)};Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)};function Pd($){Yb.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var _=$.__sm__;if(_){e:{for(const et in _){$=et;break e}$=void 0}(this.i=$)&&($=this.i,_=_!==null&&$ in _?_[$]:void 0),this.data=_}else this.data=$}r$2(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r$2(Qd,Zb);function R$1($){this.g=$}r$2(R$1,Nd);R$1.prototype.Ba=function(){C$1(this.g,"a")};R$1.prototype.Aa=function($){C$1(this.g,new Pd($))};R$1.prototype.za=function($){C$1(this.g,new Qd)};R$1.prototype.ya=function(){C$1(this.g,"b")};function Rd(){this.blockSize=-1}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r$2(S$1,Rd);S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd($,_,et){et||(et=0);var tt=Array(16);if(typeof _=="string")for(var nt=0;16>nt;++nt)tt[nt]=_.charCodeAt(et++)|_.charCodeAt(et++)<<8|_.charCodeAt(et++)<<16|_.charCodeAt(et++)<<24;else for(nt=0;16>nt;++nt)tt[nt]=_[et++]|_[et++]<<8|_[et++]<<16|_[et++]<<24;_=$.g[0],et=$.g[1],nt=$.g[2];var rt=$.g[3],it=_+(rt^et&(nt^rt))+tt[0]+3614090360&4294967295;_=et+(it<<7&4294967295|it>>>25),it=rt+(nt^_&(et^nt))+tt[1]+3905402710&4294967295,rt=_+(it<<12&4294967295|it>>>20),it=nt+(et^rt&(_^et))+tt[2]+606105819&4294967295,nt=rt+(it<<17&4294967295|it>>>15),it=et+(_^nt&(rt^_))+tt[3]+3250441966&4294967295,et=nt+(it<<22&4294967295|it>>>10),it=_+(rt^et&(nt^rt))+tt[4]+4118548399&4294967295,_=et+(it<<7&4294967295|it>>>25),it=rt+(nt^_&(et^nt))+tt[5]+1200080426&4294967295,rt=_+(it<<12&4294967295|it>>>20),it=nt+(et^rt&(_^et))+tt[6]+2821735955&4294967295,nt=rt+(it<<17&4294967295|it>>>15),it=et+(_^nt&(rt^_))+tt[7]+4249261313&4294967295,et=nt+(it<<22&4294967295|it>>>10),it=_+(rt^et&(nt^rt))+tt[8]+1770035416&4294967295,_=et+(it<<7&4294967295|it>>>25),it=rt+(nt^_&(et^nt))+tt[9]+2336552879&4294967295,rt=_+(it<<12&4294967295|it>>>20),it=nt+(et^rt&(_^et))+tt[10]+4294925233&4294967295,nt=rt+(it<<17&4294967295|it>>>15),it=et+(_^nt&(rt^_))+tt[11]+2304563134&4294967295,et=nt+(it<<22&4294967295|it>>>10),it=_+(rt^et&(nt^rt))+tt[12]+1804603682&4294967295,_=et+(it<<7&4294967295|it>>>25),it=rt+(nt^_&(et^nt))+tt[13]+4254626195&4294967295,rt=_+(it<<12&4294967295|it>>>20),it=nt+(et^rt&(_^et))+tt[14]+2792965006&4294967295,nt=rt+(it<<17&4294967295|it>>>15),it=et+(_^nt&(rt^_))+tt[15]+1236535329&4294967295,et=nt+(it<<22&4294967295|it>>>10),it=_+(nt^rt&(et^nt))+tt[1]+4129170786&4294967295,_=et+(it<<5&4294967295|it>>>27),it=rt+(et^nt&(_^et))+tt[6]+3225465664&4294967295,rt=_+(it<<9&4294967295|it>>>23),it=nt+(_^et&(rt^_))+tt[11]+643717713&4294967295,nt=rt+(it<<14&4294967295|it>>>18),it=et+(rt^_&(nt^rt))+tt[0]+3921069994&4294967295,et=nt+(it<<20&4294967295|it>>>12),it=_+(nt^rt&(et^nt))+tt[5]+3593408605&4294967295,_=et+(it<<5&4294967295|it>>>27),it=rt+(et^nt&(_^et))+tt[10]+38016083&4294967295,rt=_+(it<<9&4294967295|it>>>23),it=nt+(_^et&(rt^_))+tt[15]+3634488961&4294967295,nt=rt+(it<<14&4294967295|it>>>18),it=et+(rt^_&(nt^rt))+tt[4]+3889429448&4294967295,et=nt+(it<<20&4294967295|it>>>12),it=_+(nt^rt&(et^nt))+tt[9]+568446438&4294967295,_=et+(it<<5&4294967295|it>>>27),it=rt+(et^nt&(_^et))+tt[14]+3275163606&4294967295,rt=_+(it<<9&4294967295|it>>>23),it=nt+(_^et&(rt^_))+tt[3]+4107603335&4294967295,nt=rt+(it<<14&4294967295|it>>>18),it=et+(rt^_&(nt^rt))+tt[8]+1163531501&4294967295,et=nt+(it<<20&4294967295|it>>>12),it=_+(nt^rt&(et^nt))+tt[13]+2850285829&4294967295,_=et+(it<<5&4294967295|it>>>27),it=rt+(et^nt&(_^et))+tt[2]+4243563512&4294967295,rt=_+(it<<9&4294967295|it>>>23),it=nt+(_^et&(rt^_))+tt[7]+1735328473&4294967295,nt=rt+(it<<14&4294967295|it>>>18),it=et+(rt^_&(nt^rt))+tt[12]+2368359562&4294967295,et=nt+(it<<20&4294967295|it>>>12),it=_+(et^nt^rt)+tt[5]+4294588738&4294967295,_=et+(it<<4&4294967295|it>>>28),it=rt+(_^et^nt)+tt[8]+2272392833&4294967295,rt=_+(it<<11&4294967295|it>>>21),it=nt+(rt^_^et)+tt[11]+1839030562&4294967295,nt=rt+(it<<16&4294967295|it>>>16),it=et+(nt^rt^_)+tt[14]+4259657740&4294967295,et=nt+(it<<23&4294967295|it>>>9),it=_+(et^nt^rt)+tt[1]+2763975236&4294967295,_=et+(it<<4&4294967295|it>>>28),it=rt+(_^et^nt)+tt[4]+1272893353&4294967295,rt=_+(it<<11&4294967295|it>>>21),it=nt+(rt^_^et)+tt[7]+4139469664&4294967295,nt=rt+(it<<16&4294967295|it>>>16),it=et+(nt^rt^_)+tt[10]+3200236656&4294967295,et=nt+(it<<23&4294967295|it>>>9),it=_+(et^nt^rt)+tt[13]+681279174&4294967295,_=et+(it<<4&4294967295|it>>>28),it=rt+(_^et^nt)+tt[0]+3936430074&4294967295,rt=_+(it<<11&4294967295|it>>>21),it=nt+(rt^_^et)+tt[3]+3572445317&4294967295,nt=rt+(it<<16&4294967295|it>>>16),it=et+(nt^rt^_)+tt[6]+76029189&4294967295,et=nt+(it<<23&4294967295|it>>>9),it=_+(et^nt^rt)+tt[9]+3654602809&4294967295,_=et+(it<<4&4294967295|it>>>28),it=rt+(_^et^nt)+tt[12]+3873151461&4294967295,rt=_+(it<<11&4294967295|it>>>21),it=nt+(rt^_^et)+tt[15]+530742520&4294967295,nt=rt+(it<<16&4294967295|it>>>16),it=et+(nt^rt^_)+tt[2]+3299628645&4294967295,et=nt+(it<<23&4294967295|it>>>9),it=_+(nt^(et|~rt))+tt[0]+4096336452&4294967295,_=et+(it<<6&4294967295|it>>>26),it=rt+(et^(_|~nt))+tt[7]+1126891415&4294967295,rt=_+(it<<10&4294967295|it>>>22),it=nt+(_^(rt|~et))+tt[14]+2878612391&4294967295,nt=rt+(it<<15&4294967295|it>>>17),it=et+(rt^(nt|~_))+tt[5]+4237533241&4294967295,et=nt+(it<<21&4294967295|it>>>11),it=_+(nt^(et|~rt))+tt[12]+1700485571&4294967295,_=et+(it<<6&4294967295|it>>>26),it=rt+(et^(_|~nt))+tt[3]+2399980690&4294967295,rt=_+(it<<10&4294967295|it>>>22),it=nt+(_^(rt|~et))+tt[10]+4293915773&4294967295,nt=rt+(it<<15&4294967295|it>>>17),it=et+(rt^(nt|~_))+tt[1]+2240044497&4294967295,et=nt+(it<<21&4294967295|it>>>11),it=_+(nt^(et|~rt))+tt[8]+1873313359&4294967295,_=et+(it<<6&4294967295|it>>>26),it=rt+(et^(_|~nt))+tt[15]+4264355552&4294967295,rt=_+(it<<10&4294967295|it>>>22),it=nt+(_^(rt|~et))+tt[6]+2734768916&4294967295,nt=rt+(it<<15&4294967295|it>>>17),it=et+(rt^(nt|~_))+tt[13]+1309151649&4294967295,et=nt+(it<<21&4294967295|it>>>11),it=_+(nt^(et|~rt))+tt[4]+4149444226&4294967295,_=et+(it<<6&4294967295|it>>>26),it=rt+(et^(_|~nt))+tt[11]+3174756917&4294967295,rt=_+(it<<10&4294967295|it>>>22),it=nt+(_^(rt|~et))+tt[2]+718787259&4294967295,nt=rt+(it<<15&4294967295|it>>>17),it=et+(rt^(nt|~_))+tt[9]+3951481745&4294967295,$.g[0]=$.g[0]+_&4294967295,$.g[1]=$.g[1]+(nt+(it<<21&4294967295|it>>>11))&4294967295,$.g[2]=$.g[2]+nt&4294967295,$.g[3]=$.g[3]+rt&4294967295}S$1.prototype.j=function($,_){_===void 0&&(_=$.length);for(var et=_-this.blockSize,tt=this.m,nt=this.h,rt=0;rt<_;){if(nt==0)for(;rt<=et;)Sd(this,$,rt),rt+=this.blockSize;if(typeof $=="string"){for(;rt<_;)if(tt[nt++]=$.charCodeAt(rt++),nt==this.blockSize){Sd(this,tt),nt=0;break}}else for(;rt<_;)if(tt[nt++]=$[rt++],nt==this.blockSize){Sd(this,tt),nt=0;break}}this.h=nt,this.i+=_};S$1.prototype.l=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var _=1;_<$.length-8;++_)$[_]=0;var et=8*this.i;for(_=$.length-8;_<$.length;++_)$[_]=et&255,et/=256;for(this.j($),$=Array(16),_=et=0;4>_;++_)for(var tt=0;32>tt;tt+=8)$[et++]=this.g[_]>>>tt&255;return $};function T($,_){this.h=_;for(var et=[],tt=!0,nt=$.length-1;0<=nt;nt--){var rt=$[nt]|0;tt&&rt==_||(et[nt]=rt,tt=!1)}this.g=et}var sa={};function Td($){return-128<=$&&128>$?ra($,function(_){return new T([_|0],0>_?-1:0)}):new T([$|0],0>$?-1:0)}function U($){if(isNaN($)||!isFinite($))return V;if(0>$)return W(U(-$));for(var _=[],et=1,tt=0;$>=et;tt++)_[tt]=$/et|0,et*=Ud;return new T(_,0)}function Vd($,_){if($.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if($.charAt(0)=="-")return W(Vd($.substring(1),_));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var et=U(Math.pow(_,8)),tt=V,nt=0;nt<$.length;nt+=8){var rt=Math.min(8,$.length-nt),it=parseInt($.substring(nt,nt+rt),_);8>rt?(rt=U(Math.pow(_,rt)),tt=tt.R(rt).add(U(it))):(tt=tt.R(et),tt=tt.add(U(it)))}return tt}var Ud=4294967296,V=Td(0),Wd=Td(1),Xd=Td(16777216);k$1=T.prototype;k$1.ea=function(){if(X(this))return-W(this).ea();for(var $=0,_=1,et=0;et<this.g.length;et++){var tt=this.D(et);$+=(0<=tt?tt:Ud+tt)*_,_*=Ud}return $};k$1.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(Y(this))return"0";if(X(this))return"-"+W(this).toString($);for(var _=U(Math.pow($,6)),et=this,tt="";;){var nt=Yd(et,_).g;et=Zd(et,nt.R(_));var rt=((0<et.g.length?et.g[0]:et.h)>>>0).toString($);if(et=nt,Y(et))return rt+tt;for(;6>rt.length;)rt="0"+rt;tt=rt+tt}};k$1.D=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function Y($){if($.h!=0)return!1;for(var _=0;_<$.g.length;_++)if($.g[_]!=0)return!1;return!0}function X($){return $.h==-1}k$1.X=function($){return $=Zd(this,$),X($)?-1:Y($)?0:1};function W($){for(var _=$.g.length,et=[],tt=0;tt<_;tt++)et[tt]=~$.g[tt];return new T(et,~$.h).add(Wd)}k$1.abs=function(){return X(this)?W(this):this};k$1.add=function($){for(var _=Math.max(this.g.length,$.g.length),et=[],tt=0,nt=0;nt<=_;nt++){var rt=tt+(this.D(nt)&65535)+($.D(nt)&65535),it=(rt>>>16)+(this.D(nt)>>>16)+($.D(nt)>>>16);tt=it>>>16,rt&=65535,it&=65535,et[nt]=it<<16|rt}return new T(et,et[et.length-1]&-2147483648?-1:0)};function Zd($,_){return $.add(W(_))}k$1.R=function($){if(Y(this)||Y($))return V;if(X(this))return X($)?W(this).R(W($)):W(W(this).R($));if(X($))return W(this.R(W($)));if(0>this.X(Xd)&&0>$.X(Xd))return U(this.ea()*$.ea());for(var _=this.g.length+$.g.length,et=[],tt=0;tt<2*_;tt++)et[tt]=0;for(tt=0;tt<this.g.length;tt++)for(var nt=0;nt<$.g.length;nt++){var rt=this.D(tt)>>>16,it=this.D(tt)&65535,st=$.D(nt)>>>16,ot=$.D(nt)&65535;et[2*tt+2*nt]+=it*ot,$d(et,2*tt+2*nt),et[2*tt+2*nt+1]+=rt*ot,$d(et,2*tt+2*nt+1),et[2*tt+2*nt+1]+=it*st,$d(et,2*tt+2*nt+1),et[2*tt+2*nt+2]+=rt*st,$d(et,2*tt+2*nt+2)}for(tt=0;tt<_;tt++)et[tt]=et[2*tt+1]<<16|et[2*tt];for(tt=_;tt<2*_;tt++)et[tt]=0;return new T(et,0)};function $d($,_){for(;($[_]&65535)!=$[_];)$[_+1]+=$[_]>>>16,$[_]&=65535,_++}function ae$1($,_){this.g=$,this.h=_}function Yd($,_){if(Y(_))throw Error("division by zero");if(Y($))return new ae$1(V,V);if(X($))return _=Yd(W($),_),new ae$1(W(_.g),W(_.h));if(X(_))return _=Yd($,W(_)),new ae$1(W(_.g),_.h);if(30<$.g.length){if(X($)||X(_))throw Error("slowDivide_ only works with positive integers.");for(var et=Wd,tt=_;0>=tt.X($);)et=be(et),tt=be(tt);var nt=Z(et,1),rt=Z(tt,1);for(tt=Z(tt,2),et=Z(et,2);!Y(tt);){var it=rt.add(tt);0>=it.X($)&&(nt=nt.add(et),rt=it),tt=Z(tt,1),et=Z(et,1)}return _=Zd($,nt.R(_)),new ae$1(nt,_)}for(nt=V;0<=$.X(_);){for(et=Math.max(1,Math.floor($.ea()/_.ea())),tt=Math.ceil(Math.log(et)/Math.LN2),tt=48>=tt?1:Math.pow(2,tt-48),rt=U(et),it=rt.R(_);X(it)||0<it.X($);)et-=tt,rt=U(et),it=rt.R(_);Y(rt)&&(rt=Wd),nt=nt.add(rt),$=Zd($,it)}return new ae$1(nt,$)}k$1.gb=function($){return Yd(this,$).h};k$1.and=function($){for(var _=Math.max(this.g.length,$.g.length),et=[],tt=0;tt<_;tt++)et[tt]=this.D(tt)&$.D(tt);return new T(et,this.h&$.h)};k$1.or=function($){for(var _=Math.max(this.g.length,$.g.length),et=[],tt=0;tt<_;tt++)et[tt]=this.D(tt)|$.D(tt);return new T(et,this.h|$.h)};k$1.xor=function($){for(var _=Math.max(this.g.length,$.g.length),et=[],tt=0;tt<_;tt++)et[tt]=this.D(tt)^$.D(tt);return new T(et,this.h^$.h)};function be($){for(var _=$.g.length+1,et=[],tt=0;tt<_;tt++)et[tt]=$.D(tt)<<1|$.D(tt-1)>>>31;return new T(et,$.h)}function Z($,_){var et=_>>5;_%=32;for(var tt=$.g.length-et,nt=[],rt=0;rt<tt;rt++)nt[rt]=0<_?$.D(rt+et)>>>_|$.D(rt+et+1)<<32-_:$.D(rt+et);return new T(nt,$.h)}Od.prototype.createWebChannel=Od.prototype.g;Q.prototype.send=Q.prototype.u;Q.prototype.open=Q.prototype.m;Q.prototype.close=Q.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B.prototype.listen=B.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$1.prototype.digest=S$1.prototype.l;S$1.prototype.reset=S$1.prototype.reset;S$1.prototype.update=S$1.prototype.j;T.prototype.add=T.prototype.add;T.prototype.multiply=T.prototype.R;T.prototype.modulo=T.prototype.gb;T.prototype.compare=T.prototype.X;T.prototype.toNumber=T.prototype.ea;T.prototype.toString=T.prototype.toString;T.prototype.getBits=T.prototype.D;T.fromNumber=U;T.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode$1=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WebChannel=Wb,XhrIo=P,Md5=S$1,Integer=T;const w$2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(_){this.uid=_}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_){return _.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$2=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b$2.logLevel}function __PRIVATE_logDebug($,..._){if(b$2.logLevel<=LogLevel.DEBUG){const et=_.map(__PRIVATE_argToString);b$2.debug(`Firestore (${S}): ${$}`,...et)}}function __PRIVATE_logError($,..._){if(b$2.logLevel<=LogLevel.ERROR){const et=_.map(__PRIVATE_argToString);b$2.error(`Firestore (${S}): ${$}`,...et)}}function __PRIVATE_logWarn($,..._){if(b$2.logLevel<=LogLevel.WARN){const et=_.map(__PRIVATE_argToString);b$2.warn(`Firestore (${S}): ${$}`,...et)}}function __PRIVATE_argToString($){if(typeof $=="string")return $;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(et){return JSON.stringify(et)}($)}catch{return $}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail($="Unexpected state"){const _=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+$;throw __PRIVATE_logError(_),new Error(_)}function __PRIVATE_hardAssert($,_){$||fail()}function __PRIVATE_debugCast($,_){return $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(_,et){super(_,et),this.code=_,this.message=et,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((_,et)=>{this.resolve=_,this.reject=et})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(_,et){this.user=et,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_,et){_.enqueueRetryable(()=>et(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(_){this.token=_,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_,et){this.changeListener=et,_.enqueueRetryable(()=>et(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(_){this.t=_,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_,et){let tt=this.i;const nt=ot=>this.i!==tt?(tt=this.i,et(ot)):Promise.resolve();let rt=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),rt.resolve(),rt=new __PRIVATE_Deferred,_.enqueueRetryable(()=>nt(this.currentUser))};const it=()=>{const ot=rt;_.enqueueRetryable(async()=>{await ot.promise,await nt(this.currentUser)})},st=ot=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ot,this.auth.addAuthTokenListener(this.o),it()};this.t.onInit(ot=>st(ot)),setTimeout(()=>{if(!this.auth){const ot=this.t.getImmediate({optional:!0});ot?st(ot):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),rt.resolve(),rt=new __PRIVATE_Deferred)}},0),it()}getToken(){const _=this.i,et=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(et).then(tt=>this.i!==_?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):tt?(__PRIVATE_hardAssert(typeof tt.accessToken=="string"),new __PRIVATE_OAuthToken(tt.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const _=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(_===null||typeof _=="string"),new User(_)}}class __PRIVATE_FirstPartyToken{constructor(_,et,tt){this.l=_,this.h=et,this.P=tt,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const _=this.T();return _&&this.I.set("Authorization",_),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(_,et,tt){this.l=_,this.h=et,this.P=tt}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(_,et){_.enqueueRetryable(()=>et(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(_){this.value=_,this.type="AppCheck",this.headers=new Map,_&&_.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(_){this.A=_,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(_,et){const tt=rt=>{rt.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${rt.error.message}`);const it=rt.token!==this.R;return this.R=rt.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${it?"new":"existing"} token.`),it?et(rt.token):Promise.resolve()};this.o=rt=>{_.enqueueRetryable(()=>tt(rt))};const nt=rt=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=rt,this.appCheck.addTokenListener(this.o)};this.A.onInit(rt=>nt(rt)),setTimeout(()=>{if(!this.appCheck){const rt=this.A.getImmediate({optional:!0});rt?nt(rt):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const _=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_).then(et=>et?(__PRIVATE_hardAssert(typeof et.token=="string"),this.R=et.token,new AppCheckToken(et.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes($){const _=typeof self<"u"&&(self.crypto||self.msCrypto),et=new Uint8Array($);if(_&&typeof _.getRandomValues=="function")_.getRandomValues(et);else for(let tt=0;tt<$;tt++)et[tt]=Math.floor(256*Math.random());return et}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",et=Math.floor(256/_.length)*_.length;let tt="";for(;tt.length<20;){const nt=__PRIVATE_randomBytes(40);for(let rt=0;rt<nt.length;++rt)tt.length<20&&nt[rt]<et&&(tt+=_.charAt(nt[rt]%_.length))}return tt}}function __PRIVATE_primitiveComparator($,_){return $<_?-1:$>_?1:0}function __PRIVATE_arrayEquals($,_,et){return $.length===_.length&&$.every((tt,nt)=>et(tt,_[nt]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(_,et){if(this.seconds=_,this.nanoseconds=et,et<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+et);if(et>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+et);if(_<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_);if(_>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(_){return Timestamp.fromMillis(_.getTime())}static fromMillis(_){const et=Math.floor(_/1e3),tt=Math.floor(1e6*(_-1e3*et));return new Timestamp(et,tt)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(_){return this.seconds===_.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,_.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,_.seconds)}isEqual(_){return _.seconds===this.seconds&&_.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const _=this.seconds- -62135596800;return String(_).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(_){this.timestamp=_}static fromTimestamp(_){return new SnapshotVersion(_)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(_){return this.timestamp._compareTo(_.timestamp)}isEqual(_){return this.timestamp.isEqual(_.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(_,et,tt){et===void 0?et=0:et>_.length&&fail(),tt===void 0?tt=_.length-et:tt>_.length-et&&fail(),this.segments=_,this.offset=et,this.len=tt}get length(){return this.len}isEqual(_){return BasePath.comparator(this,_)===0}child(_){const et=this.segments.slice(this.offset,this.limit());return _ instanceof BasePath?_.forEach(tt=>{et.push(tt)}):et.push(_),this.construct(et)}limit(){return this.offset+this.length}popFirst(_){return _=_===void 0?1:_,this.construct(this.segments,this.offset+_,this.length-_)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_){return this.segments[this.offset+_]}isEmpty(){return this.length===0}isPrefixOf(_){if(_.length<this.length)return!1;for(let et=0;et<this.length;et++)if(this.get(et)!==_.get(et))return!1;return!0}isImmediateParentOf(_){if(this.length+1!==_.length)return!1;for(let et=0;et<this.length;et++)if(this.get(et)!==_.get(et))return!1;return!0}forEach(_){for(let et=this.offset,tt=this.limit();et<tt;et++)_(this.segments[et])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_,et){const tt=Math.min(_.length,et.length);for(let nt=0;nt<tt;nt++){const rt=_.get(nt),it=et.get(nt);if(rt<it)return-1;if(rt>it)return 1}return _.length<et.length?-1:_.length>et.length?1:0}}class ResourcePath extends BasePath{construct(_,et,tt){return new ResourcePath(_,et,tt)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(..._){const et=[];for(const tt of _){if(tt.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${tt}). Paths must not contain // in them.`);et.push(...tt.split("/").filter(nt=>nt.length>0))}return new ResourcePath(et)}static emptyPath(){return new ResourcePath([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(_,et,tt){return new FieldPath$1(_,et,tt)}static isValidIdentifier(_){return C.test(_)}canonicalString(){return this.toArray().map(_=>(_=_.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(_)||(_="`"+_+"`"),_)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(_){const et=[];let tt="",nt=0;const rt=()=>{if(tt.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);et.push(tt),tt=""};let it=!1;for(;nt<_.length;){const st=_[nt];if(st==="\\"){if(nt+1===_.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+_);const ot=_[nt+1];if(ot!=="\\"&&ot!=="."&&ot!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_);tt+=ot,nt+=2}else st==="`"?(it=!it,nt++):st!=="."||it?(tt+=st,nt++):(rt(),nt++)}if(rt(),it)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+_);return new FieldPath$1(et)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(_){this.path=_}static fromPath(_){return new DocumentKey(ResourcePath.fromString(_))}static fromName(_){return new DocumentKey(ResourcePath.fromString(_).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_){return this.path.length>=2&&this.path.get(this.path.length-2)===_}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_){return _!==null&&ResourcePath.comparator(this.path,_.path)===0}toString(){return this.path.toString()}static comparator(_,et){return ResourcePath.comparator(_.path,et.path)}static isDocumentKey(_){return _.length%2==0}static fromSegments(_){return new DocumentKey(new ResourcePath(_.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime($,_){const et=$.toTimestamp().seconds,tt=$.toTimestamp().nanoseconds+1,nt=SnapshotVersion.fromTimestamp(tt===1e9?new Timestamp(et+1,0):new Timestamp(et,tt));return new IndexOffset(nt,DocumentKey.empty(),_)}function __PRIVATE_newIndexOffsetFromDocument($){return new IndexOffset($.readTime,$.key,-1)}class IndexOffset{constructor(_,et,tt){this.readTime=_,this.documentKey=et,this.largestBatchId=tt}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator($,_){let et=$.readTime.compareTo(_.readTime);return et!==0?et:(et=DocumentKey.comparator($.documentKey,_.documentKey),et!==0?et:__PRIVATE_primitiveComparator($.largestBatchId,_.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_){this.onCommittedListeners.push(_)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(_=>_())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss($){if($.code!==D.FAILED_PRECONDITION||$.message!==v$2)throw $;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(_){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_(et=>{this.isDone=!0,this.result=et,this.nextCallback&&this.nextCallback(et)},et=>{this.isDone=!0,this.error=et,this.catchCallback&&this.catchCallback(et)})}catch(_){return this.next(void 0,_)}next(_,et){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(et,this.error):this.wrapSuccess(_,this.result):new PersistencePromise((tt,nt)=>{this.nextCallback=rt=>{this.wrapSuccess(_,rt).next(tt,nt)},this.catchCallback=rt=>{this.wrapFailure(et,rt).next(tt,nt)}})}toPromise(){return new Promise((_,et)=>{this.next(_,et)})}wrapUserFunction(_){try{const et=_();return et instanceof PersistencePromise?et:PersistencePromise.resolve(et)}catch(et){return PersistencePromise.reject(et)}}wrapSuccess(_,et){return _?this.wrapUserFunction(()=>_(et)):PersistencePromise.resolve(et)}wrapFailure(_,et){return _?this.wrapUserFunction(()=>_(et)):PersistencePromise.reject(et)}static resolve(_){return new PersistencePromise((et,tt)=>{et(_)})}static reject(_){return new PersistencePromise((et,tt)=>{tt(_)})}static waitFor(_){return new PersistencePromise((et,tt)=>{let nt=0,rt=0,it=!1;_.forEach(st=>{++nt,st.next(()=>{++rt,it&&rt===nt&&et()},ot=>tt(ot))}),it=!0,rt===nt&&et()})}static or(_){let et=PersistencePromise.resolve(!1);for(const tt of _)et=et.next(nt=>nt?PersistencePromise.resolve(nt):tt());return et}static forEach(_,et){const tt=[];return _.forEach((nt,rt)=>{tt.push(et.call(this,nt,rt))}),this.waitFor(tt)}static mapArray(_,et){return new PersistencePromise((tt,nt)=>{const rt=_.length,it=new Array(rt);let st=0;for(let ot=0;ot<rt;ot++){const at=ot;et(_[at]).next(lt=>{it[at]=lt,++st,st===rt&&tt(it)},lt=>nt(lt))}})}static doWhile(_,et){return new PersistencePromise((tt,nt)=>{const rt=()=>{_()===!0?et().next(()=>{rt()},nt):tt()};rt()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SimpleDbTransaction{constructor(_,et){this.action=_,this.transaction=et,this.aborted=!1,this.V=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{et.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError(_,et.error)):this.V.resolve()},this.transaction.onerror=tt=>{const nt=__PRIVATE_checkForAndReportiOSError(tt.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError(_,nt))}}static open(_,et,tt,nt){try{return new __PRIVATE_SimpleDbTransaction(et,_.transaction(nt,tt))}catch(rt){throw new __PRIVATE_IndexedDbTransactionError(et,rt)}}get m(){return this.V.promise}abort(_){_&&this.V.reject(_),this.aborted||(__PRIVATE_logDebug("SimpleDb","Aborting transaction:",_?_.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const _=this.transaction;this.aborted||typeof _.commit!="function"||_.commit()}store(_){const et=this.transaction.objectStore(_);return new __PRIVATE_SimpleDbStore(et)}}class __PRIVATE_SimpleDb{constructor(_,et,tt){this.name=_,this.version=et,this.p=tt,__PRIVATE_SimpleDb.S(getUA())===12.2&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(_){return __PRIVATE_logDebug("SimpleDb","Removing database:",_),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(_)).toPromise()}static D(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.C())return!0;const _=getUA(),et=__PRIVATE_SimpleDb.S(_),tt=0<et&&et<10,nt=__PRIVATE_SimpleDb.v(_),rt=0<nt&&nt<4.5;return!(_.indexOf("MSIE ")>0||_.indexOf("Trident/")>0||_.indexOf("Edge/")>0||tt||rt)}static C(){var _;return typeof process<"u"&&((_=process.__PRIVATE_env)===null||_===void 0?void 0:_.F)==="YES"}static M(_,et){return _.store(et)}static S(_){const et=_.match(/i(?:phone|pad|pod) os ([\d_]+)/i),tt=et?et[1].split("_").slice(0,2).join("."):"-1";return Number(tt)}static v(_){const et=_.match(/Android ([\d.]+)/i),tt=et?et[1].split(".").slice(0,2).join("."):"-1";return Number(tt)}async O(_){return this.db||(__PRIVATE_logDebug("SimpleDb","Opening database:",this.name),this.db=await new Promise((et,tt)=>{const nt=indexedDB.open(this.name,this.version);nt.onsuccess=rt=>{const it=rt.target.result;et(it)},nt.onblocked=()=>{tt(new __PRIVATE_IndexedDbTransactionError(_,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},nt.onerror=rt=>{const it=rt.target.error;it.name==="VersionError"?tt(new FirestoreError(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):it.name==="InvalidStateError"?tt(new FirestoreError(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+it)):tt(new __PRIVATE_IndexedDbTransactionError(_,it))},nt.onupgradeneeded=rt=>{__PRIVATE_logDebug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',rt.oldVersion);const it=rt.target.result;this.p.N(it,nt.transaction,rt.oldVersion,this.version).next(()=>{__PRIVATE_logDebug("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=et=>this.L(et)),this.db}B(_){this.L=_,this.db&&(this.db.onversionchange=et=>_(et))}async runTransaction(_,et,tt,nt){const rt=et==="readonly";let it=0;for(;;){++it;try{this.db=await this.O(_);const st=__PRIVATE_SimpleDbTransaction.open(this.db,_,rt?"readonly":"readwrite",tt),ot=nt(st).next(at=>(st.g(),at)).catch(at=>(st.abort(at),PersistencePromise.reject(at))).toPromise();return ot.catch(()=>{}),await st.m,ot}catch(st){const ot=st,at=ot.name!=="FirebaseError"&&it<3;if(__PRIVATE_logDebug("SimpleDb","Transaction failed with error:",ot.message,"Retrying:",at),this.close(),!at)return Promise.reject(ot)}}}close(){this.db&&this.db.close(),this.db=void 0}}class __PRIVATE_IterationController{constructor(_){this.k=_,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(_){this.k=_}done(){this.q=!0}U(_){this.K=_}delete(){return __PRIVATE_wrapRequest(this.k.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(_,et){super(D.UNAVAILABLE,`IndexedDB transaction '${_}' failed: ${et}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError($){return $.name==="IndexedDbTransactionError"}class __PRIVATE_SimpleDbStore{constructor(_){this.store=_}put(_,et){let tt;return et!==void 0?(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,_,et),tt=this.store.put(et,_)):(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,"<auto-key>",_),tt=this.store.put(_)),__PRIVATE_wrapRequest(tt)}add(_){return __PRIVATE_logDebug("SimpleDb","ADD",this.store.name,_,_),__PRIVATE_wrapRequest(this.store.add(_))}get(_){return __PRIVATE_wrapRequest(this.store.get(_)).next(et=>(et===void 0&&(et=null),__PRIVATE_logDebug("SimpleDb","GET",this.store.name,_,et),et))}delete(_){return __PRIVATE_logDebug("SimpleDb","DELETE",this.store.name,_),__PRIVATE_wrapRequest(this.store.delete(_))}count(){return __PRIVATE_logDebug("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}W(_,et){const tt=this.options(_,et),nt=tt.index?this.store.index(tt.index):this.store;if(typeof nt.getAll=="function"){const rt=nt.getAll(tt.range);return new PersistencePromise((it,st)=>{rt.onerror=ot=>{st(ot.target.error)},rt.onsuccess=ot=>{it(ot.target.result)}})}{const rt=this.cursor(tt),it=[];return this.G(rt,(st,ot)=>{it.push(ot)}).next(()=>it)}}j(_,et){const tt=this.store.getAll(_,et===null?void 0:et);return new PersistencePromise((nt,rt)=>{tt.onerror=it=>{rt(it.target.error)},tt.onsuccess=it=>{nt(it.target.result)}})}H(_,et){__PRIVATE_logDebug("SimpleDb","DELETE ALL",this.store.name);const tt=this.options(_,et);tt.J=!1;const nt=this.cursor(tt);return this.G(nt,(rt,it,st)=>st.delete())}Y(_,et){let tt;et?tt=_:(tt={},et=_);const nt=this.cursor(tt);return this.G(nt,et)}Z(_){const et=this.cursor({});return new PersistencePromise((tt,nt)=>{et.onerror=rt=>{const it=__PRIVATE_checkForAndReportiOSError(rt.target.error);nt(it)},et.onsuccess=rt=>{const it=rt.target.result;it?_(it.primaryKey,it.value).next(st=>{st?it.continue():tt()}):tt()}})}G(_,et){const tt=[];return new PersistencePromise((nt,rt)=>{_.onerror=it=>{rt(it.target.error)},_.onsuccess=it=>{const st=it.target.result;if(!st)return void nt();const ot=new __PRIVATE_IterationController(st),at=et(st.primaryKey,st.value,ot);if(at instanceof PersistencePromise){const lt=at.catch(ct=>(ot.done(),PersistencePromise.reject(ct)));tt.push(lt)}ot.isDone?nt():ot.$===null?st.continue():st.continue(ot.$)}}).next(()=>PersistencePromise.waitFor(tt))}options(_,et){let tt;return _!==void 0&&(typeof _=="string"?tt=_:et=_),{index:tt,range:et}}cursor(_){let et="next";if(_.reverse&&(et="prev"),_.index){const tt=this.store.index(_.index);return _.J?tt.openKeyCursor(_.range,et):tt.openCursor(_.range,et)}return this.store.openCursor(_.range,et)}}function __PRIVATE_wrapRequest($){return new PersistencePromise((_,et)=>{$.onsuccess=tt=>{const nt=tt.target.result;_(nt)},$.onerror=tt=>{const nt=__PRIVATE_checkForAndReportiOSError(tt.target.error);et(nt)}})}let F=!1;function __PRIVATE_checkForAndReportiOSError($){const _=__PRIVATE_SimpleDb.S(getUA());if(_>=12.2&&_<13){const et="An internal error was encountered in the Indexed Database server";if($.message.indexOf(et)>=0){const tt=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${et}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F||(F=!0,setTimeout(()=>{throw tt},0)),tt}}return $}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(_,et){this.previousValue=_,et&&(et.sequenceNumberHandler=tt=>this.se(tt),this.oe=tt=>et.writeSequenceNumber(tt))}se(_){return this.previousValue=Math.max(_,this.previousValue),this.previousValue}next(){const _=++this.previousValue;return this.oe&&this.oe(_),_}}__PRIVATE_ListenSequence._e=-1;function __PRIVATE_isNullOrUndefined($){return $==null}function __PRIVATE_isNegativeZero($){return $===0&&1/$==-1/0}function isSafeInteger($){return typeof $=="number"&&Number.isInteger($)&&!__PRIVATE_isNegativeZero($)&&$<=Number.MAX_SAFE_INTEGER&&$>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize($){let _=0;for(const et in $)Object.prototype.hasOwnProperty.call($,et)&&_++;return _}function forEach$1($,_){for(const et in $)Object.prototype.hasOwnProperty.call($,et)&&_(et,$[et])}function isEmpty($){for(const _ in $)if(Object.prototype.hasOwnProperty.call($,_))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(_,et){this.comparator=_,this.root=et||LLRBNode.EMPTY}insert(_,et){return new SortedMap(this.comparator,this.root.insert(_,et,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(_){return new SortedMap(this.comparator,this.root.remove(_,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(_){let et=this.root;for(;!et.isEmpty();){const tt=this.comparator(_,et.key);if(tt===0)return et.value;tt<0?et=et.left:tt>0&&(et=et.right)}return null}indexOf(_){let et=0,tt=this.root;for(;!tt.isEmpty();){const nt=this.comparator(_,tt.key);if(nt===0)return et+tt.left.size;nt<0?tt=tt.left:(et+=tt.left.size+1,tt=tt.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_){return this.root.inorderTraversal(_)}forEach(_){this.inorderTraversal((et,tt)=>(_(et,tt),!1))}toString(){const _=[];return this.inorderTraversal((et,tt)=>(_.push(`${et}:${tt}`),!1)),`{${_.join(", ")}}`}reverseTraversal(_){return this.root.reverseTraversal(_)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!0)}}class SortedMapIterator{constructor(_,et,tt,nt){this.isReverse=nt,this.nodeStack=[];let rt=1;for(;!_.isEmpty();)if(rt=et?tt(_.key,et):1,et&&nt&&(rt*=-1),rt<0)_=this.isReverse?_.left:_.right;else{if(rt===0){this.nodeStack.push(_);break}this.nodeStack.push(_),_=this.isReverse?_.right:_.left}}getNext(){let _=this.nodeStack.pop();const et={key:_.key,value:_.value};if(this.isReverse)for(_=_.left;!_.isEmpty();)this.nodeStack.push(_),_=_.right;else for(_=_.right;!_.isEmpty();)this.nodeStack.push(_),_=_.left;return et}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const _=this.nodeStack[this.nodeStack.length-1];return{key:_.key,value:_.value}}}class LLRBNode{constructor(_,et,tt,nt,rt){this.key=_,this.value=et,this.color=tt??LLRBNode.RED,this.left=nt??LLRBNode.EMPTY,this.right=rt??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(_,et,tt,nt,rt){return new LLRBNode(_??this.key,et??this.value,tt??this.color,nt??this.left,rt??this.right)}isEmpty(){return!1}inorderTraversal(_){return this.left.inorderTraversal(_)||_(this.key,this.value)||this.right.inorderTraversal(_)}reverseTraversal(_){return this.right.reverseTraversal(_)||_(this.key,this.value)||this.left.reverseTraversal(_)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_,et,tt){let nt=this;const rt=tt(_,nt.key);return nt=rt<0?nt.copy(null,null,null,nt.left.insert(_,et,tt),null):rt===0?nt.copy(null,et,null,null,null):nt.copy(null,null,null,null,nt.right.insert(_,et,tt)),nt.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let _=this;return _.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.removeMin(),null),_.fixUp()}remove(_,et){let tt,nt=this;if(et(_,nt.key)<0)nt.left.isEmpty()||nt.left.isRed()||nt.left.left.isRed()||(nt=nt.moveRedLeft()),nt=nt.copy(null,null,null,nt.left.remove(_,et),null);else{if(nt.left.isRed()&&(nt=nt.rotateRight()),nt.right.isEmpty()||nt.right.isRed()||nt.right.left.isRed()||(nt=nt.moveRedRight()),et(_,nt.key)===0){if(nt.right.isEmpty())return LLRBNode.EMPTY;tt=nt.right.min(),nt=nt.copy(tt.key,tt.value,null,null,nt.right.removeMin())}nt=nt.copy(null,null,null,null,nt.right.remove(_,et))}return nt.fixUp()}isRed(){return this.color}fixUp(){let _=this;return _.right.isRed()&&!_.left.isRed()&&(_=_.rotateLeft()),_.left.isRed()&&_.left.left.isRed()&&(_=_.rotateRight()),_.left.isRed()&&_.right.isRed()&&(_=_.colorFlip()),_}moveRedLeft(){let _=this.colorFlip();return _.right.left.isRed()&&(_=_.copy(null,null,null,null,_.right.rotateRight()),_=_.rotateLeft(),_=_.colorFlip()),_}moveRedRight(){let _=this.colorFlip();return _.left.left.isRed()&&(_=_.rotateRight(),_=_.colorFlip()),_}rotateLeft(){const _=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,_,null)}rotateRight(){const _=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_)}colorFlip(){const _=this.left.copy(null,null,!this.left.color,null,null),et=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_,et)}checkMaxDepth(){const _=this.check();return Math.pow(2,_)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const _=this.left.check();if(_!==this.right.check())throw fail();return _+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(_,et,tt,nt,rt){return this}insert(_,et,tt){return new LLRBNode(_,et)}remove(_,et){return this}isEmpty(){return!0}inorderTraversal(_){return!1}reverseTraversal(_){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(_){this.comparator=_,this.data=new SortedMap(this.comparator)}has(_){return this.data.get(_)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_){return this.data.indexOf(_)}forEach(_){this.data.inorderTraversal((et,tt)=>(_(et),!1))}forEachInRange(_,et){const tt=this.data.getIteratorFrom(_[0]);for(;tt.hasNext();){const nt=tt.getNext();if(this.comparator(nt.key,_[1])>=0)return;et(nt.key)}}forEachWhile(_,et){let tt;for(tt=et!==void 0?this.data.getIteratorFrom(et):this.data.getIterator();tt.hasNext();)if(!_(tt.getNext().key))return}firstAfterOrEqual(_){const et=this.data.getIteratorFrom(_);return et.hasNext()?et.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(_){return new SortedSetIterator(this.data.getIteratorFrom(_))}add(_){return this.copy(this.data.remove(_).insert(_,!0))}delete(_){return this.has(_)?this.copy(this.data.remove(_)):this}isEmpty(){return this.data.isEmpty()}unionWith(_){let et=this;return et.size<_.size&&(et=_,_=this),_.forEach(tt=>{et=et.add(tt)}),et}isEqual(_){if(!(_ instanceof SortedSet)||this.size!==_.size)return!1;const et=this.data.getIterator(),tt=_.data.getIterator();for(;et.hasNext();){const nt=et.getNext().key,rt=tt.getNext().key;if(this.comparator(nt,rt)!==0)return!1}return!0}toArray(){const _=[];return this.forEach(et=>{_.push(et)}),_}toString(){const _=[];return this.forEach(et=>_.push(et)),"SortedSet("+_.toString()+")"}copy(_){const et=new SortedSet(this.comparator);return et.data=_,et}}class SortedSetIterator{constructor(_){this.iter=_}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(_){this.fields=_,_.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(_){let et=new SortedSet(FieldPath$1.comparator);for(const tt of this.fields)et=et.add(tt);for(const tt of _)et=et.add(tt);return new FieldMask(et.toArray())}covers(_){for(const et of this.fields)if(et.isPrefixOf(_))return!0;return!1}isEqual(_){return __PRIVATE_arrayEquals(this.fields,_.fields,(et,tt)=>et.isEqual(tt))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(_){this.binaryString=_}static fromBase64String(_){const et=function(nt){try{return atob(nt)}catch(rt){throw typeof DOMException<"u"&&rt instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+rt):rt}}(_);return new ByteString(et)}static fromUint8Array(_){const et=function(nt){let rt="";for(let it=0;it<nt.length;++it)rt+=String.fromCharCode(nt[it]);return rt}(_);return new ByteString(et)}[Symbol.iterator](){let _=0;return{next:()=>_<this.binaryString.length?{value:this.binaryString.charCodeAt(_++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(et){return btoa(et)}(this.binaryString)}toUint8Array(){return function(et){const tt=new Uint8Array(et.length);for(let nt=0;nt<et.length;nt++)tt[nt]=et.charCodeAt(nt);return tt}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_){return __PRIVATE_primitiveComparator(this.binaryString,_.binaryString)}isEqual(_){return this.binaryString===_.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp($){if(__PRIVATE_hardAssert(!!$),typeof $=="string"){let _=0;const et=ee.exec($);if(__PRIVATE_hardAssert(!!et),et[1]){let nt=et[1];nt=(nt+"000000000").substr(0,9),_=Number(nt)}const tt=new Date($);return{seconds:Math.floor(tt.getTime()/1e3),nanos:_}}return{seconds:__PRIVATE_normalizeNumber($.seconds),nanos:__PRIVATE_normalizeNumber($.nanos)}}function __PRIVATE_normalizeNumber($){return typeof $=="number"?$:typeof $=="string"?Number($):0}function __PRIVATE_normalizeByteString($){return typeof $=="string"?ByteString.fromBase64String($):ByteString.fromUint8Array($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp($){var _,et;return((et=(((_=$==null?void 0:$.mapValue)===null||_===void 0?void 0:_.fields)||{}).__type__)===null||et===void 0?void 0:et.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue($){const _=$.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(_)?__PRIVATE_getPreviousValue(_):_}function __PRIVATE_getLocalWriteTime($){const _=__PRIVATE_normalizeTimestamp($.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(_.seconds,_.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(_,et,tt,nt,rt,it,st,ot,at){this.databaseId=_,this.appId=et,this.persistenceKey=tt,this.host=nt,this.ssl=rt,this.forceLongPolling=it,this.autoDetectLongPolling=st,this.longPollingOptions=ot,this.useFetchStreams=at}}class DatabaseId{constructor(_,et){this.projectId=_,this.database=et||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(_){return _ instanceof DatabaseId&&_.projectId===this.projectId&&_.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder($){return"nullValue"in $?0:"booleanValue"in $?1:"integerValue"in $||"doubleValue"in $?2:"timestampValue"in $?3:"stringValue"in $?5:"bytesValue"in $?6:"referenceValue"in $?7:"geoPointValue"in $?8:"arrayValue"in $?9:"mapValue"in $?__PRIVATE_isServerTimestamp($)?4:__PRIVATE_isMaxValue($)?9007199254740991:10:fail()}function __PRIVATE_valueEquals($,_){if($===_)return!0;const et=__PRIVATE_typeOrder($);if(et!==__PRIVATE_typeOrder(_))return!1;switch(et){case 0:case 9007199254740991:return!0;case 1:return $.booleanValue===_.booleanValue;case 4:return __PRIVATE_getLocalWriteTime($).isEqual(__PRIVATE_getLocalWriteTime(_));case 3:return function(nt,rt){if(typeof nt.timestampValue=="string"&&typeof rt.timestampValue=="string"&&nt.timestampValue.length===rt.timestampValue.length)return nt.timestampValue===rt.timestampValue;const it=__PRIVATE_normalizeTimestamp(nt.timestampValue),st=__PRIVATE_normalizeTimestamp(rt.timestampValue);return it.seconds===st.seconds&&it.nanos===st.nanos}($,_);case 5:return $.stringValue===_.stringValue;case 6:return function(nt,rt){return __PRIVATE_normalizeByteString(nt.bytesValue).isEqual(__PRIVATE_normalizeByteString(rt.bytesValue))}($,_);case 7:return $.referenceValue===_.referenceValue;case 8:return function(nt,rt){return __PRIVATE_normalizeNumber(nt.geoPointValue.latitude)===__PRIVATE_normalizeNumber(rt.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(nt.geoPointValue.longitude)===__PRIVATE_normalizeNumber(rt.geoPointValue.longitude)}($,_);case 2:return function(nt,rt){if("integerValue"in nt&&"integerValue"in rt)return __PRIVATE_normalizeNumber(nt.integerValue)===__PRIVATE_normalizeNumber(rt.integerValue);if("doubleValue"in nt&&"doubleValue"in rt){const it=__PRIVATE_normalizeNumber(nt.doubleValue),st=__PRIVATE_normalizeNumber(rt.doubleValue);return it===st?__PRIVATE_isNegativeZero(it)===__PRIVATE_isNegativeZero(st):isNaN(it)&&isNaN(st)}return!1}($,_);case 9:return __PRIVATE_arrayEquals($.arrayValue.values||[],_.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(nt,rt){const it=nt.mapValue.fields||{},st=rt.mapValue.fields||{};if(__PRIVATE_objectSize(it)!==__PRIVATE_objectSize(st))return!1;for(const ot in it)if(it.hasOwnProperty(ot)&&(st[ot]===void 0||!__PRIVATE_valueEquals(it[ot],st[ot])))return!1;return!0}($,_);default:return fail()}}function __PRIVATE_arrayValueContains($,_){return($.values||[]).find(et=>__PRIVATE_valueEquals(et,_))!==void 0}function __PRIVATE_valueCompare($,_){if($===_)return 0;const et=__PRIVATE_typeOrder($),tt=__PRIVATE_typeOrder(_);if(et!==tt)return __PRIVATE_primitiveComparator(et,tt);switch(et){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator($.booleanValue,_.booleanValue);case 2:return function(rt,it){const st=__PRIVATE_normalizeNumber(rt.integerValue||rt.doubleValue),ot=__PRIVATE_normalizeNumber(it.integerValue||it.doubleValue);return st<ot?-1:st>ot?1:st===ot?0:isNaN(st)?isNaN(ot)?0:-1:1}($,_);case 3:return __PRIVATE_compareTimestamps($.timestampValue,_.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime($),__PRIVATE_getLocalWriteTime(_));case 5:return __PRIVATE_primitiveComparator($.stringValue,_.stringValue);case 6:return function(rt,it){const st=__PRIVATE_normalizeByteString(rt),ot=__PRIVATE_normalizeByteString(it);return st.compareTo(ot)}($.bytesValue,_.bytesValue);case 7:return function(rt,it){const st=rt.split("/"),ot=it.split("/");for(let at=0;at<st.length&&at<ot.length;at++){const lt=__PRIVATE_primitiveComparator(st[at],ot[at]);if(lt!==0)return lt}return __PRIVATE_primitiveComparator(st.length,ot.length)}($.referenceValue,_.referenceValue);case 8:return function(rt,it){const st=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(rt.latitude),__PRIVATE_normalizeNumber(it.latitude));return st!==0?st:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(rt.longitude),__PRIVATE_normalizeNumber(it.longitude))}($.geoPointValue,_.geoPointValue);case 9:return function(rt,it){const st=rt.values||[],ot=it.values||[];for(let at=0;at<st.length&&at<ot.length;++at){const lt=__PRIVATE_valueCompare(st[at],ot[at]);if(lt)return lt}return __PRIVATE_primitiveComparator(st.length,ot.length)}($.arrayValue,_.arrayValue);case 10:return function(rt,it){if(rt===te.mapValue&&it===te.mapValue)return 0;if(rt===te.mapValue)return 1;if(it===te.mapValue)return-1;const st=rt.fields||{},ot=Object.keys(st),at=it.fields||{},lt=Object.keys(at);ot.sort(),lt.sort();for(let ct=0;ct<ot.length&&ct<lt.length;++ct){const dt=__PRIVATE_primitiveComparator(ot[ct],lt[ct]);if(dt!==0)return dt;const _t=__PRIVATE_valueCompare(st[ot[ct]],at[lt[ct]]);if(_t!==0)return _t}return __PRIVATE_primitiveComparator(ot.length,lt.length)}($.mapValue,_.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps($,_){if(typeof $=="string"&&typeof _=="string"&&$.length===_.length)return __PRIVATE_primitiveComparator($,_);const et=__PRIVATE_normalizeTimestamp($),tt=__PRIVATE_normalizeTimestamp(_),nt=__PRIVATE_primitiveComparator(et.seconds,tt.seconds);return nt!==0?nt:__PRIVATE_primitiveComparator(et.nanos,tt.nanos)}function canonicalId($){return __PRIVATE_canonifyValue($)}function __PRIVATE_canonifyValue($){return"nullValue"in $?"null":"booleanValue"in $?""+$.booleanValue:"integerValue"in $?""+$.integerValue:"doubleValue"in $?""+$.doubleValue:"timestampValue"in $?function(et){const tt=__PRIVATE_normalizeTimestamp(et);return`time(${tt.seconds},${tt.nanos})`}($.timestampValue):"stringValue"in $?$.stringValue:"bytesValue"in $?function(et){return __PRIVATE_normalizeByteString(et).toBase64()}($.bytesValue):"referenceValue"in $?function(et){return DocumentKey.fromName(et).toString()}($.referenceValue):"geoPointValue"in $?function(et){return`geo(${et.latitude},${et.longitude})`}($.geoPointValue):"arrayValue"in $?function(et){let tt="[",nt=!0;for(const rt of et.values||[])nt?nt=!1:tt+=",",tt+=__PRIVATE_canonifyValue(rt);return tt+"]"}($.arrayValue):"mapValue"in $?function(et){const tt=Object.keys(et.fields||{}).sort();let nt="{",rt=!0;for(const it of tt)rt?rt=!1:nt+=",",nt+=`${it}:${__PRIVATE_canonifyValue(et.fields[it])}`;return nt+"}"}($.mapValue):fail()}function __PRIVATE_refValue($,_){return{referenceValue:`projects/${$.projectId}/databases/${$.database}/documents/${_.path.canonicalString()}`}}function isInteger($){return!!$&&"integerValue"in $}function isArray$2($){return!!$&&"arrayValue"in $}function __PRIVATE_isNullValue($){return!!$&&"nullValue"in $}function __PRIVATE_isNanValue($){return!!$&&"doubleValue"in $&&isNaN(Number($.doubleValue))}function __PRIVATE_isMapValue($){return!!$&&"mapValue"in $}function __PRIVATE_deepClone($){if($.geoPointValue)return{geoPointValue:Object.assign({},$.geoPointValue)};if($.timestampValue&&typeof $.timestampValue=="object")return{timestampValue:Object.assign({},$.timestampValue)};if($.mapValue){const _={mapValue:{fields:{}}};return forEach$1($.mapValue.fields,(et,tt)=>_.mapValue.fields[et]=__PRIVATE_deepClone(tt)),_}if($.arrayValue){const _={arrayValue:{values:[]}};for(let et=0;et<($.arrayValue.values||[]).length;++et)_.arrayValue.values[et]=__PRIVATE_deepClone($.arrayValue.values[et]);return _}return Object.assign({},$)}function __PRIVATE_isMaxValue($){return((($.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(_){this.value=_}static empty(){return new ObjectValue({mapValue:{}})}field(_){if(_.isEmpty())return this.value;{let et=this.value;for(let tt=0;tt<_.length-1;++tt)if(et=(et.mapValue.fields||{})[_.get(tt)],!__PRIVATE_isMapValue(et))return null;return et=(et.mapValue.fields||{})[_.lastSegment()],et||null}}set(_,et){this.getFieldsMap(_.popLast())[_.lastSegment()]=__PRIVATE_deepClone(et)}setAll(_){let et=FieldPath$1.emptyPath(),tt={},nt=[];_.forEach((it,st)=>{if(!et.isImmediateParentOf(st)){const ot=this.getFieldsMap(et);this.applyChanges(ot,tt,nt),tt={},nt=[],et=st.popLast()}it?tt[st.lastSegment()]=__PRIVATE_deepClone(it):nt.push(st.lastSegment())});const rt=this.getFieldsMap(et);this.applyChanges(rt,tt,nt)}delete(_){const et=this.field(_.popLast());__PRIVATE_isMapValue(et)&&et.mapValue.fields&&delete et.mapValue.fields[_.lastSegment()]}isEqual(_){return __PRIVATE_valueEquals(this.value,_.value)}getFieldsMap(_){let et=this.value;et.mapValue.fields||(et.mapValue={fields:{}});for(let tt=0;tt<_.length;++tt){let nt=et.mapValue.fields[_.get(tt)];__PRIVATE_isMapValue(nt)&&nt.mapValue.fields||(nt={mapValue:{fields:{}}},et.mapValue.fields[_.get(tt)]=nt),et=nt}return et.mapValue.fields}applyChanges(_,et,tt){forEach$1(et,(nt,rt)=>_[nt]=rt);for(const nt of tt)delete _[nt]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask($){const _=[];return forEach$1($.fields,(et,tt)=>{const nt=new FieldPath$1([et]);if(__PRIVATE_isMapValue(tt)){const rt=__PRIVATE_extractFieldMask(tt.mapValue).fields;if(rt.length===0)_.push(nt);else for(const it of rt)_.push(nt.child(it))}else _.push(nt)}),new FieldMask(_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(_,et,tt,nt,rt,it,st){this.key=_,this.documentType=et,this.version=tt,this.readTime=nt,this.createTime=rt,this.data=it,this.documentState=st}static newInvalidDocument(_){return new MutableDocument(_,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(_,et,tt,nt){return new MutableDocument(_,1,et,SnapshotVersion.min(),tt,nt,0)}static newNoDocument(_,et){return new MutableDocument(_,2,et,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(_,et){return new MutableDocument(_,3,et,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(_,et){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=_),this.version=_,this.documentType=1,this.data=et,this.documentState=0,this}convertToNoDocument(_){return this.version=_,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(_){return this.version=_,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(_){return this.readTime=_,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(_){return _ instanceof MutableDocument&&this.key.isEqual(_.key)&&this.version.isEqual(_.version)&&this.documentType===_.documentType&&this.documentState===_.documentState&&this.data.isEqual(_.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(_,et){this.position=_,this.inclusive=et}}function __PRIVATE_boundCompareToDocument($,_,et){let tt=0;for(let nt=0;nt<$.position.length;nt++){const rt=_[nt],it=$.position[nt];if(rt.field.isKeyField()?tt=DocumentKey.comparator(DocumentKey.fromName(it.referenceValue),et.key):tt=__PRIVATE_valueCompare(it,et.data.field(rt.field)),rt.dir==="desc"&&(tt*=-1),tt!==0)break}return tt}function __PRIVATE_boundEquals($,_){if($===null)return _===null;if(_===null||$.inclusive!==_.inclusive||$.position.length!==_.position.length)return!1;for(let et=0;et<$.position.length;et++)if(!__PRIVATE_valueEquals($.position[et],_.position[et]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(_,et="asc"){this.field=_,this.dir=et}}function __PRIVATE_orderByEquals($,_){return $.dir===_.dir&&$.field.isEqual(_.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(_,et,tt){super(),this.field=_,this.op=et,this.value=tt}static create(_,et,tt){return _.isKeyField()?et==="in"||et==="not-in"?this.createKeyFieldInFilter(_,et,tt):new __PRIVATE_KeyFieldFilter(_,et,tt):et==="array-contains"?new __PRIVATE_ArrayContainsFilter(_,tt):et==="in"?new __PRIVATE_InFilter(_,tt):et==="not-in"?new __PRIVATE_NotInFilter(_,tt):et==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(_,tt):new FieldFilter(_,et,tt)}static createKeyFieldInFilter(_,et,tt){return et==="in"?new __PRIVATE_KeyFieldInFilter(_,tt):new __PRIVATE_KeyFieldNotInFilter(_,tt)}matches(_){const et=_.data.field(this.field);return this.op==="!="?et!==null&&this.matchesComparison(__PRIVATE_valueCompare(et,this.value)):et!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(et)&&this.matchesComparison(__PRIVATE_valueCompare(et,this.value))}matchesComparison(_){switch(this.op){case"<":return _<0;case"<=":return _<=0;case"==":return _===0;case"!=":return _!==0;case">":return _>0;case">=":return _>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(_,et){super(),this.filters=_,this.op=et,this.ue=null}static create(_,et){return new CompositeFilter(_,et)}matches(_){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(et=>!et.matches(_))===void 0:this.filters.find(et=>et.matches(_))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((_,et)=>_.concat(et.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction($){return $.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction($){return __PRIVATE_compositeFilterIsFlat($)&&__PRIVATE_compositeFilterIsConjunction($)}function __PRIVATE_compositeFilterIsFlat($){for(const _ of $.filters)if(_ instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter($){if($ instanceof FieldFilter)return $.field.canonicalString()+$.op.toString()+canonicalId($.value);if(__PRIVATE_compositeFilterIsFlatConjunction($))return $.filters.map(_=>__PRIVATE_canonifyFilter(_)).join(",");{const _=$.filters.map(et=>__PRIVATE_canonifyFilter(et)).join(",");return`${$.op}(${_})`}}function __PRIVATE_filterEquals($,_){return $ instanceof FieldFilter?function(tt,nt){return nt instanceof FieldFilter&&tt.op===nt.op&&tt.field.isEqual(nt.field)&&__PRIVATE_valueEquals(tt.value,nt.value)}($,_):$ instanceof CompositeFilter?function(tt,nt){return nt instanceof CompositeFilter&&tt.op===nt.op&&tt.filters.length===nt.filters.length?tt.filters.reduce((rt,it,st)=>rt&&__PRIVATE_filterEquals(it,nt.filters[st]),!0):!1}($,_):void fail()}function __PRIVATE_stringifyFilter($){return $ instanceof FieldFilter?function(et){return`${et.field.canonicalString()} ${et.op} ${canonicalId(et.value)}`}($):$ instanceof CompositeFilter?function(et){return et.op.toString()+" {"+et.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}($):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(_,et,tt){super(_,et,tt),this.key=DocumentKey.fromName(tt.referenceValue)}matches(_){const et=DocumentKey.comparator(_.key,this.key);return this.matchesComparison(et)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(_,et){super(_,"in",et),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",et)}matches(_){return this.keys.some(et=>et.isEqual(_.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(_,et){super(_,"not-in",et),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",et)}matches(_){return!this.keys.some(et=>et.isEqual(_.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue($,_){var et;return(((et=_.arrayValue)===null||et===void 0?void 0:et.values)||[]).map(tt=>DocumentKey.fromName(tt.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(_,et){super(_,"array-contains",et)}matches(_){const et=_.data.field(this.field);return isArray$2(et)&&__PRIVATE_arrayValueContains(et.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(_,et){super(_,"in",et)}matches(_){const et=_.data.field(this.field);return et!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,et)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(_,et){super(_,"not-in",et)}matches(_){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const et=_.data.field(this.field);return et!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,et)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(_,et){super(_,"array-contains-any",et)}matches(_){const et=_.data.field(this.field);return!(!isArray$2(et)||!et.arrayValue.values)&&et.arrayValue.values.some(tt=>__PRIVATE_arrayValueContains(this.value.arrayValue,tt))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(_,et=null,tt=[],nt=[],rt=null,it=null,st=null){this.path=_,this.collectionGroup=et,this.orderBy=tt,this.filters=nt,this.limit=rt,this.startAt=it,this.endAt=st,this.ce=null}}function __PRIVATE_newTarget($,_=null,et=[],tt=[],nt=null,rt=null,it=null){return new __PRIVATE_TargetImpl($,_,et,tt,nt,rt,it)}function __PRIVATE_canonifyTarget($){const _=__PRIVATE_debugCast($);if(_.ce===null){let et=_.path.canonicalString();_.collectionGroup!==null&&(et+="|cg:"+_.collectionGroup),et+="|f:",et+=_.filters.map(tt=>__PRIVATE_canonifyFilter(tt)).join(","),et+="|ob:",et+=_.orderBy.map(tt=>function(rt){return rt.field.canonicalString()+rt.dir}(tt)).join(","),__PRIVATE_isNullOrUndefined(_.limit)||(et+="|l:",et+=_.limit),_.startAt&&(et+="|lb:",et+=_.startAt.inclusive?"b:":"a:",et+=_.startAt.position.map(tt=>canonicalId(tt)).join(",")),_.endAt&&(et+="|ub:",et+=_.endAt.inclusive?"a:":"b:",et+=_.endAt.position.map(tt=>canonicalId(tt)).join(",")),_.ce=et}return _.ce}function __PRIVATE_targetEquals($,_){if($.limit!==_.limit||$.orderBy.length!==_.orderBy.length)return!1;for(let et=0;et<$.orderBy.length;et++)if(!__PRIVATE_orderByEquals($.orderBy[et],_.orderBy[et]))return!1;if($.filters.length!==_.filters.length)return!1;for(let et=0;et<$.filters.length;et++)if(!__PRIVATE_filterEquals($.filters[et],_.filters[et]))return!1;return $.collectionGroup===_.collectionGroup&&!!$.path.isEqual(_.path)&&!!__PRIVATE_boundEquals($.startAt,_.startAt)&&__PRIVATE_boundEquals($.endAt,_.endAt)}function __PRIVATE_targetIsDocumentTarget($){return DocumentKey.isDocumentKey($.path)&&$.collectionGroup===null&&$.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(_,et=null,tt=[],nt=[],rt=null,it="F",st=null,ot=null){this.path=_,this.collectionGroup=et,this.explicitOrderBy=tt,this.filters=nt,this.limit=rt,this.limitType=it,this.startAt=st,this.endAt=ot,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQuery($,_,et,tt,nt,rt,it,st){return new __PRIVATE_QueryImpl($,_,et,tt,nt,rt,it,st)}function __PRIVATE_newQueryForPath($){return new __PRIVATE_QueryImpl($)}function __PRIVATE_queryMatchesAllDocuments($){return $.filters.length===0&&$.limit===null&&$.startAt==null&&$.endAt==null&&($.explicitOrderBy.length===0||$.explicitOrderBy.length===1&&$.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery($){return $.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy($){const _=__PRIVATE_debugCast($);if(_.le===null){_.le=[];const et=new Set;for(const rt of _.explicitOrderBy)_.le.push(rt),et.add(rt.field.canonicalString());const tt=_.explicitOrderBy.length>0?_.explicitOrderBy[_.explicitOrderBy.length-1].dir:"asc";(function(it){let st=new SortedSet(FieldPath$1.comparator);return it.filters.forEach(ot=>{ot.getFlattenedFilters().forEach(at=>{at.isInequality()&&(st=st.add(at.field))})}),st})(_).forEach(rt=>{et.has(rt.canonicalString())||rt.isKeyField()||_.le.push(new OrderBy(rt,tt))}),et.has(FieldPath$1.keyField().canonicalString())||_.le.push(new OrderBy(FieldPath$1.keyField(),tt))}return _.le}function __PRIVATE_queryToTarget($){const _=__PRIVATE_debugCast($);return _.he||(_.he=__PRIVATE__queryToTarget(_,__PRIVATE_queryNormalizedOrderBy($))),_.he}function __PRIVATE__queryToTarget($,_){if($.limitType==="F")return __PRIVATE_newTarget($.path,$.collectionGroup,_,$.filters,$.limit,$.startAt,$.endAt);{_=_.map(nt=>{const rt=nt.dir==="desc"?"asc":"desc";return new OrderBy(nt.field,rt)});const et=$.endAt?new Bound($.endAt.position,$.endAt.inclusive):null,tt=$.startAt?new Bound($.startAt.position,$.startAt.inclusive):null;return __PRIVATE_newTarget($.path,$.collectionGroup,_,$.filters,$.limit,et,tt)}}function __PRIVATE_queryWithAddedFilter($,_){const et=$.filters.concat([_]);return new __PRIVATE_QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),et,$.limit,$.limitType,$.startAt,$.endAt)}function __PRIVATE_queryWithLimit($,_,et){return new __PRIVATE_QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),_,et,$.startAt,$.endAt)}function __PRIVATE_queryEquals($,_){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget($),__PRIVATE_queryToTarget(_))&&$.limitType===_.limitType}function __PRIVATE_canonifyQuery($){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget($))}|lt:${$.limitType}`}function __PRIVATE_stringifyQuery($){return`Query(target=${function(et){let tt=et.path.canonicalString();return et.collectionGroup!==null&&(tt+=" collectionGroup="+et.collectionGroup),et.filters.length>0&&(tt+=`, filters: [${et.filters.map(nt=>__PRIVATE_stringifyFilter(nt)).join(", ")}]`),__PRIVATE_isNullOrUndefined(et.limit)||(tt+=", limit: "+et.limit),et.orderBy.length>0&&(tt+=`, orderBy: [${et.orderBy.map(nt=>function(it){return`${it.field.canonicalString()} (${it.dir})`}(nt)).join(", ")}]`),et.startAt&&(tt+=", startAt: ",tt+=et.startAt.inclusive?"b:":"a:",tt+=et.startAt.position.map(nt=>canonicalId(nt)).join(",")),et.endAt&&(tt+=", endAt: ",tt+=et.endAt.inclusive?"a:":"b:",tt+=et.endAt.position.map(nt=>canonicalId(nt)).join(",")),`Target(${tt})`}(__PRIVATE_queryToTarget($))}; limitType=${$.limitType})`}function __PRIVATE_queryMatches($,_){return _.isFoundDocument()&&function(tt,nt){const rt=nt.key.path;return tt.collectionGroup!==null?nt.key.hasCollectionId(tt.collectionGroup)&&tt.path.isPrefixOf(rt):DocumentKey.isDocumentKey(tt.path)?tt.path.isEqual(rt):tt.path.isImmediateParentOf(rt)}($,_)&&function(tt,nt){for(const rt of __PRIVATE_queryNormalizedOrderBy(tt))if(!rt.field.isKeyField()&&nt.data.field(rt.field)===null)return!1;return!0}($,_)&&function(tt,nt){for(const rt of tt.filters)if(!rt.matches(nt))return!1;return!0}($,_)&&function(tt,nt){return!(tt.startAt&&!function(it,st,ot){const at=__PRIVATE_boundCompareToDocument(it,st,ot);return it.inclusive?at<=0:at<0}(tt.startAt,__PRIVATE_queryNormalizedOrderBy(tt),nt)||tt.endAt&&!function(it,st,ot){const at=__PRIVATE_boundCompareToDocument(it,st,ot);return it.inclusive?at>=0:at>0}(tt.endAt,__PRIVATE_queryNormalizedOrderBy(tt),nt))}($,_)}function __PRIVATE_queryCollectionGroup($){return $.collectionGroup||($.path.length%2==1?$.path.lastSegment():$.path.get($.path.length-2))}function __PRIVATE_newQueryComparator($){return(_,et)=>{let tt=!1;for(const nt of __PRIVATE_queryNormalizedOrderBy($)){const rt=__PRIVATE_compareDocs(nt,_,et);if(rt!==0)return rt;tt=tt||nt.field.isKeyField()}return 0}}function __PRIVATE_compareDocs($,_,et){const tt=$.field.isKeyField()?DocumentKey.comparator(_.key,et.key):function(rt,it,st){const ot=it.data.field(rt),at=st.data.field(rt);return ot!==null&&at!==null?__PRIVATE_valueCompare(ot,at):fail()}($.field,_,et);switch($.dir){case"asc":return tt;case"desc":return-1*tt;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(_,et){this.mapKeyFn=_,this.equalsFn=et,this.inner={},this.innerSize=0}get(_){const et=this.mapKeyFn(_),tt=this.inner[et];if(tt!==void 0){for(const[nt,rt]of tt)if(this.equalsFn(nt,_))return rt}}has(_){return this.get(_)!==void 0}set(_,et){const tt=this.mapKeyFn(_),nt=this.inner[tt];if(nt===void 0)return this.inner[tt]=[[_,et]],void this.innerSize++;for(let rt=0;rt<nt.length;rt++)if(this.equalsFn(nt[rt][0],_))return void(nt[rt]=[_,et]);nt.push([_,et]),this.innerSize++}delete(_){const et=this.mapKeyFn(_),tt=this.inner[et];if(tt===void 0)return!1;for(let nt=0;nt<tt.length;nt++)if(this.equalsFn(tt[nt][0],_))return tt.length===1?delete this.inner[et]:tt.splice(nt,1),this.innerSize--,!0;return!1}forEach(_){forEach$1(this.inner,(et,tt)=>{for(const[nt,rt]of tt)_(nt,rt)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return re}const ie=new SortedMap(DocumentKey.comparator);function documentMap(...$){let _=ie;for(const et of $)_=_.insert(et.key,et);return _}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap($){let _=ie;return $.forEach((et,tt)=>_=_.insert(et,tt.overlayedDocument)),_}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap($=>$.toString(),($,_)=>$.isEqual(_))}const se=new SortedMap(DocumentKey.comparator),oe=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...$){let _=oe;for(const et of $)_=_.add(et);return _}const _e=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return _e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble($,_){if($.useProto3Json){if(isNaN(_))return{doubleValue:"NaN"};if(_===1/0)return{doubleValue:"Infinity"};if(_===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(_)?"-0":_}}function __PRIVATE_toInteger($){return{integerValue:""+$}}function toNumber($,_){return isSafeInteger(_)?__PRIVATE_toInteger(_):__PRIVATE_toDouble($,_)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView($,_,et){return $ instanceof __PRIVATE_ServerTimestampTransform?function(nt,rt){const it={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:nt.seconds,nanos:nt.nanoseconds}}}};return rt&&__PRIVATE_isServerTimestamp(rt)&&(rt=__PRIVATE_getPreviousValue(rt)),rt&&(it.fields.__previous_value__=rt),{mapValue:it}}(et,_):$ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,_):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,_):function(nt,rt){const it=__PRIVATE_computeTransformOperationBaseValue(nt,rt),st=asNumber(it)+asNumber(nt.Ie);return isInteger(it)&&isInteger(nt.Ie)?__PRIVATE_toInteger(st):__PRIVATE_toDouble(nt.serializer,st)}($,_)}function __PRIVATE_applyTransformOperationToRemoteDocument($,_,et){return $ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,_):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,_):et}function __PRIVATE_computeTransformOperationBaseValue($,_){return $ instanceof __PRIVATE_NumericIncrementTransformOperation?function(tt){return isInteger(tt)||function(rt){return!!rt&&"doubleValue"in rt}(tt)}(_)?_:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayUnionTransformOperation($,_){const et=__PRIVATE_coercedFieldValuesArray(_);for(const tt of $.elements)et.some(nt=>__PRIVATE_valueEquals(nt,tt))||et.push(tt);return{arrayValue:{values:et}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayRemoveTransformOperation($,_){let et=__PRIVATE_coercedFieldValuesArray(_);for(const tt of $.elements)et=et.filter(nt=>!__PRIVATE_valueEquals(nt,tt));return{arrayValue:{values:et}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(_,et){super(),this.serializer=_,this.Ie=et}}function asNumber($){return __PRIVATE_normalizeNumber($.integerValue||$.doubleValue)}function __PRIVATE_coercedFieldValuesArray($){return isArray$2($)&&$.arrayValue.values?$.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals($,_){return $.field.isEqual(_.field)&&function(tt,nt){return tt instanceof __PRIVATE_ArrayUnionTransformOperation&&nt instanceof __PRIVATE_ArrayUnionTransformOperation||tt instanceof __PRIVATE_ArrayRemoveTransformOperation&&nt instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(tt.elements,nt.elements,__PRIVATE_valueEquals):tt instanceof __PRIVATE_NumericIncrementTransformOperation&&nt instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(tt.Ie,nt.Ie):tt instanceof __PRIVATE_ServerTimestampTransform&&nt instanceof __PRIVATE_ServerTimestampTransform}($.transform,_.transform)}class MutationResult{constructor(_,et){this.version=_,this.transformResults=et}}class Precondition{constructor(_,et){this.updateTime=_,this.exists=et}static none(){return new Precondition}static exists(_){return new Precondition(void 0,_)}static updateTime(_){return new Precondition(_)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(_){return this.exists===_.exists&&(this.updateTime?!!_.updateTime&&this.updateTime.isEqual(_.updateTime):!_.updateTime)}}function __PRIVATE_preconditionIsValidForDocument($,_){return $.updateTime!==void 0?_.isFoundDocument()&&_.version.isEqual($.updateTime):$.exists===void 0||$.exists===_.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation($,_){if(!$.hasLocalMutations||_&&_.fields.length===0)return null;if(_===null)return $.isNoDocument()?new __PRIVATE_DeleteMutation($.key,Precondition.none()):new __PRIVATE_SetMutation($.key,$.data,Precondition.none());{const et=$.data,tt=ObjectValue.empty();let nt=new SortedSet(FieldPath$1.comparator);for(let rt of _.fields)if(!nt.has(rt)){let it=et.field(rt);it===null&&rt.length>1&&(rt=rt.popLast(),it=et.field(rt)),it===null?tt.delete(rt):tt.set(rt,it),nt=nt.add(rt)}return new __PRIVATE_PatchMutation($.key,tt,new FieldMask(nt.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument($,_,et){$ instanceof __PRIVATE_SetMutation?function(nt,rt,it){const st=nt.value.clone(),ot=__PRIVATE_serverTransformResults(nt.fieldTransforms,rt,it.transformResults);st.setAll(ot),rt.convertToFoundDocument(it.version,st).setHasCommittedMutations()}($,_,et):$ instanceof __PRIVATE_PatchMutation?function(nt,rt,it){if(!__PRIVATE_preconditionIsValidForDocument(nt.precondition,rt))return void rt.convertToUnknownDocument(it.version);const st=__PRIVATE_serverTransformResults(nt.fieldTransforms,rt,it.transformResults),ot=rt.data;ot.setAll(__PRIVATE_getPatch(nt)),ot.setAll(st),rt.convertToFoundDocument(it.version,ot).setHasCommittedMutations()}($,_,et):function(nt,rt,it){rt.convertToNoDocument(it.version).setHasCommittedMutations()}(0,_,et)}function __PRIVATE_mutationApplyToLocalView($,_,et,tt){return $ instanceof __PRIVATE_SetMutation?function(rt,it,st,ot){if(!__PRIVATE_preconditionIsValidForDocument(rt.precondition,it))return st;const at=rt.value.clone(),lt=__PRIVATE_localTransformResults(rt.fieldTransforms,ot,it);return at.setAll(lt),it.convertToFoundDocument(it.version,at).setHasLocalMutations(),null}($,_,et,tt):$ instanceof __PRIVATE_PatchMutation?function(rt,it,st,ot){if(!__PRIVATE_preconditionIsValidForDocument(rt.precondition,it))return st;const at=__PRIVATE_localTransformResults(rt.fieldTransforms,ot,it),lt=it.data;return lt.setAll(__PRIVATE_getPatch(rt)),lt.setAll(at),it.convertToFoundDocument(it.version,lt).setHasLocalMutations(),st===null?null:st.unionWith(rt.fieldMask.fields).unionWith(rt.fieldTransforms.map(ct=>ct.field))}($,_,et,tt):function(rt,it,st){return __PRIVATE_preconditionIsValidForDocument(rt.precondition,it)?(it.convertToNoDocument(it.version).setHasLocalMutations(),null):st}($,_,et)}function __PRIVATE_mutationExtractBaseValue($,_){let et=null;for(const tt of $.fieldTransforms){const nt=_.data.field(tt.field),rt=__PRIVATE_computeTransformOperationBaseValue(tt.transform,nt||null);rt!=null&&(et===null&&(et=ObjectValue.empty()),et.set(tt.field,rt))}return et||null}function __PRIVATE_mutationEquals($,_){return $.type===_.type&&!!$.key.isEqual(_.key)&&!!$.precondition.isEqual(_.precondition)&&!!function(tt,nt){return tt===void 0&&nt===void 0||!(!tt||!nt)&&__PRIVATE_arrayEquals(tt,nt,(rt,it)=>__PRIVATE_fieldTransformEquals(rt,it))}($.fieldTransforms,_.fieldTransforms)&&($.type===0?$.value.isEqual(_.value):$.type!==1||$.data.isEqual(_.data)&&$.fieldMask.isEqual(_.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(_,et,tt,nt=[]){super(),this.key=_,this.value=et,this.precondition=tt,this.fieldTransforms=nt,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(_,et,tt,nt,rt=[]){super(),this.key=_,this.data=et,this.fieldMask=tt,this.precondition=nt,this.fieldTransforms=rt,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch($){const _=new Map;return $.fieldMask.fields.forEach(et=>{if(!et.isEmpty()){const tt=$.data.field(et);_.set(et,tt)}}),_}function __PRIVATE_serverTransformResults($,_,et){const tt=new Map;__PRIVATE_hardAssert($.length===et.length);for(let nt=0;nt<et.length;nt++){const rt=$[nt],it=rt.transform,st=_.data.field(rt.field);tt.set(rt.field,__PRIVATE_applyTransformOperationToRemoteDocument(it,st,et[nt]))}return tt}function __PRIVATE_localTransformResults($,_,et){const tt=new Map;for(const nt of $){const rt=nt.transform,it=et.data.field(nt.field);tt.set(nt.field,__PRIVATE_applyTransformOperationToLocalView(rt,it,_))}return tt}class __PRIVATE_DeleteMutation extends Mutation{constructor(_,et){super(),this.key=_,this.precondition=et,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(_,et){super(),this.key=_,this.precondition=et,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(_,et,tt,nt){this.batchId=_,this.localWriteTime=et,this.baseMutations=tt,this.mutations=nt}applyToRemoteDocument(_,et){const tt=et.mutationResults;for(let nt=0;nt<this.mutations.length;nt++){const rt=this.mutations[nt];rt.key.isEqual(_.key)&&__PRIVATE_mutationApplyToRemoteDocument(rt,_,tt[nt])}}applyToLocalView(_,et){for(const tt of this.baseMutations)tt.key.isEqual(_.key)&&(et=__PRIVATE_mutationApplyToLocalView(tt,_,et,this.localWriteTime));for(const tt of this.mutations)tt.key.isEqual(_.key)&&(et=__PRIVATE_mutationApplyToLocalView(tt,_,et,this.localWriteTime));return et}applyToLocalDocumentSet(_,et){const tt=__PRIVATE_newMutationMap();return this.mutations.forEach(nt=>{const rt=_.get(nt.key),it=rt.overlayedDocument;let st=this.applyToLocalView(it,rt.mutatedFields);st=et.has(nt.key)?null:st;const ot=__PRIVATE_calculateOverlayMutation(it,st);ot!==null&&tt.set(nt.key,ot),it.isValidDocument()||it.convertToNoDocument(SnapshotVersion.min())}),tt}keys(){return this.mutations.reduce((_,et)=>_.add(et.key),__PRIVATE_documentKeySet())}isEqual(_){return this.batchId===_.batchId&&__PRIVATE_arrayEquals(this.mutations,_.mutations,(et,tt)=>__PRIVATE_mutationEquals(et,tt))&&__PRIVATE_arrayEquals(this.baseMutations,_.baseMutations,(et,tt)=>__PRIVATE_mutationEquals(et,tt))}}class MutationBatchResult{constructor(_,et,tt,nt){this.batch=_,this.commitVersion=et,this.mutationResults=tt,this.docVersions=nt}static from(_,et,tt){__PRIVATE_hardAssert(_.mutations.length===tt.length);let nt=function(){return se}();const rt=_.mutations;for(let it=0;it<rt.length;it++)nt=nt.insert(rt[it].key,tt[it].version);return new MutationBatchResult(_,et,tt,nt)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(_,et){this.largestBatchId=_,this.mutation=et}getKey(){return this.mutation.key}isEqual(_){return _!==null&&this.mutation===_.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(_,et){this.count=_,this.unchangedNames=et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae,ue;function __PRIVATE_isPermanentError($){switch($){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode($){if($===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch($){case ae.OK:return D.OK;case ae.CANCELLED:return D.CANCELLED;case ae.UNKNOWN:return D.UNKNOWN;case ae.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ae.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ae.INTERNAL:return D.INTERNAL;case ae.UNAVAILABLE:return D.UNAVAILABLE;case ae.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ae.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ae.NOT_FOUND:return D.NOT_FOUND;case ae.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ae.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ae.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ae.ABORTED:return D.ABORTED;case ae.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ae.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ae.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(ue=ae||(ae={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue($){const _=__PRIVATE_newTextEncoder().encode($),et=new Md5;return et.update(_),new Uint8Array(et.digest())}function __PRIVATE_get64BitUints($){const _=new DataView($.buffer),et=_.getUint32(0,!0),tt=_.getUint32(4,!0),nt=_.getUint32(8,!0),rt=_.getUint32(12,!0);return[new Integer([et,tt],0),new Integer([nt,rt],0)]}class BloomFilter{constructor(_,et,tt){if(this.bitmap=_,this.padding=et,this.hashCount=tt,et<0||et>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${et}`);if(tt<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${tt}`);if(_.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${tt}`);if(_.length===0&&et!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${et}`);this.Te=8*_.length-et,this.Ee=Integer.fromNumber(this.Te)}de(_,et,tt){let nt=_.add(et.multiply(Integer.fromNumber(tt)));return nt.compare(le)===1&&(nt=new Integer([nt.getBits(0),nt.getBits(1)],0)),nt.modulo(this.Ee).toNumber()}Ae(_){return(this.bitmap[Math.floor(_/8)]&1<<_%8)!=0}mightContain(_){if(this.Te===0)return!1;const et=__PRIVATE_getMd5HashValue(_),[tt,nt]=__PRIVATE_get64BitUints(et);for(let rt=0;rt<this.hashCount;rt++){const it=this.de(tt,nt,rt);if(!this.Ae(it))return!1}return!0}static create(_,et,tt){const nt=_%8==0?0:8-_%8,rt=new Uint8Array(Math.ceil(_/8)),it=new BloomFilter(rt,nt,et);return tt.forEach(st=>it.insert(st)),it}insert(_){if(this.Te===0)return;const et=__PRIVATE_getMd5HashValue(_),[tt,nt]=__PRIVATE_get64BitUints(et);for(let rt=0;rt<this.hashCount;rt++){const it=this.de(tt,nt,rt);this.Re(it)}}Re(_){const et=Math.floor(_/8),tt=_%8;this.bitmap[et]|=1<<tt}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(_,et,tt,nt,rt){this.snapshotVersion=_,this.targetChanges=et,this.targetMismatches=tt,this.documentUpdates=nt,this.resolvedLimboDocuments=rt}static createSynthesizedRemoteEventForCurrentChange(_,et,tt){const nt=new Map;return nt.set(_,TargetChange.createSynthesizedTargetChangeForCurrentChange(_,et,tt)),new RemoteEvent(SnapshotVersion.min(),nt,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(_,et,tt,nt,rt){this.resumeToken=_,this.current=et,this.addedDocuments=tt,this.modifiedDocuments=nt,this.removedDocuments=rt}static createSynthesizedTargetChangeForCurrentChange(_,et,tt){return new TargetChange(tt,et,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(_,et,tt,nt){this.Ve=_,this.removedTargetIds=et,this.key=tt,this.me=nt}}class __PRIVATE_ExistenceFilterChange{constructor(_,et){this.targetId=_,this.fe=et}}class __PRIVATE_WatchTargetChange{constructor(_,et,tt=ByteString.EMPTY_BYTE_STRING,nt=null){this.state=_,this.targetIds=et,this.resumeToken=tt,this.cause=nt}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(_){_.approximateByteSize()>0&&(this.Se=!0,this.ye=_)}ve(){let _=__PRIVATE_documentKeySet(),et=__PRIVATE_documentKeySet(),tt=__PRIVATE_documentKeySet();return this.pe.forEach((nt,rt)=>{switch(rt){case 0:_=_.add(nt);break;case 2:et=et.add(nt);break;case 1:tt=tt.add(nt);break;default:fail()}}),new TargetChange(this.ye,this.we,_,et,tt)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(_,et){this.Se=!0,this.pe=this.pe.insert(_,et)}xe(_){this.Se=!0,this.pe=this.pe.remove(_)}Oe(){this.ge+=1}Ne(){this.ge-=1,__PRIVATE_hardAssert(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(_){this.Be=_,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}$e(_){for(const et of _.Ve)_.me&&_.me.isFoundDocument()?this.Ue(et,_.me):this.We(et,_.key,_.me);for(const et of _.removedTargetIds)this.We(et,_.key,_.me)}Ge(_){this.forEachTarget(_,et=>{const tt=this.ze(et);switch(_.state){case 0:this.je(et)&&tt.Ce(_.resumeToken);break;case 1:tt.Ne(),tt.be||tt.Fe(),tt.Ce(_.resumeToken);break;case 2:tt.Ne(),tt.be||this.removeTarget(et);break;case 3:this.je(et)&&(tt.Le(),tt.Ce(_.resumeToken));break;case 4:this.je(et)&&(this.He(et),tt.Ce(_.resumeToken));break;default:fail()}})}forEachTarget(_,et){_.targetIds.length>0?_.targetIds.forEach(et):this.ke.forEach((tt,nt)=>{this.je(nt)&&et(nt)})}Je(_){const et=_.targetId,tt=_.fe.count,nt=this.Ye(et);if(nt){const rt=nt.target;if(__PRIVATE_targetIsDocumentTarget(rt))if(tt===0){const it=new DocumentKey(rt.path);this.We(et,it,MutableDocument.newNoDocument(it,SnapshotVersion.min()))}else __PRIVATE_hardAssert(tt===1);else{const it=this.Ze(et);if(it!==tt){const st=this.Xe(_),ot=st?this.et(st,_,it):1;if(ot!==0){this.He(et);const at=ot===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(et,at)}}}}}Xe(_){const et=_.fe.unchangedNames;if(!et||!et.bits)return null;const{bits:{bitmap:tt="",padding:nt=0},hashCount:rt=0}=et;let it,st;try{it=__PRIVATE_normalizeByteString(tt).toUint8Array()}catch(ot){if(ot instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+ot.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw ot}try{st=new BloomFilter(it,nt,rt)}catch(ot){return __PRIVATE_logWarn(ot instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",ot),null}return st.Te===0?null:st}et(_,et,tt){return et.fe.count===tt-this.rt(_,et.targetId)?0:2}rt(_,et){const tt=this.Be.getRemoteKeysForTarget(et);let nt=0;return tt.forEach(rt=>{const it=this.Be.nt(),st=`projects/${it.projectId}/databases/${it.database}/documents/${rt.path.canonicalString()}`;_.mightContain(st)||(this.We(et,rt,null),nt++)}),nt}it(_){const et=new Map;this.ke.forEach((rt,it)=>{const st=this.Ye(it);if(st){if(rt.current&&__PRIVATE_targetIsDocumentTarget(st.target)){const ot=new DocumentKey(st.target.path);this.qe.get(ot)!==null||this.st(it,ot)||this.We(it,ot,MutableDocument.newNoDocument(ot,_))}rt.De&&(et.set(it,rt.ve()),rt.Fe())}});let tt=__PRIVATE_documentKeySet();this.Qe.forEach((rt,it)=>{let st=!0;it.forEachWhile(ot=>{const at=this.Ye(ot);return!at||at.purpose==="TargetPurposeLimboResolution"||(st=!1,!1)}),st&&(tt=tt.add(rt))}),this.qe.forEach((rt,it)=>it.setReadTime(_));const nt=new RemoteEvent(_,et,this.Ke,this.qe,tt);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),nt}Ue(_,et){if(!this.je(_))return;const tt=this.st(_,et.key)?2:0;this.ze(_).Me(et.key,tt),this.qe=this.qe.insert(et.key,et),this.Qe=this.Qe.insert(et.key,this.ot(et.key).add(_))}We(_,et,tt){if(!this.je(_))return;const nt=this.ze(_);this.st(_,et)?nt.Me(et,1):nt.xe(et),this.Qe=this.Qe.insert(et,this.ot(et).delete(_)),tt&&(this.qe=this.qe.insert(et,tt))}removeTarget(_){this.ke.delete(_)}Ze(_){const et=this.ze(_).ve();return this.Be.getRemoteKeysForTarget(_).size+et.addedDocuments.size-et.removedDocuments.size}Oe(_){this.ze(_).Oe()}ze(_){let et=this.ke.get(_);return et||(et=new __PRIVATE_TargetState,this.ke.set(_,et)),et}ot(_){let et=this.Qe.get(_);return et||(et=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(_,et)),et}je(_){const et=this.Ye(_)!==null;return et||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",_),et}Ye(_){const et=this.ke.get(_);return et&&et.be?null:this.Be._t(_)}He(_){this.ke.set(_,new __PRIVATE_TargetState),this.Be.getRemoteKeysForTarget(_).forEach(et=>{this.We(_,et,null)})}st(_,et){return this.Be.getRemoteKeysForTarget(_).has(et)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const he=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Pe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Ie=(()=>({and:"AND",or:"OR"}))();class JsonProtoSerializer{constructor(_,et){this.databaseId=_,this.useProto3Json=et}}function __PRIVATE_toInt32Proto($,_){return $.useProto3Json||__PRIVATE_isNullOrUndefined(_)?_:{value:_}}function toTimestamp($,_){return $.useProto3Json?`${new Date(1e3*_.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+_.nanoseconds).slice(-9)}Z`:{seconds:""+_.seconds,nanos:_.nanoseconds}}function __PRIVATE_toBytes($,_){return $.useProto3Json?_.toBase64():_.toUint8Array()}function __PRIVATE_toVersion($,_){return toTimestamp($,_.toTimestamp())}function __PRIVATE_fromVersion($){return __PRIVATE_hardAssert(!!$),SnapshotVersion.fromTimestamp(function(et){const tt=__PRIVATE_normalizeTimestamp(et);return new Timestamp(tt.seconds,tt.nanos)}($))}function __PRIVATE_toResourceName($,_){return __PRIVATE_toResourcePath($,_).canonicalString()}function __PRIVATE_toResourcePath($,_){const et=function(nt){return new ResourcePath(["projects",nt.projectId,"databases",nt.database])}($).child("documents");return _===void 0?et:et.child(_)}function __PRIVATE_fromResourceName($){const _=ResourcePath.fromString($);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_)),_}function __PRIVATE_toName($,_){return __PRIVATE_toResourceName($.databaseId,_.path)}function fromName($,_){const et=__PRIVATE_fromResourceName(_);if(et.get(1)!==$.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+et.get(1)+" vs "+$.databaseId.projectId);if(et.get(3)!==$.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+et.get(3)+" vs "+$.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(et))}function __PRIVATE_toQueryPath($,_){return __PRIVATE_toResourceName($.databaseId,_)}function __PRIVATE_fromQueryPath($){const _=__PRIVATE_fromResourceName($);return _.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(_)}function __PRIVATE_getEncodedDatabaseId($){return new ResourcePath(["projects",$.databaseId.projectId,"databases",$.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName($){return __PRIVATE_hardAssert($.length>4&&$.get(4)==="documents"),$.popFirst(5)}function __PRIVATE_toMutationDocument($,_,et){return{name:__PRIVATE_toName($,_),fields:et.value.mapValue.fields}}function __PRIVATE_fromWatchChange($,_){let et;if("targetChange"in _){_.targetChange;const tt=function(at){return at==="NO_CHANGE"?0:at==="ADD"?1:at==="REMOVE"?2:at==="CURRENT"?3:at==="RESET"?4:fail()}(_.targetChange.targetChangeType||"NO_CHANGE"),nt=_.targetChange.targetIds||[],rt=function(at,lt){return at.useProto3Json?(__PRIVATE_hardAssert(lt===void 0||typeof lt=="string"),ByteString.fromBase64String(lt||"")):(__PRIVATE_hardAssert(lt===void 0||lt instanceof Uint8Array),ByteString.fromUint8Array(lt||new Uint8Array))}($,_.targetChange.resumeToken),it=_.targetChange.cause,st=it&&function(at){const lt=at.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(at.code);return new FirestoreError(lt,at.message||"")}(it);et=new __PRIVATE_WatchTargetChange(tt,nt,rt,st||null)}else if("documentChange"in _){_.documentChange;const tt=_.documentChange;tt.document,tt.document.name,tt.document.updateTime;const nt=fromName($,tt.document.name),rt=__PRIVATE_fromVersion(tt.document.updateTime),it=tt.document.createTime?__PRIVATE_fromVersion(tt.document.createTime):SnapshotVersion.min(),st=new ObjectValue({mapValue:{fields:tt.document.fields}}),ot=MutableDocument.newFoundDocument(nt,rt,it,st),at=tt.targetIds||[],lt=tt.removedTargetIds||[];et=new __PRIVATE_DocumentWatchChange(at,lt,ot.key,ot)}else if("documentDelete"in _){_.documentDelete;const tt=_.documentDelete;tt.document;const nt=fromName($,tt.document),rt=tt.readTime?__PRIVATE_fromVersion(tt.readTime):SnapshotVersion.min(),it=MutableDocument.newNoDocument(nt,rt),st=tt.removedTargetIds||[];et=new __PRIVATE_DocumentWatchChange([],st,it.key,it)}else if("documentRemove"in _){_.documentRemove;const tt=_.documentRemove;tt.document;const nt=fromName($,tt.document),rt=tt.removedTargetIds||[];et=new __PRIVATE_DocumentWatchChange([],rt,nt,null)}else{if(!("filter"in _))return fail();{_.filter;const tt=_.filter;tt.targetId;const{count:nt=0,unchangedNames:rt}=tt,it=new ExistenceFilter(nt,rt),st=tt.targetId;et=new __PRIVATE_ExistenceFilterChange(st,it)}}return et}function toMutation($,_){let et;if(_ instanceof __PRIVATE_SetMutation)et={update:__PRIVATE_toMutationDocument($,_.key,_.value)};else if(_ instanceof __PRIVATE_DeleteMutation)et={delete:__PRIVATE_toName($,_.key)};else if(_ instanceof __PRIVATE_PatchMutation)et={update:__PRIVATE_toMutationDocument($,_.key,_.data),updateMask:__PRIVATE_toDocumentMask(_.fieldMask)};else{if(!(_ instanceof __PRIVATE_VerifyMutation))return fail();et={verify:__PRIVATE_toName($,_.key)}}return _.fieldTransforms.length>0&&(et.updateTransforms=_.fieldTransforms.map(tt=>function(rt,it){const st=it.transform;if(st instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:it.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(st instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:it.field.canonicalString(),appendMissingElements:{values:st.elements}};if(st instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:it.field.canonicalString(),removeAllFromArray:{values:st.elements}};if(st instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:it.field.canonicalString(),increment:st.Ie};throw fail()}(0,tt))),_.precondition.isNone||(et.currentDocument=function(nt,rt){return rt.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(nt,rt.updateTime)}:rt.exists!==void 0?{exists:rt.exists}:fail()}($,_.precondition)),et}function __PRIVATE_fromWriteResults($,_){return $&&$.length>0?(__PRIVATE_hardAssert(_!==void 0),$.map(et=>function(nt,rt){let it=nt.updateTime?__PRIVATE_fromVersion(nt.updateTime):__PRIVATE_fromVersion(rt);return it.isEqual(SnapshotVersion.min())&&(it=__PRIVATE_fromVersion(rt)),new MutationResult(it,nt.transformResults||[])}(et,_))):[]}function __PRIVATE_toDocumentsTarget($,_){return{documents:[__PRIVATE_toQueryPath($,_.path)]}}function __PRIVATE_toQueryTarget($,_){const et={structuredQuery:{}},tt=_.path;let nt;_.collectionGroup!==null?(nt=tt,et.structuredQuery.from=[{collectionId:_.collectionGroup,allDescendants:!0}]):(nt=tt.popLast(),et.structuredQuery.from=[{collectionId:tt.lastSegment()}]),et.parent=__PRIVATE_toQueryPath($,nt);const rt=function(at){if(at.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(at,"and"))}(_.filters);rt&&(et.structuredQuery.where=rt);const it=function(at){if(at.length!==0)return at.map(lt=>function(dt){return{field:__PRIVATE_toFieldPathReference(dt.field),direction:__PRIVATE_toDirection(dt.dir)}}(lt))}(_.orderBy);it&&(et.structuredQuery.orderBy=it);const st=__PRIVATE_toInt32Proto($,_.limit);return st!==null&&(et.structuredQuery.limit=st),_.startAt&&(et.structuredQuery.startAt=function(at){return{before:at.inclusive,values:at.position}}(_.startAt)),_.endAt&&(et.structuredQuery.endAt=function(at){return{before:!at.inclusive,values:at.position}}(_.endAt)),{ut:et,parent:nt}}function __PRIVATE_convertQueryTargetToQuery($){let _=__PRIVATE_fromQueryPath($.parent);const et=$.structuredQuery,tt=et.from?et.from.length:0;let nt=null;if(tt>0){__PRIVATE_hardAssert(tt===1);const lt=et.from[0];lt.allDescendants?nt=lt.collectionId:_=_.child(lt.collectionId)}let rt=[];et.where&&(rt=function(ct){const dt=__PRIVATE_fromFilter(ct);return dt instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(dt)?dt.getFilters():[dt]}(et.where));let it=[];et.orderBy&&(it=function(ct){return ct.map(dt=>function(pt){return new OrderBy(__PRIVATE_fromFieldPathReference(pt.field),function(mt){switch(mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pt.direction))}(dt))}(et.orderBy));let st=null;et.limit&&(st=function(ct){let dt;return dt=typeof ct=="object"?ct.value:ct,__PRIVATE_isNullOrUndefined(dt)?null:dt}(et.limit));let ot=null;et.startAt&&(ot=function(ct){const dt=!!ct.before,_t=ct.values||[];return new Bound(_t,dt)}(et.startAt));let at=null;return et.endAt&&(at=function(ct){const dt=!ct.before,_t=ct.values||[];return new Bound(_t,dt)}(et.endAt)),__PRIVATE_newQuery(_,nt,it,rt,st,"F",ot,at)}function __PRIVATE_toListenRequestLabels($,_){const et=function(nt){switch(nt){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(_.purpose);return et==null?null:{"goog-listen-tags":et}}function __PRIVATE_fromFilter($){return $.unaryFilter!==void 0?function(et){switch(et.unaryFilter.op){case"IS_NAN":const tt=__PRIVATE_fromFieldPathReference(et.unaryFilter.field);return FieldFilter.create(tt,"==",{doubleValue:NaN});case"IS_NULL":const nt=__PRIVATE_fromFieldPathReference(et.unaryFilter.field);return FieldFilter.create(nt,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const rt=__PRIVATE_fromFieldPathReference(et.unaryFilter.field);return FieldFilter.create(rt,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const it=__PRIVATE_fromFieldPathReference(et.unaryFilter.field);return FieldFilter.create(it,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}($):$.fieldFilter!==void 0?function(et){return FieldFilter.create(__PRIVATE_fromFieldPathReference(et.fieldFilter.field),function(nt){switch(nt){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(et.fieldFilter.op),et.fieldFilter.value)}($):$.compositeFilter!==void 0?function(et){return CompositeFilter.create(et.compositeFilter.filters.map(tt=>__PRIVATE_fromFilter(tt)),function(nt){switch(nt){case"AND":return"and";case"OR":return"or";default:return fail()}}(et.compositeFilter.op))}($):fail()}function __PRIVATE_toDirection($){return he[$]}function __PRIVATE_toOperatorName($){return Pe[$]}function __PRIVATE_toCompositeOperatorName($){return Ie[$]}function __PRIVATE_toFieldPathReference($){return{fieldPath:$.canonicalString()}}function __PRIVATE_fromFieldPathReference($){return FieldPath$1.fromServerFormat($.fieldPath)}function __PRIVATE_toFilter($){return $ instanceof FieldFilter?function(et){if(et.op==="=="){if(__PRIVATE_isNanValue(et.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(et.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(et.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(et.field),op:"IS_NULL"}}}else if(et.op==="!="){if(__PRIVATE_isNanValue(et.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(et.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(et.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(et.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(et.field),op:__PRIVATE_toOperatorName(et.op),value:et.value}}}($):$ instanceof CompositeFilter?function(et){const tt=et.getFilters().map(nt=>__PRIVATE_toFilter(nt));return tt.length===1?tt[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(et.op),filters:tt}}}($):fail()}function __PRIVATE_toDocumentMask($){const _=[];return $.fields.forEach(et=>_.push(et.canonicalString())),{fieldPaths:_}}function __PRIVATE_isValidResourceName($){return $.length>=4&&$.get(0)==="projects"&&$.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(_,et,tt,nt,rt=SnapshotVersion.min(),it=SnapshotVersion.min(),st=ByteString.EMPTY_BYTE_STRING,ot=null){this.target=_,this.targetId=et,this.purpose=tt,this.sequenceNumber=nt,this.snapshotVersion=rt,this.lastLimboFreeSnapshotVersion=it,this.resumeToken=st,this.expectedCount=ot}withSequenceNumber(_){return new TargetData(this.target,this.targetId,this.purpose,_,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(_,et){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,et,this.lastLimboFreeSnapshotVersion,_,null)}withExpectedCount(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,_)}withLastLimboFreeSnapshotVersion(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(_){this.ct=_}}function __PRIVATE_fromBundledQuery($){const _=__PRIVATE_convertQueryTargetToQuery({parent:$.parent,structuredQuery:$.structuredQuery});return $.limitType==="LAST"?__PRIVATE_queryWithLimit(_,_.limit,"L"):_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(_,et){return this._n.add(et),PersistencePromise.resolve()}getCollectionParents(_,et){return PersistencePromise.resolve(this._n.getEntries(et))}addFieldIndex(_,et){return PersistencePromise.resolve()}deleteFieldIndex(_,et){return PersistencePromise.resolve()}deleteAllFieldIndexes(_){return PersistencePromise.resolve()}createTargetIndexes(_,et){return PersistencePromise.resolve()}getDocumentsMatchingTarget(_,et){return PersistencePromise.resolve(null)}getIndexType(_,et){return PersistencePromise.resolve(0)}getFieldIndexes(_,et){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(_){return PersistencePromise.resolve(null)}getMinOffset(_,et){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(_,et){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(_,et,tt){return PersistencePromise.resolve()}updateIndexEntries(_,et){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(_){const et=_.lastSegment(),tt=_.popLast(),nt=this.index[et]||new SortedSet(ResourcePath.comparator),rt=!nt.has(tt);return this.index[et]=nt.add(tt),rt}has(_){const et=_.lastSegment(),tt=_.popLast(),nt=this.index[et];return nt&&nt.has(tt)}getEntries(_){return(this.index[_]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(_){this.On=_}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Ln(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(_=>_.toString(),(_,et)=>_.isEqual(et)),this.changesApplied=!1}addEntry(_){this.assertNotApplied(),this.changes.set(_.key,_)}removeEntry(_,et){this.assertNotApplied(),this.changes.set(_,MutableDocument.newInvalidDocument(_).setReadTime(et))}getEntry(_,et){this.assertNotApplied();const tt=this.changes.get(et);return tt!==void 0?PersistencePromise.resolve(tt):this.getFromCache(_,et)}getEntries(_,et){return this.getAllFromCache(_,et)}apply(_){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(_,et){this.overlayedDocument=_,this.mutatedFields=et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(_,et,tt,nt){this.remoteDocumentCache=_,this.mutationQueue=et,this.documentOverlayCache=tt,this.indexManager=nt}getDocument(_,et){let tt=null;return this.documentOverlayCache.getOverlay(_,et).next(nt=>(tt=nt,this.remoteDocumentCache.getEntry(_,et))).next(nt=>(tt!==null&&__PRIVATE_mutationApplyToLocalView(tt.mutation,nt,FieldMask.empty(),Timestamp.now()),nt))}getDocuments(_,et){return this.remoteDocumentCache.getEntries(_,et).next(tt=>this.getLocalViewOfDocuments(_,tt,__PRIVATE_documentKeySet()).next(()=>tt))}getLocalViewOfDocuments(_,et,tt=__PRIVATE_documentKeySet()){const nt=__PRIVATE_newOverlayMap();return this.populateOverlays(_,nt,et).next(()=>this.computeViews(_,et,nt,tt).next(rt=>{let it=documentMap();return rt.forEach((st,ot)=>{it=it.insert(st,ot.overlayedDocument)}),it}))}getOverlayedDocuments(_,et){const tt=__PRIVATE_newOverlayMap();return this.populateOverlays(_,tt,et).next(()=>this.computeViews(_,et,tt,__PRIVATE_documentKeySet()))}populateOverlays(_,et,tt){const nt=[];return tt.forEach(rt=>{et.has(rt)||nt.push(rt)}),this.documentOverlayCache.getOverlays(_,nt).next(rt=>{rt.forEach((it,st)=>{et.set(it,st)})})}computeViews(_,et,tt,nt){let rt=__PRIVATE_mutableDocumentMap();const it=__PRIVATE_newDocumentKeyMap(),st=function(){return __PRIVATE_newDocumentKeyMap()}();return et.forEach((ot,at)=>{const lt=tt.get(at.key);nt.has(at.key)&&(lt===void 0||lt.mutation instanceof __PRIVATE_PatchMutation)?rt=rt.insert(at.key,at):lt!==void 0?(it.set(at.key,lt.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(lt.mutation,at,lt.mutation.getFieldMask(),Timestamp.now())):it.set(at.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(_,rt).next(ot=>(ot.forEach((at,lt)=>it.set(at,lt)),et.forEach((at,lt)=>{var ct;return st.set(at,new OverlayedDocument(lt,(ct=it.get(at))!==null&&ct!==void 0?ct:null))}),st))}recalculateAndSaveOverlays(_,et){const tt=__PRIVATE_newDocumentKeyMap();let nt=new SortedMap((it,st)=>it-st),rt=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_,et).next(it=>{for(const st of it)st.keys().forEach(ot=>{const at=et.get(ot);if(at===null)return;let lt=tt.get(ot)||FieldMask.empty();lt=st.applyToLocalView(at,lt),tt.set(ot,lt);const ct=(nt.get(st.batchId)||__PRIVATE_documentKeySet()).add(ot);nt=nt.insert(st.batchId,ct)})}).next(()=>{const it=[],st=nt.getReverseIterator();for(;st.hasNext();){const ot=st.getNext(),at=ot.key,lt=ot.value,ct=__PRIVATE_newMutationMap();lt.forEach(dt=>{if(!rt.has(dt)){const _t=__PRIVATE_calculateOverlayMutation(et.get(dt),tt.get(dt));_t!==null&&ct.set(dt,_t),rt=rt.add(dt)}}),it.push(this.documentOverlayCache.saveOverlays(_,at,ct))}return PersistencePromise.waitFor(it)}).next(()=>tt)}recalculateAndSaveOverlaysForDocumentKeys(_,et){return this.remoteDocumentCache.getEntries(_,et).next(tt=>this.recalculateAndSaveOverlays(_,tt))}getDocumentsMatchingQuery(_,et,tt,nt){return function(it){return DocumentKey.isDocumentKey(it.path)&&it.collectionGroup===null&&it.filters.length===0}(et)?this.getDocumentsMatchingDocumentQuery(_,et.path):__PRIVATE_isCollectionGroupQuery(et)?this.getDocumentsMatchingCollectionGroupQuery(_,et,tt,nt):this.getDocumentsMatchingCollectionQuery(_,et,tt,nt)}getNextDocuments(_,et,tt,nt){return this.remoteDocumentCache.getAllFromCollectionGroup(_,et,tt,nt).next(rt=>{const it=nt-rt.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_,et,tt.largestBatchId,nt-rt.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let st=-1,ot=rt;return it.next(at=>PersistencePromise.forEach(at,(lt,ct)=>(st<ct.largestBatchId&&(st=ct.largestBatchId),rt.get(lt)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(_,lt).next(dt=>{ot=ot.insert(lt,dt)}))).next(()=>this.populateOverlays(_,at,rt)).next(()=>this.computeViews(_,ot,at,__PRIVATE_documentKeySet())).next(lt=>({batchId:st,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(lt)})))})}getDocumentsMatchingDocumentQuery(_,et){return this.getDocument(_,new DocumentKey(et)).next(tt=>{let nt=documentMap();return tt.isFoundDocument()&&(nt=nt.insert(tt.key,tt)),nt})}getDocumentsMatchingCollectionGroupQuery(_,et,tt,nt){const rt=et.collectionGroup;let it=documentMap();return this.indexManager.getCollectionParents(_,rt).next(st=>PersistencePromise.forEach(st,ot=>{const at=function(ct,dt){return new __PRIVATE_QueryImpl(dt,null,ct.explicitOrderBy.slice(),ct.filters.slice(),ct.limit,ct.limitType,ct.startAt,ct.endAt)}(et,ot.child(rt));return this.getDocumentsMatchingCollectionQuery(_,at,tt,nt).next(lt=>{lt.forEach((ct,dt)=>{it=it.insert(ct,dt)})})}).next(()=>it))}getDocumentsMatchingCollectionQuery(_,et,tt,nt){let rt;return this.documentOverlayCache.getOverlaysForCollection(_,et.path,tt.largestBatchId).next(it=>(rt=it,this.remoteDocumentCache.getDocumentsMatchingQuery(_,et,tt,rt,nt))).next(it=>{rt.forEach((ot,at)=>{const lt=at.getKey();it.get(lt)===null&&(it=it.insert(lt,MutableDocument.newInvalidDocument(lt)))});let st=documentMap();return it.forEach((ot,at)=>{const lt=rt.get(ot);lt!==void 0&&__PRIVATE_mutationApplyToLocalView(lt.mutation,at,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(et,at)&&(st=st.insert(ot,at))}),st})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(_){this.serializer=_,this.cr=new Map,this.lr=new Map}getBundleMetadata(_,et){return PersistencePromise.resolve(this.cr.get(et))}saveBundleMetadata(_,et){return this.cr.set(et.id,function(nt){return{id:nt.id,version:nt.version,createTime:__PRIVATE_fromVersion(nt.createTime)}}(et)),PersistencePromise.resolve()}getNamedQuery(_,et){return PersistencePromise.resolve(this.lr.get(et))}saveNamedQuery(_,et){return this.lr.set(et.name,function(nt){return{name:nt.name,query:__PRIVATE_fromBundledQuery(nt.bundledQuery),readTime:__PRIVATE_fromVersion(nt.readTime)}}(et)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(_,et){return PersistencePromise.resolve(this.overlays.get(et))}getOverlays(_,et){const tt=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(et,nt=>this.getOverlay(_,nt).next(rt=>{rt!==null&&tt.set(nt,rt)})).next(()=>tt)}saveOverlays(_,et,tt){return tt.forEach((nt,rt)=>{this.ht(_,et,rt)}),PersistencePromise.resolve()}removeOverlaysForBatchId(_,et,tt){const nt=this.hr.get(tt);return nt!==void 0&&(nt.forEach(rt=>this.overlays=this.overlays.remove(rt)),this.hr.delete(tt)),PersistencePromise.resolve()}getOverlaysForCollection(_,et,tt){const nt=__PRIVATE_newOverlayMap(),rt=et.length+1,it=new DocumentKey(et.child("")),st=this.overlays.getIteratorFrom(it);for(;st.hasNext();){const ot=st.getNext().value,at=ot.getKey();if(!et.isPrefixOf(at.path))break;at.path.length===rt&&ot.largestBatchId>tt&&nt.set(ot.getKey(),ot)}return PersistencePromise.resolve(nt)}getOverlaysForCollectionGroup(_,et,tt,nt){let rt=new SortedMap((at,lt)=>at-lt);const it=this.overlays.getIterator();for(;it.hasNext();){const at=it.getNext().value;if(at.getKey().getCollectionGroup()===et&&at.largestBatchId>tt){let lt=rt.get(at.largestBatchId);lt===null&&(lt=__PRIVATE_newOverlayMap(),rt=rt.insert(at.largestBatchId,lt)),lt.set(at.getKey(),at)}}const st=__PRIVATE_newOverlayMap(),ot=rt.getIterator();for(;ot.hasNext()&&(ot.getNext().value.forEach((at,lt)=>st.set(at,lt)),!(st.size()>=nt)););return PersistencePromise.resolve(st)}ht(_,et,tt){const nt=this.overlays.get(tt.key);if(nt!==null){const it=this.hr.get(nt.largestBatchId).delete(tt.key);this.hr.set(nt.largestBatchId,it)}this.overlays=this.overlays.insert(tt.key,new Overlay(et,tt));let rt=this.hr.get(et);rt===void 0&&(rt=__PRIVATE_documentKeySet(),this.hr.set(et,rt)),this.hr.set(et,rt.add(tt.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(_,et){const tt=new __PRIVATE_DocReference(_,et);this.Pr=this.Pr.add(tt),this.Tr=this.Tr.add(tt)}dr(_,et){_.forEach(tt=>this.addReference(tt,et))}removeReference(_,et){this.Ar(new __PRIVATE_DocReference(_,et))}Rr(_,et){_.forEach(tt=>this.removeReference(tt,et))}Vr(_){const et=new DocumentKey(new ResourcePath([])),tt=new __PRIVATE_DocReference(et,_),nt=new __PRIVATE_DocReference(et,_+1),rt=[];return this.Tr.forEachInRange([tt,nt],it=>{this.Ar(it),rt.push(it.key)}),rt}mr(){this.Pr.forEach(_=>this.Ar(_))}Ar(_){this.Pr=this.Pr.delete(_),this.Tr=this.Tr.delete(_)}gr(_){const et=new DocumentKey(new ResourcePath([])),tt=new __PRIVATE_DocReference(et,_),nt=new __PRIVATE_DocReference(et,_+1);let rt=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([tt,nt],it=>{rt=rt.add(it.key)}),rt}containsKey(_){const et=new __PRIVATE_DocReference(_,0),tt=this.Pr.firstAfterOrEqual(et);return tt!==null&&_.isEqual(tt.key)}}class __PRIVATE_DocReference{constructor(_,et){this.key=_,this.pr=et}static Ir(_,et){return DocumentKey.comparator(_.key,et.key)||__PRIVATE_primitiveComparator(_.pr,et.pr)}static Er(_,et){return __PRIVATE_primitiveComparator(_.pr,et.pr)||DocumentKey.comparator(_.key,et.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(_,et){this.indexManager=_,this.referenceDelegate=et,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(_){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(_,et,tt,nt){const rt=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const it=new MutationBatch(rt,et,tt,nt);this.mutationQueue.push(it);for(const st of nt)this.wr=this.wr.add(new __PRIVATE_DocReference(st.key,rt)),this.indexManager.addToCollectionParentIndex(_,st.key.path.popLast());return PersistencePromise.resolve(it)}lookupMutationBatch(_,et){return PersistencePromise.resolve(this.Sr(et))}getNextMutationBatchAfterBatchId(_,et){const tt=et+1,nt=this.br(tt),rt=nt<0?0:nt;return PersistencePromise.resolve(this.mutationQueue.length>rt?this.mutationQueue[rt]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(_){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_,et){const tt=new __PRIVATE_DocReference(et,0),nt=new __PRIVATE_DocReference(et,Number.POSITIVE_INFINITY),rt=[];return this.wr.forEachInRange([tt,nt],it=>{const st=this.Sr(it.pr);rt.push(st)}),PersistencePromise.resolve(rt)}getAllMutationBatchesAffectingDocumentKeys(_,et){let tt=new SortedSet(__PRIVATE_primitiveComparator);return et.forEach(nt=>{const rt=new __PRIVATE_DocReference(nt,0),it=new __PRIVATE_DocReference(nt,Number.POSITIVE_INFINITY);this.wr.forEachInRange([rt,it],st=>{tt=tt.add(st.pr)})}),PersistencePromise.resolve(this.Dr(tt))}getAllMutationBatchesAffectingQuery(_,et){const tt=et.path,nt=tt.length+1;let rt=tt;DocumentKey.isDocumentKey(rt)||(rt=rt.child(""));const it=new __PRIVATE_DocReference(new DocumentKey(rt),0);let st=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile(ot=>{const at=ot.key.path;return!!tt.isPrefixOf(at)&&(at.length===nt&&(st=st.add(ot.pr)),!0)},it),PersistencePromise.resolve(this.Dr(st))}Dr(_){const et=[];return _.forEach(tt=>{const nt=this.Sr(tt);nt!==null&&et.push(nt)}),et}removeMutationBatch(_,et){__PRIVATE_hardAssert(this.Cr(et.batchId,"removed")===0),this.mutationQueue.shift();let tt=this.wr;return PersistencePromise.forEach(et.mutations,nt=>{const rt=new __PRIVATE_DocReference(nt.key,et.batchId);return tt=tt.delete(rt),this.referenceDelegate.markPotentiallyOrphaned(_,nt.key)}).next(()=>{this.wr=tt})}Mn(_){}containsKey(_,et){const tt=new __PRIVATE_DocReference(et,0),nt=this.wr.firstAfterOrEqual(tt);return PersistencePromise.resolve(et.isEqual(nt&&nt.key))}performConsistencyCheck(_){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(_,et){return this.br(_)}br(_){return this.mutationQueue.length===0?0:_-this.mutationQueue[0].batchId}Sr(_){const et=this.br(_);return et<0||et>=this.mutationQueue.length?null:this.mutationQueue[et]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(_){this.vr=_,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(_){this.indexManager=_}addEntry(_,et){const tt=et.key,nt=this.docs.get(tt),rt=nt?nt.size:0,it=this.vr(et);return this.docs=this.docs.insert(tt,{document:et.mutableCopy(),size:it}),this.size+=it-rt,this.indexManager.addToCollectionParentIndex(_,tt.path.popLast())}removeEntry(_){const et=this.docs.get(_);et&&(this.docs=this.docs.remove(_),this.size-=et.size)}getEntry(_,et){const tt=this.docs.get(et);return PersistencePromise.resolve(tt?tt.document.mutableCopy():MutableDocument.newInvalidDocument(et))}getEntries(_,et){let tt=__PRIVATE_mutableDocumentMap();return et.forEach(nt=>{const rt=this.docs.get(nt);tt=tt.insert(nt,rt?rt.document.mutableCopy():MutableDocument.newInvalidDocument(nt))}),PersistencePromise.resolve(tt)}getDocumentsMatchingQuery(_,et,tt,nt){let rt=__PRIVATE_mutableDocumentMap();const it=et.path,st=new DocumentKey(it.child("")),ot=this.docs.getIteratorFrom(st);for(;ot.hasNext();){const{key:at,value:{document:lt}}=ot.getNext();if(!it.isPrefixOf(at.path))break;at.path.length>it.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(lt),tt)<=0||(nt.has(lt.key)||__PRIVATE_queryMatches(et,lt))&&(rt=rt.insert(lt.key,lt.mutableCopy()))}return PersistencePromise.resolve(rt)}getAllFromCollectionGroup(_,et,tt,nt){fail()}Fr(_,et){return PersistencePromise.forEach(this.docs,tt=>et(tt))}newChangeBuffer(_){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(_){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(_){super(),this.ar=_}applyChanges(_){const et=[];return this.changes.forEach((tt,nt)=>{nt.isValidDocument()?et.push(this.ar.addEntry(_,nt)):this.ar.removeEntry(tt)}),PersistencePromise.waitFor(et)}getFromCache(_,et){return this.ar.getEntry(_,et)}getAllFromCache(_,et){return this.ar.getEntries(_,et)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(_){this.persistence=_,this.Mr=new ObjectMap(et=>__PRIVATE_canonifyTarget(et),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Lr=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(_,et){return this.Mr.forEach((tt,nt)=>et(nt)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(_){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_){return PersistencePromise.resolve(this.Or)}allocateTargetId(_){return this.highestTargetId=this.Lr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(_,et,tt){return tt&&(this.lastRemoteSnapshotVersion=tt),et>this.Or&&(this.Or=et),PersistencePromise.resolve()}qn(_){this.Mr.set(_.target,_);const et=_.targetId;et>this.highestTargetId&&(this.Lr=new __PRIVATE_TargetIdGenerator(et),this.highestTargetId=et),_.sequenceNumber>this.Or&&(this.Or=_.sequenceNumber)}addTargetData(_,et){return this.qn(et),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(_,et){return this.qn(et),PersistencePromise.resolve()}removeTargetData(_,et){return this.Mr.delete(et.target),this.Nr.Vr(et.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(_,et,tt){let nt=0;const rt=[];return this.Mr.forEach((it,st)=>{st.sequenceNumber<=et&&tt.get(st.targetId)===null&&(this.Mr.delete(it),rt.push(this.removeMatchingKeysForTargetId(_,st.targetId)),nt++)}),PersistencePromise.waitFor(rt).next(()=>nt)}getTargetCount(_){return PersistencePromise.resolve(this.targetCount)}getTargetData(_,et){const tt=this.Mr.get(et)||null;return PersistencePromise.resolve(tt)}addMatchingKeys(_,et,tt){return this.Nr.dr(et,tt),PersistencePromise.resolve()}removeMatchingKeys(_,et,tt){this.Nr.Rr(et,tt);const nt=this.persistence.referenceDelegate,rt=[];return nt&&et.forEach(it=>{rt.push(nt.markPotentiallyOrphaned(_,it))}),PersistencePromise.waitFor(rt)}removeMatchingKeysForTargetId(_,et){return this.Nr.Vr(et),PersistencePromise.resolve()}getMatchingKeysForTargetId(_,et){const tt=this.Nr.gr(et);return PersistencePromise.resolve(tt)}containsKey(_,et){return PersistencePromise.resolve(this.Nr.containsKey(et))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(_,et){this.Br={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=_(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(nt){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(nt)}(tt=>this.referenceDelegate.Kr(tt)),this.serializer=new __PRIVATE_LocalSerializer(et),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_){return this.indexManager}getDocumentOverlayCache(_){let et=this.overlays[_.toKey()];return et||(et=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[_.toKey()]=et),et}getMutationQueue(_,et){let tt=this.Br[_.toKey()];return tt||(tt=new __PRIVATE_MemoryMutationQueue(et,this.referenceDelegate),this.Br[_.toKey()]=tt),tt}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(_,et,tt){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",_);const nt=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),tt(nt).next(rt=>this.referenceDelegate.Wr(nt).next(()=>rt)).toPromise().then(rt=>(nt.raiseOnCommittedEvent(),rt))}Gr(_,et){return PersistencePromise.or(Object.values(this.Br).map(tt=>()=>tt.containsKey(_,et)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(_){super(),this.currentSequenceNumber=_}}class __PRIVATE_MemoryEagerDelegate{constructor(_){this.persistence=_,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(_){return new __PRIVATE_MemoryEagerDelegate(_)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(_,et,tt){return this.zr.addReference(tt,et),this.Jr.delete(tt.toString()),PersistencePromise.resolve()}removeReference(_,et,tt){return this.zr.removeReference(tt,et),this.Jr.add(tt.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(_,et){return this.Jr.add(et.toString()),PersistencePromise.resolve()}removeTarget(_,et){this.zr.Vr(et.targetId).forEach(nt=>this.Jr.add(nt.toString()));const tt=this.persistence.getTargetCache();return tt.getMatchingKeysForTargetId(_,et.targetId).next(nt=>{nt.forEach(rt=>this.Jr.add(rt.toString()))}).next(()=>tt.removeTargetData(_,et))}Ur(){this.jr=new Set}Wr(_){const et=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,tt=>{const nt=DocumentKey.fromPath(tt);return this.Yr(_,nt).next(rt=>{rt||et.removeEntry(nt,SnapshotVersion.min())})}).next(()=>(this.jr=null,et.apply(_)))}updateLimboDocument(_,et){return this.Yr(_,et).next(tt=>{tt?this.Jr.delete(et.toString()):this.Jr.add(et.toString())})}Kr(_){return 0}Yr(_,et){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(et)),()=>this.persistence.getTargetCache().containsKey(_,et),()=>this.persistence.Gr(_,et)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(_,et,tt,nt){this.targetId=_,this.fromCache=et,this.qi=tt,this.Qi=nt}static Ki(_,et){let tt=__PRIVATE_documentKeySet(),nt=__PRIVATE_documentKeySet();for(const rt of et.docChanges)switch(rt.type){case 0:tt=tt.add(rt.doc.key);break;case 1:nt=nt.add(rt.doc.key)}return new __PRIVATE_LocalViewChanges(_,et.fromCache,tt,nt)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(_){this._documentReadCount+=_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return isSafari()?8:__PRIVATE_SimpleDb.v(getUA())>0?6:4}()}initialize(_,et){this.zi=_,this.indexManager=et,this.$i=!0}getDocumentsMatchingQuery(_,et,tt,nt){const rt={result:null};return this.ji(_,et).next(it=>{rt.result=it}).next(()=>{if(!rt.result)return this.Hi(_,et,nt,tt).next(it=>{rt.result=it})}).next(()=>{if(rt.result)return;const it=new QueryContext;return this.Ji(_,et,it).next(st=>{if(rt.result=st,this.Ui)return this.Yi(_,et,it,st.size)})}).next(()=>rt.result)}Yi(_,et,tt,nt){return tt.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(et),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(et),"scans",tt.documentReadCount,"local documents and returns",nt,"documents as results."),tt.documentReadCount>this.Gi*nt?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(et),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(_,__PRIVATE_queryToTarget(et))):PersistencePromise.resolve())}ji(_,et){if(__PRIVATE_queryMatchesAllDocuments(et))return PersistencePromise.resolve(null);let tt=__PRIVATE_queryToTarget(et);return this.indexManager.getIndexType(_,tt).next(nt=>nt===0?null:(et.limit!==null&&nt===1&&(et=__PRIVATE_queryWithLimit(et,null,"F"),tt=__PRIVATE_queryToTarget(et)),this.indexManager.getDocumentsMatchingTarget(_,tt).next(rt=>{const it=__PRIVATE_documentKeySet(...rt);return this.zi.getDocuments(_,it).next(st=>this.indexManager.getMinOffset(_,tt).next(ot=>{const at=this.Zi(et,st);return this.Xi(et,at,it,ot.readTime)?this.ji(_,__PRIVATE_queryWithLimit(et,null,"F")):this.es(_,at,et,ot)}))})))}Hi(_,et,tt,nt){return __PRIVATE_queryMatchesAllDocuments(et)||nt.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(_,tt).next(rt=>{const it=this.Zi(et,rt);return this.Xi(et,it,tt,nt)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",nt.toString(),__PRIVATE_stringifyQuery(et)),this.es(_,it,et,__PRIVATE_newIndexOffsetSuccessorFromReadTime(nt,-1)).next(st=>st))})}Zi(_,et){let tt=new SortedSet(__PRIVATE_newQueryComparator(_));return et.forEach((nt,rt)=>{__PRIVATE_queryMatches(_,rt)&&(tt=tt.add(rt))}),tt}Xi(_,et,tt,nt){if(_.limit===null)return!1;if(tt.size!==et.size)return!0;const rt=_.limitType==="F"?et.last():et.first();return!!rt&&(rt.hasPendingWrites||rt.version.compareTo(nt)>0)}Ji(_,et,tt){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(et)),this.zi.getDocumentsMatchingQuery(_,et,IndexOffset.min(),tt)}es(_,et,tt,nt){return this.zi.getDocumentsMatchingQuery(_,tt,nt).next(rt=>(et.forEach(it=>{rt=rt.insert(it.key,it)}),rt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(_,et,tt,nt){this.persistence=_,this.ts=et,this.serializer=nt,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap(rt=>__PRIVATE_canonifyTarget(rt),__PRIVATE_targetEquals),this.ss=new Map,this.os=_.getRemoteDocumentCache(),this.Qr=_.getTargetCache(),this.$r=_.getBundleCache(),this._s(tt)}_s(_){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_),this.indexManager=this.persistence.getIndexManager(_),this.mutationQueue=this.persistence.getMutationQueue(_,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(_){return this.persistence.runTransaction("Collect garbage","readwrite-primary",et=>_.collect(et,this.ns))}}function __PRIVATE_newLocalStore($,_,et,tt){return new __PRIVATE_LocalStoreImpl($,_,et,tt)}async function __PRIVATE_localStoreHandleUserChange($,_){const et=__PRIVATE_debugCast($);return await et.persistence.runTransaction("Handle user change","readonly",tt=>{let nt;return et.mutationQueue.getAllMutationBatches(tt).next(rt=>(nt=rt,et._s(_),et.mutationQueue.getAllMutationBatches(tt))).next(rt=>{const it=[],st=[];let ot=__PRIVATE_documentKeySet();for(const at of nt){it.push(at.batchId);for(const lt of at.mutations)ot=ot.add(lt.key)}for(const at of rt){st.push(at.batchId);for(const lt of at.mutations)ot=ot.add(lt.key)}return et.localDocuments.getDocuments(tt,ot).next(at=>({us:at,removedBatchIds:it,addedBatchIds:st}))})})}function __PRIVATE_localStoreAcknowledgeBatch($,_){const et=__PRIVATE_debugCast($);return et.persistence.runTransaction("Acknowledge batch","readwrite-primary",tt=>{const nt=_.batch.keys(),rt=et.os.newChangeBuffer({trackRemovals:!0});return function(st,ot,at,lt){const ct=at.batch,dt=ct.keys();let _t=PersistencePromise.resolve();return dt.forEach(pt=>{_t=_t.next(()=>lt.getEntry(ot,pt)).next(ut=>{const mt=at.docVersions.get(pt);__PRIVATE_hardAssert(mt!==null),ut.version.compareTo(mt)<0&&(ct.applyToRemoteDocument(ut,at),ut.isValidDocument()&&(ut.setReadTime(at.commitVersion),lt.addEntry(ut)))})}),_t.next(()=>st.mutationQueue.removeMutationBatch(ot,ct))}(et,tt,_,rt).next(()=>rt.apply(tt)).next(()=>et.mutationQueue.performConsistencyCheck(tt)).next(()=>et.documentOverlayCache.removeOverlaysForBatchId(tt,nt,_.batch.batchId)).next(()=>et.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(tt,function(st){let ot=__PRIVATE_documentKeySet();for(let at=0;at<st.mutationResults.length;++at)st.mutationResults[at].transformResults.length>0&&(ot=ot.add(st.batch.mutations[at].key));return ot}(_))).next(()=>et.localDocuments.getDocuments(tt,nt))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion($){const _=__PRIVATE_debugCast($);return _.persistence.runTransaction("Get last remote snapshot version","readonly",et=>_.Qr.getLastRemoteSnapshotVersion(et))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache($,_){const et=__PRIVATE_debugCast($),tt=_.snapshotVersion;let nt=et.ns;return et.persistence.runTransaction("Apply remote event","readwrite-primary",rt=>{const it=et.os.newChangeBuffer({trackRemovals:!0});nt=et.ns;const st=[];_.targetChanges.forEach((lt,ct)=>{const dt=nt.get(ct);if(!dt)return;st.push(et.Qr.removeMatchingKeys(rt,lt.removedDocuments,ct).next(()=>et.Qr.addMatchingKeys(rt,lt.addedDocuments,ct)));let _t=dt.withSequenceNumber(rt.currentSequenceNumber);_.targetMismatches.get(ct)!==null?_t=_t.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):lt.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(lt.resumeToken,tt)),nt=nt.insert(ct,_t),function(ut,mt,ft){return ut.resumeToken.approximateByteSize()===0||mt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=3e8?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(dt,_t,lt)&&st.push(et.Qr.updateTargetData(rt,_t))});let ot=__PRIVATE_mutableDocumentMap(),at=__PRIVATE_documentKeySet();if(_.documentUpdates.forEach(lt=>{_.resolvedLimboDocuments.has(lt)&&st.push(et.persistence.referenceDelegate.updateLimboDocument(rt,lt))}),st.push(__PRIVATE_populateDocumentChangeBuffer(rt,it,_.documentUpdates).next(lt=>{ot=lt.cs,at=lt.ls})),!tt.isEqual(SnapshotVersion.min())){const lt=et.Qr.getLastRemoteSnapshotVersion(rt).next(ct=>et.Qr.setTargetsMetadata(rt,rt.currentSequenceNumber,tt));st.push(lt)}return PersistencePromise.waitFor(st).next(()=>it.apply(rt)).next(()=>et.localDocuments.getLocalViewOfDocuments(rt,ot,at)).next(()=>ot)}).then(rt=>(et.ns=nt,rt))}function __PRIVATE_populateDocumentChangeBuffer($,_,et){let tt=__PRIVATE_documentKeySet(),nt=__PRIVATE_documentKeySet();return et.forEach(rt=>tt=tt.add(rt)),_.getEntries($,tt).next(rt=>{let it=__PRIVATE_mutableDocumentMap();return et.forEach((st,ot)=>{const at=rt.get(st);ot.isFoundDocument()!==at.isFoundDocument()&&(nt=nt.add(st)),ot.isNoDocument()&&ot.version.isEqual(SnapshotVersion.min())?(_.removeEntry(st,ot.readTime),it=it.insert(st,ot)):!at.isValidDocument()||ot.version.compareTo(at.version)>0||ot.version.compareTo(at.version)===0&&at.hasPendingWrites?(_.addEntry(ot),it=it.insert(st,ot)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",st,". Current version:",at.version," Watch version:",ot.version)}),{cs:it,ls:nt}})}function __PRIVATE_localStoreGetNextMutationBatch($,_){const et=__PRIVATE_debugCast($);return et.persistence.runTransaction("Get next mutation batch","readonly",tt=>(_===void 0&&(_=-1),et.mutationQueue.getNextMutationBatchAfterBatchId(tt,_)))}function __PRIVATE_localStoreAllocateTarget($,_){const et=__PRIVATE_debugCast($);return et.persistence.runTransaction("Allocate target","readwrite",tt=>{let nt;return et.Qr.getTargetData(tt,_).next(rt=>rt?(nt=rt,PersistencePromise.resolve(nt)):et.Qr.allocateTargetId(tt).next(it=>(nt=new TargetData(_,it,"TargetPurposeListen",tt.currentSequenceNumber),et.Qr.addTargetData(tt,nt).next(()=>nt))))}).then(tt=>{const nt=et.ns.get(tt.targetId);return(nt===null||tt.snapshotVersion.compareTo(nt.snapshotVersion)>0)&&(et.ns=et.ns.insert(tt.targetId,tt),et.rs.set(_,tt.targetId)),tt})}async function __PRIVATE_localStoreReleaseTarget($,_,et){const tt=__PRIVATE_debugCast($),nt=tt.ns.get(_),rt=et?"readwrite":"readwrite-primary";try{et||await tt.persistence.runTransaction("Release target",rt,it=>tt.persistence.referenceDelegate.removeTarget(it,nt))}catch(it){if(!__PRIVATE_isIndexedDbTransactionError(it))throw it;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${_}: ${it}`)}tt.ns=tt.ns.remove(_),tt.rs.delete(nt.target)}function __PRIVATE_localStoreExecuteQuery($,_,et){const tt=__PRIVATE_debugCast($);let nt=SnapshotVersion.min(),rt=__PRIVATE_documentKeySet();return tt.persistence.runTransaction("Execute query","readwrite",it=>function(ot,at,lt){const ct=__PRIVATE_debugCast(ot),dt=ct.rs.get(lt);return dt!==void 0?PersistencePromise.resolve(ct.ns.get(dt)):ct.Qr.getTargetData(at,lt)}(tt,it,__PRIVATE_queryToTarget(_)).next(st=>{if(st)return nt=st.lastLimboFreeSnapshotVersion,tt.Qr.getMatchingKeysForTargetId(it,st.targetId).next(ot=>{rt=ot})}).next(()=>tt.ts.getDocumentsMatchingQuery(it,_,et?nt:SnapshotVersion.min(),et?rt:__PRIVATE_documentKeySet())).next(st=>(__PRIVATE_setMaxReadTime(tt,__PRIVATE_queryCollectionGroup(_),st),{documents:st,hs:rt})))}function __PRIVATE_setMaxReadTime($,_,et){let tt=$.ss.get(_)||SnapshotVersion.min();et.forEach((nt,rt)=>{rt.readTime.compareTo(tt)>0&&(tt=rt.readTime)}),$.ss.set(_,tt)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(_){this.activeTargetIds=this.activeTargetIds.add(_)}Rs(_){this.activeTargetIds=this.activeTargetIds.delete(_)}ds(){const _={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_){}updateMutationState(_,et,tt){}addLocalQueryTarget(_){return this.no.As(_),this.ro[_]||"not-current"}updateQueryState(_,et,tt){this.ro[_]=et}removeLocalQueryTarget(_){this.no.Rs(_)}isLocalQueryTarget(_){return this.no.activeTargetIds.has(_)}clearQueryState(_){delete this.ro[_]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(_){return this.no.activeTargetIds.has(_)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(_,et,tt){}setOnlineState(_){}shutdown(){}writeSequenceNumber(_){}notifyBundleLoaded(_){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(_){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(_){this.uo.push(_)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const _ of this.uo)_(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const _ of this.uo)_(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ae=null;function __PRIVATE_generateUniqueDebugId(){return Ae===null?Ae=function(){return 268435456+Math.round(2147483648*Math.random())}():Ae++,"0x"+Ae.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(_){this.lo=_.lo,this.ho=_.ho}Po(_){this.Io=_}To(_){this.Eo=_}onMessage(_){this.Ao=_}close(){this.ho()}send(_){this.lo(_)}Ro(){this.Io()}Vo(_){this.Eo(_)}mo(_){this.Ao(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(et){this.databaseInfo=et,this.databaseId=et.databaseId;const tt=et.ssl?"https":"http",nt=encodeURIComponent(this.databaseId.projectId),rt=encodeURIComponent(this.databaseId.database);this.fo=tt+"://"+et.host,this.po=`projects/${nt}/databases/${rt}`,this.yo=this.databaseId.database==="(default)"?`project_id=${nt}`:`project_id=${nt}&database_id=${rt}`}get wo(){return!1}So(et,tt,nt,rt,it){const st=__PRIVATE_generateUniqueDebugId(),ot=this.bo(et,tt.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${et}' ${st}:`,ot,nt);const at={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(at,rt,it),this.Co(et,ot,at,nt).then(lt=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${et}' ${st}: `,lt),lt),lt=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${et}' ${st} failed with error: `,lt,"url: ",ot,"request:",nt),lt})}vo(et,tt,nt,rt,it,st){return this.So(et,tt,nt,rt,it)}Do(et,tt,nt){et["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),et["Content-Type"]="text/plain",this.databaseInfo.appId&&(et["X-Firebase-GMPID"]=this.databaseInfo.appId),tt&&tt.headers.forEach((rt,it)=>et[it]=rt),nt&&nt.headers.forEach((rt,it)=>et[it]=rt)}bo(et,tt){const nt=Re[et];return`${this.fo}/v1/${tt}:${nt}`}terminate(){}}{constructor(_){super(_),this.forceLongPolling=_.forceLongPolling,this.autoDetectLongPolling=_.autoDetectLongPolling,this.useFetchStreams=_.useFetchStreams,this.longPollingOptions=_.longPollingOptions}Co(_,et,tt,nt){const rt=__PRIVATE_generateUniqueDebugId();return new Promise((it,st)=>{const ot=new XhrIo;ot.setWithCredentials(!0),ot.listenOnce(EventType.COMPLETE,()=>{try{switch(ot.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const lt=ot.getResponseJson();__PRIVATE_logDebug(Ve,`XHR for RPC '${_}' ${rt} received:`,JSON.stringify(lt)),it(lt);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Ve,`RPC '${_}' ${rt} timed out`),st(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const ct=ot.getStatus();if(__PRIVATE_logDebug(Ve,`RPC '${_}' ${rt} failed with status:`,ct,"response text:",ot.getResponseText()),ct>0){let dt=ot.getResponseJson();Array.isArray(dt)&&(dt=dt[0]);const _t=dt==null?void 0:dt.error;if(_t&&_t.status&&_t.message){const pt=function(mt){const ft=mt.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(ft)>=0?ft:D.UNKNOWN}(_t.status);st(new FirestoreError(pt,_t.message))}else st(new FirestoreError(D.UNKNOWN,"Server responded with status "+ot.getStatus()))}else st(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Ve,`RPC '${_}' ${rt} completed.`)}});const at=JSON.stringify(nt);__PRIVATE_logDebug(Ve,`RPC '${_}' ${rt} sending request:`,nt),ot.send(et,"POST",at,tt,15)})}Fo(_,et,tt){const nt=__PRIVATE_generateUniqueDebugId(),rt=[this.fo,"/","google.firestore.v1.Firestore","/",_,"/channel"],it=createWebChannelTransport(),st=getStatEventTarget(),ot={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},at=this.longPollingOptions.timeoutSeconds;at!==void 0&&(ot.longPollingTimeout=Math.round(1e3*at)),this.useFetchStreams&&(ot.useFetchStreams=!0),this.Do(ot.initMessageHeaders,et,tt),ot.encodeInitMessageHeaders=!0;const lt=rt.join("");__PRIVATE_logDebug(Ve,`Creating RPC '${_}' stream ${nt}: ${lt}`,ot);const ct=it.createWebChannel(lt,ot);let dt=!1,_t=!1;const pt=new __PRIVATE_StreamBridge({lo:mt=>{_t?__PRIVATE_logDebug(Ve,`Not sending because RPC '${_}' stream ${nt} is closed:`,mt):(dt||(__PRIVATE_logDebug(Ve,`Opening RPC '${_}' stream ${nt} transport.`),ct.open(),dt=!0),__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} sending:`,mt),ct.send(mt))},ho:()=>ct.close()}),ut=(mt,ft,gt)=>{mt.listen(ft,vt=>{try{gt(vt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return ut(ct,WebChannel.EventType.OPEN,()=>{_t||__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} transport opened.`)}),ut(ct,WebChannel.EventType.CLOSE,()=>{_t||(_t=!0,__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} transport closed`),pt.Vo())}),ut(ct,WebChannel.EventType.ERROR,mt=>{_t||(_t=!0,__PRIVATE_logWarn(Ve,`RPC '${_}' stream ${nt} transport errored:`,mt),pt.Vo(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),ut(ct,WebChannel.EventType.MESSAGE,mt=>{var ft;if(!_t){const gt=mt.data[0];__PRIVATE_hardAssert(!!gt);const vt=gt,bt=vt.error||((ft=vt[0])===null||ft===void 0?void 0:ft.error);if(bt){__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} received error:`,bt);const Et=bt.status;let xt=function(At){const Lt=ae[At];if(Lt!==void 0)return __PRIVATE_mapCodeFromRpcCode(Lt)}(Et),kt=bt.message;xt===void 0&&(xt=D.INTERNAL,kt="Unknown error status: "+Et+" with message "+bt.message),_t=!0,pt.Vo(new FirestoreError(xt,kt)),ct.close()}else __PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} received:`,gt),pt.mo(gt)}}),ut(st,Event$1.STAT_EVENT,mt=>{mt.stat===Stat.PROXY?__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} detected buffering proxy`):mt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Ve,`RPC '${_}' stream ${nt} detected no buffering proxy`)}),setTimeout(()=>{pt.Ro()},0),pt}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer($){return new JsonProtoSerializer($,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(_,et,tt=1e3,nt=1.5,rt=6e4){this.oi=_,this.timerId=et,this.Mo=tt,this.xo=nt,this.Oo=rt,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(_){this.cancel();const et=Math.floor(this.No+this.Qo()),tt=Math.max(0,Date.now()-this.Bo),nt=Math.max(0,et-tt);nt>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${nt} ms (base delay: ${this.No} ms, delay with jitter: ${et} ms, last attempt: ${tt} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,nt,()=>(this.Bo=Date.now(),_())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(_,et,tt,nt,rt,it,st,ot){this.oi=_,this.$o=tt,this.Uo=nt,this.connection=rt,this.authCredentialsProvider=it,this.appCheckCredentialsProvider=st,this.listener=ot,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new __PRIVATE_ExponentialBackoff(_,et)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(_){this.n_(),this.stream.send(_)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(_,et){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,_!==4?this.jo.reset():et&&et.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(et.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):et&&et.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=_,await this.listener.To(et)}i_(){}auth(){this.state=1;const _=this.s_(this.Wo),et=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([tt,nt])=>{this.Wo===et&&this.o_(tt,nt)},tt=>{_(()=>{const nt=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+tt.message);return this.__(nt)})})}o_(_,et){const tt=this.s_(this.Wo);this.stream=this.a_(_,et),this.stream.Po(()=>{tt(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(nt=>{tt(()=>this.__(nt))}),this.stream.onMessage(nt=>{tt(()=>this.onMessage(nt))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(_){return __PRIVATE_logDebug("PersistentStream",`close with error: ${_}`),this.stream=null,this.close(4,_)}s_(_){return et=>{this.oi.enqueueAndForget(()=>this.Wo===_?et():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(_,et,tt,nt,rt,it){super(_,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",et,tt,nt,it),this.serializer=rt}a_(_,et){return this.connection.Fo("Listen",_,et)}onMessage(_){this.jo.reset();const et=__PRIVATE_fromWatchChange(this.serializer,_),tt=function(rt){if(!("targetChange"in rt))return SnapshotVersion.min();const it=rt.targetChange;return it.targetIds&&it.targetIds.length?SnapshotVersion.min():it.readTime?__PRIVATE_fromVersion(it.readTime):SnapshotVersion.min()}(_);return this.listener.u_(et,tt)}c_(_){const et={};et.database=__PRIVATE_getEncodedDatabaseId(this.serializer),et.addTarget=function(rt,it){let st;const ot=it.target;if(st=__PRIVATE_targetIsDocumentTarget(ot)?{documents:__PRIVATE_toDocumentsTarget(rt,ot)}:{query:__PRIVATE_toQueryTarget(rt,ot).ut},st.targetId=it.targetId,it.resumeToken.approximateByteSize()>0){st.resumeToken=__PRIVATE_toBytes(rt,it.resumeToken);const at=__PRIVATE_toInt32Proto(rt,it.expectedCount);at!==null&&(st.expectedCount=at)}else if(it.snapshotVersion.compareTo(SnapshotVersion.min())>0){st.readTime=toTimestamp(rt,it.snapshotVersion.toTimestamp());const at=__PRIVATE_toInt32Proto(rt,it.expectedCount);at!==null&&(st.expectedCount=at)}return st}(this.serializer,_);const tt=__PRIVATE_toListenRequestLabels(this.serializer,_);tt&&(et.labels=tt),this.t_(et)}l_(_){const et={};et.database=__PRIVATE_getEncodedDatabaseId(this.serializer),et.removeTarget=_,this.t_(et)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(_,et,tt,nt,rt,it){super(_,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",et,tt,nt,it),this.serializer=rt,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(_,et){return this.connection.Fo("Write",_,et)}onMessage(_){if(__PRIVATE_hardAssert(!!_.streamToken),this.lastStreamToken=_.streamToken,this.h_){this.jo.reset();const et=__PRIVATE_fromWriteResults(_.writeResults,_.commitTime),tt=__PRIVATE_fromVersion(_.commitTime);return this.listener.T_(tt,et)}return __PRIVATE_hardAssert(!_.writeResults||_.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const _={};_.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.t_(_)}I_(_){const et={streamToken:this.lastStreamToken,writes:_.map(tt=>toMutation(this.serializer,tt))};this.t_(et)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(_,et,tt,nt){super(),this.authCredentials=_,this.appCheckCredentials=et,this.connection=tt,this.serializer=nt,this.A_=!1}R_(){if(this.A_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(_,et,tt,nt){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([rt,it])=>this.connection.So(_,__PRIVATE_toResourcePath(et,tt),nt,rt,it)).catch(rt=>{throw rt.name==="FirebaseError"?(rt.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),rt):new FirestoreError(D.UNKNOWN,rt.toString())})}vo(_,et,tt,nt,rt){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([it,st])=>this.connection.vo(_,__PRIVATE_toResourcePath(et,tt),nt,it,st,rt)).catch(it=>{throw it.name==="FirebaseError"?(it.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),it):new FirestoreError(D.UNKNOWN,it.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(_,et){this.asyncQueue=_,this.onlineStateHandler=et,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(_){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${_.toString()}`),this.y_("Offline")))}set(_){this.b_(),this.m_=0,_==="Online"&&(this.g_=!1),this.y_(_)}y_(_){_!==this.state&&(this.state=_,this.onlineStateHandler(_))}w_(_){const et=`Could not reach Cloud Firestore backend. ${_}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(__PRIVATE_logError(et),this.g_=!1):__PRIVATE_logDebug("OnlineStateTracker",et)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(_,et,tt,nt,rt){this.localStore=_,this.datastore=et,this.asyncQueue=tt,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=rt,this.M_.io(it=>{tt.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(ot){const at=__PRIVATE_debugCast(ot);at.v_.add(4),await __PRIVATE_disableNetworkInternal(at),at.x_.set("Unknown"),at.v_.delete(4),await __PRIVATE_enableNetworkInternal(at)}(this))})}),this.x_=new __PRIVATE_OnlineStateTracker(tt,nt)}}async function __PRIVATE_enableNetworkInternal($){if(__PRIVATE_canUseNetwork($))for(const _ of $.F_)await _(!0)}async function __PRIVATE_disableNetworkInternal($){for(const _ of $.F_)await _(!1)}function __PRIVATE_remoteStoreListen($,_){const et=__PRIVATE_debugCast($);et.C_.has(_.targetId)||(et.C_.set(_.targetId,_),__PRIVATE_shouldStartWatchStream(et)?__PRIVATE_startWatchStream(et):__PRIVATE_ensureWatchStream(et).Jo()&&__PRIVATE_sendWatchRequest(et,_))}function __PRIVATE_remoteStoreUnlisten($,_){const et=__PRIVATE_debugCast($),tt=__PRIVATE_ensureWatchStream(et);et.C_.delete(_),tt.Jo()&&__PRIVATE_sendUnwatchRequest(et,_),et.C_.size===0&&(tt.Jo()?tt.Xo():__PRIVATE_canUseNetwork(et)&&et.x_.set("Unknown"))}function __PRIVATE_sendWatchRequest($,_){if($.O_.Oe(_.targetId),_.resumeToken.approximateByteSize()>0||_.snapshotVersion.compareTo(SnapshotVersion.min())>0){const et=$.remoteSyncer.getRemoteKeysForTarget(_.targetId).size;_=_.withExpectedCount(et)}__PRIVATE_ensureWatchStream($).c_(_)}function __PRIVATE_sendUnwatchRequest($,_){$.O_.Oe(_),__PRIVATE_ensureWatchStream($).l_(_)}function __PRIVATE_startWatchStream($){$.O_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:_=>$.remoteSyncer.getRemoteKeysForTarget(_),_t:_=>$.C_.get(_)||null,nt:()=>$.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream($).start(),$.x_.p_()}function __PRIVATE_shouldStartWatchStream($){return __PRIVATE_canUseNetwork($)&&!__PRIVATE_ensureWatchStream($).Ho()&&$.C_.size>0}function __PRIVATE_canUseNetwork($){return __PRIVATE_debugCast($).v_.size===0}function __PRIVATE_cleanUpWatchStreamState($){$.O_=void 0}async function __PRIVATE_onWatchStreamOpen($){$.C_.forEach((_,et)=>{__PRIVATE_sendWatchRequest($,_)})}async function __PRIVATE_onWatchStreamClose($,_){__PRIVATE_cleanUpWatchStreamState($),__PRIVATE_shouldStartWatchStream($)?($.x_.S_(_),__PRIVATE_startWatchStream($)):$.x_.set("Unknown")}async function __PRIVATE_onWatchStreamChange($,_,et){if($.x_.set("Online"),_ instanceof __PRIVATE_WatchTargetChange&&_.state===2&&_.cause)try{await async function(nt,rt){const it=rt.cause;for(const st of rt.targetIds)nt.C_.has(st)&&(await nt.remoteSyncer.rejectListen(st,it),nt.C_.delete(st),nt.O_.removeTarget(st))}($,_)}catch(tt){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",_.targetIds.join(","),tt),await __PRIVATE_disableNetworkUntilRecovery($,tt)}else if(_ instanceof __PRIVATE_DocumentWatchChange?$.O_.$e(_):_ instanceof __PRIVATE_ExistenceFilterChange?$.O_.Je(_):$.O_.Ge(_),!et.isEqual(SnapshotVersion.min()))try{const tt=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion($.localStore);et.compareTo(tt)>=0&&await function(rt,it){const st=rt.O_.it(it);return st.targetChanges.forEach((ot,at)=>{if(ot.resumeToken.approximateByteSize()>0){const lt=rt.C_.get(at);lt&&rt.C_.set(at,lt.withResumeToken(ot.resumeToken,it))}}),st.targetMismatches.forEach((ot,at)=>{const lt=rt.C_.get(ot);if(!lt)return;rt.C_.set(ot,lt.withResumeToken(ByteString.EMPTY_BYTE_STRING,lt.snapshotVersion)),__PRIVATE_sendUnwatchRequest(rt,ot);const ct=new TargetData(lt.target,ot,at,lt.sequenceNumber);__PRIVATE_sendWatchRequest(rt,ct)}),rt.remoteSyncer.applyRemoteEvent(st)}($,et)}catch(tt){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",tt),await __PRIVATE_disableNetworkUntilRecovery($,tt)}}async function __PRIVATE_disableNetworkUntilRecovery($,_,et){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;$.v_.add(1),await __PRIVATE_disableNetworkInternal($),$.x_.set("Offline"),et||(et=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion($.localStore)),$.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await et(),$.v_.delete(1),await __PRIVATE_enableNetworkInternal($)})}function __PRIVATE_executeWithRecovery($,_){return _().catch(et=>__PRIVATE_disableNetworkUntilRecovery($,et,_))}async function __PRIVATE_fillWritePipeline($){const _=__PRIVATE_debugCast($),et=__PRIVATE_ensureWriteStream(_);let tt=_.D_.length>0?_.D_[_.D_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(_);)try{const nt=await __PRIVATE_localStoreGetNextMutationBatch(_.localStore,tt);if(nt===null){_.D_.length===0&&et.Xo();break}tt=nt.batchId,__PRIVATE_addToWritePipeline(_,nt)}catch(nt){await __PRIVATE_disableNetworkUntilRecovery(_,nt)}__PRIVATE_shouldStartWriteStream(_)&&__PRIVATE_startWriteStream(_)}function __PRIVATE_canAddToWritePipeline($){return __PRIVATE_canUseNetwork($)&&$.D_.length<10}function __PRIVATE_addToWritePipeline($,_){$.D_.push(_);const et=__PRIVATE_ensureWriteStream($);et.Jo()&&et.P_&&et.I_(_.mutations)}function __PRIVATE_shouldStartWriteStream($){return __PRIVATE_canUseNetwork($)&&!__PRIVATE_ensureWriteStream($).Ho()&&$.D_.length>0}function __PRIVATE_startWriteStream($){__PRIVATE_ensureWriteStream($).start()}async function __PRIVATE_onWriteStreamOpen($){__PRIVATE_ensureWriteStream($).d_()}async function __PRIVATE_onWriteHandshakeComplete($){const _=__PRIVATE_ensureWriteStream($);for(const et of $.D_)_.I_(et.mutations)}async function __PRIVATE_onMutationResult($,_,et){const tt=$.D_.shift(),nt=MutationBatchResult.from(tt,_,et);await __PRIVATE_executeWithRecovery($,()=>$.remoteSyncer.applySuccessfulWrite(nt)),await __PRIVATE_fillWritePipeline($)}async function __PRIVATE_onWriteStreamClose($,_){_&&__PRIVATE_ensureWriteStream($).P_&&await async function(tt,nt){if(function(it){return __PRIVATE_isPermanentError(it)&&it!==D.ABORTED}(nt.code)){const rt=tt.D_.shift();__PRIVATE_ensureWriteStream(tt).Zo(),await __PRIVATE_executeWithRecovery(tt,()=>tt.remoteSyncer.rejectFailedWrite(rt.batchId,nt)),await __PRIVATE_fillWritePipeline(tt)}}($,_),__PRIVATE_shouldStartWriteStream($)&&__PRIVATE_startWriteStream($)}async function __PRIVATE_remoteStoreHandleCredentialChange($,_){const et=__PRIVATE_debugCast($);et.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const tt=__PRIVATE_canUseNetwork(et);et.v_.add(3),await __PRIVATE_disableNetworkInternal(et),tt&&et.x_.set("Unknown"),await et.remoteSyncer.handleCredentialChange(_),et.v_.delete(3),await __PRIVATE_enableNetworkInternal(et)}async function __PRIVATE_remoteStoreApplyPrimaryState($,_){const et=__PRIVATE_debugCast($);_?(et.v_.delete(2),await __PRIVATE_enableNetworkInternal(et)):_||(et.v_.add(2),await __PRIVATE_disableNetworkInternal(et),et.x_.set("Unknown"))}function __PRIVATE_ensureWatchStream($){return $.N_||($.N_=function(et,tt,nt){const rt=__PRIVATE_debugCast(et);return rt.R_(),new __PRIVATE_PersistentListenStream(tt,rt.connection,rt.authCredentials,rt.appCheckCredentials,rt.serializer,nt)}($.datastore,$.asyncQueue,{Po:__PRIVATE_onWatchStreamOpen.bind(null,$),To:__PRIVATE_onWatchStreamClose.bind(null,$),u_:__PRIVATE_onWatchStreamChange.bind(null,$)}),$.F_.push(async _=>{_?($.N_.Zo(),__PRIVATE_shouldStartWatchStream($)?__PRIVATE_startWatchStream($):$.x_.set("Unknown")):(await $.N_.stop(),__PRIVATE_cleanUpWatchStreamState($))})),$.N_}function __PRIVATE_ensureWriteStream($){return $.L_||($.L_=function(et,tt,nt){const rt=__PRIVATE_debugCast(et);return rt.R_(),new __PRIVATE_PersistentWriteStream(tt,rt.connection,rt.authCredentials,rt.appCheckCredentials,rt.serializer,nt)}($.datastore,$.asyncQueue,{Po:__PRIVATE_onWriteStreamOpen.bind(null,$),To:__PRIVATE_onWriteStreamClose.bind(null,$),E_:__PRIVATE_onWriteHandshakeComplete.bind(null,$),T_:__PRIVATE_onMutationResult.bind(null,$)}),$.F_.push(async _=>{_?($.L_.Zo(),await __PRIVATE_fillWritePipeline($)):(await $.L_.stop(),$.D_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${$.D_.length} pending writes`),$.D_=[]))})),$.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(_,et,tt,nt,rt){this.asyncQueue=_,this.timerId=et,this.targetTimeMs=tt,this.op=nt,this.removalCallback=rt,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(it=>{})}get promise(){return this.deferred.promise}static createAndSchedule(_,et,tt,nt,rt){const it=Date.now()+tt,st=new DelayedOperation(_,et,it,nt,rt);return st.start(tt),st}start(_){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),_)}skipDelay(){return this.handleDelayElapsed()}cancel(_){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(_?": "+_:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(_=>this.deferred.resolve(_))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable($,_){if(__PRIVATE_logError("AsyncQueue",`${_}: ${$}`),__PRIVATE_isIndexedDbTransactionError($))return new FirestoreError(D.UNAVAILABLE,`${_}: ${$}`);throw $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(_){this.comparator=_?(et,tt)=>_(et,tt)||DocumentKey.comparator(et.key,tt.key):(et,tt)=>DocumentKey.comparator(et.key,tt.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(_){return new DocumentSet(_.comparator)}has(_){return this.keyedMap.get(_)!=null}get(_){return this.keyedMap.get(_)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_){const et=this.keyedMap.get(_);return et?this.sortedSet.indexOf(et):-1}get size(){return this.sortedSet.size}forEach(_){this.sortedSet.inorderTraversal((et,tt)=>(_(et),!1))}add(_){const et=this.delete(_.key);return et.copy(et.keyedMap.insert(_.key,_),et.sortedSet.insert(_,null))}delete(_){const et=this.get(_);return et?this.copy(this.keyedMap.remove(_),this.sortedSet.remove(et)):this}isEqual(_){if(!(_ instanceof DocumentSet)||this.size!==_.size)return!1;const et=this.sortedSet.getIterator(),tt=_.sortedSet.getIterator();for(;et.hasNext();){const nt=et.getNext().key,rt=tt.getNext().key;if(!nt.isEqual(rt))return!1}return!0}toString(){const _=[];return this.forEach(et=>{_.push(et.toString())}),_.length===0?"DocumentSet ()":`DocumentSet (
  `+_.join(`  
`)+`
)`}copy(_,et){const tt=new DocumentSet;return tt.comparator=this.comparator,tt.keyedMap=_,tt.sortedSet=et,tt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.B_=new SortedMap(DocumentKey.comparator)}track(_){const et=_.doc.key,tt=this.B_.get(et);tt?_.type!==0&&tt.type===3?this.B_=this.B_.insert(et,_):_.type===3&&tt.type!==1?this.B_=this.B_.insert(et,{type:tt.type,doc:_.doc}):_.type===2&&tt.type===2?this.B_=this.B_.insert(et,{type:2,doc:_.doc}):_.type===2&&tt.type===0?this.B_=this.B_.insert(et,{type:0,doc:_.doc}):_.type===1&&tt.type===0?this.B_=this.B_.remove(et):_.type===1&&tt.type===2?this.B_=this.B_.insert(et,{type:1,doc:tt.doc}):_.type===0&&tt.type===1?this.B_=this.B_.insert(et,{type:2,doc:_.doc}):fail():this.B_=this.B_.insert(et,_)}k_(){const _=[];return this.B_.inorderTraversal((et,tt)=>{_.push(tt)}),_}}class ViewSnapshot{constructor(_,et,tt,nt,rt,it,st,ot,at){this.query=_,this.docs=et,this.oldDocs=tt,this.docChanges=nt,this.mutatedKeys=rt,this.fromCache=it,this.syncStateChanged=st,this.excludesMetadataChanges=ot,this.hasCachedResults=at}static fromInitialDocuments(_,et,tt,nt,rt){const it=[];return et.forEach(st=>{it.push({type:0,doc:st})}),new ViewSnapshot(_,et,DocumentSet.emptySet(et),it,tt,nt,!0,!1,rt)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_){if(!(this.fromCache===_.fromCache&&this.hasCachedResults===_.hasCachedResults&&this.syncStateChanged===_.syncStateChanged&&this.mutatedKeys.isEqual(_.mutatedKeys)&&__PRIVATE_queryEquals(this.query,_.query)&&this.docs.isEqual(_.docs)&&this.oldDocs.isEqual(_.oldDocs)))return!1;const et=this.docChanges,tt=_.docChanges;if(et.length!==tt.length)return!1;for(let nt=0;nt<et.length;nt++)if(et[nt].type!==tt[nt].type||!et[nt].doc.isEqual(tt[nt].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(_=>_.U_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(_=>__PRIVATE_canonifyQuery(_),__PRIVATE_queryEquals),this.onlineState="Unknown",this.W_=new Set}}async function __PRIVATE_eventManagerListen($,_){const et=__PRIVATE_debugCast($);let tt=3;const nt=_.query;let rt=et.queries.get(nt);rt?!rt.K_()&&_.U_()&&(tt=2):(rt=new __PRIVATE_QueryListenersInfo,tt=_.U_()?0:1);try{switch(tt){case 0:rt.q_=await et.onListen(nt,!0);break;case 1:rt.q_=await et.onListen(nt,!1);break;case 2:await et.onFirstRemoteStoreListen(nt)}}catch(it){const st=__PRIVATE_wrapInUserErrorIfRecoverable(it,`Initialization of query '${__PRIVATE_stringifyQuery(_.query)}' failed`);return void _.onError(st)}et.queries.set(nt,rt),rt.Q_.push(_),_.G_(et.onlineState),rt.q_&&_.z_(rt.q_)&&__PRIVATE_raiseSnapshotsInSyncEvent(et)}async function __PRIVATE_eventManagerUnlisten($,_){const et=__PRIVATE_debugCast($),tt=_.query;let nt=3;const rt=et.queries.get(tt);if(rt){const it=rt.Q_.indexOf(_);it>=0&&(rt.Q_.splice(it,1),rt.Q_.length===0?nt=_.U_()?0:1:!rt.K_()&&_.U_()&&(nt=2))}switch(nt){case 0:return et.queries.delete(tt),et.onUnlisten(tt,!0);case 1:return et.queries.delete(tt),et.onUnlisten(tt,!1);case 2:return et.onLastRemoteStoreUnlisten(tt);default:return}}function __PRIVATE_eventManagerOnWatchChange($,_){const et=__PRIVATE_debugCast($);let tt=!1;for(const nt of _){const rt=nt.query,it=et.queries.get(rt);if(it){for(const st of it.Q_)st.z_(nt)&&(tt=!0);it.q_=nt}}tt&&__PRIVATE_raiseSnapshotsInSyncEvent(et)}function __PRIVATE_eventManagerOnWatchError($,_,et){const tt=__PRIVATE_debugCast($),nt=tt.queries.get(_);if(nt)for(const rt of nt.Q_)rt.onError(et);tt.queries.delete(_)}function __PRIVATE_raiseSnapshotsInSyncEvent($){$.W_.forEach(_=>{_.next()})}var me,fe;(fe=me||(me={})).j_="default",fe.Cache="cache";class __PRIVATE_QueryListener{constructor(_,et,tt){this.query=_,this.H_=et,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=tt||{}}z_(_){if(!this.options.includeMetadataChanges){const tt=[];for(const nt of _.docChanges)nt.type!==3&&tt.push(nt);_=new ViewSnapshot(_.query,_.docs,_.oldDocs,tt,_.mutatedKeys,_.fromCache,_.syncStateChanged,!0,_.hasCachedResults)}let et=!1;return this.J_?this.Z_(_)&&(this.H_.next(_),et=!0):this.X_(_,this.onlineState)&&(this.ea(_),et=!0),this.Y_=_,et}onError(_){this.H_.error(_)}G_(_){this.onlineState=_;let et=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,_)&&(this.ea(this.Y_),et=!0),et}X_(_,et){if(!_.fromCache||!this.U_())return!0;const tt=et!=="Offline";return(!this.options.ta||!tt)&&(!_.docs.isEmpty()||_.hasCachedResults||et==="Offline")}Z_(_){if(_.docChanges.length>0)return!0;const et=this.Y_&&this.Y_.hasPendingWrites!==_.hasPendingWrites;return!(!_.syncStateChanged&&!et)&&this.options.includeMetadataChanges===!0}ea(_){_=ViewSnapshot.fromInitialDocuments(_.query,_.docs,_.mutatedKeys,_.fromCache,_.hasCachedResults),this.J_=!0,this.H_.next(_)}U_(){return this.options.source!==me.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_RemovedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_View{constructor(_,et){this.query=_,this.ua=et,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ha=__PRIVATE_newQueryComparator(_),this.Pa=new DocumentSet(this.ha)}get Ia(){return this.ua}Ta(_,et){const tt=et?et.Ea:new __PRIVATE_DocumentChangeSet,nt=et?et.Pa:this.Pa;let rt=et?et.mutatedKeys:this.mutatedKeys,it=nt,st=!1;const ot=this.query.limitType==="F"&&nt.size===this.query.limit?nt.last():null,at=this.query.limitType==="L"&&nt.size===this.query.limit?nt.first():null;if(_.inorderTraversal((lt,ct)=>{const dt=nt.get(lt),_t=__PRIVATE_queryMatches(this.query,ct)?ct:null,pt=!!dt&&this.mutatedKeys.has(dt.key),ut=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let mt=!1;dt&&_t?dt.data.isEqual(_t.data)?pt!==ut&&(tt.track({type:3,doc:_t}),mt=!0):this.da(dt,_t)||(tt.track({type:2,doc:_t}),mt=!0,(ot&&this.ha(_t,ot)>0||at&&this.ha(_t,at)<0)&&(st=!0)):!dt&&_t?(tt.track({type:0,doc:_t}),mt=!0):dt&&!_t&&(tt.track({type:1,doc:dt}),mt=!0,(ot||at)&&(st=!0)),mt&&(_t?(it=it.add(_t),rt=ut?rt.add(lt):rt.delete(lt)):(it=it.delete(lt),rt=rt.delete(lt)))}),this.query.limit!==null)for(;it.size>this.query.limit;){const lt=this.query.limitType==="F"?it.last():it.first();it=it.delete(lt.key),rt=rt.delete(lt.key),tt.track({type:1,doc:lt})}return{Pa:it,Ea:tt,Xi:st,mutatedKeys:rt}}da(_,et){return _.hasLocalMutations&&et.hasCommittedMutations&&!et.hasLocalMutations}applyChanges(_,et,tt,nt){const rt=this.Pa;this.Pa=_.Pa,this.mutatedKeys=_.mutatedKeys;const it=_.Ea.k_();it.sort((lt,ct)=>function(_t,pt){const ut=mt=>{switch(mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return ut(_t)-ut(pt)}(lt.type,ct.type)||this.ha(lt.doc,ct.doc)),this.Aa(tt),nt=nt!=null&&nt;const st=et&&!nt?this.Ra():[],ot=this.la.size===0&&this.current&&!nt?1:0,at=ot!==this.ca;return this.ca=ot,it.length!==0||at?{snapshot:new ViewSnapshot(this.query,_.Pa,rt,it,_.mutatedKeys,ot===0,at,!1,!!tt&&tt.resumeToken.approximateByteSize()>0),Va:st}:{Va:st}}G_(_){return this.current&&_==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(_){return!this.ua.has(_)&&!!this.Pa.has(_)&&!this.Pa.get(_).hasLocalMutations}Aa(_){_&&(_.addedDocuments.forEach(et=>this.ua=this.ua.add(et)),_.modifiedDocuments.forEach(et=>{}),_.removedDocuments.forEach(et=>this.ua=this.ua.delete(et)),this.current=_.current)}Ra(){if(!this.current)return[];const _=this.la;this.la=__PRIVATE_documentKeySet(),this.Pa.forEach(tt=>{this.ma(tt.key)&&(this.la=this.la.add(tt.key))});const et=[];return _.forEach(tt=>{this.la.has(tt)||et.push(new __PRIVATE_RemovedLimboDocument(tt))}),this.la.forEach(tt=>{_.has(tt)||et.push(new __PRIVATE_AddedLimboDocument(tt))}),et}fa(_){this.ua=_.hs,this.la=__PRIVATE_documentKeySet();const et=this.Ta(_.documents);return this.applyChanges(et,!0)}ga(){return ViewSnapshot.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(_,et,tt){this.query=_,this.targetId=et,this.view=tt}}class LimboResolution{constructor(_){this.key=_,this.pa=!1}}class __PRIVATE_SyncEngineImpl{constructor(_,et,tt,nt,rt,it){this.localStore=_,this.remoteStore=et,this.eventManager=tt,this.sharedClientState=nt,this.currentUser=rt,this.maxConcurrentLimboResolutions=it,this.ya={},this.wa=new ObjectMap(st=>__PRIVATE_canonifyQuery(st),__PRIVATE_queryEquals),this.Sa=new Map,this.ba=new Set,this.Da=new SortedMap(DocumentKey.comparator),this.Ca=new Map,this.va=new __PRIVATE_ReferenceSet,this.Fa={},this.Ma=new Map,this.xa=__PRIVATE_TargetIdGenerator.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function __PRIVATE_syncEngineListen($,_,et=!0){const tt=__PRIVATE_ensureWatchCallbacks($);let nt;const rt=tt.wa.get(_);return rt?(tt.sharedClientState.addLocalQueryTarget(rt.targetId),nt=rt.view.ga()):nt=await __PRIVATE_allocateTargetAndMaybeListen(tt,_,et,!0),nt}async function __PRIVATE_triggerRemoteStoreListen($,_){const et=__PRIVATE_ensureWatchCallbacks($);await __PRIVATE_allocateTargetAndMaybeListen(et,_,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen($,_,et,tt){const nt=await __PRIVATE_localStoreAllocateTarget($.localStore,__PRIVATE_queryToTarget(_)),rt=nt.targetId,it=et?$.sharedClientState.addLocalQueryTarget(rt):"not-current";let st;return tt&&(st=await __PRIVATE_initializeViewAndComputeSnapshot($,_,rt,it==="current",nt.resumeToken)),$.isPrimaryClient&&et&&__PRIVATE_remoteStoreListen($.remoteStore,nt),st}async function __PRIVATE_initializeViewAndComputeSnapshot($,_,et,tt,nt){$.Na=(ct,dt,_t)=>async function(ut,mt,ft,gt){let vt=mt.view.Ta(ft);vt.Xi&&(vt=await __PRIVATE_localStoreExecuteQuery(ut.localStore,mt.query,!1).then(({documents:kt})=>mt.view.Ta(kt,vt)));const bt=gt&&gt.targetChanges.get(mt.targetId),Et=gt&&gt.targetMismatches.get(mt.targetId)!=null,xt=mt.view.applyChanges(vt,ut.isPrimaryClient,bt,Et);return __PRIVATE_updateTrackedLimbos(ut,mt.targetId,xt.Va),xt.snapshot}($,ct,dt,_t);const rt=await __PRIVATE_localStoreExecuteQuery($.localStore,_,!0),it=new __PRIVATE_View(_,rt.hs),st=it.Ta(rt.documents),ot=TargetChange.createSynthesizedTargetChangeForCurrentChange(et,tt&&$.onlineState!=="Offline",nt),at=it.applyChanges(st,$.isPrimaryClient,ot);__PRIVATE_updateTrackedLimbos($,et,at.Va);const lt=new __PRIVATE_QueryView(_,et,it);return $.wa.set(_,lt),$.Sa.has(et)?$.Sa.get(et).push(_):$.Sa.set(et,[_]),at.snapshot}async function __PRIVATE_syncEngineUnlisten($,_,et){const tt=__PRIVATE_debugCast($),nt=tt.wa.get(_),rt=tt.Sa.get(nt.targetId);if(rt.length>1)return tt.Sa.set(nt.targetId,rt.filter(it=>!__PRIVATE_queryEquals(it,_))),void tt.wa.delete(_);tt.isPrimaryClient?(tt.sharedClientState.removeLocalQueryTarget(nt.targetId),tt.sharedClientState.isActiveQueryTarget(nt.targetId)||await __PRIVATE_localStoreReleaseTarget(tt.localStore,nt.targetId,!1).then(()=>{tt.sharedClientState.clearQueryState(nt.targetId),et&&__PRIVATE_remoteStoreUnlisten(tt.remoteStore,nt.targetId),__PRIVATE_removeAndCleanupTarget(tt,nt.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(tt,nt.targetId),await __PRIVATE_localStoreReleaseTarget(tt.localStore,nt.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten($,_){const et=__PRIVATE_debugCast($),tt=et.wa.get(_),nt=et.Sa.get(tt.targetId);et.isPrimaryClient&&nt.length===1&&(et.sharedClientState.removeLocalQueryTarget(tt.targetId),__PRIVATE_remoteStoreUnlisten(et.remoteStore,tt.targetId))}async function __PRIVATE_syncEngineWrite($,_,et){const tt=__PRIVATE_syncEngineEnsureWriteCallbacks($);try{const nt=await function(it,st){const ot=__PRIVATE_debugCast(it),at=Timestamp.now(),lt=st.reduce((_t,pt)=>_t.add(pt.key),__PRIVATE_documentKeySet());let ct,dt;return ot.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let pt=__PRIVATE_mutableDocumentMap(),ut=__PRIVATE_documentKeySet();return ot.os.getEntries(_t,lt).next(mt=>{pt=mt,pt.forEach((ft,gt)=>{gt.isValidDocument()||(ut=ut.add(ft))})}).next(()=>ot.localDocuments.getOverlayedDocuments(_t,pt)).next(mt=>{ct=mt;const ft=[];for(const gt of st){const vt=__PRIVATE_mutationExtractBaseValue(gt,ct.get(gt.key).overlayedDocument);vt!=null&&ft.push(new __PRIVATE_PatchMutation(gt.key,vt,__PRIVATE_extractFieldMask(vt.value.mapValue),Precondition.exists(!0)))}return ot.mutationQueue.addMutationBatch(_t,at,ft,st)}).next(mt=>{dt=mt;const ft=mt.applyToLocalDocumentSet(ct,ut);return ot.documentOverlayCache.saveOverlays(_t,mt.batchId,ft)})}).then(()=>({batchId:dt.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ct)}))}(tt.localStore,_);tt.sharedClientState.addPendingMutation(nt.batchId),function(it,st,ot){let at=it.Fa[it.currentUser.toKey()];at||(at=new SortedMap(__PRIVATE_primitiveComparator)),at=at.insert(st,ot),it.Fa[it.currentUser.toKey()]=at}(tt,nt.batchId,et),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tt,nt.changes),await __PRIVATE_fillWritePipeline(tt.remoteStore)}catch(nt){const rt=__PRIVATE_wrapInUserErrorIfRecoverable(nt,"Failed to persist write");et.reject(rt)}}async function __PRIVATE_syncEngineApplyRemoteEvent($,_){const et=__PRIVATE_debugCast($);try{const tt=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(et.localStore,_);_.targetChanges.forEach((nt,rt)=>{const it=et.Ca.get(rt);it&&(__PRIVATE_hardAssert(nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size<=1),nt.addedDocuments.size>0?it.pa=!0:nt.modifiedDocuments.size>0?__PRIVATE_hardAssert(it.pa):nt.removedDocuments.size>0&&(__PRIVATE_hardAssert(it.pa),it.pa=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,tt,_)}catch(tt){await __PRIVATE_ignoreIfPrimaryLeaseLoss(tt)}}function __PRIVATE_syncEngineApplyOnlineStateChange($,_,et){const tt=__PRIVATE_debugCast($);if(tt.isPrimaryClient&&et===0||!tt.isPrimaryClient&&et===1){const nt=[];tt.wa.forEach((rt,it)=>{const st=it.view.G_(_);st.snapshot&&nt.push(st.snapshot)}),function(it,st){const ot=__PRIVATE_debugCast(it);ot.onlineState=st;let at=!1;ot.queries.forEach((lt,ct)=>{for(const dt of ct.Q_)dt.G_(st)&&(at=!0)}),at&&__PRIVATE_raiseSnapshotsInSyncEvent(ot)}(tt.eventManager,_),nt.length&&tt.ya.u_(nt),tt.onlineState=_,tt.isPrimaryClient&&tt.sharedClientState.setOnlineState(_)}}async function __PRIVATE_syncEngineRejectListen($,_,et){const tt=__PRIVATE_debugCast($);tt.sharedClientState.updateQueryState(_,"rejected",et);const nt=tt.Ca.get(_),rt=nt&&nt.key;if(rt){let it=new SortedMap(DocumentKey.comparator);it=it.insert(rt,MutableDocument.newNoDocument(rt,SnapshotVersion.min()));const st=__PRIVATE_documentKeySet().add(rt),ot=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),it,st);await __PRIVATE_syncEngineApplyRemoteEvent(tt,ot),tt.Da=tt.Da.remove(rt),tt.Ca.delete(_),__PRIVATE_pumpEnqueuedLimboResolutions(tt)}else await __PRIVATE_localStoreReleaseTarget(tt.localStore,_,!1).then(()=>__PRIVATE_removeAndCleanupTarget(tt,_,et)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite($,_){const et=__PRIVATE_debugCast($),tt=_.batch.batchId;try{const nt=await __PRIVATE_localStoreAcknowledgeBatch(et.localStore,_);__PRIVATE_processUserCallback(et,tt,null),__PRIVATE_triggerPendingWritesCallbacks(et,tt),et.sharedClientState.updateMutationState(tt,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,nt)}catch(nt){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nt)}}async function __PRIVATE_syncEngineRejectFailedWrite($,_,et){const tt=__PRIVATE_debugCast($);try{const nt=await function(it,st){const ot=__PRIVATE_debugCast(it);return ot.persistence.runTransaction("Reject batch","readwrite-primary",at=>{let lt;return ot.mutationQueue.lookupMutationBatch(at,st).next(ct=>(__PRIVATE_hardAssert(ct!==null),lt=ct.keys(),ot.mutationQueue.removeMutationBatch(at,ct))).next(()=>ot.mutationQueue.performConsistencyCheck(at)).next(()=>ot.documentOverlayCache.removeOverlaysForBatchId(at,lt,st)).next(()=>ot.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(at,lt)).next(()=>ot.localDocuments.getDocuments(at,lt))})}(tt.localStore,_);__PRIVATE_processUserCallback(tt,_,et),__PRIVATE_triggerPendingWritesCallbacks(tt,_),tt.sharedClientState.updateMutationState(_,"rejected",et),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tt,nt)}catch(nt){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nt)}}function __PRIVATE_triggerPendingWritesCallbacks($,_){($.Ma.get(_)||[]).forEach(et=>{et.resolve()}),$.Ma.delete(_)}function __PRIVATE_processUserCallback($,_,et){const tt=__PRIVATE_debugCast($);let nt=tt.Fa[tt.currentUser.toKey()];if(nt){const rt=nt.get(_);rt&&(et?rt.reject(et):rt.resolve(),nt=nt.remove(_)),tt.Fa[tt.currentUser.toKey()]=nt}}function __PRIVATE_removeAndCleanupTarget($,_,et=null){$.sharedClientState.removeLocalQueryTarget(_);for(const tt of $.Sa.get(_))$.wa.delete(tt),et&&$.ya.La(tt,et);$.Sa.delete(_),$.isPrimaryClient&&$.va.Vr(_).forEach(tt=>{$.va.containsKey(tt)||__PRIVATE_removeLimboTarget($,tt)})}function __PRIVATE_removeLimboTarget($,_){$.ba.delete(_.path.canonicalString());const et=$.Da.get(_);et!==null&&(__PRIVATE_remoteStoreUnlisten($.remoteStore,et),$.Da=$.Da.remove(_),$.Ca.delete(et),__PRIVATE_pumpEnqueuedLimboResolutions($))}function __PRIVATE_updateTrackedLimbos($,_,et){for(const tt of et)tt instanceof __PRIVATE_AddedLimboDocument?($.va.addReference(tt.key,_),__PRIVATE_trackLimboChange($,tt)):tt instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+tt.key),$.va.removeReference(tt.key,_),$.va.containsKey(tt.key)||__PRIVATE_removeLimboTarget($,tt.key)):fail()}function __PRIVATE_trackLimboChange($,_){const et=_.key,tt=et.path.canonicalString();$.Da.get(et)||$.ba.has(tt)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+et),$.ba.add(tt),__PRIVATE_pumpEnqueuedLimboResolutions($))}function __PRIVATE_pumpEnqueuedLimboResolutions($){for(;$.ba.size>0&&$.Da.size<$.maxConcurrentLimboResolutions;){const _=$.ba.values().next().value;$.ba.delete(_);const et=new DocumentKey(ResourcePath.fromString(_)),tt=$.xa.next();$.Ca.set(tt,new LimboResolution(et)),$.Da=$.Da.insert(et,tt),__PRIVATE_remoteStoreListen($.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(et.path)),tt,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore($,_,et){const tt=__PRIVATE_debugCast($),nt=[],rt=[],it=[];tt.wa.isEmpty()||(tt.wa.forEach((st,ot)=>{it.push(tt.Na(ot,_,et).then(at=>{if((at||et)&&tt.isPrimaryClient&&tt.sharedClientState.updateQueryState(ot.targetId,at!=null&&at.fromCache?"not-current":"current"),at){nt.push(at);const lt=__PRIVATE_LocalViewChanges.Ki(ot.targetId,at);rt.push(lt)}}))}),await Promise.all(it),tt.ya.u_(nt),await async function(ot,at){const lt=__PRIVATE_debugCast(ot);try{await lt.persistence.runTransaction("notifyLocalViewChanges","readwrite",ct=>PersistencePromise.forEach(at,dt=>PersistencePromise.forEach(dt.qi,_t=>lt.persistence.referenceDelegate.addReference(ct,dt.targetId,_t)).next(()=>PersistencePromise.forEach(dt.Qi,_t=>lt.persistence.referenceDelegate.removeReference(ct,dt.targetId,_t)))))}catch(ct){if(!__PRIVATE_isIndexedDbTransactionError(ct))throw ct;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+ct)}for(const ct of at){const dt=ct.targetId;if(!ct.fromCache){const _t=lt.ns.get(dt),pt=_t.snapshotVersion,ut=_t.withLastLimboFreeSnapshotVersion(pt);lt.ns=lt.ns.insert(dt,ut)}}}(tt.localStore,rt))}async function __PRIVATE_syncEngineHandleCredentialChange($,_){const et=__PRIVATE_debugCast($);if(!et.currentUser.isEqual(_)){__PRIVATE_logDebug("SyncEngine","User change. New user:",_.toKey());const tt=await __PRIVATE_localStoreHandleUserChange(et.localStore,_);et.currentUser=_,function(rt,it){rt.Ma.forEach(st=>{st.forEach(ot=>{ot.reject(new FirestoreError(D.CANCELLED,it))})}),rt.Ma.clear()}(et,"'waitForPendingWrites' promise is rejected due to a user change."),et.sharedClientState.handleUserChange(_,tt.removedBatchIds,tt.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,tt.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget($,_){const et=__PRIVATE_debugCast($),tt=et.Ca.get(_);if(tt&&tt.pa)return __PRIVATE_documentKeySet().add(tt.key);{let nt=__PRIVATE_documentKeySet();const rt=et.Sa.get(_);if(!rt)return nt;for(const it of rt){const st=et.wa.get(it);nt=nt.unionWith(st.view.Ia)}return nt}}function __PRIVATE_ensureWatchCallbacks($){const _=__PRIVATE_debugCast($);return _.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,_),_.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,_),_.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,_),_.ya.u_=__PRIVATE_eventManagerOnWatchChange.bind(null,_.eventManager),_.ya.La=__PRIVATE_eventManagerOnWatchError.bind(null,_.eventManager),_}function __PRIVATE_syncEngineEnsureWriteCallbacks($){const _=__PRIVATE_debugCast($);return _.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,_),_.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,_),_}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(_){this.serializer=__PRIVATE_newSerializer(_.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(_),this.persistence=this.createPersistence(_),await this.persistence.start(),this.localStore=this.createLocalStore(_),this.gcScheduler=this.createGarbageCollectionScheduler(_,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(_,this.localStore)}createGarbageCollectionScheduler(_,et){return null}createIndexBackfillerScheduler(_,et){return null}createLocalStore(_){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,_.initialUser,this.serializer)}createPersistence(_){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(_){return new __PRIVATE_MemorySharedClientState}async terminate(){var _,et;(_=this.gcScheduler)===null||_===void 0||_.stop(),(et=this.indexBackfillerScheduler)===null||et===void 0||et.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(_,et){this.localStore||(this.localStore=_.localStore,this.sharedClientState=_.sharedClientState,this.datastore=this.createDatastore(et),this.remoteStore=this.createRemoteStore(et),this.eventManager=this.createEventManager(et),this.syncEngine=this.createSyncEngine(et,!_.synchronizeTabs),this.sharedClientState.onlineStateHandler=tt=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,tt,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(_){const et=__PRIVATE_newSerializer(_.databaseInfo.databaseId),tt=function(rt){return new __PRIVATE_WebChannelConnection(rt)}(_.databaseInfo);return function(rt,it,st,ot){return new __PRIVATE_DatastoreImpl(rt,it,st,ot)}(_.authCredentials,_.appCheckCredentials,tt,et)}createRemoteStore(_){return function(tt,nt,rt,it,st){return new __PRIVATE_RemoteStoreImpl(tt,nt,rt,it,st)}(this.localStore,this.datastore,_.asyncQueue,et=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,et,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(_,et){return function(nt,rt,it,st,ot,at,lt){const ct=new __PRIVATE_SyncEngineImpl(nt,rt,it,st,ot,at);return lt&&(ct.Oa=!0),ct}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_.initialUser,_.maxConcurrentLimboResolutions,et)}async terminate(){var _;await async function(tt){const nt=__PRIVATE_debugCast(tt);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),nt.v_.add(5),await __PRIVATE_disableNetworkInternal(nt),nt.M_.shutdown(),nt.x_.set("Unknown")}(this.remoteStore),(_=this.datastore)===null||_===void 0||_.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(_){this.observer=_,this.muted=!1}next(_){this.observer.next&&this.qa(this.observer.next,_)}error(_){this.observer.error?this.qa(this.observer.error,_):__PRIVATE_logError("Uncaught Error in snapshot listener:",_.toString())}Qa(){this.muted=!0}qa(_,et){this.muted||setTimeout(()=>{this.muted||_(et)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(_,et,tt,nt){this.authCredentials=_,this.appCheckCredentials=et,this.asyncQueue=tt,this.databaseInfo=nt,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(tt,async rt=>{__PRIVATE_logDebug("FirestoreClient","Received user=",rt.uid),await this.authCredentialListener(rt),this.user=rt}),this.appCheckCredentials.start(tt,rt=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",rt),this.appCheckCredentialListener(rt,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_){this.authCredentialListener=_}setAppCheckTokenChangeListener(_){this.appCheckCredentialListener=_}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const _=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_.resolve()}catch(et){const tt=__PRIVATE_wrapInUserErrorIfRecoverable(et,"Failed to shutdown persistence");_.reject(tt)}}),_.promise}}async function __PRIVATE_setOfflineComponentProvider($,_){$.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const et=$.configuration;await _.initialize(et);let tt=et.initialUser;$.setCredentialChangeListener(async nt=>{tt.isEqual(nt)||(await __PRIVATE_localStoreHandleUserChange(_.localStore,nt),tt=nt)}),_.persistence.setDatabaseDeletedListener(()=>$.terminate()),$._offlineComponents=_}async function __PRIVATE_setOnlineComponentProvider($,_){$.asyncQueue.verifyOperationInProgress();const et=await __PRIVATE_ensureOfflineComponents($);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await _.initialize(et,$.configuration),$.setCredentialChangeListener(tt=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,tt)),$.setAppCheckTokenChangeListener((tt,nt)=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,nt)),$._onlineComponents=_}function __PRIVATE_canFallbackFromIndexedDbError($){return $.name==="FirebaseError"?$.code===D.FAILED_PRECONDITION||$.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&$ instanceof DOMException)||$.code===22||$.code===20||$.code===11}async function __PRIVATE_ensureOfflineComponents($){if(!$._offlineComponents)if($._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider($,$._uninitializedComponentsProvider._offline)}catch(_){const et=_;if(!__PRIVATE_canFallbackFromIndexedDbError(et))throw et;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+et),await __PRIVATE_setOfflineComponentProvider($,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider($,new MemoryOfflineComponentProvider);return $._offlineComponents}async function __PRIVATE_ensureOnlineComponents($){return $._onlineComponents||($._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,$._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,new OnlineComponentProvider))),$._onlineComponents}function __PRIVATE_getSyncEngine($){return __PRIVATE_ensureOnlineComponents($).then(_=>_.syncEngine)}async function __PRIVATE_getEventManager($){const _=await __PRIVATE_ensureOnlineComponents($),et=_.eventManager;return et.onListen=__PRIVATE_syncEngineListen.bind(null,_.syncEngine),et.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,_.syncEngine),et.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,_.syncEngine),et.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,_.syncEngine),et}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener($,_,et={}){const tt=new __PRIVATE_Deferred;return $.asyncQueue.enqueueAndForget(async()=>function(rt,it,st,ot,at){const lt=new __PRIVATE_AsyncObserver({next:dt=>{it.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(rt,ct));const _t=dt.docs.has(st);!_t&&dt.fromCache?at.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&dt.fromCache&&ot&&ot.source==="server"?at.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):at.resolve(dt)},error:dt=>at.reject(dt)}),ct=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(st.path),lt,{includeMetadataChanges:!0,ta:!0});return __PRIVATE_eventManagerListen(rt,ct)}(await __PRIVATE_getEventManager($),$.asyncQueue,_,et,tt)),tt.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener($,_,et={}){const tt=new __PRIVATE_Deferred;return $.asyncQueue.enqueueAndForget(async()=>function(rt,it,st,ot,at){const lt=new __PRIVATE_AsyncObserver({next:dt=>{it.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(rt,ct)),dt.fromCache&&ot.source==="server"?at.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):at.resolve(dt)},error:dt=>at.reject(dt)}),ct=new __PRIVATE_QueryListener(st,lt,{includeMetadataChanges:!0,ta:!0});return __PRIVATE_eventManagerListen(rt,ct)}(await __PRIVATE_getEventManager($),$.asyncQueue,_,et,tt)),tt.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions($){const _={};return $.timeoutSeconds!==void 0&&(_.timeoutSeconds=$.timeoutSeconds),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument($,_,et){if(!et)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${$}() cannot be called with an empty ${_}.`)}function __PRIVATE_validateIsNotUsedTogether($,_,et,tt){if(_===!0&&tt===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${$} and ${et} cannot be used together.`)}function __PRIVATE_validateDocumentPath($){if(!DocumentKey.isDocumentKey($))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_validateCollectionPath($){if(DocumentKey.isDocumentKey($))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_valueDescription($){if($===void 0)return"undefined";if($===null)return"null";if(typeof $=="string")return $.length>20&&($=`${$.substring(0,20)}...`),JSON.stringify($);if(typeof $=="number"||typeof $=="boolean")return""+$;if(typeof $=="object"){if($ instanceof Array)return"an array";{const _=function(tt){return tt.constructor?tt.constructor.name:null}($);return _?`a custom ${_} object`:"an object"}}return typeof $=="function"?"a function":fail()}function __PRIVATE_cast($,_){if("_delegate"in $&&($=$._delegate),!($ instanceof _)){if(_.name===$.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const et=__PRIVATE_valueDescription($);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${_.name}', but it was: ${et}`)}}return $}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(_){var et,tt;if(_.host===void 0){if(_.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=_.host,this.ssl=(et=_.ssl)===null||et===void 0||et;if(this.credentials=_.credentials,this.ignoreUndefinedProperties=!!_.ignoreUndefinedProperties,this.localCache=_.localCache,_.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(_.cacheSizeBytes!==-1&&_.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",_.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!_.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:_.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!_.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((tt=_.experimentalLongPollingOptions)!==null&&tt!==void 0?tt:{}),function(rt){if(rt.timeoutSeconds!==void 0){if(isNaN(rt.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${rt.timeoutSeconds} (must not be NaN)`);if(rt.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${rt.timeoutSeconds} (minimum allowed value is 5)`);if(rt.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${rt.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!_.useFetchStreams}isEqual(_){return this.host===_.host&&this.ssl===_.ssl&&this.credentials===_.credentials&&this.cacheSizeBytes===_.cacheSizeBytes&&this.experimentalForceLongPolling===_.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_.experimentalAutoDetectLongPolling&&function(tt,nt){return tt.timeoutSeconds===nt.timeoutSeconds}(this.experimentalLongPollingOptions,_.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===_.ignoreUndefinedProperties&&this.useFetchStreams===_.useFetchStreams}}class Firestore$1{constructor(_,et,tt,nt){this._authCredentials=_,this._appCheckCredentials=et,this._databaseId=tt,this._app=nt,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(_){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(_),_.credentials!==void 0&&(this._authCredentials=function(tt){if(!tt)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(tt.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(tt.sessionIndex||"0",tt.iamToken||null,tt.authTokenFactory||null);case"provider":return tt.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(et){const tt=ge.get(et);tt&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),ge.delete(et),tt.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator($,_,et,tt={}){var nt;const rt=($=__PRIVATE_cast($,Firestore$1))._getSettings(),it=`${_}:${et}`;if(rt.host!=="firestore.googleapis.com"&&rt.host!==it&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),$._setSettings(Object.assign(Object.assign({},rt),{host:it,ssl:!1})),tt.mockUserToken){let st,ot;if(typeof tt.mockUserToken=="string")st=tt.mockUserToken,ot=User.MOCK_USER;else{st=createMockUserToken(tt.mockUserToken,(nt=$._app)===null||nt===void 0?void 0:nt.options.projectId);const at=tt.mockUserToken.sub||tt.mockUserToken.user_id;if(!at)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ot=new User(at)}$._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(st,ot))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(_,et,tt){this.converter=et,this._query=tt,this.type="query",this.firestore=_}withConverter(_){return new Query(this.firestore,_,this._query)}}class DocumentReference{constructor(_,et,tt){this.converter=et,this._key=tt,this.type="document",this.firestore=_}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(_){return new DocumentReference(this.firestore,_,this._key)}}class CollectionReference extends Query{constructor(_,et,tt){super(_,et,__PRIVATE_newQueryForPath(tt)),this._path=tt,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _=this._path.popLast();return _.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(_))}withConverter(_){return new CollectionReference(this.firestore,_,this._path)}}function collection($,_,...et){if($=getModularInstance($),__PRIVATE_validateNonEmptyArgument("collection","path",_),$ instanceof Firestore$1){const tt=ResourcePath.fromString(_,...et);return __PRIVATE_validateCollectionPath(tt),new CollectionReference($,null,tt)}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const tt=$._path.child(ResourcePath.fromString(_,...et));return __PRIVATE_validateCollectionPath(tt),new CollectionReference($.firestore,null,tt)}}function doc($,_,...et){if($=getModularInstance($),arguments.length===1&&(_=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",_),$ instanceof Firestore$1){const tt=ResourcePath.fromString(_,...et);return __PRIVATE_validateDocumentPath(tt),new DocumentReference($,null,new DocumentKey(tt))}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const tt=$._path.child(ResourcePath.fromString(_,...et));return __PRIVATE_validateDocumentPath(tt),new DocumentReference($.firestore,$ instanceof CollectionReference?$.converter:null,new DocumentKey(tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.cu=()=>{const et=getDocument();et&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+et.visibilityState),this.jo.Ko()};const _=getDocument();_&&typeof _.addEventListener=="function"&&_.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(_){this.enqueue(_)}enqueueAndForgetEvenWhileRestricted(_){this.lu(),this.hu(_)}enterRestrictedMode(_){if(!this.iu){this.iu=!0,this.au=_||!1;const et=getDocument();et&&typeof et.removeEventListener=="function"&&et.removeEventListener("visibilitychange",this.cu)}}enqueue(_){if(this.lu(),this.iu)return new Promise(()=>{});const et=new __PRIVATE_Deferred;return this.hu(()=>this.iu&&this.au?Promise.resolve():(_().then(et.resolve,et.reject),et.promise)).then(()=>et.promise)}enqueueRetryable(_){this.enqueueAndForget(()=>(this.ru.push(_),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+_)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(_){const et=this.nu.then(()=>(this._u=!0,_().catch(tt=>{this.ou=tt,this._u=!1;const nt=function(it){let st=it.message||"";return it.stack&&(st=it.stack.includes(it.message)?it.stack:it.message+`
`+it.stack),st}(tt);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",nt),tt}).then(tt=>(this._u=!1,tt))));return this.nu=et,et}enqueueAfterDelay(_,et,tt){this.lu(),this.uu.indexOf(_)>-1&&(et=0);const nt=DelayedOperation.createAndSchedule(this,_,et,tt,rt=>this.Iu(rt));return this.su.push(nt),nt}lu(){this.ou&&fail()}verifyOperationInProgress(){}async Tu(){let _;do _=this.nu,await _;while(_!==this.nu)}Eu(_){for(const et of this.su)if(et.timerId===_)return!0;return!1}du(_){return this.Tu().then(()=>{this.su.sort((et,tt)=>et.targetTimeMs-tt.targetTimeMs);for(const et of this.su)if(et.skipDelay(),_!=="all"&&et.timerId===_)break;return this.Tu()})}Au(_){this.uu.push(_)}Iu(_){const et=this.su.indexOf(_);this.su.splice(et,1)}}function __PRIVATE_isPartialObserver($){return function(et,tt){if(typeof et!="object"||et===null)return!1;const nt=et;for(const rt of tt)if(rt in nt&&typeof nt[rt]=="function")return!0;return!1}($,["next","error","complete"])}class Firestore extends Firestore$1{constructor(_,et,tt,nt){super(_,et,tt,nt),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(nt==null?void 0:nt.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore($,_){const et=typeof $=="object"?$:getApp(),tt=typeof $=="string"?$:_||"(default)",nt=_getProvider(et,"firestore").getImmediate({identifier:tt});if(!nt._initialized){const rt=getDefaultEmulatorHostnameAndPort("firestore");rt&&connectFirestoreEmulator(nt,...rt)}return nt}function ensureFirestoreConfigured($){return $._firestoreClient||__PRIVATE_configureFirestore($),$._firestoreClient.verifyNotTerminated(),$._firestoreClient}function __PRIVATE_configureFirestore($){var _,et,tt;const nt=$._freezeSettings(),rt=function(st,ot,at,lt){return new DatabaseInfo(st,ot,at,lt.host,lt.ssl,lt.experimentalForceLongPolling,lt.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(lt.experimentalLongPollingOptions),lt.useFetchStreams)}($._databaseId,((_=$._app)===null||_===void 0?void 0:_.options.appId)||"",$._persistenceKey,nt);$._firestoreClient=new FirestoreClient($._authCredentials,$._appCheckCredentials,$._queue,rt),!((et=nt.localCache)===null||et===void 0)&&et._offlineComponentProvider&&(!((tt=nt.localCache)===null||tt===void 0)&&tt._onlineComponentProvider)&&($._firestoreClient._uninitializedComponentsProvider={_offlineKind:nt.localCache.kind,_offline:nt.localCache._offlineComponentProvider,_online:nt.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(_){this._byteString=_}static fromBase64String(_){try{return new Bytes(ByteString.fromBase64String(_))}catch(et){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+et)}}static fromUint8Array(_){return new Bytes(ByteString.fromUint8Array(_))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_){return this._byteString.isEqual(_._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(..._){for(let et=0;et<_.length;++et)if(_[et].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(_)}isEqual(_){return this._internalPath.isEqual(_._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(_){this._methodName=_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(_,et){if(!isFinite(_)||_<-90||_>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_);if(!isFinite(et)||et<-180||et>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+et);this._lat=_,this._long=et}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_){return this._lat===_._lat&&this._long===_._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(_){return __PRIVATE_primitiveComparator(this._lat,_._lat)||__PRIVATE_primitiveComparator(this._long,_._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=/^__.*__$/;class ParsedSetData{constructor(_,et,tt){this.data=_,this.fieldMask=et,this.fieldTransforms=tt}toMutation(_,et){return this.fieldMask!==null?new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,et,this.fieldTransforms):new __PRIVATE_SetMutation(_,this.data,et,this.fieldTransforms)}}class ParsedUpdateData{constructor(_,et,tt){this.data=_,this.fieldMask=et,this.fieldTransforms=tt}toMutation(_,et){return new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,et,this.fieldTransforms)}}function __PRIVATE_isWrite($){switch($){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(_,et,tt,nt,rt,it){this.settings=_,this.databaseId=et,this.serializer=tt,this.ignoreUndefinedProperties=nt,rt===void 0&&this.Ru(),this.fieldTransforms=rt||[],this.fieldMask=it||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(_){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),_),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(_){var et;const tt=(et=this.path)===null||et===void 0?void 0:et.child(_),nt=this.mu({path:tt,gu:!1});return nt.pu(_),nt}yu(_){var et;const tt=(et=this.path)===null||et===void 0?void 0:et.child(_),nt=this.mu({path:tt,gu:!1});return nt.Ru(),nt}wu(_){return this.mu({path:void 0,gu:!0})}Su(_){return __PRIVATE_createError(_,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(_){return this.fieldMask.find(et=>_.isPrefixOf(et))!==void 0||this.fieldTransforms.find(et=>_.isPrefixOf(et.field))!==void 0}Ru(){if(this.path)for(let _=0;_<this.path.length;_++)this.pu(this.path.get(_))}pu(_){if(_.length===0)throw this.Su("Document fields must not be empty");if(__PRIVATE_isWrite(this.Vu)&&ye.test(_))throw this.Su('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(_,et,tt){this.databaseId=_,this.ignoreUndefinedProperties=et,this.serializer=tt||__PRIVATE_newSerializer(_)}Cu(_,et,tt,nt=!1){return new __PRIVATE_ParseContextImpl({Vu:_,methodName:et,Du:tt,path:FieldPath$1.emptyPath(),gu:!1,bu:nt},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader($){const _=$._freezeSettings(),et=__PRIVATE_newSerializer($._databaseId);return new __PRIVATE_UserDataReader($._databaseId,!!_.ignoreUndefinedProperties,et)}function __PRIVATE_parseSetData($,_,et,tt,nt,rt={}){const it=$.Cu(rt.merge||rt.mergeFields?2:0,_,et,nt);__PRIVATE_validatePlainObject("Data must be an object, but it was:",it,tt);const st=__PRIVATE_parseObject(tt,it);let ot,at;if(rt.merge)ot=new FieldMask(it.fieldMask),at=it.fieldTransforms;else if(rt.mergeFields){const lt=[];for(const ct of rt.mergeFields){const dt=__PRIVATE_fieldPathFromArgument$1(_,ct,et);if(!it.contains(dt))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(lt,dt)||lt.push(dt)}ot=new FieldMask(lt),at=it.fieldTransforms.filter(ct=>ot.covers(ct.field))}else ot=null,at=it.fieldTransforms;return new ParsedSetData(new ObjectValue(st),ot,at)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(_){if(_.Vu!==2)throw _.Vu===1?_.Su(`${this._methodName}() can only appear at the top level of your update data`):_.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _.fieldMask.push(_.path),null}isEqual(_){return _ instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData($,_,et,tt){const nt=$.Cu(1,_,et);__PRIVATE_validatePlainObject("Data must be an object, but it was:",nt,tt);const rt=[],it=ObjectValue.empty();forEach$1(tt,(ot,at)=>{const lt=__PRIVATE_fieldPathFromDotSeparatedString(_,ot,et);at=getModularInstance(at);const ct=nt.yu(lt);if(at instanceof __PRIVATE_DeleteFieldValueImpl)rt.push(lt);else{const dt=__PRIVATE_parseData(at,ct);dt!=null&&(rt.push(lt),it.set(lt,dt))}});const st=new FieldMask(rt);return new ParsedUpdateData(it,st,nt.fieldTransforms)}function __PRIVATE_parseUpdateVarargs($,_,et,tt,nt,rt){const it=$.Cu(1,_,et),st=[__PRIVATE_fieldPathFromArgument$1(_,tt,et)],ot=[nt];if(rt.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${_}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<rt.length;dt+=2)st.push(__PRIVATE_fieldPathFromArgument$1(_,rt[dt])),ot.push(rt[dt+1]);const at=[],lt=ObjectValue.empty();for(let dt=st.length-1;dt>=0;--dt)if(!__PRIVATE_fieldMaskContains(at,st[dt])){const _t=st[dt];let pt=ot[dt];pt=getModularInstance(pt);const ut=it.yu(_t);if(pt instanceof __PRIVATE_DeleteFieldValueImpl)at.push(_t);else{const mt=__PRIVATE_parseData(pt,ut);mt!=null&&(at.push(_t),lt.set(_t,mt))}}const ct=new FieldMask(at);return new ParsedUpdateData(lt,ct,it.fieldTransforms)}function __PRIVATE_parseQueryValue($,_,et,tt=!1){return __PRIVATE_parseData(et,$.Cu(tt?4:3,_))}function __PRIVATE_parseData($,_){if(__PRIVATE_looksLikeJsonObject($=getModularInstance($)))return __PRIVATE_validatePlainObject("Unsupported field value:",_,$),__PRIVATE_parseObject($,_);if($ instanceof FieldValue)return function(tt,nt){if(!__PRIVATE_isWrite(nt.Vu))throw nt.Su(`${tt._methodName}() can only be used with update() and set()`);if(!nt.path)throw nt.Su(`${tt._methodName}() is not currently supported inside arrays`);const rt=tt._toFieldTransform(nt);rt&&nt.fieldTransforms.push(rt)}($,_),null;if($===void 0&&_.ignoreUndefinedProperties)return null;if(_.path&&_.fieldMask.push(_.path),$ instanceof Array){if(_.settings.gu&&_.Vu!==4)throw _.Su("Nested arrays are not supported");return function(tt,nt){const rt=[];let it=0;for(const st of tt){let ot=__PRIVATE_parseData(st,nt.wu(it));ot==null&&(ot={nullValue:"NULL_VALUE"}),rt.push(ot),it++}return{arrayValue:{values:rt}}}($,_)}return function(tt,nt){if((tt=getModularInstance(tt))===null)return{nullValue:"NULL_VALUE"};if(typeof tt=="number")return toNumber(nt.serializer,tt);if(typeof tt=="boolean")return{booleanValue:tt};if(typeof tt=="string")return{stringValue:tt};if(tt instanceof Date){const rt=Timestamp.fromDate(tt);return{timestampValue:toTimestamp(nt.serializer,rt)}}if(tt instanceof Timestamp){const rt=new Timestamp(tt.seconds,1e3*Math.floor(tt.nanoseconds/1e3));return{timestampValue:toTimestamp(nt.serializer,rt)}}if(tt instanceof GeoPoint)return{geoPointValue:{latitude:tt.latitude,longitude:tt.longitude}};if(tt instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(nt.serializer,tt._byteString)};if(tt instanceof DocumentReference){const rt=nt.databaseId,it=tt.firestore._databaseId;if(!it.isEqual(rt))throw nt.Su(`Document reference is for database ${it.projectId}/${it.database} but should be for database ${rt.projectId}/${rt.database}`);return{referenceValue:__PRIVATE_toResourceName(tt.firestore._databaseId||nt.databaseId,tt._key.path)}}throw nt.Su(`Unsupported field value: ${__PRIVATE_valueDescription(tt)}`)}($,_)}function __PRIVATE_parseObject($,_){const et={};return isEmpty($)?_.path&&_.path.length>0&&_.fieldMask.push(_.path):forEach$1($,(tt,nt)=>{const rt=__PRIVATE_parseData(nt,_.fu(tt));rt!=null&&(et[tt]=rt)}),{mapValue:{fields:et}}}function __PRIVATE_looksLikeJsonObject($){return!(typeof $!="object"||$===null||$ instanceof Array||$ instanceof Date||$ instanceof Timestamp||$ instanceof GeoPoint||$ instanceof Bytes||$ instanceof DocumentReference||$ instanceof FieldValue)}function __PRIVATE_validatePlainObject($,_,et){if(!__PRIVATE_looksLikeJsonObject(et)||!function(nt){return typeof nt=="object"&&nt!==null&&(Object.getPrototypeOf(nt)===Object.prototype||Object.getPrototypeOf(nt)===null)}(et)){const tt=__PRIVATE_valueDescription(et);throw tt==="an object"?_.Su($+" a custom object"):_.Su($+" "+tt)}}function __PRIVATE_fieldPathFromArgument$1($,_,et){if((_=getModularInstance(_))instanceof FieldPath)return _._internalPath;if(typeof _=="string")return __PRIVATE_fieldPathFromDotSeparatedString($,_);throw __PRIVATE_createError("Field path arguments must be of type string or ",$,!1,void 0,et)}const we=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString($,_,et){if(_.search(we)>=0)throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not contain '~', '*', '/', '[', or ']'`,$,!1,void 0,et);try{return new FieldPath(..._.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,$,!1,void 0,et)}}function __PRIVATE_createError($,_,et,tt,nt){const rt=tt&&!tt.isEmpty(),it=nt!==void 0;let st=`Function ${_}() called with invalid data`;et&&(st+=" (via `toFirestore()`)"),st+=". ";let ot="";return(rt||it)&&(ot+=" (found",rt&&(ot+=` in field ${tt}`),it&&(ot+=` in document ${nt}`),ot+=")"),new FirestoreError(D.INVALID_ARGUMENT,st+$+ot)}function __PRIVATE_fieldMaskContains($,_){return $.some(et=>et.isEqual(_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(_,et,tt,nt,rt){this._firestore=_,this._userDataWriter=et,this._key=tt,this._document=nt,this._converter=rt}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const _=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_){if(this._document){const et=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(et!==null)return this._userDataWriter.convertValue(et)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument($,_){return typeof _=="string"?__PRIVATE_fieldPathFromDotSeparatedString($,_):_ instanceof FieldPath?_._internalPath:_._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast($){if($.limitType==="L"&&$.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query($,_,...et){let tt=[];_ instanceof AppliableConstraint&&tt.push(_),tt=tt.concat(et),function(rt){const it=rt.filter(ot=>ot instanceof QueryCompositeFilterConstraint).length,st=rt.filter(ot=>ot instanceof QueryFieldFilterConstraint).length;if(it>1||it>0&&st>0)throw new FirestoreError(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(tt);for(const nt of tt)$=nt._apply($);return $}class QueryFieldFilterConstraint extends QueryConstraint{constructor(_,et,tt){super(),this._field=_,this._op=et,this._value=tt,this.type="where"}static _create(_,et,tt){return new QueryFieldFilterConstraint(_,et,tt)}_apply(_){const et=this._parse(_);return __PRIVATE_validateNewFieldFilter(_._query,et),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,et))}_parse(_){const et=__PRIVATE_newUserDataReader(_.firestore);return function(rt,it,st,ot,at,lt,ct){let dt;if(at.isKeyField()){if(lt==="array-contains"||lt==="array-contains-any")throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${lt}' queries on documentId().`);if(lt==="in"||lt==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(ct,lt);const _t=[];for(const pt of ct)_t.push(__PRIVATE_parseDocumentIdValue(ot,rt,pt));dt={arrayValue:{values:_t}}}else dt=__PRIVATE_parseDocumentIdValue(ot,rt,ct)}else lt!=="in"&&lt!=="not-in"&&lt!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(ct,lt),dt=__PRIVATE_parseQueryValue(st,it,ct,lt==="in"||lt==="not-in");return FieldFilter.create(at,lt,dt)}(_._query,"where",et,_.firestore._databaseId,this._field,this._op,this._value)}}function where($,_,et){const tt=_,nt=__PRIVATE_fieldPathFromArgument("where",$);return QueryFieldFilterConstraint._create(nt,tt,et)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(_,et){super(),this.type=_,this._queryConstraints=et}static _create(_,et){return new QueryCompositeFilterConstraint(_,et)}_parse(_){const et=this._queryConstraints.map(tt=>tt._parse(_)).filter(tt=>tt.getFilters().length>0);return et.length===1?et[0]:CompositeFilter.create(et,this._getOperator())}_apply(_){const et=this._parse(_);return et.getFilters().length===0?_:(function(nt,rt){let it=nt;const st=rt.getFlattenedFilters();for(const ot of st)__PRIVATE_validateNewFieldFilter(it,ot),it=__PRIVATE_queryWithAddedFilter(it,ot)}(_._query,et),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,et)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function __PRIVATE_parseDocumentIdValue($,_,et){if(typeof(et=getModularInstance(et))=="string"){if(et==="")throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(_)&&et.indexOf("/")!==-1)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${et}' contains a '/' character.`);const tt=_.path.child(ResourcePath.fromString(et));if(!DocumentKey.isDocumentKey(tt))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${tt}' is not because it has an odd number of segments (${tt.length}).`);return __PRIVATE_refValue($,new DocumentKey(tt))}if(et instanceof DocumentReference)return __PRIVATE_refValue($,et._key);throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(et)}.`)}function __PRIVATE_validateDisjunctiveFilterElements($,_){if(!Array.isArray($)||$.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${_.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter($,_){const et=function(nt,rt){for(const it of nt)for(const st of it.getFlattenedFilters())if(rt.indexOf(st.op)>=0)return st.op;return null}($.filters,function(nt){switch(nt){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(_.op));if(et!==null)throw et===_.op?new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${_.op.toString()}' filter.`):new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${_.op.toString()}' filters with '${et.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(_,et="none"){switch(__PRIVATE_typeOrder(_)){case 0:return null;case 1:return _.booleanValue;case 2:return __PRIVATE_normalizeNumber(_.integerValue||_.doubleValue);case 3:return this.convertTimestamp(_.timestampValue);case 4:return this.convertServerTimestamp(_,et);case 5:return _.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(_.bytesValue));case 7:return this.convertReference(_.referenceValue);case 8:return this.convertGeoPoint(_.geoPointValue);case 9:return this.convertArray(_.arrayValue,et);case 10:return this.convertObject(_.mapValue,et);default:throw fail()}}convertObject(_,et){return this.convertObjectMap(_.fields,et)}convertObjectMap(_,et="none"){const tt={};return forEach$1(_,(nt,rt)=>{tt[nt]=this.convertValue(rt,et)}),tt}convertGeoPoint(_){return new GeoPoint(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber(_.longitude))}convertArray(_,et){return(_.values||[]).map(tt=>this.convertValue(tt,et))}convertServerTimestamp(_,et){switch(et){case"previous":const tt=__PRIVATE_getPreviousValue(_);return tt==null?null:this.convertValue(tt,et);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(_));default:return null}}convertTimestamp(_){const et=__PRIVATE_normalizeTimestamp(_);return new Timestamp(et.seconds,et.nanos)}convertDocumentKey(_,et){const tt=ResourcePath.fromString(_);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(tt));const nt=new DatabaseId(tt.get(1),tt.get(3)),rt=new DocumentKey(tt.popFirst(5));return nt.isEqual(et)||__PRIVATE_logError(`Document ${rt} contains a document reference within a different database (${nt.projectId}/${nt.database}) which is not supported. It will be treated as a reference in the current database (${et.projectId}/${et.database}) instead.`),rt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter($,_,et){let tt;return tt=$?et&&(et.merge||et.mergeFields)?$.toFirestore(_,et):$.toFirestore(_):_,tt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(_,et){this.hasPendingWrites=_,this.fromCache=et}isEqual(_){return this.hasPendingWrites===_.hasPendingWrites&&this.fromCache===_.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(_,et,tt,nt,rt,it){super(_,et,tt,nt,it),this._firestore=_,this._firestoreImpl=_,this.metadata=rt}exists(){return super.exists()}data(_={}){if(this._document){if(this._converter){const et=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(et,_)}return this._userDataWriter.convertValue(this._document.data.value,_.serverTimestamps)}}get(_,et={}){if(this._document){const tt=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(tt!==null)return this._userDataWriter.convertValue(tt,et.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(_={}){return super.data(_)}}class QuerySnapshot{constructor(_,et,tt,nt){this._firestore=_,this._userDataWriter=et,this._snapshot=nt,this.metadata=new SnapshotMetadata(nt.hasPendingWrites,nt.fromCache),this.query=tt}get docs(){const _=[];return this.forEach(et=>_.push(et)),_}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(_,et){this._snapshot.docs.forEach(tt=>{_.call(et,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,tt.key,tt,new SnapshotMetadata(this._snapshot.mutatedKeys.has(tt.key),this._snapshot.fromCache),this.query.converter))})}docChanges(_={}){const et=!!_.includeMetadataChanges;if(et&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===et||(this._cachedChanges=function(nt,rt){if(nt._snapshot.oldDocs.isEmpty()){let it=0;return nt._snapshot.docChanges.map(st=>{const ot=new QueryDocumentSnapshot(nt._firestore,nt._userDataWriter,st.doc.key,st.doc,new SnapshotMetadata(nt._snapshot.mutatedKeys.has(st.doc.key),nt._snapshot.fromCache),nt.query.converter);return st.doc,{type:"added",doc:ot,oldIndex:-1,newIndex:it++}})}{let it=nt._snapshot.oldDocs;return nt._snapshot.docChanges.filter(st=>rt||st.type!==3).map(st=>{const ot=new QueryDocumentSnapshot(nt._firestore,nt._userDataWriter,st.doc.key,st.doc,new SnapshotMetadata(nt._snapshot.mutatedKeys.has(st.doc.key),nt._snapshot.fromCache),nt.query.converter);let at=-1,lt=-1;return st.type!==0&&(at=it.indexOf(st.doc.key),it=it.delete(st.doc.key)),st.type!==1&&(it=it.add(st.doc),lt=it.indexOf(st.doc.key)),{type:__PRIVATE_resultChangeType(st.type),doc:ot,oldIndex:at,newIndex:lt}})}}(this,et),this._cachedChangesIncludeMetadataChanges=et),this._cachedChanges}}function __PRIVATE_resultChangeType($){switch($){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc($){$=__PRIVATE_cast($,DocumentReference);const _=__PRIVATE_cast($.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(_),$._key).then(et=>__PRIVATE_convertToDocSnapshot(_,$,et))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(_){super(),this.firestore=_}convertBytes(_){return new Bytes(_)}convertReference(_){const et=this.convertDocumentKey(_,this.firestore._databaseId);return new DocumentReference(this.firestore,null,et)}}function getDocs($){$=__PRIVATE_cast($,Query);const _=__PRIVATE_cast($.firestore,Firestore),et=ensureFirestoreConfigured(_),tt=new __PRIVATE_ExpUserDataWriter(_);return __PRIVATE_validateHasExplicitOrderByForLimitToLast($._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(et,$._query).then(nt=>new QuerySnapshot(_,tt,$,nt))}function setDoc($,_,et){$=__PRIVATE_cast($,DocumentReference);const tt=__PRIVATE_cast($.firestore,Firestore),nt=__PRIVATE_applyFirestoreDataConverter($.converter,_,et);return executeWrite(tt,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(tt),"setDoc",$._key,nt,$.converter!==null,et).toMutation($._key,Precondition.none())])}function updateDoc($,_,et,...tt){$=__PRIVATE_cast($,DocumentReference);const nt=__PRIVATE_cast($.firestore,Firestore),rt=__PRIVATE_newUserDataReader(nt);let it;return it=typeof(_=getModularInstance(_))=="string"||_ instanceof FieldPath?__PRIVATE_parseUpdateVarargs(rt,"updateDoc",$._key,_,et,tt):__PRIVATE_parseUpdateData(rt,"updateDoc",$._key,_),executeWrite(nt,[it.toMutation($._key,Precondition.exists(!0))])}function deleteDoc($){return executeWrite(__PRIVATE_cast($.firestore,Firestore),[new __PRIVATE_DeleteMutation($._key,Precondition.none())])}function addDoc($,_){const et=__PRIVATE_cast($.firestore,Firestore),tt=doc($),nt=__PRIVATE_applyFirestoreDataConverter($.converter,_);return executeWrite(et,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader($.firestore),"addDoc",tt._key,nt,$.converter!==null,{}).toMutation(tt._key,Precondition.exists(!1))]).then(()=>tt)}function onSnapshot($,..._){var et,tt,nt;$=getModularInstance($);let rt={includeMetadataChanges:!1,source:"default"},it=0;typeof _[it]!="object"||__PRIVATE_isPartialObserver(_[it])||(rt=_[it],it++);const st={includeMetadataChanges:rt.includeMetadataChanges,source:rt.source};if(__PRIVATE_isPartialObserver(_[it])){const ct=_[it];_[it]=(et=ct.next)===null||et===void 0?void 0:et.bind(ct),_[it+1]=(tt=ct.error)===null||tt===void 0?void 0:tt.bind(ct),_[it+2]=(nt=ct.complete)===null||nt===void 0?void 0:nt.bind(ct)}let ot,at,lt;if($ instanceof DocumentReference)at=__PRIVATE_cast($.firestore,Firestore),lt=__PRIVATE_newQueryForPath($._key.path),ot={next:ct=>{_[it]&&_[it](__PRIVATE_convertToDocSnapshot(at,$,ct))},error:_[it+1],complete:_[it+2]};else{const ct=__PRIVATE_cast($,Query);at=__PRIVATE_cast(ct.firestore,Firestore),lt=ct._query;const dt=new __PRIVATE_ExpUserDataWriter(at);ot={next:_t=>{_[it]&&_[it](new QuerySnapshot(at,dt,ct,_t))},error:_[it+1],complete:_[it+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast($._query)}return function(dt,_t,pt,ut){const mt=new __PRIVATE_AsyncObserver(ut),ft=new __PRIVATE_QueryListener(_t,mt,pt);return dt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(dt),ft)),()=>{mt.Qa(),dt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(dt),ft))}}(ensureFirestoreConfigured(at),lt,st,ot)}function executeWrite($,_){return function(tt,nt){const rt=new __PRIVATE_Deferred;return tt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(tt),nt,rt)),rt.promise}(ensureFirestoreConfigured($),_)}function __PRIVATE_convertToDocSnapshot($,_,et){const tt=et.docs.get(_._key),nt=new __PRIVATE_ExpUserDataWriter($);return new DocumentSnapshot($,nt,_._key,tt,new SnapshotMetadata(et.hasPendingWrites,et.fromCache),_.converter)}(function(_,et=!0){(function(nt){S=nt})(SDK_VERSION),_registerComponent(new Component("firestore",(tt,{instanceIdentifier:nt,options:rt})=>{const it=tt.getProvider("app").getImmediate(),st=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(tt.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(tt.getProvider("app-check-internal")),function(at,lt){if(!Object.prototype.hasOwnProperty.apply(at.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(at.options.projectId,lt)}(it,nt),it);return rt=Object.assign({useFetchStreams:et},rt),st._setSettings(rt),st},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$2,"4.5.1",_),registerVersion(w$2,"4.5.1","esm2017")})();const SkeletonThemeContext=React__default.createContext({}),defaultEnableAnimation=!0;function styleOptionsToCssProperties({baseColor:$,highlightColor:_,width:et,height:tt,borderRadius:nt,circle:rt,direction:it,duration:st,enableAnimation:ot=defaultEnableAnimation}){const at={};return it==="rtl"&&(at["--animation-direction"]="reverse"),typeof st=="number"&&(at["--animation-duration"]=`${st}s`),ot||(at["--pseudo-element-display"]="none"),(typeof et=="string"||typeof et=="number")&&(at.width=et),(typeof tt=="string"||typeof tt=="number")&&(at.height=tt),(typeof nt=="string"||typeof nt=="number")&&(at.borderRadius=nt),rt&&(at.borderRadius="50%"),typeof $<"u"&&(at["--base-color"]=$),typeof _<"u"&&(at["--highlight-color"]=_),at}function Skeleton({count:$=1,wrapper:_,className:et,containerClassName:tt,containerTestId:nt,circle:rt=!1,style:it,...st}){var ot,at,lt;const ct=React__default.useContext(SkeletonThemeContext),dt={...st};for(const[vt,bt]of Object.entries(st))typeof bt>"u"&&delete dt[vt];const _t={...ct,...dt,circle:rt},pt={...it,...styleOptionsToCssProperties(_t)};let ut="react-loading-skeleton";et&&(ut+=` ${et}`);const mt=(ot=_t.inline)!==null&&ot!==void 0?ot:!1,ft=[],gt=Math.ceil($);for(let vt=0;vt<gt;vt++){let bt=pt;if(gt>$&&vt===gt-1){const xt=(at=bt.width)!==null&&at!==void 0?at:"100%",kt=$%1,Ct=typeof xt=="number"?xt*kt:`calc(${xt} * ${kt})`;bt={...bt,width:Ct}}const Et=React__default.createElement("span",{className:ut,style:bt,key:vt},"");mt?ft.push(Et):ft.push(React__default.createElement(React__default.Fragment,{key:vt},Et,React__default.createElement("br",null)))}return React__default.createElement("span",{className:tt,"data-testid":nt,"aria-live":"polite","aria-busy":(lt=_t.enableAnimation)!==null&&lt!==void 0?lt:defaultEnableAnimation},_?ft.map((vt,bt)=>React__default.createElement(_,{key:bt},vt)):ft)}const skeleton="",Home=()=>{var Lt;const[$,_]=reactExports.useState(null),[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState(1),ot=6,at=getFirestore();localStorage.getItem("token");const lt=JSON.parse(localStorage.getItem("user")),[ct,dt]=reactExports.useState(""),[_t,pt]=reactExports.useState(""),ut=Mt=>{dt(Mt.target.value)},mt=Mt=>{pt(Mt.target.value)},ft=et==null?void 0:et.filter(Mt=>Mt.jobTitle.toLowerCase().indexOf(ct.toLowerCase())!==-1),gt=Mt=>{_(Mt.target.value)},vt=Mt=>{_(Mt.target.value)},bt=()=>{const Mt=(it-1)*ot,Ht=Mt+ot;return{startIndex:Mt,endIndex:Ht}},Et=()=>{it<Math.ceil((ft==null?void 0:ft.length)/ot)&&st(it+1)},xt=()=>{it>1&&st(it-1)},Ct=((Mt,Ht,zt)=>{if((et==null?void 0:et.length)>0){let Nt=et;(Ht||zt)&&(Nt=ft),Mt&&(Nt=Nt.filter(({jobCompanyAddress:wn,salaryType:Wt,experienceLevel:fn,maxPrice:Tn,postingDate:Fn,employmentType:Mn})=>wn.toLowerCase()===Mt.toLowerCase()||Fn===Mt||parseInt(Tn)<=parseInt(Mt)||Wt.toLowerCase()===Mt.toLowerCase()||fn.toLowerCase()===Mt.toLowerCase()||Mn.toLowerCase()===Mt.toLowerCase()));const{startIndex:Xt,endIndex:rn}=bt();return Nt=Nt.slice(Xt,rn),Nt.map((wn,Wt)=>jsxRuntimeExports.jsx(Card,{data:wn},Wt))}})($,ct,_t),At=async()=>{rt(!0);try{const Mt=collection(at,"jobs");onSnapshot(Mt,Ht=>{tt(Ht.docs.map(zt=>({docId:zt.id,...zt.data()}))),rt(!1)})}catch{rt(!1)}};return reactExports.useEffect(()=>{At()},[]),console.log(ft),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Banner,{query:ct,handleInputChange:ut,query2:_t,handleInputChange2:mt}),jsxRuntimeExports.jsxs("div",{className:"bg-[#FAFAFA] md:grid grid-cols-4 gap-8 lg:px-24 px-4 py-12",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded",children:jsxRuntimeExports.jsx(Sidebar,{handleChange:gt,handleClick:vt})}),jsxRuntimeExports.jsxs("div",{className:`${lt==="candidate"?"col-span-2":"col-span-3"} bg-white p-4 rounded`,children:[nt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"})]}):(Ct==null?void 0:Ct.length)>0?jsxRuntimeExports.jsx(Jobs,{result:Ct}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold mb-2",children:[(Lt=et==null?void 0:et.jobs)==null?void 0:Lt.length," Jobs"]}),jsxRuntimeExports.jsx("p",{children:"No data found"})]}),(Ct==null?void 0:Ct.length)>0?jsxRuntimeExports.jsxs("div",{className:"flex justify-center mt-4 space-x-8",children:[jsxRuntimeExports.jsx("button",{onClick:xt,disabled:it===1,className:"hover:underline",children:"Previous"}),jsxRuntimeExports.jsxs("span",{className:"mx-2",children:["Page ",it," of"," ",Math.ceil((ft==null?void 0:ft.length)/ot)]}),jsxRuntimeExports.jsx("button",{onClick:Et,disabled:it===Math.ceil((ft==null?void 0:ft.length)/ot),className:"hover:underline",children:"Next"})]}):""]}),lt.role==="candidate"&&jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded",children:jsxRuntimeExports.jsx(Newsletter,{})})]})]})},MyJobs=()=>{reactExports.useContext(AuthContext);const[$,_]=reactExports.useState([]),[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(!0),[it,st]=reactExports.useState(1),ot=4,at=localStorage.getItem("token"),lt=getFirestore(),ct=it*ot,dt=ct-ot;$.slice(dt,ct);const _t=()=>{const ut=$.filter(mt=>mt.jobTitle.toLowerCase().indexOf(et.toLowerCase())!==-1);_(ut),rt(!1)},pt=async()=>{rt(!0);try{const ut=collection(lt,"appliedCandidates"),ft=(await getDocs(query(ut,where("userId","==",at)))).docs.map(vt=>({docId:vt.id,...vt.data()})),gt=collection(lt,"jobs");onSnapshot(gt,vt=>{const bt=vt.docs.map(Et=>({docId:Et.id,...Et.data()})).filter(Et=>ft==null?void 0:ft.some(xt=>xt.appliedJobFor===Et.docId));_(bt),console.log(bt)}),setTimeout(()=>{rt(!1)},2e3)}catch(ut){console.error("Error getting documents: ",ut),rt(!1)}};return reactExports.useEffect(()=>{pt()},[]),console.log($),jsxRuntimeExports.jsx("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:jsxRuntimeExports.jsxs("div",{className:"my-jobs-container",children:[jsxRuntimeExports.jsx("h1",{className:"text-center p-4 ",children:"ALL My Jobs"}),jsxRuntimeExports.jsxs("div",{className:"search-box p-2 text-center mb-2",children:[jsxRuntimeExports.jsx("input",{onChange:ut=>tt(ut.target.value),type:"text",className:"py-2 pl-3 border focus:outline-none lg:w-6/12 mb-4 w-full"}),jsxRuntimeExports.jsx("button",{onClick:_t,className:"bg-blue text-white font-semibold px-8 py-2 rounded-sm mb-4",children:"Search"})]}),jsxRuntimeExports.jsx("section",{className:"py-1 bg-blueGray-50",children:jsxRuntimeExports.jsx("div",{className:"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto mt-5",children:jsxRuntimeExports.jsx("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded "})})}),$==null?void 0:$.map(({docId:ut,jobId:mt,jobCompanyLogo:ft,jobTitle:gt,jobCompany:vt,jobCompanyAddress:bt,employmentType:Et,jobMinimumSalary:xt,jobMaximumSalary:kt,postingDate:Ct,jobDescription:At,jobPostedAt:Lt})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("section",{className:"card",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row items-start",onClick:()=>navigate(`/jobs/${ut}`),children:[jsxRuntimeExports.jsx("img",{src:ft,alt:gt,className:"w-16 h-16 mb-4"}),jsxRuntimeExports.jsxs("div",{className:"card-details",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:gt}),jsxRuntimeExports.jsx("h4",{className:"text-primary mb-1",children:vt}),jsxRuntimeExports.jsxs("div",{className:"text-primary/70 text-base flex flex-wrap gap-2 mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiMapPin,{})," ",bt]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiClock,{})," ",Et]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiDollarSign,{})," ",xt,"-",kt,"k"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiCalendar,{})," ",Ct]})]}),jsxRuntimeExports.jsx("p",{className:"text-base text-primary/70",children:At}),jsxRuntimeExports.jsxs("h4",{className:"text-primary mb-1 font-semibold mt-3",children:["Posted ",hooks(Lt.toDate()).fromNow()]})]})]})})}))]})})},PageHeader=({title:$,path:_})=>jsxRuntimeExports.jsx("div",{className:"py-24 mt-3 bg-[#FAFAFA] rounded flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl text-blue font-medium mb-1 text-center",children:$}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-center",children:[" ",jsxRuntimeExports.jsx("a",{href:"/",children:"Home"})," / ",_]})]})}),SalaryPage=()=>{const[$,_]=reactExports.useState([]),[et,tt]=reactExports.useState("");reactExports.useEffect(()=>{fetch("salary.json").then(rt=>rt.json()).then(rt=>_(rt))},[et]);const nt=()=>{const rt=$.filter(it=>it.title.toLowerCase().indexOf(et.toLowerCase())!==-1);console.log(rt),_(rt)};return jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Estimate Salary",path:"Salary"}),jsxRuntimeExports.jsx("div",{className:"mt-5",children:jsxRuntimeExports.jsxs("div",{className:"search-box p-2 text-center mb-2",children:[jsxRuntimeExports.jsx("input",{onChange:rt=>tt(rt.target.value),type:"text",className:"py-2 pl-3 border focus:outline-none lg:w-6/12  mb-4 w-full"}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"bg-blue text-white font-semibold px-8 py-2 rounded-sm mb-4",children:"Search"})]})}),jsxRuntimeExports.jsx("div",{className:"grid lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-12 my-12",children:$.map(rt=>jsxRuntimeExports.jsxs("div",{className:"shadow px-4 py-8",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-xl",children:rt.title}),jsxRuntimeExports.jsx("p",{className:"my-2 font-medium text-blue text-lg",children:rt.salary}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx("a",{href:"/",className:"underline",children:rt.status}),jsxRuntimeExports.jsx("a",{href:"/",className:"underline",children:rt.skills})]})]},rt.id))})]})};var isCheckBoxInput=$=>$.type==="checkbox",isDateObject=$=>$ instanceof Date,isNullOrUndefined=$=>$==null;const isObjectType=$=>typeof $=="object";var isObject$1=$=>!isNullOrUndefined($)&&!Array.isArray($)&&isObjectType($)&&!isDateObject($),getEventValue=$=>isObject$1($)&&$.target?isCheckBoxInput($.target)?$.target.checked:$.target.value:$,getNodeParentName=$=>$.substring(0,$.search(/\.\d+(\.|$)/))||$,isNameInFieldArray=($,_)=>$.has(getNodeParentName(_)),isPlainObject$1=$=>{const _=$.constructor&&$.constructor.prototype;return isObject$1(_)&&_.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject($){let _;const et=Array.isArray($);if($ instanceof Date)_=new Date($);else if($ instanceof Set)_=new Set($);else if(!(isWeb&&($ instanceof Blob||$ instanceof FileList))&&(et||isObject$1($)))if(_=et?[]:{},!et&&!isPlainObject$1($))_=$;else for(const tt in $)$.hasOwnProperty(tt)&&(_[tt]=cloneObject($[tt]));else return $;return _}var compact=$=>Array.isArray($)?$.filter(Boolean):[],isUndefined$1=$=>$===void 0,get=($,_,et)=>{if(!_||!isObject$1($))return et;const tt=compact(_.split(/[,[\].]+?/)).reduce((nt,rt)=>isNullOrUndefined(nt)?nt:nt[rt],$);return isUndefined$1(tt)||tt===$?isUndefined$1($[_])?et:$[_]:tt},isBoolean$1=$=>typeof $=="boolean";const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};React__default.createContext(null);var getProxyFormState=($,_,et,tt=!0)=>{const nt={defaultValues:_._defaultValues};for(const rt in $)Object.defineProperty(nt,rt,{get:()=>{const it=rt;return _._proxyFormState[it]!==VALIDATION_MODE.all&&(_._proxyFormState[it]=!tt||VALIDATION_MODE.all),et&&(et[it]=!0),$[it]}});return nt},isEmptyObject=$=>isObject$1($)&&!Object.keys($).length,shouldRenderFormState=($,_,et,tt)=>{et($);const{name:nt,...rt}=$;return isEmptyObject(rt)||Object.keys(rt).length>=Object.keys(_).length||Object.keys(rt).find(it=>_[it]===(!tt||VALIDATION_MODE.all))},convertToArrayPayload=$=>Array.isArray($)?$:[$];function useSubscribe($){const _=React__default.useRef($);_.current=$,React__default.useEffect(()=>{const et=!$.disabled&&_.current.subject&&_.current.subject.subscribe({next:_.current.next});return()=>{et&&et.unsubscribe()}},[$.disabled])}var isString$2=$=>typeof $=="string",generateWatchOutput=($,_,et,tt,nt)=>isString$2($)?(tt&&_.watch.add($),get(et,$,nt)):Array.isArray($)?$.map(rt=>(tt&&_.watch.add(rt),get(et,rt))):(tt&&(_.watchAll=!0),et),isKey=$=>/^\w*$/.test($),stringToPath=$=>compact($.replace(/["|']|\]/g,"").split(/\.|\[/));function set($,_,et){let tt=-1;const nt=isKey(_)?[_]:stringToPath(_),rt=nt.length,it=rt-1;for(;++tt<rt;){const st=nt[tt];let ot=et;if(tt!==it){const at=$[st];ot=isObject$1(at)||Array.isArray(at)?at:isNaN(+nt[tt+1])?{}:[]}$[st]=ot,$=$[st]}return $}var appendErrors=($,_,et,tt,nt)=>_?{...et[$],types:{...et[$]&&et[$].types?et[$].types:{},[tt]:nt||!0}}:{};const focusFieldBy=($,_,et)=>{for(const tt of et||Object.keys($)){const nt=get($,tt);if(nt){const{_f:rt,...it}=nt;if(rt&&_(rt.name)){if(rt.ref.focus){rt.ref.focus();break}else if(rt.refs&&rt.refs[0].focus){rt.refs[0].focus();break}}else isObject$1(it)&&focusFieldBy(it,_)}}};var getValidationModes=$=>({isOnSubmit:!$||$===VALIDATION_MODE.onSubmit,isOnBlur:$===VALIDATION_MODE.onBlur,isOnChange:$===VALIDATION_MODE.onChange,isOnAll:$===VALIDATION_MODE.all,isOnTouch:$===VALIDATION_MODE.onTouched}),isWatched=($,_,et)=>!et&&(_.watchAll||_.watch.has($)||[..._.watch].some(tt=>$.startsWith(tt)&&/^\.\w+/.test($.slice(tt.length)))),updateFieldArrayRootError=($,_,et)=>{const tt=compact(get($,et));return set(tt,"root",_[et]),set($,et,tt),$},isFileInput=$=>$.type==="file",isFunction$2=$=>typeof $=="function",isHTMLElement$1=$=>{if(!isWeb)return!1;const _=$?$.ownerDocument:0;return $ instanceof(_&&_.defaultView?_.defaultView.HTMLElement:HTMLElement)},isMessage=$=>isString$2($),isRadioInput=$=>$.type==="radio",isRegex=$=>$ instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=$=>{if(Array.isArray($)){if($.length>1){const _=$.filter(et=>et&&et.checked&&!et.disabled).map(et=>et.value);return{value:_,isValid:!!_.length}}return $[0].checked&&!$[0].disabled?$[0].attributes&&!isUndefined$1($[0].attributes.value)?isUndefined$1($[0].value)||$[0].value===""?validResult:{value:$[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=$=>Array.isArray($)?$.reduce((_,et)=>et&&et.checked&&!et.disabled?{isValid:!0,value:et.value}:_,defaultReturn):defaultReturn;function getValidateError($,_,et="validate"){if(isMessage($)||Array.isArray($)&&$.every(isMessage)||isBoolean$1($)&&!$)return{type:et,message:isMessage($)?$:"",ref:_}}var getValueAndMessage=$=>isObject$1($)&&!isRegex($)?$:{value:$,message:""},validateField=async($,_,et,tt,nt)=>{const{ref:rt,refs:it,required:st,maxLength:ot,minLength:at,min:lt,max:ct,pattern:dt,validate:_t,name:pt,valueAsNumber:ut,mount:mt,disabled:ft}=$._f,gt=get(_,pt);if(!mt||ft)return{};const vt=it?it[0]:rt,bt=Ht=>{tt&&vt.reportValidity&&(vt.setCustomValidity(isBoolean$1(Ht)?"":Ht||""),vt.reportValidity())},Et={},xt=isRadioInput(rt),kt=isCheckBoxInput(rt),Ct=xt||kt,At=(ut||isFileInput(rt))&&isUndefined$1(rt.value)&&isUndefined$1(gt)||isHTMLElement$1(rt)&&rt.value===""||gt===""||Array.isArray(gt)&&!gt.length,Lt=appendErrors.bind(null,pt,et,Et),Mt=(Ht,zt,Nt,Xt=INPUT_VALIDATION_RULES.maxLength,rn=INPUT_VALIDATION_RULES.minLength)=>{const wn=Ht?zt:Nt;Et[pt]={type:Ht?Xt:rn,message:wn,ref:rt,...Lt(Ht?Xt:rn,wn)}};if(nt?!Array.isArray(gt)||!gt.length:st&&(!Ct&&(At||isNullOrUndefined(gt))||isBoolean$1(gt)&&!gt||kt&&!getCheckboxValue(it).isValid||xt&&!getRadioValue(it).isValid)){const{value:Ht,message:zt}=isMessage(st)?{value:!!st,message:st}:getValueAndMessage(st);if(Ht&&(Et[pt]={type:INPUT_VALIDATION_RULES.required,message:zt,ref:vt,...Lt(INPUT_VALIDATION_RULES.required,zt)},!et))return bt(zt),Et}if(!At&&(!isNullOrUndefined(lt)||!isNullOrUndefined(ct))){let Ht,zt;const Nt=getValueAndMessage(ct),Xt=getValueAndMessage(lt);if(!isNullOrUndefined(gt)&&!isNaN(gt)){const rn=rt.valueAsNumber||gt&&+gt;isNullOrUndefined(Nt.value)||(Ht=rn>Nt.value),isNullOrUndefined(Xt.value)||(zt=rn<Xt.value)}else{const rn=rt.valueAsDate||new Date(gt),wn=Tn=>new Date(new Date().toDateString()+" "+Tn),Wt=rt.type=="time",fn=rt.type=="week";isString$2(Nt.value)&&gt&&(Ht=Wt?wn(gt)>wn(Nt.value):fn?gt>Nt.value:rn>new Date(Nt.value)),isString$2(Xt.value)&&gt&&(zt=Wt?wn(gt)<wn(Xt.value):fn?gt<Xt.value:rn<new Date(Xt.value))}if((Ht||zt)&&(Mt(!!Ht,Nt.message,Xt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!et))return bt(Et[pt].message),Et}if((ot||at)&&!At&&(isString$2(gt)||nt&&Array.isArray(gt))){const Ht=getValueAndMessage(ot),zt=getValueAndMessage(at),Nt=!isNullOrUndefined(Ht.value)&&gt.length>+Ht.value,Xt=!isNullOrUndefined(zt.value)&&gt.length<+zt.value;if((Nt||Xt)&&(Mt(Nt,Ht.message,zt.message),!et))return bt(Et[pt].message),Et}if(dt&&!At&&isString$2(gt)){const{value:Ht,message:zt}=getValueAndMessage(dt);if(isRegex(Ht)&&!gt.match(Ht)&&(Et[pt]={type:INPUT_VALIDATION_RULES.pattern,message:zt,ref:rt,...Lt(INPUT_VALIDATION_RULES.pattern,zt)},!et))return bt(zt),Et}if(_t){if(isFunction$2(_t)){const Ht=await _t(gt,_),zt=getValidateError(Ht,vt);if(zt&&(Et[pt]={...zt,...Lt(INPUT_VALIDATION_RULES.validate,zt.message)},!et))return bt(zt.message),Et}else if(isObject$1(_t)){let Ht={};for(const zt in _t){if(!isEmptyObject(Ht)&&!et)break;const Nt=getValidateError(await _t[zt](gt,_),vt,zt);Nt&&(Ht={...Nt,...Lt(zt,Nt.message)},bt(Nt.message),et&&(Et[pt]=Ht))}if(!isEmptyObject(Ht)&&(Et[pt]={ref:vt,...Ht},!et))return Et}}return bt(!0),Et};function baseGet($,_){const et=_.slice(0,-1).length;let tt=0;for(;tt<et;)$=isUndefined$1($)?tt++:$[_[tt++]];return $}function isEmptyArray($){for(const _ in $)if($.hasOwnProperty(_)&&!isUndefined$1($[_]))return!1;return!0}function unset($,_){const et=Array.isArray(_)?_:isKey(_)?[_]:stringToPath(_),tt=et.length===1?$:baseGet($,et),nt=et.length-1,rt=et[nt];return tt&&delete tt[rt],nt!==0&&(isObject$1(tt)&&isEmptyObject(tt)||Array.isArray(tt)&&isEmptyArray(tt))&&unset($,et.slice(0,-1)),$}function createSubject(){let $=[];return{get observers(){return $},next:nt=>{for(const rt of $)rt.next&&rt.next(nt)},subscribe:nt=>($.push(nt),{unsubscribe:()=>{$=$.filter(rt=>rt!==nt)}}),unsubscribe:()=>{$=[]}}}var isPrimitive=$=>isNullOrUndefined($)||!isObjectType($);function deepEqual($,_){if(isPrimitive($)||isPrimitive(_))return $===_;if(isDateObject($)&&isDateObject(_))return $.getTime()===_.getTime();const et=Object.keys($),tt=Object.keys(_);if(et.length!==tt.length)return!1;for(const nt of et){const rt=$[nt];if(!tt.includes(nt))return!1;if(nt!=="ref"){const it=_[nt];if(isDateObject(rt)&&isDateObject(it)||isObject$1(rt)&&isObject$1(it)||Array.isArray(rt)&&Array.isArray(it)?!deepEqual(rt,it):rt!==it)return!1}}return!0}var isMultipleSelect=$=>$.type==="select-multiple",isRadioOrCheckbox=$=>isRadioInput($)||isCheckBoxInput($),live=$=>isHTMLElement$1($)&&$.isConnected,objectHasFunction=$=>{for(const _ in $)if(isFunction$2($[_]))return!0;return!1};function markFieldsDirty($,_={}){const et=Array.isArray($);if(isObject$1($)||et)for(const tt in $)Array.isArray($[tt])||isObject$1($[tt])&&!objectHasFunction($[tt])?(_[tt]=Array.isArray($[tt])?[]:{},markFieldsDirty($[tt],_[tt])):isNullOrUndefined($[tt])||(_[tt]=!0);return _}function getDirtyFieldsFromDefaultValues($,_,et){const tt=Array.isArray($);if(isObject$1($)||tt)for(const nt in $)Array.isArray($[nt])||isObject$1($[nt])&&!objectHasFunction($[nt])?isUndefined$1(_)||isPrimitive(et[nt])?et[nt]=Array.isArray($[nt])?markFieldsDirty($[nt],[]):{...markFieldsDirty($[nt])}:getDirtyFieldsFromDefaultValues($[nt],isNullOrUndefined(_)?{}:_[nt],et[nt]):et[nt]=!deepEqual($[nt],_[nt]);return et}var getDirtyFields=($,_)=>getDirtyFieldsFromDefaultValues($,_,markFieldsDirty(_)),getFieldValueAs=($,{valueAsNumber:_,valueAsDate:et,setValueAs:tt})=>isUndefined$1($)?$:_?$===""?NaN:$&&+$:et&&isString$2($)?new Date($):tt?tt($):$;function getFieldValue($){const _=$.ref;if(!($.refs?$.refs.every(et=>et.disabled):_.disabled))return isFileInput(_)?_.files:isRadioInput(_)?getRadioValue($.refs).value:isMultipleSelect(_)?[..._.selectedOptions].map(({value:et})=>et):isCheckBoxInput(_)?getCheckboxValue($.refs).value:getFieldValueAs(isUndefined$1(_.value)?$.ref.value:_.value,$)}var getResolverOptions=($,_,et,tt)=>{const nt={};for(const rt of $){const it=get(_,rt);it&&set(nt,rt,it._f)}return{criteriaMode:et,names:[...$],fields:nt,shouldUseNativeValidation:tt}},getRuleValue=$=>isUndefined$1($)?$:isRegex($)?$.source:isObject$1($)?isRegex($.value)?$.value.source:$.value:$,hasValidation=$=>$.mount&&($.required||$.min||$.max||$.maxLength||$.minLength||$.pattern||$.validate);function schemaErrorLookup($,_,et){const tt=get($,et);if(tt||isKey(et))return{error:tt,name:et};const nt=et.split(".");for(;nt.length;){const rt=nt.join("."),it=get(_,rt),st=get($,rt);if(it&&!Array.isArray(it)&&et!==rt)return{name:et};if(st&&st.type)return{name:rt,error:st};nt.pop()}return{name:et}}var skipValidation=($,_,et,tt,nt)=>nt.isOnAll?!1:!et&&nt.isOnTouch?!(_||$):(et?tt.isOnBlur:nt.isOnBlur)?!$:(et?tt.isOnChange:nt.isOnChange)?$:!0,unsetEmptyArray=($,_)=>!compact(get($,_)).length&&unset($,_);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl($={},_){let et={...defaultOptions,...$},tt={submitCount:0,isDirty:!1,isLoading:isFunction$2(et.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},nt={},rt=isObject$1(et.defaultValues)||isObject$1(et.values)?cloneObject(et.defaultValues||et.values)||{}:{},it=et.shouldUnregister?{}:cloneObject(rt),st={action:!1,mount:!1,watch:!1},ot={mount:new Set,unMount:new Set,array:new Set,watch:new Set},at,lt=0;const ct={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},dt={values:createSubject(),array:createSubject(),state:createSubject()},_t=$.resetOptions&&$.resetOptions.keepDirtyValues,pt=getValidationModes(et.mode),ut=getValidationModes(et.reValidateMode),mt=et.criteriaMode===VALIDATION_MODE.all,ft=Bt=>sn=>{clearTimeout(lt),lt=setTimeout(Bt,sn)},gt=async Bt=>{if(ct.isValid||Bt){const sn=et.resolver?isEmptyObject((await At()).errors):await Mt(nt,!0);sn!==tt.isValid&&dt.state.next({isValid:sn})}},vt=Bt=>ct.isValidating&&dt.state.next({isValidating:Bt}),bt=(Bt,sn=[],xn,Cn,kn=!0,cn=!0)=>{if(Cn&&xn){if(st.action=!0,cn&&Array.isArray(get(nt,Bt))){const nn=xn(get(nt,Bt),Cn.argA,Cn.argB);kn&&set(nt,Bt,nn)}if(cn&&Array.isArray(get(tt.errors,Bt))){const nn=xn(get(tt.errors,Bt),Cn.argA,Cn.argB);kn&&set(tt.errors,Bt,nn),unsetEmptyArray(tt.errors,Bt)}if(ct.touchedFields&&cn&&Array.isArray(get(tt.touchedFields,Bt))){const nn=xn(get(tt.touchedFields,Bt),Cn.argA,Cn.argB);kn&&set(tt.touchedFields,Bt,nn)}ct.dirtyFields&&(tt.dirtyFields=getDirtyFields(rt,it)),dt.state.next({name:Bt,isDirty:zt(Bt,sn),dirtyFields:tt.dirtyFields,errors:tt.errors,isValid:tt.isValid})}else set(it,Bt,sn)},Et=(Bt,sn)=>{set(tt.errors,Bt,sn),dt.state.next({errors:tt.errors})},xt=(Bt,sn,xn,Cn)=>{const kn=get(nt,Bt);if(kn){const cn=get(it,Bt,isUndefined$1(xn)?get(rt,Bt):xn);isUndefined$1(cn)||Cn&&Cn.defaultChecked||sn?set(it,Bt,sn?cn:getFieldValue(kn._f)):rn(Bt,cn),st.mount&&gt()}},kt=(Bt,sn,xn,Cn,kn)=>{let cn=!1,nn=!1;const dn={name:Bt};if(!xn||Cn){ct.isDirty&&(nn=tt.isDirty,tt.isDirty=dn.isDirty=zt(),cn=nn!==dn.isDirty);const mn=deepEqual(get(rt,Bt),sn);nn=get(tt.dirtyFields,Bt),mn?unset(tt.dirtyFields,Bt):set(tt.dirtyFields,Bt,!0),dn.dirtyFields=tt.dirtyFields,cn=cn||ct.dirtyFields&&nn!==!mn}if(xn){const mn=get(tt.touchedFields,Bt);mn||(set(tt.touchedFields,Bt,xn),dn.touchedFields=tt.touchedFields,cn=cn||ct.touchedFields&&mn!==xn)}return cn&&kn&&dt.state.next(dn),cn?dn:{}},Ct=(Bt,sn,xn,Cn)=>{const kn=get(tt.errors,Bt),cn=ct.isValid&&isBoolean$1(sn)&&tt.isValid!==sn;if($.delayError&&xn?(at=ft(()=>Et(Bt,xn)),at($.delayError)):(clearTimeout(lt),at=null,xn?set(tt.errors,Bt,xn):unset(tt.errors,Bt)),(xn?!deepEqual(kn,xn):kn)||!isEmptyObject(Cn)||cn){const nn={...Cn,...cn&&isBoolean$1(sn)?{isValid:sn}:{},errors:tt.errors,name:Bt};tt={...tt,...nn},dt.state.next(nn)}vt(!1)},At=async Bt=>et.resolver(it,et.context,getResolverOptions(Bt||ot.mount,nt,et.criteriaMode,et.shouldUseNativeValidation)),Lt=async Bt=>{const{errors:sn}=await At(Bt);if(Bt)for(const xn of Bt){const Cn=get(sn,xn);Cn?set(tt.errors,xn,Cn):unset(tt.errors,xn)}else tt.errors=sn;return sn},Mt=async(Bt,sn,xn={valid:!0})=>{for(const Cn in Bt){const kn=Bt[Cn];if(kn){const{_f:cn,...nn}=kn;if(cn){const dn=ot.array.has(cn.name),mn=await validateField(kn,it,mt,et.shouldUseNativeValidation&&!sn,dn);if(mn[cn.name]&&(xn.valid=!1,sn))break;!sn&&(get(mn,cn.name)?dn?updateFieldArrayRootError(tt.errors,mn,cn.name):set(tt.errors,cn.name,mn[cn.name]):unset(tt.errors,cn.name))}nn&&await Mt(nn,sn,xn)}}return xn.valid},Ht=()=>{for(const Bt of ot.unMount){const sn=get(nt,Bt);sn&&(sn._f.refs?sn._f.refs.every(xn=>!live(xn)):!live(sn._f.ref))&&Tt(Bt)}ot.unMount=new Set},zt=(Bt,sn)=>(Bt&&sn&&set(it,Bt,sn),!deepEqual(Fn(),rt)),Nt=(Bt,sn,xn)=>generateWatchOutput(Bt,ot,{...st.mount?it:isUndefined$1(sn)?rt:isString$2(Bt)?{[Bt]:sn}:sn},xn,sn),Xt=Bt=>compact(get(st.mount?it:rt,Bt,$.shouldUnregister?get(rt,Bt,[]):[])),rn=(Bt,sn,xn={})=>{const Cn=get(nt,Bt);let kn=sn;if(Cn){const cn=Cn._f;cn&&(!cn.disabled&&set(it,Bt,getFieldValueAs(sn,cn)),kn=isHTMLElement$1(cn.ref)&&isNullOrUndefined(sn)?"":sn,isMultipleSelect(cn.ref)?[...cn.ref.options].forEach(nn=>nn.selected=kn.includes(nn.value)):cn.refs?isCheckBoxInput(cn.ref)?cn.refs.length>1?cn.refs.forEach(nn=>(!nn.defaultChecked||!nn.disabled)&&(nn.checked=Array.isArray(kn)?!!kn.find(dn=>dn===nn.value):kn===nn.value)):cn.refs[0]&&(cn.refs[0].checked=!!kn):cn.refs.forEach(nn=>nn.checked=nn.value===kn):isFileInput(cn.ref)?cn.ref.value="":(cn.ref.value=kn,cn.ref.type||dt.values.next({name:Bt,values:{...it}})))}(xn.shouldDirty||xn.shouldTouch)&&kt(Bt,kn,xn.shouldTouch,xn.shouldDirty,!0),xn.shouldValidate&&Tn(Bt)},wn=(Bt,sn,xn)=>{for(const Cn in sn){const kn=sn[Cn],cn=`${Bt}.${Cn}`,nn=get(nt,cn);(ot.array.has(Bt)||!isPrimitive(kn)||nn&&!nn._f)&&!isDateObject(kn)?wn(cn,kn,xn):rn(cn,kn,xn)}},Wt=(Bt,sn,xn={})=>{const Cn=get(nt,Bt),kn=ot.array.has(Bt),cn=cloneObject(sn);set(it,Bt,cn),kn?(dt.array.next({name:Bt,values:{...it}}),(ct.isDirty||ct.dirtyFields)&&xn.shouldDirty&&dt.state.next({name:Bt,dirtyFields:getDirtyFields(rt,it),isDirty:zt(Bt,cn)})):Cn&&!Cn._f&&!isNullOrUndefined(cn)?wn(Bt,cn,xn):rn(Bt,cn,xn),isWatched(Bt,ot)&&dt.state.next({...tt}),dt.values.next({name:Bt,values:{...it}}),!st.mount&&_()},fn=async Bt=>{const sn=Bt.target;let xn=sn.name,Cn=!0;const kn=get(nt,xn),cn=()=>sn.type?getFieldValue(kn._f):getEventValue(Bt);if(kn){let nn,dn;const mn=cn(),zn=Bt.type===EVENTS.BLUR||Bt.type===EVENTS.FOCUS_OUT,Gn=!hasValidation(kn._f)&&!et.resolver&&!get(tt.errors,xn)&&!kn._f.deps||skipValidation(zn,get(tt.touchedFields,xn),tt.isSubmitted,ut,pt),ur=isWatched(xn,ot,zn);set(it,xn,mn),zn?(kn._f.onBlur&&kn._f.onBlur(Bt),at&&at(0)):kn._f.onChange&&kn._f.onChange(Bt);const ir=kt(xn,mn,zn,!1),sr=!isEmptyObject(ir)||ur;if(!zn&&dt.values.next({name:xn,type:Bt.type,values:{...it}}),Gn)return ct.isValid&&gt(),sr&&dt.state.next({name:xn,...ur?{}:ir});if(!zn&&ur&&dt.state.next({...tt}),vt(!0),et.resolver){const{errors:_r}=await At([xn]),wr=schemaErrorLookup(tt.errors,nt,xn),dr=schemaErrorLookup(_r,nt,wr.name||xn);nn=dr.error,xn=dr.name,dn=isEmptyObject(_r)}else nn=(await validateField(kn,it,mt,et.shouldUseNativeValidation))[xn],Cn=Number.isNaN(mn)||mn===get(it,xn,mn),Cn&&(nn?dn=!1:ct.isValid&&(dn=await Mt(nt,!0)));Cn&&(kn._f.deps&&Tn(kn._f.deps),Ct(xn,dn,nn,ir))}},Tn=async(Bt,sn={})=>{let xn,Cn;const kn=convertToArrayPayload(Bt);if(vt(!0),et.resolver){const cn=await Lt(isUndefined$1(Bt)?Bt:kn);xn=isEmptyObject(cn),Cn=Bt?!kn.some(nn=>get(cn,nn)):xn}else Bt?(Cn=(await Promise.all(kn.map(async cn=>{const nn=get(nt,cn);return await Mt(nn&&nn._f?{[cn]:nn}:nn)}))).every(Boolean),!(!Cn&&!tt.isValid)&&gt()):Cn=xn=await Mt(nt);return dt.state.next({...!isString$2(Bt)||ct.isValid&&xn!==tt.isValid?{}:{name:Bt},...et.resolver||!Bt?{isValid:xn}:{},errors:tt.errors,isValidating:!1}),sn.shouldFocus&&!Cn&&focusFieldBy(nt,cn=>cn&&get(tt.errors,cn),Bt?kn:ot.mount),Cn},Fn=Bt=>{const sn={...rt,...st.mount?it:{}};return isUndefined$1(Bt)?sn:isString$2(Bt)?get(sn,Bt):Bt.map(xn=>get(sn,xn))},Mn=(Bt,sn)=>({invalid:!!get((sn||tt).errors,Bt),isDirty:!!get((sn||tt).dirtyFields,Bt),isTouched:!!get((sn||tt).touchedFields,Bt),error:get((sn||tt).errors,Bt)}),Ut=Bt=>{Bt&&convertToArrayPayload(Bt).forEach(sn=>unset(tt.errors,sn)),dt.state.next({errors:Bt?tt.errors:{}})},St=(Bt,sn,xn)=>{const Cn=(get(nt,Bt,{_f:{}})._f||{}).ref;set(tt.errors,Bt,{...sn,ref:Cn}),dt.state.next({name:Bt,errors:tt.errors,isValid:!1}),xn&&xn.shouldFocus&&Cn&&Cn.focus&&Cn.focus()},It=(Bt,sn)=>isFunction$2(Bt)?dt.values.subscribe({next:xn=>Bt(Nt(void 0,sn),xn)}):Nt(Bt,sn,!0),Tt=(Bt,sn={})=>{for(const xn of Bt?convertToArrayPayload(Bt):ot.mount)ot.mount.delete(xn),ot.array.delete(xn),sn.keepValue||(unset(nt,xn),unset(it,xn)),!sn.keepError&&unset(tt.errors,xn),!sn.keepDirty&&unset(tt.dirtyFields,xn),!sn.keepTouched&&unset(tt.touchedFields,xn),!et.shouldUnregister&&!sn.keepDefaultValue&&unset(rt,xn);dt.values.next({values:{...it}}),dt.state.next({...tt,...sn.keepDirty?{isDirty:zt()}:{}}),!sn.keepIsValid&&gt()},Dt=({disabled:Bt,name:sn,field:xn,fields:Cn})=>{if(isBoolean$1(Bt)){const kn=Bt?void 0:get(it,sn,getFieldValue(xn?xn._f:get(Cn,sn)._f));set(it,sn,kn),kt(sn,kn,!1,!1,!0)}},Ot=(Bt,sn={})=>{let xn=get(nt,Bt);const Cn=isBoolean$1(sn.disabled);return set(nt,Bt,{...xn||{},_f:{...xn&&xn._f?xn._f:{ref:{name:Bt}},name:Bt,mount:!0,...sn}}),ot.mount.add(Bt),xn?Dt({field:xn,disabled:sn.disabled,name:Bt}):xt(Bt,!0,sn.value),{...Cn?{disabled:sn.disabled}:{},...et.progressive?{required:!!sn.required,min:getRuleValue(sn.min),max:getRuleValue(sn.max),minLength:getRuleValue(sn.minLength),maxLength:getRuleValue(sn.maxLength),pattern:getRuleValue(sn.pattern)}:{},name:Bt,onChange:fn,onBlur:fn,ref:kn=>{if(kn){Ot(Bt,sn),xn=get(nt,Bt);const cn=isUndefined$1(kn.value)&&kn.querySelectorAll&&kn.querySelectorAll("input,select,textarea")[0]||kn,nn=isRadioOrCheckbox(cn),dn=xn._f.refs||[];if(nn?dn.find(mn=>mn===cn):cn===xn._f.ref)return;set(nt,Bt,{_f:{...xn._f,...nn?{refs:[...dn.filter(live),cn,...Array.isArray(get(rt,Bt))?[{}]:[]],ref:{type:cn.type,name:Bt}}:{ref:cn}}}),xt(Bt,!1,void 0,cn)}else xn=get(nt,Bt,{}),xn._f&&(xn._f.mount=!1),(et.shouldUnregister||sn.shouldUnregister)&&!(isNameInFieldArray(ot.array,Bt)&&st.action)&&ot.unMount.add(Bt)}}},jt=()=>et.shouldFocusError&&focusFieldBy(nt,Bt=>Bt&&get(tt.errors,Bt),ot.mount),qt=(Bt,sn)=>async xn=>{xn&&(xn.preventDefault&&xn.preventDefault(),xn.persist&&xn.persist());let Cn=cloneObject(it);if(dt.state.next({isSubmitting:!0}),et.resolver){const{errors:kn,values:cn}=await At();tt.errors=kn,Cn=cn}else await Mt(nt);unset(tt.errors,"root"),isEmptyObject(tt.errors)?(dt.state.next({errors:{}}),await Bt(Cn,xn)):(sn&&await sn({...tt.errors},xn),jt(),setTimeout(jt)),dt.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(tt.errors),submitCount:tt.submitCount+1,errors:tt.errors})},Zt=(Bt,sn={})=>{get(nt,Bt)&&(isUndefined$1(sn.defaultValue)?Wt(Bt,get(rt,Bt)):(Wt(Bt,sn.defaultValue),set(rt,Bt,sn.defaultValue)),sn.keepTouched||unset(tt.touchedFields,Bt),sn.keepDirty||(unset(tt.dirtyFields,Bt),tt.isDirty=sn.defaultValue?zt(Bt,get(rt,Bt)):zt()),sn.keepError||(unset(tt.errors,Bt),ct.isValid&&gt()),dt.state.next({...tt}))},bn=(Bt,sn={})=>{const xn=Bt?cloneObject(Bt):rt,Cn=cloneObject(xn),kn=Bt&&!isEmptyObject(Bt)?Cn:rt;if(sn.keepDefaultValues||(rt=xn),!sn.keepValues){if(sn.keepDirtyValues||_t)for(const cn of ot.mount)get(tt.dirtyFields,cn)?set(kn,cn,get(it,cn)):Wt(cn,get(kn,cn));else{if(isWeb&&isUndefined$1(Bt))for(const cn of ot.mount){const nn=get(nt,cn);if(nn&&nn._f){const dn=Array.isArray(nn._f.refs)?nn._f.refs[0]:nn._f.ref;if(isHTMLElement$1(dn)){const mn=dn.closest("form");if(mn){mn.reset();break}}}}nt={}}it=$.shouldUnregister?sn.keepDefaultValues?cloneObject(rt):{}:cloneObject(kn),dt.array.next({values:{...kn}}),dt.values.next({values:{...kn}})}ot={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!st.mount&&_(),st.mount=!ct.isValid||!!sn.keepIsValid,st.watch=!!$.shouldUnregister,dt.state.next({submitCount:sn.keepSubmitCount?tt.submitCount:0,isDirty:sn.keepDirty?tt.isDirty:!!(sn.keepDefaultValues&&!deepEqual(Bt,rt)),isSubmitted:sn.keepIsSubmitted?tt.isSubmitted:!1,dirtyFields:sn.keepDirtyValues?tt.dirtyFields:sn.keepDefaultValues&&Bt?getDirtyFields(rt,Bt):{},touchedFields:sn.keepTouched?tt.touchedFields:{},errors:sn.keepErrors?tt.errors:{},isSubmitSuccessful:sn.keepIsSubmitSuccessful?tt.isSubmitSuccessful:!1,isSubmitting:!1})},En=(Bt,sn)=>bn(isFunction$2(Bt)?Bt(it):Bt,sn);return{control:{register:Ot,unregister:Tt,getFieldState:Mn,handleSubmit:qt,setError:St,_executeSchema:At,_getWatch:Nt,_getDirty:zt,_updateValid:gt,_removeUnmounted:Ht,_updateFieldArray:bt,_updateDisabledField:Dt,_getFieldArray:Xt,_reset:bn,_resetDefaultValues:()=>isFunction$2(et.defaultValues)&&et.defaultValues().then(Bt=>{En(Bt,et.resetOptions),dt.state.next({isLoading:!1})}),_updateFormState:Bt=>{tt={...tt,...Bt}},_subjects:dt,_proxyFormState:ct,get _fields(){return nt},get _formValues(){return it},get _state(){return st},set _state(Bt){st=Bt},get _defaultValues(){return rt},get _names(){return ot},set _names(Bt){ot=Bt},get _formState(){return tt},set _formState(Bt){tt=Bt},get _options(){return et},set _options(Bt){et={...et,...Bt}}},trigger:Tn,register:Ot,handleSubmit:qt,watch:It,setValue:Wt,getValues:Fn,reset:En,resetField:Zt,clearErrors:Ut,unregister:Tt,setError:St,setFocus:(Bt,sn={})=>{const xn=get(nt,Bt),Cn=xn&&xn._f;if(Cn){const kn=Cn.refs?Cn.refs[0]:Cn.ref;kn.focus&&(kn.focus(),sn.shouldSelect&&kn.select())}},getFieldState:Mn}}function useForm($={}){const _=React__default.useRef(),et=React__default.useRef(),[tt,nt]=React__default.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$2($.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:isFunction$2($.defaultValues)?void 0:$.defaultValues});_.current||(_.current={...createFormControl($,()=>nt(it=>({...it}))),formState:tt});const rt=_.current.control;return rt._options=$,useSubscribe({subject:rt._subjects.state,next:it=>{shouldRenderFormState(it,rt._proxyFormState,rt._updateFormState,!0)&&nt({...rt._formState})}}),React__default.useEffect(()=>{$.values&&!deepEqual($.values,et.current)?(rt._reset($.values,rt._options.resetOptions),et.current=$.values):rt._resetDefaultValues()},[$.values,rt]),React__default.useEffect(()=>{rt._state.mount||(rt._updateValid(),rt._state.mount=!0),rt._state.watch&&(rt._state.watch=!1,rt._subjects.state.next({...rt._formState})),rt._removeUnmounted()}),_.current.formState=getProxyFormState(tt,rt),_.current}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$1.apply(this,arguments)}function _typeof($){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof($)}function _toPrimitive($,_){if(_typeof($)!=="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_||"default");if(_typeof(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)($)}function _toPropertyKey($){var _=_toPrimitive($,"string");return _typeof(_)==="symbol"?_:String(_)}function _defineProperty($,_,et){return _=_toPropertyKey(_),_ in $?Object.defineProperty($,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_]=et,$}function ownKeys($,_){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2($){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck($,_){if(!($ instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1($,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey(tt.key),tt)}}function _createClass$1($,_,et){return _&&_defineProperties$1($.prototype,_),et&&_defineProperties$1($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _setPrototypeOf($,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf($,_)}function _inherits($,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_&&_.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_&&_setPrototypeOf($,_)}function _getPrototypeOf($){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf($)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized$1($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _possibleConstructorReturn($,_){if(_&&(_typeof(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1($)}function _createSuper($){var _=_isNativeReflectConstruct();return function(){var tt=_getPrototypeOf($),nt;if(_){var rt=_getPrototypeOf(this).constructor;nt=Reflect.construct(tt,arguments,rt)}else nt=tt.apply(this,arguments);return _possibleConstructorReturn(this,nt)}}function _arrayLikeToArray($,_){(_==null||_>$.length)&&(_=$.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=$[et];return tt}function _arrayWithoutHoles($){if(Array.isArray($))return _arrayLikeToArray($)}function _iterableToArray($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _unsupportedIterableToArray($,_){if($){if(typeof $=="string")return _arrayLikeToArray($,_);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray($,_)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray($){return _arrayWithoutHoles($)||_iterableToArray($)||_unsupportedIterableToArray($)||_nonIterableSpread()}function sheetForTag($){if($.sheet)return $.sheet;for(var _=0;_<document.styleSheets.length;_++)if(document.styleSheets[_].ownerNode===$)return document.styleSheets[_]}function createStyleElement($){var _=document.createElement("style");return _.setAttribute("data-emotion",$.key),$.nonce!==void 0&&_.setAttribute("nonce",$.nonce),_.appendChild(document.createTextNode("")),_.setAttribute("data-s",""),_}var StyleSheet=function(){function $(et){var tt=this;this._insertTag=function(nt){var rt;tt.tags.length===0?tt.insertionPoint?rt=tt.insertionPoint.nextSibling:tt.prepend?rt=tt.container.firstChild:rt=tt.before:rt=tt.tags[tt.tags.length-1].nextSibling,tt.container.insertBefore(nt,rt),tt.tags.push(nt)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var _=$.prototype;return _.hydrate=function(tt){tt.forEach(this._insertTag)},_.insert=function(tt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var rt=sheetForTag(nt);try{rt.insertRule(tt,rt.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(tt));this.ctr++},_.flush=function(){this.tags.forEach(function(tt){return tt.parentNode&&tt.parentNode.removeChild(tt)}),this.tags=[],this.ctr=0},$}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash($,_){return charat($,0)^45?(((_<<2^charat($,0))<<2^charat($,1))<<2^charat($,2))<<2^charat($,3):0}function trim$1($){return $.trim()}function match($,_){return($=_.exec($))?$[0]:$}function replace($,_,et){return $.replace(_,et)}function indexof($,_){return $.indexOf(_)}function charat($,_){return $.charCodeAt(_)|0}function substr($,_,et){return $.slice(_,et)}function strlen($){return $.length}function sizeof($){return $.length}function append($,_){return _.push($),$}function combine($,_){return $.map(_).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node($,_,et,tt,nt,rt,it){return{value:$,root:_,parent:et,type:tt,props:nt,children:rt,line,column,length:it,return:""}}function copy($,_){return assign(node("",null,null,"",null,null,0),$,{length:-$.length},_)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice($,_){return substr(characters,$,_)}function token($){switch($){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc($){return line=column=1,length=strlen(characters=$),position=0,[]}function dealloc($){return characters="",$}function delimit($){return trim$1(slice(position-1,delimiter($===91?$+2:$===40?$+1:$)))}function whitespace($){for(;(character=peek())&&character<33;)next();return token($)>2||token(character)>3?"":" "}function escaping($,_){for(;--_&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice($,caret()+(_<6&&peek()==32&&next()==32))}function delimiter($){for(;next();)switch(character){case $:return position;case 34:case 39:$!==34&&$!==39&&delimiter(character);break;case 40:$===41&&delimiter($);break;case 92:next();break}return position}function commenter($,_){for(;next()&&$+character!==47+10;)if($+character===42+42&&peek()===47)break;return"/*"+slice(_,position-1)+"*"+from($===47?$:next())}function identifier($){for(;!token(peek());)next();return slice($,position)}function compile($){return dealloc(parse("",null,null,null,[""],$=alloc($),0,[0],$))}function parse($,_,et,tt,nt,rt,it,st,ot){for(var at=0,lt=0,ct=it,dt=0,_t=0,pt=0,ut=1,mt=1,ft=1,gt=0,vt="",bt=nt,Et=rt,xt=tt,kt=vt;mt;)switch(pt=gt,gt=next()){case 40:if(pt!=108&&charat(kt,ct-1)==58){indexof(kt+=replace(delimit(gt),"&","&\f"),"&\f")!=-1&&(ft=-1);break}case 34:case 39:case 91:kt+=delimit(gt);break;case 9:case 10:case 13:case 32:kt+=whitespace(pt);break;case 92:kt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_,et),ot);break;default:kt+="/"}break;case 123*ut:st[at++]=strlen(kt)*ft;case 125*ut:case 59:case 0:switch(gt){case 0:case 125:mt=0;case 59+lt:ft==-1&&(kt=replace(kt,/\f/g,"")),_t>0&&strlen(kt)-ct&&append(_t>32?declaration(kt+";",tt,et,ct-1):declaration(replace(kt," ","")+";",tt,et,ct-2),ot);break;case 59:kt+=";";default:if(append(xt=ruleset(kt,_,et,at,lt,nt,st,vt,bt=[],Et=[],ct),rt),gt===123)if(lt===0)parse(kt,_,xt,xt,bt,rt,ct,st,Et);else switch(dt===99&&charat(kt,3)===110?100:dt){case 100:case 108:case 109:case 115:parse($,xt,xt,tt&&append(ruleset($,xt,xt,0,0,nt,st,vt,nt,bt=[],ct),Et),nt,Et,ct,st,tt?bt:Et);break;default:parse(kt,xt,xt,xt,[""],Et,0,st,Et)}}at=lt=_t=0,ut=ft=1,vt=kt="",ct=it;break;case 58:ct=1+strlen(kt),_t=pt;default:if(ut<1){if(gt==123)--ut;else if(gt==125&&ut++==0&&prev()==125)continue}switch(kt+=from(gt),gt*ut){case 38:ft=lt>0?1:(kt+="\f",-1);break;case 44:st[at++]=(strlen(kt)-1)*ft,ft=1;break;case 64:peek()===45&&(kt+=delimit(next())),dt=peek(),lt=ct=strlen(vt=kt+=identifier(caret())),gt++;break;case 45:pt===45&&strlen(kt)==2&&(ut=0)}}return rt}function ruleset($,_,et,tt,nt,rt,it,st,ot,at,lt){for(var ct=nt-1,dt=nt===0?rt:[""],_t=sizeof(dt),pt=0,ut=0,mt=0;pt<tt;++pt)for(var ft=0,gt=substr($,ct+1,ct=abs(ut=it[pt])),vt=$;ft<_t;++ft)(vt=trim$1(ut>0?dt[ft]+" "+gt:replace(gt,/&\f/g,dt[ft])))&&(ot[mt++]=vt);return node($,_,et,nt===0?RULESET:st,ot,at,lt)}function comment($,_,et){return node($,_,et,COMMENT,from(char()),substr($,2,-2),0)}function declaration($,_,et,tt){return node($,_,et,DECLARATION,substr($,0,tt),substr($,tt+1,-1),tt)}function serialize($,_){for(var et="",tt=sizeof($),nt=0;nt<tt;nt++)et+=_($[nt],nt,$,_)||"";return et}function stringify($,_,et,tt){switch($.type){case LAYER:if($.children.length)break;case IMPORT:case DECLARATION:return $.return=$.return||$.value;case COMMENT:return"";case KEYFRAMES:return $.return=$.value+"{"+serialize($.children,tt)+"}";case RULESET:$.value=$.props.join(",")}return strlen(et=serialize($.children,tt))?$.return=$.value+"{"+et+"}":""}function middleware($){var _=sizeof($);return function(et,tt,nt,rt){for(var it="",st=0;st<_;st++)it+=$[st](et,tt,nt,rt)||"";return it}}function rulesheet($){return function(_){_.root||(_=_.return)&&$(_)}}function memoize($){var _=Object.create(null);return function(et){return _[et]===void 0&&(_[et]=$(et)),_[et]}}var identifierWithPointTracking=function(_,et,tt){for(var nt=0,rt=0;nt=rt,rt=peek(),nt===38&&rt===12&&(et[tt]=1),!token(rt);)next();return slice(_,position)},toRules=function(_,et){var tt=-1,nt=44;do switch(token(nt)){case 0:nt===38&&peek()===12&&(et[tt]=1),_[tt]+=identifierWithPointTracking(position-1,et,tt);break;case 2:_[tt]+=delimit(nt);break;case 4:if(nt===44){_[++tt]=peek()===58?"&\f":"",et[tt]=_[tt].length;break}default:_[tt]+=from(nt)}while(nt=next());return _},getRules=function(_,et){return dealloc(toRules(alloc(_),et))},fixedElements=new WeakMap,compat=function(_){if(!(_.type!=="rule"||!_.parent||_.length<1)){for(var et=_.value,tt=_.parent,nt=_.column===tt.column&&_.line===tt.line;tt.type!=="rule";)if(tt=tt.parent,!tt)return;if(!(_.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(tt))&&!nt){fixedElements.set(_,!0);for(var rt=[],it=getRules(et,rt),st=tt.props,ot=0,at=0;ot<it.length;ot++)for(var lt=0;lt<st.length;lt++,at++)_.props[at]=rt[ot]?it[ot].replace(/&\f/g,st[lt]):st[lt]+" "+it[ot]}}},removeLabel=function(_){if(_.type==="decl"){var et=_.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(_.return="",_.value="")}};function prefix($,_){switch(hash($,_)){case 5103:return WEBKIT+"print-"+$+$;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+$+$;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+$+MOZ+$+MS+$+$;case 6828:case 4268:return WEBKIT+$+MS+$+$;case 6165:return WEBKIT+$+MS+"flex-"+$+$;case 5187:return WEBKIT+$+replace($,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+$;case 5443:return WEBKIT+$+MS+"flex-item-"+replace($,/flex-|-self/,"")+$;case 4675:return WEBKIT+$+MS+"flex-line-pack"+replace($,/align-content|flex-|-self/,"")+$;case 5548:return WEBKIT+$+MS+replace($,"shrink","negative")+$;case 5292:return WEBKIT+$+MS+replace($,"basis","preferred-size")+$;case 6060:return WEBKIT+"box-"+replace($,"-grow","")+WEBKIT+$+MS+replace($,"grow","positive")+$;case 4554:return WEBKIT+replace($,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+$;case 6187:return replace(replace(replace($,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),$,"")+$;case 5495:case 3959:return replace($,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace($,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+$+$;case 4095:case 3583:case 4068:case 2532:return replace($,/(.+)-inline(.+)/,WEBKIT+"$1$2")+$;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen($)-1-_>6)switch(charat($,_+1)){case 109:if(charat($,_+4)!==45)break;case 102:return replace($,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat($,_+3)==108?"$3":"$2-$3"))+$;case 115:return~indexof($,"stretch")?prefix(replace($,"stretch","fill-available"),_)+$:$}break;case 4949:if(charat($,_+1)!==115)break;case 6444:switch(charat($,strlen($)-3-(~indexof($,"!important")&&10))){case 107:return replace($,":",":"+WEBKIT)+$;case 101:return replace($,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat($,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+$}break;case 5936:switch(charat($,_+11)){case 114:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb")+$;case 108:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb-rl")+$;case 45:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"lr")+$}return WEBKIT+$+MS+$+$}return $}var prefixer=function(_,et,tt,nt){if(_.length>-1&&!_.return)switch(_.type){case DECLARATION:_.return=prefix(_.value,_.length);break;case KEYFRAMES:return serialize([copy(_,{value:replace(_.value,"@","@"+WEBKIT)})],nt);case RULESET:if(_.length)return combine(_.props,function(rt){switch(match(rt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(_,{props:[replace(rt,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy(_,{props:[replace(rt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_,{props:[replace(rt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_,{props:[replace(rt,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(_){var et=_.key;if(et==="css"){var tt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(tt,function(ut){var mt=ut.getAttribute("data-emotion");mt.indexOf(" ")!==-1&&(document.head.appendChild(ut),ut.setAttribute("data-s",""))})}var nt=_.stylisPlugins||defaultStylisPlugins,rt={},it,st=[];it=_.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(ut){for(var mt=ut.getAttribute("data-emotion").split(" "),ft=1;ft<mt.length;ft++)rt[mt[ft]]=!0;st.push(ut)});var ot,at=[compat,removeLabel];{var lt,ct=[stringify,rulesheet(function(ut){lt.insert(ut)})],dt=middleware(at.concat(nt,ct)),_t=function(mt){return serialize(compile(mt),dt)};ot=function(mt,ft,gt,vt){lt=gt,_t(mt?mt+"{"+ft.styles+"}":ft.styles),vt&&(pt.inserted[ft.name]=!0)}}var pt={key:et,sheet:new StyleSheet({key:et,container:it,nonce:_.nonce,speedy:_.speedy,prepend:_.prepend,insertionPoint:_.insertionPoint}),nonce:_.nonce,inserted:rt,registered:{},insert:ot};return pt.sheet.hydrate(st),pt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$2=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k=b$1?Symbol.for("react.context"):60110,l$2=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$2=b$1?Symbol.for("react.forward_ref"):60112,p$2=b$1?Symbol.for("react.suspense"):60113,q=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t$2=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1($){if(typeof $=="object"&&$!==null){var _=$.$$typeof;switch(_){case c$2:switch($=$.type,$){case l$2:case m$1:case e$1:case g:case f$1:case p$2:return $;default:switch($=$&&$.$$typeof,$){case k:case n$2:case t$2:case r$1:case h:return $;default:return _}}case d:return _}}}function A($){return z$1($)===m$1}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$2;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function($){return A($)||z$1($)===l$2};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function($){return z$1($)===k};reactIs_production_min.isContextProvider=function($){return z$1($)===h};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c$2};reactIs_production_min.isForwardRef=function($){return z$1($)===n$2};reactIs_production_min.isFragment=function($){return z$1($)===e$1};reactIs_production_min.isLazy=function($){return z$1($)===t$2};reactIs_production_min.isMemo=function($){return z$1($)===r$1};reactIs_production_min.isPortal=function($){return z$1($)===d};reactIs_production_min.isProfiler=function($){return z$1($)===g};reactIs_production_min.isStrictMode=function($){return z$1($)===f$1};reactIs_production_min.isSuspense=function($){return z$1($)===p$2};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e$1||$===m$1||$===g||$===f$1||$===p$2||$===q||typeof $=="object"&&$!==null&&($.$$typeof===t$2||$.$$typeof===r$1||$.$$typeof===h||$.$$typeof===k||$.$$typeof===n$2||$.$$typeof===w$1||$.$$typeof===x$1||$.$$typeof===y$1||$.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles($,_,et){var tt="";return et.split(" ").forEach(function(nt){$[nt]!==void 0?_.push($[nt]+";"):tt+=nt+" "}),tt}var registerStyles=function(_,et,tt){var nt=_.key+"-"+et.name;(tt===!1||isBrowser===!1)&&_.registered[nt]===void 0&&(_.registered[nt]=et.styles)},insertStyles=function(_,et,tt){registerStyles(_,et,tt);var nt=_.key+"-"+et.name;if(_.inserted[et.name]===void 0){var rt=et;do _.insert(et===rt?"."+nt:"",rt,_.sheet,!0),rt=rt.next;while(rt!==void 0)}};function murmur2($){for(var _=0,et,tt=0,nt=$.length;nt>=4;++tt,nt-=4)et=$.charCodeAt(tt)&255|($.charCodeAt(++tt)&255)<<8|($.charCodeAt(++tt)&255)<<16|($.charCodeAt(++tt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,_=(et&65535)*1540483477+((et>>>16)*59797<<16)^(_&65535)*1540483477+((_>>>16)*59797<<16);switch(nt){case 3:_^=($.charCodeAt(tt+2)&255)<<16;case 2:_^=($.charCodeAt(tt+1)&255)<<8;case 1:_^=$.charCodeAt(tt)&255,_=(_&65535)*1540483477+((_>>>16)*59797<<16)}return _^=_>>>13,_=(_&65535)*1540483477+((_>>>16)*59797<<16),((_^_>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(_){return _.charCodeAt(1)===45},isProcessableValue=function(_){return _!=null&&typeof _!="boolean"},processStyleName=memoize(function($){return isCustomProperty($)?$:$.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(_,et){switch(_){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(tt,nt,rt){return cursor={name:nt,styles:rt,next:cursor},nt})}return unitlessKeys[_]!==1&&!isCustomProperty(_)&&typeof et=="number"&&et!==0?et+"px":et},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation($,_,et){if(et==null)return"";if(et.__emotion_styles!==void 0)return et;switch(typeof et){case"boolean":return"";case"object":{if(et.anim===1)return cursor={name:et.name,styles:et.styles,next:cursor},et.name;if(et.styles!==void 0){var tt=et.next;if(tt!==void 0)for(;tt!==void 0;)cursor={name:tt.name,styles:tt.styles,next:cursor},tt=tt.next;var nt=et.styles+";";return nt}return createStringFromObject($,_,et)}case"function":{if($!==void 0){var rt=cursor,it=et($);return cursor=rt,handleInterpolation($,_,it)}break}}if(_==null)return et;var st=_[et];return st!==void 0?st:et}function createStringFromObject($,_,et){var tt="";if(Array.isArray(et))for(var nt=0;nt<et.length;nt++)tt+=handleInterpolation($,_,et[nt])+";";else for(var rt in et){var it=et[rt];if(typeof it!="object")_!=null&&_[it]!==void 0?tt+=rt+"{"+_[it]+"}":isProcessableValue(it)&&(tt+=processStyleName(rt)+":"+processStyleValue(rt,it)+";");else if(Array.isArray(it)&&typeof it[0]=="string"&&(_==null||_[it[0]]===void 0))for(var st=0;st<it.length;st++)isProcessableValue(it[st])&&(tt+=processStyleName(rt)+":"+processStyleValue(rt,it[st])+";");else{var ot=handleInterpolation($,_,it);switch(rt){case"animation":case"animationName":{tt+=processStyleName(rt)+":"+ot+";";break}default:tt+=rt+"{"+ot+"}"}}}return tt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(_,et,tt){if(_.length===1&&typeof _[0]=="object"&&_[0]!==null&&_[0].styles!==void 0)return _[0];var nt=!0,rt="";cursor=void 0;var it=_[0];it==null||it.raw===void 0?(nt=!1,rt+=handleInterpolation(tt,et,it)):rt+=it[0];for(var st=1;st<_.length;st++)rt+=handleInterpolation(tt,et,_[st]),nt&&(rt+=it[st]);labelPattern.lastIndex=0;for(var ot="",at;(at=labelPattern.exec(rt))!==null;)ot+="-"+at[1];var lt=murmur2(rt)+ot;return{name:lt,styles:rt,next:cursor}},syncFallback=function(_){return _()},useInsertionEffect=React["useInsertionEffect"]?React["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,hasOwnProperty$1={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(_){return reactExports.forwardRef(function(et,tt){var nt=reactExports.useContext(EmotionCacheContext);return _(et,nt,tt)})},ThemeContext=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(_,et){var tt={};for(var nt in et)hasOwnProperty$1.call(et,nt)&&(tt[nt]=et[nt]);return tt[typePropName]=_,tt},Insertion=function(_){var et=_.cache,tt=_.serialized,nt=_.isStringTag;return registerStyles(et,tt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,tt,nt)}),null},Emotion=withEmotionCache(function($,_,et){var tt=$.css;typeof tt=="string"&&_.registered[tt]!==void 0&&(tt=_.registered[tt]);var nt=$[typePropName],rt=[tt],it="";typeof $.className=="string"?it=getRegisteredStyles(_.registered,rt,$.className):$.className!=null&&(it=$.className+" ");var st=serializeStyles(rt,void 0,reactExports.useContext(ThemeContext));it+=_.key+"-"+st.name;var ot={};for(var at in $)hasOwnProperty$1.call($,at)&&at!=="css"&&at!==typePropName&&(ot[at]=$[at]);return ot.ref=et,ot.className=it,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:_,serialized:st,isStringTag:typeof nt=="string"}),reactExports.createElement(nt,ot))}),Emotion$1=Emotion,jsx=function(_,et){var tt=arguments;if(et==null||!hasOwnProperty$1.call(et,"css"))return reactExports.createElement.apply(void 0,tt);var nt=tt.length,rt=new Array(nt);rt[0]=Emotion$1,rt[1]=createEmotionProps(_,et);for(var it=2;it<nt;it++)rt[it]=tt[it];return reactExports.createElement.apply(null,rt)};function css$2(){for(var $=arguments.length,_=new Array($),et=0;et<$;et++)_[et]=arguments[et];return serializeStyles(_)}var keyframes=function(){var _=css$2.apply(void 0,arguments),et="animation-"+_.name;return{name:et,styles:"@keyframes "+et+"{"+_.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function _arrayWithHoles($){if(Array.isArray($))return $}function _iterableToArrayLimit($,_){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,st=[],ot=!0,at=!1;try{if(rt=(et=et.call($)).next,_===0){if(Object(et)!==et)return;ot=!1}else for(;!(ot=(tt=rt.call(et)).done)&&(st.push(tt.value),st.length!==_);ot=!0);}catch(lt){at=!0,nt=lt}finally{try{if(!ot&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(at)throw nt}}return st}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray($,_){return _arrayWithHoles($)||_iterableToArrayLimit($,_)||_unsupportedIterableToArray($,_)||_nonIterableRest()}function _objectWithoutPropertiesLoose$1($,_){if($==null)return{};var et={},tt=Object.keys($),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}function _objectWithoutProperties($,_){if($==null)return{};var et=_objectWithoutPropertiesLoose$1($,_),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _taggedTemplateLiteral($,_){return _||(_=$.slice(0)),Object.freeze(Object.defineProperties($,{raw:{value:Object.freeze(_)}}))}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=$=>({x:$,y:$});function rectToClientRect($){return{...$,top:$.y,left:$.x,right:$.x+$.width,bottom:$.y+$.height}}function getNodeName($){return isNode($)?($.nodeName||"").toLowerCase():"#document"}function getWindow($){var _;return($==null||(_=$.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement($){var _;return(_=(isNode($)?$.ownerDocument:$.document)||window.document)==null?void 0:_.documentElement}function isNode($){return $ instanceof Node||$ instanceof getWindow($).Node}function isElement($){return $ instanceof Element||$ instanceof getWindow($).Element}function isHTMLElement($){return $ instanceof HTMLElement||$ instanceof getWindow($).HTMLElement}function isShadowRoot($){return typeof ShadowRoot>"u"?!1:$ instanceof ShadowRoot||$ instanceof getWindow($).ShadowRoot}function isOverflowElement($){const{overflow:_,overflowX:et,overflowY:tt,display:nt}=getComputedStyle$1($);return/auto|scroll|overlay|hidden|clip/.test(_+tt+et)&&!["inline","contents"].includes(nt)}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode($){return["html","body","#document"].includes(getNodeName($))}function getComputedStyle$1($){return getWindow($).getComputedStyle($)}function getParentNode($){if(getNodeName($)==="html")return $;const _=$.assignedSlot||$.parentNode||isShadowRoot($)&&$.host||getDocumentElement($);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor($){const _=getParentNode($);return isLastTraversableNode(_)?$.ownerDocument?$.ownerDocument.body:$.body:isHTMLElement(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors($,_,et){var tt;_===void 0&&(_=[]),et===void 0&&(et=!0);const nt=getNearestOverflowAncestor($),rt=nt===((tt=$.ownerDocument)==null?void 0:tt.body),it=getWindow(nt);return rt?_.concat(it,it.visualViewport||[],isOverflowElement(nt)?nt:[],it.frameElement&&et?getOverflowAncestors(it.frameElement):[]):_.concat(nt,getOverflowAncestors(nt,[],et))}function getCssDimensions($){const _=getComputedStyle$1($);let et=parseFloat(_.width)||0,tt=parseFloat(_.height)||0;const nt=isHTMLElement($),rt=nt?$.offsetWidth:et,it=nt?$.offsetHeight:tt,st=round(et)!==rt||round(tt)!==it;return st&&(et=rt,tt=it),{width:et,height:tt,$:st}}function unwrapElement($){return isElement($)?$:$.contextElement}function getScale($){const _=unwrapElement($);if(!isHTMLElement(_))return createCoords(1);const et=_.getBoundingClientRect(),{width:tt,height:nt,$:rt}=getCssDimensions(_);let it=(rt?round(et.width):et.width)/tt,st=(rt?round(et.height):et.height)/nt;return(!it||!Number.isFinite(it))&&(it=1),(!st||!Number.isFinite(st))&&(st=1),{x:it,y:st}}const noOffsets=createCoords(0);function getVisualOffsets($){const _=getWindow($);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets($,_,et){return _===void 0&&(_=!1),!et||_&&et!==getWindow($)?!1:_}function getBoundingClientRect($,_,et,tt){_===void 0&&(_=!1),et===void 0&&(et=!1);const nt=$.getBoundingClientRect(),rt=unwrapElement($);let it=createCoords(1);_&&(tt?isElement(tt)&&(it=getScale(tt)):it=getScale($));const st=shouldAddVisualOffsets(rt,et,tt)?getVisualOffsets(rt):createCoords(0);let ot=(nt.left+st.x)/it.x,at=(nt.top+st.y)/it.y,lt=nt.width/it.x,ct=nt.height/it.y;if(rt){const dt=getWindow(rt),_t=tt&&isElement(tt)?getWindow(tt):tt;let pt=dt.frameElement;for(;pt&&tt&&_t!==dt;){const ut=getScale(pt),mt=pt.getBoundingClientRect(),ft=getComputedStyle$1(pt),gt=mt.left+(pt.clientLeft+parseFloat(ft.paddingLeft))*ut.x,vt=mt.top+(pt.clientTop+parseFloat(ft.paddingTop))*ut.y;ot*=ut.x,at*=ut.y,lt*=ut.x,ct*=ut.y,ot+=gt,at+=vt,pt=getWindow(pt).frameElement}}return rectToClientRect({width:lt,height:ct,x:ot,y:at})}function observeMove($,_){let et=null,tt;const nt=getDocumentElement($);function rt(){clearTimeout(tt),et&&et.disconnect(),et=null}function it(st,ot){st===void 0&&(st=!1),ot===void 0&&(ot=1),rt();const{left:at,top:lt,width:ct,height:dt}=$.getBoundingClientRect();if(st||_(),!ct||!dt)return;const _t=floor(lt),pt=floor(nt.clientWidth-(at+ct)),ut=floor(nt.clientHeight-(lt+dt)),mt=floor(at),gt={rootMargin:-_t+"px "+-pt+"px "+-ut+"px "+-mt+"px",threshold:max(0,min(1,ot))||1};let vt=!0;function bt(Et){const xt=Et[0].intersectionRatio;if(xt!==ot){if(!vt)return it();xt?it(!1,xt):tt=setTimeout(()=>{it(!1,1e-7)},100)}vt=!1}try{et=new IntersectionObserver(bt,{...gt,root:nt.ownerDocument})}catch{et=new IntersectionObserver(bt,gt)}et.observe($)}return it(!0),rt}function autoUpdate($,_,et,tt){tt===void 0&&(tt={});const{ancestorScroll:nt=!0,ancestorResize:rt=!0,elementResize:it=typeof ResizeObserver=="function",layoutShift:st=typeof IntersectionObserver=="function",animationFrame:ot=!1}=tt,at=unwrapElement($),lt=nt||rt?[...at?getOverflowAncestors(at):[],...getOverflowAncestors(_)]:[];lt.forEach(ft=>{nt&&ft.addEventListener("scroll",et,{passive:!0}),rt&&ft.addEventListener("resize",et)});const ct=at&&st?observeMove(at,et):null;let dt=-1,_t=null;it&&(_t=new ResizeObserver(ft=>{let[gt]=ft;gt&&gt.target===at&&_t&&(_t.unobserve(_),cancelAnimationFrame(dt),dt=requestAnimationFrame(()=>{_t&&_t.observe(_)})),et()}),at&&!ot&&_t.observe(at),_t.observe(_));let pt,ut=ot?getBoundingClientRect($):null;ot&&mt();function mt(){const ft=getBoundingClientRect($);ut&&(ft.x!==ut.x||ft.y!==ut.y||ft.width!==ut.width||ft.height!==ut.height)&&et(),ut=ft,pt=requestAnimationFrame(mt)}return et(),()=>{lt.forEach(ft=>{nt&&ft.removeEventListener("scroll",et),rt&&ft.removeEventListener("resize",et)}),ct&&ct(),_t&&_t.disconnect(),_t=null,ot&&cancelAnimationFrame(pt)}}var index$2=reactExports.useLayoutEffect,_excluded$4=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],noop$2=function(){};function applyPrefixToName($,_){return _?_[0]==="-"?$+_:$+"__"+_:$}function classNames($,_){for(var et=arguments.length,tt=new Array(et>2?et-2:0),nt=2;nt<et;nt++)tt[nt-2]=arguments[nt];var rt=[].concat(tt);if(_&&$)for(var it in _)_.hasOwnProperty(it)&&_[it]&&rt.push("".concat(applyPrefixToName($,it)));return rt.filter(function(st){return st}).map(function(st){return String(st).trim()}).join(" ")}var cleanValue=function(_){return isArray$1(_)?_.filter(Boolean):_typeof(_)==="object"&&_!==null?[_]:[]},cleanCommonProps=function(_){_.className,_.clearValue,_.cx,_.getStyles,_.getClassNames,_.getValue,_.hasValue,_.isMulti,_.isRtl,_.options,_.selectOption,_.selectProps,_.setValue,_.theme;var et=_objectWithoutProperties(_,_excluded$4);return _objectSpread2({},et)},getStyleProps=function(_,et,tt){var nt=_.cx,rt=_.getStyles,it=_.getClassNames,st=_.className;return{css:rt(et,_),className:nt(tt??{},it(et,_),st)}};function isDocumentElement($){return[document.documentElement,document.body,window].indexOf($)>-1}function normalizedHeight($){return isDocumentElement($)?window.innerHeight:$.clientHeight}function getScrollTop($){return isDocumentElement($)?window.pageYOffset:$.scrollTop}function scrollTo($,_){if(isDocumentElement($)){window.scrollTo(0,_);return}$.scrollTop=_}function getScrollParent($){var _=getComputedStyle($),et=_.position==="absolute",tt=/(auto|scroll)/;if(_.position==="fixed")return document.documentElement;for(var nt=$;nt=nt.parentElement;)if(_=getComputedStyle(nt),!(et&&_.position==="static")&&tt.test(_.overflow+_.overflowY+_.overflowX))return nt;return document.documentElement}function easeOutCubic($,_,et,tt){return et*(($=$/tt-1)*$*$+1)+_}function animatedScrollTo($,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:noop$2,nt=getScrollTop($),rt=_-nt,it=10,st=0;function ot(){st+=it;var at=easeOutCubic(st,nt,rt,et);scrollTo($,at),st<et?window.requestAnimationFrame(ot):tt($)}ot()}function scrollIntoView($,_){var et=$.getBoundingClientRect(),tt=_.getBoundingClientRect(),nt=_.offsetHeight/3;tt.bottom+nt>et.bottom?scrollTo($,Math.min(_.offsetTop+_.clientHeight-$.offsetHeight+nt,$.scrollHeight)):tt.top-nt<et.top&&scrollTo($,Math.max(_.offsetTop-nt,0))}function getBoundingClientObj($){var _=$.getBoundingClientRect();return{bottom:_.bottom,height:_.height,left:_.left,right:_.right,top:_.top,width:_.width}}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var passiveOptionAccessed=!1,options={get passive(){return passiveOptionAccessed=!0}},w=typeof window<"u"?window:{};w.addEventListener&&w.removeEventListener&&(w.addEventListener("p",noop$2,options),w.removeEventListener("p",noop$2,!1));var supportsPassiveEvents=passiveOptionAccessed;function notNullish($){return $!=null}function isArray$1($){return Array.isArray($)}function valueTernary($,_,et){return $?_:et}function singleValueAsValue($){return $}function multiValueAsValue($){return $}var removeProps=function(_){for(var et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];var rt=Object.entries(_).filter(function(it){var st=_slicedToArray(it,1),ot=st[0];return!tt.includes(ot)});return rt.reduce(function(it,st){var ot=_slicedToArray(st,2),at=ot[0],lt=ot[1];return it[at]=lt,it},{})},_excluded$3=["children","innerProps"],_excluded2$1=["children","innerProps"];function getMenuPlacement($){var _=$.maxHeight,et=$.menuEl,tt=$.minHeight,nt=$.placement,rt=$.shouldScroll,it=$.isFixedPosition,st=$.controlHeight,ot=getScrollParent(et),at={placement:"bottom",maxHeight:_};if(!et||!et.offsetParent)return at;var lt=ot.getBoundingClientRect(),ct=lt.height,dt=et.getBoundingClientRect(),_t=dt.bottom,pt=dt.height,ut=dt.top,mt=et.offsetParent.getBoundingClientRect(),ft=mt.top,gt=it?window.innerHeight:normalizedHeight(ot),vt=getScrollTop(ot),bt=parseInt(getComputedStyle(et).marginBottom,10),Et=parseInt(getComputedStyle(et).marginTop,10),xt=ft-Et,kt=gt-ut,Ct=xt+vt,At=ct-vt-ut,Lt=_t-gt+vt+bt,Mt=vt+ut-Et,Ht=160;switch(nt){case"auto":case"bottom":if(kt>=pt)return{placement:"bottom",maxHeight:_};if(At>=pt&&!it)return rt&&animatedScrollTo(ot,Lt,Ht),{placement:"bottom",maxHeight:_};if(!it&&At>=tt||it&&kt>=tt){rt&&animatedScrollTo(ot,Lt,Ht);var zt=it?kt-bt:At-bt;return{placement:"bottom",maxHeight:zt}}if(nt==="auto"||it){var Nt=_,Xt=it?xt:Ct;return Xt>=tt&&(Nt=Math.min(Xt-bt-st,_)),{placement:"top",maxHeight:Nt}}if(nt==="bottom")return rt&&scrollTo(ot,Lt),{placement:"bottom",maxHeight:_};break;case"top":if(xt>=pt)return{placement:"top",maxHeight:_};if(Ct>=pt&&!it)return rt&&animatedScrollTo(ot,Mt,Ht),{placement:"top",maxHeight:_};if(!it&&Ct>=tt||it&&xt>=tt){var rn=_;return(!it&&Ct>=tt||it&&xt>=tt)&&(rn=it?xt-Et:Ct-Et),rt&&animatedScrollTo(ot,Mt,Ht),{placement:"top",maxHeight:rn}}return{placement:"bottom",maxHeight:_};default:throw new Error('Invalid placement provided "'.concat(nt,'".'))}return at}function alignToControl($){var _={bottom:"top",top:"bottom"};return $?_[$]:"bottom"}var coercePlacement=function(_){return _==="auto"?"bottom":_},menuCSS=function(_,et){var tt,nt=_.placement,rt=_.theme,it=rt.borderRadius,st=rt.spacing,ot=rt.colors;return _objectSpread2((tt={label:"menu"},_defineProperty(tt,alignToControl(nt),"100%"),_defineProperty(tt,"position","absolute"),_defineProperty(tt,"width","100%"),_defineProperty(tt,"zIndex",1),tt),et?{}:{backgroundColor:ot.neutral0,borderRadius:it,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:st.menuGutter,marginTop:st.menuGutter})},PortalPlacementContext=reactExports.createContext(null),MenuPlacer=function(_){var et=_.children,tt=_.minMenuHeight,nt=_.maxMenuHeight,rt=_.menuPlacement,it=_.menuPosition,st=_.menuShouldScrollIntoView,ot=_.theme,at=reactExports.useContext(PortalPlacementContext)||{},lt=at.setPortalPlacement,ct=reactExports.useRef(null),dt=reactExports.useState(nt),_t=_slicedToArray(dt,2),pt=_t[0],ut=_t[1],mt=reactExports.useState(null),ft=_slicedToArray(mt,2),gt=ft[0],vt=ft[1],bt=ot.spacing.controlHeight;return index$2(function(){var Et=ct.current;if(Et){var xt=it==="fixed",kt=st&&!xt,Ct=getMenuPlacement({maxHeight:nt,menuEl:Et,minHeight:tt,placement:rt,shouldScroll:kt,isFixedPosition:xt,controlHeight:bt});ut(Ct.maxHeight),vt(Ct.placement),lt==null||lt(Ct.placement)}},[nt,rt,it,st,tt,lt,bt]),et({ref:ct,placerProps:_objectSpread2(_objectSpread2({},_),{},{placement:gt||coercePlacement(rt),maxHeight:pt})})},Menu=function(_){var et=_.children,tt=_.innerRef,nt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"menu",{menu:!0}),{ref:tt},nt),et)},Menu$1=Menu,menuListCSS=function(_,et){var tt=_.maxHeight,nt=_.theme.spacing.baseUnit;return _objectSpread2({maxHeight:tt,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},et?{}:{paddingBottom:nt,paddingTop:nt})},MenuList=function(_){var et=_.children,tt=_.innerProps,nt=_.innerRef,rt=_.isMulti;return jsx("div",_extends$1({},getStyleProps(_,"menuList",{"menu-list":!0,"menu-list--is-multi":rt}),{ref:nt},tt),et)},noticeCSS=function(_,et){var tt=_.theme,nt=tt.spacing.baseUnit,rt=tt.colors;return _objectSpread2({textAlign:"center"},et?{}:{color:rt.neutral40,padding:"".concat(nt*2,"px ").concat(nt*3,"px")})},noOptionsMessageCSS=noticeCSS,loadingMessageCSS=noticeCSS,NoOptionsMessage=function(_){var et=_.children,tt=et===void 0?"No options":et,nt=_.innerProps,rt=_objectWithoutProperties(_,_excluded$3);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},rt),{},{children:tt,innerProps:nt}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),nt),tt)},LoadingMessage=function(_){var et=_.children,tt=et===void 0?"Loading...":et,nt=_.innerProps,rt=_objectWithoutProperties(_,_excluded2$1);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},rt),{},{children:tt,innerProps:nt}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),nt),tt)},menuPortalCSS=function(_){var et=_.rect,tt=_.offset,nt=_.position;return{left:et.left,position:nt,top:tt,width:et.width,zIndex:1}},MenuPortal=function(_){var et=_.appendTo,tt=_.children,nt=_.controlElement,rt=_.innerProps,it=_.menuPlacement,st=_.menuPosition,ot=reactExports.useRef(null),at=reactExports.useRef(null),lt=reactExports.useState(coercePlacement(it)),ct=_slicedToArray(lt,2),dt=ct[0],_t=ct[1],pt=reactExports.useMemo(function(){return{setPortalPlacement:_t}},[]),ut=reactExports.useState(null),mt=_slicedToArray(ut,2),ft=mt[0],gt=mt[1],vt=reactExports.useCallback(function(){if(nt){var kt=getBoundingClientObj(nt),Ct=st==="fixed"?0:window.pageYOffset,At=kt[dt]+Ct;(At!==(ft==null?void 0:ft.offset)||kt.left!==(ft==null?void 0:ft.rect.left)||kt.width!==(ft==null?void 0:ft.rect.width))&&gt({offset:At,rect:kt})}},[nt,st,dt,ft==null?void 0:ft.offset,ft==null?void 0:ft.rect.left,ft==null?void 0:ft.rect.width]);index$2(function(){vt()},[vt]);var bt=reactExports.useCallback(function(){typeof at.current=="function"&&(at.current(),at.current=null),nt&&ot.current&&(at.current=autoUpdate(nt,ot.current,vt,{elementResize:"ResizeObserver"in window}))},[nt,vt]);index$2(function(){bt()},[bt]);var Et=reactExports.useCallback(function(kt){ot.current=kt,bt()},[bt]);if(!et&&st!=="fixed"||!ft)return null;var xt=jsx("div",_extends$1({ref:Et},getStyleProps(_objectSpread2(_objectSpread2({},_),{},{offset:ft.offset,position:st,rect:ft.rect}),"menuPortal",{"menu-portal":!0}),rt),tt);return jsx(PortalPlacementContext.Provider,{value:pt},et?reactDomExports.createPortal(xt,et):xt)},containerCSS=function(_){var et=_.isDisabled,tt=_.isRtl;return{label:"container",direction:tt?"rtl":void 0,pointerEvents:et?"none":void 0,position:"relative"}},SelectContainer=function(_){var et=_.children,tt=_.innerProps,nt=_.isDisabled,rt=_.isRtl;return jsx("div",_extends$1({},getStyleProps(_,"container",{"--is-disabled":nt,"--is-rtl":rt}),tt),et)},valueContainerCSS=function(_,et){var tt=_.theme.spacing,nt=_.isMulti,rt=_.hasValue,it=_.selectProps.controlShouldRenderValue;return _objectSpread2({alignItems:"center",display:nt&&rt&&it?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},et?{}:{padding:"".concat(tt.baseUnit/2,"px ").concat(tt.baseUnit*2,"px")})},ValueContainer=function(_){var et=_.children,tt=_.innerProps,nt=_.isMulti,rt=_.hasValue;return jsx("div",_extends$1({},getStyleProps(_,"valueContainer",{"value-container":!0,"value-container--is-multi":nt,"value-container--has-value":rt}),tt),et)},indicatorsContainerCSS=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},IndicatorsContainer=function(_){var et=_.children,tt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"indicatorsContainer",{indicators:!0}),tt),et)},_templateObject,_excluded$2$1=["size"],_excluded2=["innerProps","isRtl","size"],_ref2$2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Svg=function(_){var et=_.size,tt=_objectWithoutProperties(_,_excluded$2$1);return jsx("svg",_extends$1({height:et,width:et,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_ref2$2},tt))},CrossIcon=function(_){return jsx(Svg,_extends$1({size:20},_),jsx("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},DownChevron=function(_){return jsx(Svg,_extends$1({size:20},_),jsx("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},baseCSS=function(_,et){var tt=_.isFocused,nt=_.theme,rt=nt.spacing.baseUnit,it=nt.colors;return _objectSpread2({label:"indicatorContainer",display:"flex",transition:"color 150ms"},et?{}:{color:tt?it.neutral60:it.neutral20,padding:rt*2,":hover":{color:tt?it.neutral80:it.neutral40}})},dropdownIndicatorCSS=baseCSS,DropdownIndicator=function(_){var et=_.children,tt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),tt),et||jsx(DownChevron,null))},clearIndicatorCSS=baseCSS,ClearIndicator=function(_){var et=_.children,tt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"clearIndicator",{indicator:!0,"clear-indicator":!0}),tt),et||jsx(CrossIcon,null))},indicatorSeparatorCSS=function(_,et){var tt=_.isDisabled,nt=_.theme,rt=nt.spacing.baseUnit,it=nt.colors;return _objectSpread2({label:"indicatorSeparator",alignSelf:"stretch",width:1},et?{}:{backgroundColor:tt?it.neutral10:it.neutral20,marginBottom:rt*2,marginTop:rt*2})},IndicatorSeparator=function(_){var et=_.innerProps;return jsx("span",_extends$1({},et,getStyleProps(_,"indicatorSeparator",{"indicator-separator":!0})))},loadingDotAnimations=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),loadingIndicatorCSS=function(_,et){var tt=_.isFocused,nt=_.size,rt=_.theme,it=rt.colors,st=rt.spacing.baseUnit;return _objectSpread2({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:nt,lineHeight:1,marginRight:nt,textAlign:"center",verticalAlign:"middle"},et?{}:{color:tt?it.neutral60:it.neutral20,padding:st*2})},LoadingDot=function(_){var et=_.delay,tt=_.offset;return jsx("span",{css:css$2({animation:"".concat(loadingDotAnimations," 1s ease-in-out ").concat(et,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:tt?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LoadingIndicator=function(_){var et=_.innerProps,tt=_.isRtl,nt=_.size,rt=nt===void 0?4:nt,it=_objectWithoutProperties(_,_excluded2);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},it),{},{innerProps:et,isRtl:tt,size:rt}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),et),jsx(LoadingDot,{delay:0,offset:tt}),jsx(LoadingDot,{delay:160,offset:!0}),jsx(LoadingDot,{delay:320,offset:!tt}))},css$1=function(_,et){var tt=_.isDisabled,nt=_.isFocused,rt=_.theme,it=rt.colors,st=rt.borderRadius,ot=rt.spacing;return _objectSpread2({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:ot.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},et?{}:{backgroundColor:tt?it.neutral5:it.neutral0,borderColor:tt?it.neutral10:nt?it.primary:it.neutral20,borderRadius:st,borderStyle:"solid",borderWidth:1,boxShadow:nt?"0 0 0 1px ".concat(it.primary):void 0,"&:hover":{borderColor:nt?it.primary:it.neutral30}})},Control=function(_){var et=_.children,tt=_.isDisabled,nt=_.isFocused,rt=_.innerRef,it=_.innerProps,st=_.menuIsOpen;return jsx("div",_extends$1({ref:rt},getStyleProps(_,"control",{control:!0,"control--is-disabled":tt,"control--is-focused":nt,"control--menu-is-open":st}),it,{"aria-disabled":tt||void 0}),et)},Control$1=Control,_excluded$1$1=["data"],groupCSS=function(_,et){var tt=_.theme.spacing;return et?{}:{paddingBottom:tt.baseUnit*2,paddingTop:tt.baseUnit*2}},Group=function(_){var et=_.children,tt=_.cx,nt=_.getStyles,rt=_.getClassNames,it=_.Heading,st=_.headingProps,ot=_.innerProps,at=_.label,lt=_.theme,ct=_.selectProps;return jsx("div",_extends$1({},getStyleProps(_,"group",{group:!0}),ot),jsx(it,_extends$1({},st,{selectProps:ct,theme:lt,getStyles:nt,getClassNames:rt,cx:tt}),at),jsx("div",null,et))},groupHeadingCSS=function(_,et){var tt=_.theme,nt=tt.colors,rt=tt.spacing;return _objectSpread2({label:"group",cursor:"default",display:"block"},et?{}:{color:nt.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:rt.baseUnit*3,paddingRight:rt.baseUnit*3,textTransform:"uppercase"})},GroupHeading=function(_){var et=cleanCommonProps(_);et.data;var tt=_objectWithoutProperties(et,_excluded$1$1);return jsx("div",_extends$1({},getStyleProps(_,"groupHeading",{"group-heading":!0}),tt))},Group$1=Group,_excluded$5=["innerRef","isDisabled","isHidden","inputClassName"],inputCSS=function(_,et){var tt=_.isDisabled,nt=_.value,rt=_.theme,it=rt.spacing,st=rt.colors;return _objectSpread2(_objectSpread2({visibility:tt?"hidden":"visible",transform:nt?"translateZ(0)":""},containerStyle),et?{}:{margin:it.baseUnit/2,paddingBottom:it.baseUnit/2,paddingTop:it.baseUnit/2,color:st.neutral80})},spacingStyle={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},containerStyle={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_objectSpread2({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},spacingStyle)},inputStyle=function(_){return _objectSpread2({label:"input",color:"inherit",background:0,opacity:_?0:1,width:"100%"},spacingStyle)},Input=function(_){var et=_.cx,tt=_.value,nt=cleanCommonProps(_),rt=nt.innerRef,it=nt.isDisabled,st=nt.isHidden,ot=nt.inputClassName,at=_objectWithoutProperties(nt,_excluded$5);return jsx("div",_extends$1({},getStyleProps(_,"input",{"input-container":!0}),{"data-value":tt||""}),jsx("input",_extends$1({className:et({input:!0},ot),ref:rt,style:inputStyle(st),disabled:it},at)))},Input$1=Input,multiValueCSS=function(_,et){var tt=_.theme,nt=tt.spacing,rt=tt.borderRadius,it=tt.colors;return _objectSpread2({label:"multiValue",display:"flex",minWidth:0},et?{}:{backgroundColor:it.neutral10,borderRadius:rt/2,margin:nt.baseUnit/2})},multiValueLabelCSS=function(_,et){var tt=_.theme,nt=tt.borderRadius,rt=tt.colors,it=_.cropWithEllipsis;return _objectSpread2({overflow:"hidden",textOverflow:it||it===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},et?{}:{borderRadius:nt/2,color:rt.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemoveCSS=function(_,et){var tt=_.theme,nt=tt.spacing,rt=tt.borderRadius,it=tt.colors,st=_.isFocused;return _objectSpread2({alignItems:"center",display:"flex"},et?{}:{borderRadius:rt/2,backgroundColor:st?it.dangerLight:void 0,paddingLeft:nt.baseUnit,paddingRight:nt.baseUnit,":hover":{backgroundColor:it.dangerLight,color:it.danger}})},MultiValueGeneric=function(_){var et=_.children,tt=_.innerProps;return jsx("div",tt,et)},MultiValueContainer=MultiValueGeneric,MultiValueLabel=MultiValueGeneric;function MultiValueRemove($){var _=$.children,et=$.innerProps;return jsx("div",_extends$1({role:"button"},et),_||jsx(CrossIcon,{size:14}))}var MultiValue=function(_){var et=_.children,tt=_.components,nt=_.data,rt=_.innerProps,it=_.isDisabled,st=_.removeProps,ot=_.selectProps,at=tt.Container,lt=tt.Label,ct=tt.Remove;return jsx(at,{data:nt,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(_,"multiValue",{"multi-value":!0,"multi-value--is-disabled":it})),rt),selectProps:ot},jsx(lt,{data:nt,innerProps:_objectSpread2({},getStyleProps(_,"multiValueLabel",{"multi-value__label":!0})),selectProps:ot},et),jsx(ct,{data:nt,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(_,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(et||"option")},st),selectProps:ot}))},MultiValue$1=MultiValue,optionCSS=function(_,et){var tt=_.isDisabled,nt=_.isFocused,rt=_.isSelected,it=_.theme,st=it.spacing,ot=it.colors;return _objectSpread2({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},et?{}:{backgroundColor:rt?ot.primary:nt?ot.primary25:"transparent",color:tt?ot.neutral20:rt?ot.neutral0:"inherit",padding:"".concat(st.baseUnit*2,"px ").concat(st.baseUnit*3,"px"),":active":{backgroundColor:tt?void 0:rt?ot.primary:ot.primary50}})},Option=function(_){var et=_.children,tt=_.isDisabled,nt=_.isFocused,rt=_.isSelected,it=_.innerRef,st=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"option",{option:!0,"option--is-disabled":tt,"option--is-focused":nt,"option--is-selected":rt}),{ref:it,"aria-disabled":tt},st),et)},Option$1=Option,placeholderCSS=function(_,et){var tt=_.theme,nt=tt.spacing,rt=tt.colors;return _objectSpread2({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},et?{}:{color:rt.neutral50,marginLeft:nt.baseUnit/2,marginRight:nt.baseUnit/2})},Placeholder=function(_){var et=_.children,tt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"placeholder",{placeholder:!0}),tt),et)},Placeholder$1=Placeholder,css=function(_,et){var tt=_.isDisabled,nt=_.theme,rt=nt.spacing,it=nt.colors;return _objectSpread2({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},et?{}:{color:tt?it.neutral40:it.neutral80,marginLeft:rt.baseUnit/2,marginRight:rt.baseUnit/2})},SingleValue=function(_){var et=_.children,tt=_.isDisabled,nt=_.innerProps;return jsx("div",_extends$1({},getStyleProps(_,"singleValue",{"single-value":!0,"single-value--is-disabled":tt}),nt),et)},SingleValue$1=SingleValue,components={ClearIndicator,Control:Control$1,DropdownIndicator,DownChevron,CrossIcon,Group:Group$1,GroupHeading,IndicatorsContainer,IndicatorSeparator,Input:Input$1,LoadingIndicator,Menu:Menu$1,MenuList,MenuPortal,LoadingMessage,NoOptionsMessage,MultiValue:MultiValue$1,MultiValueContainer,MultiValueLabel,MultiValueRemove,Option:Option$1,Placeholder:Placeholder$1,SelectContainer,SingleValue:SingleValue$1,ValueContainer},defaultComponents=function(_){return _objectSpread2(_objectSpread2({},components),_.components)},safeIsNaN=Number.isNaN||function(_){return typeof _=="number"&&_!==_};function isEqual($,_){return!!($===_||safeIsNaN($)&&safeIsNaN(_))}function areInputsEqual($,_){if($.length!==_.length)return!1;for(var et=0;et<$.length;et++)if(!isEqual($[et],_[et]))return!1;return!0}function memoizeOne($,_){_===void 0&&(_=areInputsEqual);var et=null;function tt(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];if(et&&et.lastThis===this&&_(nt,et.lastArgs))return et.lastResult;var it=$.apply(this,nt);return et={lastResult:it,lastArgs:nt,lastThis:this},it}return tt.clear=function(){et=null},tt}var _ref={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},A11yText=function(_){return jsx("span",_extends$1({css:_ref},_))},A11yText$1=A11yText,defaultAriaLiveMessages={guidance:function(_){var et=_.isSearchable,tt=_.isMulti,nt=_.isDisabled,rt=_.tabSelectsValue,it=_.context;switch(it){case"menu":return"Use Up and Down to choose options".concat(nt?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(rt?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(_["aria-label"]||"Select"," is focused ").concat(et?",type to refine list":"",", press Down to open the menu, ").concat(tt?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(_){var et=_.action,tt=_.label,nt=tt===void 0?"":tt,rt=_.labels,it=_.isDisabled;switch(et){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(nt,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(rt.length>1?"s":""," ").concat(rt.join(","),", selected.");case"select-option":return it?"option ".concat(nt," is disabled. Select another option."):"option ".concat(nt,", selected.");default:return""}},onFocus:function(_){var et=_.context,tt=_.focused,nt=_.options,rt=_.label,it=rt===void 0?"":rt,st=_.selectValue,ot=_.isDisabled,at=_.isSelected,lt=function(pt,ut){return pt&&pt.length?"".concat(pt.indexOf(ut)+1," of ").concat(pt.length):""};if(et==="value"&&st)return"value ".concat(it," focused, ").concat(lt(st,tt),".");if(et==="menu"){var ct=ot?" disabled":"",dt="".concat(at?"selected":"focused").concat(ct);return"option ".concat(it," ").concat(dt,", ").concat(lt(nt,tt),".")}return""},onFilter:function(_){var et=_.inputValue,tt=_.resultsMessage;return"".concat(tt).concat(et?" for search term "+et:"",".")}},LiveRegion=function(_){var et=_.ariaSelection,tt=_.focusedOption,nt=_.focusedValue,rt=_.focusableOptions,it=_.isFocused,st=_.selectValue,ot=_.selectProps,at=_.id,lt=ot.ariaLiveMessages,ct=ot.getOptionLabel,dt=ot.inputValue,_t=ot.isMulti,pt=ot.isOptionDisabled,ut=ot.isSearchable,mt=ot.menuIsOpen,ft=ot.options,gt=ot.screenReaderStatus,vt=ot.tabSelectsValue,bt=ot["aria-label"],Et=ot["aria-live"],xt=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},defaultAriaLiveMessages),lt||{})},[lt]),kt=reactExports.useMemo(function(){var Nt="";if(et&&xt.onChange){var Xt=et.option,rn=et.options,wn=et.removedValue,Wt=et.removedValues,fn=et.value,Tn=function(Dt){return Array.isArray(Dt)?null:Dt},Fn=wn||Xt||Tn(fn),Mn=Fn?ct(Fn):"",Ut=rn||Wt||void 0,St=Ut?Ut.map(ct):[],It=_objectSpread2({isDisabled:Fn&&pt(Fn,st),label:Mn,labels:St},et);Nt=xt.onChange(It)}return Nt},[et,xt,pt,st,ct]),Ct=reactExports.useMemo(function(){var Nt="",Xt=tt||nt,rn=!!(tt&&st&&st.includes(tt));if(Xt&&xt.onFocus){var wn={focused:Xt,label:ct(Xt),isDisabled:pt(Xt,st),isSelected:rn,options:rt,context:Xt===tt?"menu":"value",selectValue:st};Nt=xt.onFocus(wn)}return Nt},[tt,nt,ct,pt,xt,rt,st]),At=reactExports.useMemo(function(){var Nt="";if(mt&&ft.length&&xt.onFilter){var Xt=gt({count:rt.length});Nt=xt.onFilter({inputValue:dt,resultsMessage:Xt})}return Nt},[rt,dt,mt,xt,ft,gt]),Lt=reactExports.useMemo(function(){var Nt="";if(xt.guidance){var Xt=nt?"value":mt?"menu":"input";Nt=xt.guidance({"aria-label":bt,context:Xt,isDisabled:tt&&pt(tt,st),isMulti:_t,isSearchable:ut,tabSelectsValue:vt})}return Nt},[bt,tt,nt,_t,pt,ut,mt,xt,st,vt]),Mt="".concat(Ct," ").concat(At," ").concat(Lt),Ht=jsx(reactExports.Fragment,null,jsx("span",{id:"aria-selection"},kt),jsx("span",{id:"aria-context"},Mt)),zt=(et==null?void 0:et.action)==="initial-input-focus";return jsx(reactExports.Fragment,null,jsx(A11yText$1,{id:at},zt&&Ht),jsx(A11yText$1,{"aria-live":Et,"aria-atomic":"false","aria-relevant":"additions text"},it&&!zt&&Ht))},LiveRegion$1=LiveRegion,diacritics=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],anyDiacritic=new RegExp("["+diacritics.map(function($){return $.letters}).join("")+"]","g"),diacriticToBase={};for(var i$2=0;i$2<diacritics.length;i$2++)for(var diacritic=diacritics[i$2],j=0;j<diacritic.letters.length;j++)diacriticToBase[diacritic.letters[j]]=diacritic.base;var stripDiacritics=function(_){return _.replace(anyDiacritic,function(et){return diacriticToBase[et]})},memoizedStripDiacriticsForInput=memoizeOne(stripDiacritics),trimString=function(_){return _.replace(/^\s+|\s+$/g,"")},defaultStringify=function(_){return"".concat(_.label," ").concat(_.value)},createFilter=function(_){return function(et,tt){if(et.data.__isNew__)return!0;var nt=_objectSpread2({ignoreCase:!0,ignoreAccents:!0,stringify:defaultStringify,trim:!0,matchFrom:"any"},_),rt=nt.ignoreCase,it=nt.ignoreAccents,st=nt.stringify,ot=nt.trim,at=nt.matchFrom,lt=ot?trimString(tt):tt,ct=ot?trimString(st(et)):st(et);return rt&&(lt=lt.toLowerCase(),ct=ct.toLowerCase()),it&&(lt=memoizedStripDiacriticsForInput(lt),ct=stripDiacritics(ct)),at==="start"?ct.substr(0,lt.length)===lt:ct.indexOf(lt)>-1}},_excluded$2=["innerRef"];function DummyInput($){var _=$.innerRef,et=_objectWithoutProperties($,_excluded$2),tt=removeProps(et,"onExited","in","enter","exit","appear");return jsx("input",_extends$1({ref:_},tt,{css:css$2({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cancelScroll=function(_){_.cancelable&&_.preventDefault(),_.stopPropagation()};function useScrollCapture($){var _=$.isEnabled,et=$.onBottomArrive,tt=$.onBottomLeave,nt=$.onTopArrive,rt=$.onTopLeave,it=reactExports.useRef(!1),st=reactExports.useRef(!1),ot=reactExports.useRef(0),at=reactExports.useRef(null),lt=reactExports.useCallback(function(mt,ft){if(at.current!==null){var gt=at.current,vt=gt.scrollTop,bt=gt.scrollHeight,Et=gt.clientHeight,xt=at.current,kt=ft>0,Ct=bt-Et-vt,At=!1;Ct>ft&&it.current&&(tt&&tt(mt),it.current=!1),kt&&st.current&&(rt&&rt(mt),st.current=!1),kt&&ft>Ct?(et&&!it.current&&et(mt),xt.scrollTop=bt,At=!0,it.current=!0):!kt&&-ft>vt&&(nt&&!st.current&&nt(mt),xt.scrollTop=0,At=!0,st.current=!0),At&&cancelScroll(mt)}},[et,tt,nt,rt]),ct=reactExports.useCallback(function(mt){lt(mt,mt.deltaY)},[lt]),dt=reactExports.useCallback(function(mt){ot.current=mt.changedTouches[0].clientY},[]),_t=reactExports.useCallback(function(mt){var ft=ot.current-mt.changedTouches[0].clientY;lt(mt,ft)},[lt]),pt=reactExports.useCallback(function(mt){if(mt){var ft=supportsPassiveEvents?{passive:!1}:!1;mt.addEventListener("wheel",ct,ft),mt.addEventListener("touchstart",dt,ft),mt.addEventListener("touchmove",_t,ft)}},[_t,dt,ct]),ut=reactExports.useCallback(function(mt){mt&&(mt.removeEventListener("wheel",ct,!1),mt.removeEventListener("touchstart",dt,!1),mt.removeEventListener("touchmove",_t,!1))},[_t,dt,ct]);return reactExports.useEffect(function(){if(_){var mt=at.current;return pt(mt),function(){ut(mt)}}},[_,pt,ut]),function(mt){at.current=mt}}var STYLE_KEYS=["boxSizing","height","overflow","paddingRight","position"],LOCK_STYLES={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove($){$.preventDefault()}function allowTouchMove($){$.stopPropagation()}function preventInertiaScroll(){var $=this.scrollTop,_=this.scrollHeight,et=$+this.offsetHeight;$===0?this.scrollTop=1:et===_&&(this.scrollTop=$-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),activeScrollLocks=0,listenerOptions={capture:!1,passive:!1};function useScrollLock($){var _=$.isEnabled,et=$.accountForScrollbars,tt=et===void 0?!0:et,nt=reactExports.useRef({}),rt=reactExports.useRef(null),it=reactExports.useCallback(function(ot){if(canUseDOM){var at=document.body,lt=at&&at.style;if(tt&&STYLE_KEYS.forEach(function(pt){var ut=lt&&lt[pt];nt.current[pt]=ut}),tt&&activeScrollLocks<1){var ct=parseInt(nt.current.paddingRight,10)||0,dt=document.body?document.body.clientWidth:0,_t=window.innerWidth-dt+ct||0;Object.keys(LOCK_STYLES).forEach(function(pt){var ut=LOCK_STYLES[pt];lt&&(lt[pt]=ut)}),lt&&(lt.paddingRight="".concat(_t,"px"))}at&&isTouchDevice()&&(at.addEventListener("touchmove",preventTouchMove,listenerOptions),ot&&(ot.addEventListener("touchstart",preventInertiaScroll,listenerOptions),ot.addEventListener("touchmove",allowTouchMove,listenerOptions))),activeScrollLocks+=1}},[tt]),st=reactExports.useCallback(function(ot){if(canUseDOM){var at=document.body,lt=at&&at.style;activeScrollLocks=Math.max(activeScrollLocks-1,0),tt&&activeScrollLocks<1&&STYLE_KEYS.forEach(function(ct){var dt=nt.current[ct];lt&&(lt[ct]=dt)}),at&&isTouchDevice()&&(at.removeEventListener("touchmove",preventTouchMove,listenerOptions),ot&&(ot.removeEventListener("touchstart",preventInertiaScroll,listenerOptions),ot.removeEventListener("touchmove",allowTouchMove,listenerOptions)))}},[tt]);return reactExports.useEffect(function(){if(_){var ot=rt.current;return it(ot),function(){st(ot)}}},[_,it,st]),function(ot){rt.current=ot}}var blurSelectInput=function(_){var et=_.target;return et.ownerDocument.activeElement&&et.ownerDocument.activeElement.blur()},_ref2$1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ScrollManager($){var _=$.children,et=$.lockEnabled,tt=$.captureEnabled,nt=tt===void 0?!0:tt,rt=$.onBottomArrive,it=$.onBottomLeave,st=$.onTopArrive,ot=$.onTopLeave,at=useScrollCapture({isEnabled:nt,onBottomArrive:rt,onBottomLeave:it,onTopArrive:st,onTopLeave:ot}),lt=useScrollLock({isEnabled:et}),ct=function(_t){at(_t),lt(_t)};return jsx(reactExports.Fragment,null,et&&jsx("div",{onClick:blurSelectInput,css:_ref2$1}),_(ct))}var _ref2={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},RequiredInput=function(_){var et=_.name,tt=_.onFocus;return jsx("input",{required:!0,name:et,tabIndex:-1,"aria-hidden":"true",onFocus:tt,css:_ref2,value:"",onChange:function(){}})},RequiredInput$1=RequiredInput,formatGroupLabel=function(_){return _.label},getOptionLabel$1=function(_){return _.label},getOptionValue$1=function(_){return _.value},isOptionDisabled=function(_){return!!_.isDisabled},defaultStyles={clearIndicator:clearIndicatorCSS,container:containerCSS,control:css$1,dropdownIndicator:dropdownIndicatorCSS,group:groupCSS,groupHeading:groupHeadingCSS,indicatorsContainer:indicatorsContainerCSS,indicatorSeparator:indicatorSeparatorCSS,input:inputCSS,loadingIndicator:loadingIndicatorCSS,loadingMessage:loadingMessageCSS,menu:menuCSS,menuList:menuListCSS,menuPortal:menuPortalCSS,multiValue:multiValueCSS,multiValueLabel:multiValueLabelCSS,multiValueRemove:multiValueRemoveCSS,noOptionsMessage:noOptionsMessageCSS,option:optionCSS,placeholder:placeholderCSS,singleValue:css,valueContainer:valueContainerCSS},colors={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},borderRadius=4,baseUnit=4,controlHeight=38,menuGutter=baseUnit*2,spacing={baseUnit,controlHeight,menuGutter},defaultTheme={borderRadius,colors,spacing},defaultProps={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:createFilter(),formatGroupLabel,getOptionLabel:getOptionLabel$1,getOptionValue:getOptionValue$1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!isMobileDevice(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(_){var et=_.count;return"".concat(et," result").concat(et!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function toCategorizedOption($,_,et,tt){var nt=_isOptionDisabled($,_,et),rt=_isOptionSelected($,_,et),it=getOptionLabel($,_),st=getOptionValue($,_);return{type:"option",data:_,isDisabled:nt,isSelected:rt,label:it,value:st,index:tt}}function buildCategorizedOptions($,_){return $.options.map(function(et,tt){if("options"in et){var nt=et.options.map(function(it,st){return toCategorizedOption($,it,_,st)}).filter(function(it){return isFocusable($,it)});return nt.length>0?{type:"group",data:et,options:nt,index:tt}:void 0}var rt=toCategorizedOption($,et,_,tt);return isFocusable($,rt)?rt:void 0}).filter(notNullish)}function buildFocusableOptionsFromCategorizedOptions($){return $.reduce(function(_,et){return et.type==="group"?_.push.apply(_,_toConsumableArray(et.options.map(function(tt){return tt.data}))):_.push(et.data),_},[])}function buildFocusableOptions($,_){return buildFocusableOptionsFromCategorizedOptions(buildCategorizedOptions($,_))}function isFocusable($,_){var et=$.inputValue,tt=et===void 0?"":et,nt=_.data,rt=_.isSelected,it=_.label,st=_.value;return(!shouldHideSelectedOptions($)||!rt)&&_filterOption($,{label:it,value:st,data:nt},tt)}function getNextFocusedValue($,_){var et=$.focusedValue,tt=$.selectValue,nt=tt.indexOf(et);if(nt>-1){var rt=_.indexOf(et);if(rt>-1)return et;if(nt<_.length)return _[nt]}return null}function getNextFocusedOption($,_){var et=$.focusedOption;return et&&_.indexOf(et)>-1?et:_[0]}var getOptionLabel=function(_,et){return _.getOptionLabel(et)},getOptionValue=function(_,et){return _.getOptionValue(et)};function _isOptionDisabled($,_,et){return typeof $.isOptionDisabled=="function"?$.isOptionDisabled(_,et):!1}function _isOptionSelected($,_,et){if(et.indexOf(_)>-1)return!0;if(typeof $.isOptionSelected=="function")return $.isOptionSelected(_,et);var tt=getOptionValue($,_);return et.some(function(nt){return getOptionValue($,nt)===tt})}function _filterOption($,_,et){return $.filterOption?$.filterOption(_,et):!0}var shouldHideSelectedOptions=function(_){var et=_.hideSelectedOptions,tt=_.isMulti;return et===void 0?tt:et},instanceId=1,Select=function($){_inherits(et,$);var _=_createSuper(et);function et(tt){var nt;if(_classCallCheck(this,et),nt=_.call(this,tt),nt.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},nt.blockOptionHover=!1,nt.isComposing=!1,nt.commonProps=void 0,nt.initialTouchX=0,nt.initialTouchY=0,nt.instancePrefix="",nt.openAfterFocus=!1,nt.scrollToFocusedOptionOnUpdate=!1,nt.userIsDragging=void 0,nt.controlRef=null,nt.getControlRef=function(st){nt.controlRef=st},nt.focusedOptionRef=null,nt.getFocusedOptionRef=function(st){nt.focusedOptionRef=st},nt.menuListRef=null,nt.getMenuListRef=function(st){nt.menuListRef=st},nt.inputRef=null,nt.getInputRef=function(st){nt.inputRef=st},nt.focus=nt.focusInput,nt.blur=nt.blurInput,nt.onChange=function(st,ot){var at=nt.props,lt=at.onChange,ct=at.name;ot.name=ct,nt.ariaOnChange(st,ot),lt(st,ot)},nt.setValue=function(st,ot,at){var lt=nt.props,ct=lt.closeMenuOnSelect,dt=lt.isMulti,_t=lt.inputValue;nt.onInputChange("",{action:"set-value",prevInputValue:_t}),ct&&(nt.setState({inputIsHiddenAfterUpdate:!dt}),nt.onMenuClose()),nt.setState({clearFocusValueOnUpdate:!0}),nt.onChange(st,{action:ot,option:at})},nt.selectOption=function(st){var ot=nt.props,at=ot.blurInputOnSelect,lt=ot.isMulti,ct=ot.name,dt=nt.state.selectValue,_t=lt&&nt.isOptionSelected(st,dt),pt=nt.isOptionDisabled(st,dt);if(_t){var ut=nt.getOptionValue(st);nt.setValue(dt.filter(function(mt){return nt.getOptionValue(mt)!==ut}),"deselect-option",st)}else if(!pt)lt?nt.setValue([].concat(_toConsumableArray(dt),[st]),"select-option",st):nt.setValue(st,"select-option");else{nt.ariaOnChange(st,{action:"select-option",option:st,name:ct});return}at&&nt.blurInput()},nt.removeValue=function(st){var ot=nt.props.isMulti,at=nt.state.selectValue,lt=nt.getOptionValue(st),ct=at.filter(function(_t){return nt.getOptionValue(_t)!==lt}),dt=valueTernary(ot,ct,ct[0]||null);nt.onChange(dt,{action:"remove-value",removedValue:st}),nt.focusInput()},nt.clearValue=function(){var st=nt.state.selectValue;nt.onChange(valueTernary(nt.props.isMulti,[],null),{action:"clear",removedValues:st})},nt.popValue=function(){var st=nt.props.isMulti,ot=nt.state.selectValue,at=ot[ot.length-1],lt=ot.slice(0,ot.length-1),ct=valueTernary(st,lt,lt[0]||null);nt.onChange(ct,{action:"pop-value",removedValue:at})},nt.getValue=function(){return nt.state.selectValue},nt.cx=function(){for(var st=arguments.length,ot=new Array(st),at=0;at<st;at++)ot[at]=arguments[at];return classNames.apply(void 0,[nt.props.classNamePrefix].concat(ot))},nt.getOptionLabel=function(st){return getOptionLabel(nt.props,st)},nt.getOptionValue=function(st){return getOptionValue(nt.props,st)},nt.getStyles=function(st,ot){var at=nt.props.unstyled,lt=defaultStyles[st](ot,at);lt.boxSizing="border-box";var ct=nt.props.styles[st];return ct?ct(lt,ot):lt},nt.getClassNames=function(st,ot){var at,lt;return(at=(lt=nt.props.classNames)[st])===null||at===void 0?void 0:at.call(lt,ot)},nt.getElementId=function(st){return"".concat(nt.instancePrefix,"-").concat(st)},nt.getComponents=function(){return defaultComponents(nt.props)},nt.buildCategorizedOptions=function(){return buildCategorizedOptions(nt.props,nt.state.selectValue)},nt.getCategorizedOptions=function(){return nt.props.menuIsOpen?nt.buildCategorizedOptions():[]},nt.buildFocusableOptions=function(){return buildFocusableOptionsFromCategorizedOptions(nt.buildCategorizedOptions())},nt.getFocusableOptions=function(){return nt.props.menuIsOpen?nt.buildFocusableOptions():[]},nt.ariaOnChange=function(st,ot){nt.setState({ariaSelection:_objectSpread2({value:st},ot)})},nt.onMenuMouseDown=function(st){st.button===0&&(st.stopPropagation(),st.preventDefault(),nt.focusInput())},nt.onMenuMouseMove=function(st){nt.blockOptionHover=!1},nt.onControlMouseDown=function(st){if(!st.defaultPrevented){var ot=nt.props.openMenuOnClick;nt.state.isFocused?nt.props.menuIsOpen?st.target.tagName!=="INPUT"&&st.target.tagName!=="TEXTAREA"&&nt.onMenuClose():ot&&nt.openMenu("first"):(ot&&(nt.openAfterFocus=!0),nt.focusInput()),st.target.tagName!=="INPUT"&&st.target.tagName!=="TEXTAREA"&&st.preventDefault()}},nt.onDropdownIndicatorMouseDown=function(st){if(!(st&&st.type==="mousedown"&&st.button!==0)&&!nt.props.isDisabled){var ot=nt.props,at=ot.isMulti,lt=ot.menuIsOpen;nt.focusInput(),lt?(nt.setState({inputIsHiddenAfterUpdate:!at}),nt.onMenuClose()):nt.openMenu("first"),st.preventDefault()}},nt.onClearIndicatorMouseDown=function(st){st&&st.type==="mousedown"&&st.button!==0||(nt.clearValue(),st.preventDefault(),nt.openAfterFocus=!1,st.type==="touchend"?nt.focusInput():setTimeout(function(){return nt.focusInput()}))},nt.onScroll=function(st){typeof nt.props.closeMenuOnScroll=="boolean"?st.target instanceof HTMLElement&&isDocumentElement(st.target)&&nt.props.onMenuClose():typeof nt.props.closeMenuOnScroll=="function"&&nt.props.closeMenuOnScroll(st)&&nt.props.onMenuClose()},nt.onCompositionStart=function(){nt.isComposing=!0},nt.onCompositionEnd=function(){nt.isComposing=!1},nt.onTouchStart=function(st){var ot=st.touches,at=ot&&ot.item(0);at&&(nt.initialTouchX=at.clientX,nt.initialTouchY=at.clientY,nt.userIsDragging=!1)},nt.onTouchMove=function(st){var ot=st.touches,at=ot&&ot.item(0);if(at){var lt=Math.abs(at.clientX-nt.initialTouchX),ct=Math.abs(at.clientY-nt.initialTouchY),dt=5;nt.userIsDragging=lt>dt||ct>dt}},nt.onTouchEnd=function(st){nt.userIsDragging||(nt.controlRef&&!nt.controlRef.contains(st.target)&&nt.menuListRef&&!nt.menuListRef.contains(st.target)&&nt.blurInput(),nt.initialTouchX=0,nt.initialTouchY=0)},nt.onControlTouchEnd=function(st){nt.userIsDragging||nt.onControlMouseDown(st)},nt.onClearIndicatorTouchEnd=function(st){nt.userIsDragging||nt.onClearIndicatorMouseDown(st)},nt.onDropdownIndicatorTouchEnd=function(st){nt.userIsDragging||nt.onDropdownIndicatorMouseDown(st)},nt.handleInputChange=function(st){var ot=nt.props.inputValue,at=st.currentTarget.value;nt.setState({inputIsHiddenAfterUpdate:!1}),nt.onInputChange(at,{action:"input-change",prevInputValue:ot}),nt.props.menuIsOpen||nt.onMenuOpen()},nt.onInputFocus=function(st){nt.props.onFocus&&nt.props.onFocus(st),nt.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(nt.openAfterFocus||nt.props.openMenuOnFocus)&&nt.openMenu("first"),nt.openAfterFocus=!1},nt.onInputBlur=function(st){var ot=nt.props.inputValue;if(nt.menuListRef&&nt.menuListRef.contains(document.activeElement)){nt.inputRef.focus();return}nt.props.onBlur&&nt.props.onBlur(st),nt.onInputChange("",{action:"input-blur",prevInputValue:ot}),nt.onMenuClose(),nt.setState({focusedValue:null,isFocused:!1})},nt.onOptionHover=function(st){nt.blockOptionHover||nt.state.focusedOption===st||nt.setState({focusedOption:st})},nt.shouldHideSelectedOptions=function(){return shouldHideSelectedOptions(nt.props)},nt.onValueInputFocus=function(st){st.preventDefault(),st.stopPropagation(),nt.focus()},nt.onKeyDown=function(st){var ot=nt.props,at=ot.isMulti,lt=ot.backspaceRemovesValue,ct=ot.escapeClearsValue,dt=ot.inputValue,_t=ot.isClearable,pt=ot.isDisabled,ut=ot.menuIsOpen,mt=ot.onKeyDown,ft=ot.tabSelectsValue,gt=ot.openMenuOnFocus,vt=nt.state,bt=vt.focusedOption,Et=vt.focusedValue,xt=vt.selectValue;if(!pt&&!(typeof mt=="function"&&(mt(st),st.defaultPrevented))){switch(nt.blockOptionHover=!0,st.key){case"ArrowLeft":if(!at||dt)return;nt.focusValue("previous");break;case"ArrowRight":if(!at||dt)return;nt.focusValue("next");break;case"Delete":case"Backspace":if(dt)return;if(Et)nt.removeValue(Et);else{if(!lt)return;at?nt.popValue():_t&&nt.clearValue()}break;case"Tab":if(nt.isComposing||st.shiftKey||!ut||!ft||!bt||gt&&nt.isOptionSelected(bt,xt))return;nt.selectOption(bt);break;case"Enter":if(st.keyCode===229)break;if(ut){if(!bt||nt.isComposing)return;nt.selectOption(bt);break}return;case"Escape":ut?(nt.setState({inputIsHiddenAfterUpdate:!1}),nt.onInputChange("",{action:"menu-close",prevInputValue:dt}),nt.onMenuClose()):_t&&ct&&nt.clearValue();break;case" ":if(dt)return;if(!ut){nt.openMenu("first");break}if(!bt)return;nt.selectOption(bt);break;case"ArrowUp":ut?nt.focusOption("up"):nt.openMenu("last");break;case"ArrowDown":ut?nt.focusOption("down"):nt.openMenu("first");break;case"PageUp":if(!ut)return;nt.focusOption("pageup");break;case"PageDown":if(!ut)return;nt.focusOption("pagedown");break;case"Home":if(!ut)return;nt.focusOption("first");break;case"End":if(!ut)return;nt.focusOption("last");break;default:return}st.preventDefault()}},nt.instancePrefix="react-select-"+(nt.props.instanceId||++instanceId),nt.state.selectValue=cleanValue(tt.value),tt.menuIsOpen&&nt.state.selectValue.length){var rt=nt.buildFocusableOptions(),it=rt.indexOf(nt.state.selectValue[0]);nt.state.focusedOption=rt[it]}return nt}return _createClass$1(et,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&scrollIntoView(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(nt){var rt=this.props,it=rt.isDisabled,st=rt.menuIsOpen,ot=this.state.isFocused;(ot&&!it&&nt.isDisabled||ot&&st&&!nt.menuIsOpen)&&this.focusInput(),ot&&it&&!nt.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!ot&&!it&&nt.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(scrollIntoView(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(nt,rt){this.props.onInputChange(nt,rt)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(nt){var rt=this,it=this.state,st=it.selectValue,ot=it.isFocused,at=this.buildFocusableOptions(),lt=nt==="first"?0:at.length-1;if(!this.props.isMulti){var ct=at.indexOf(st[0]);ct>-1&&(lt=ct)}this.scrollToFocusedOptionOnUpdate=!(ot&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:at[lt]},function(){return rt.onMenuOpen()})}},{key:"focusValue",value:function(nt){var rt=this.state,it=rt.selectValue,st=rt.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var ot=it.indexOf(st);st||(ot=-1);var at=it.length-1,lt=-1;if(it.length){switch(nt){case"previous":ot===0?lt=0:ot===-1?lt=at:lt=ot-1;break;case"next":ot>-1&&ot<at&&(lt=ot+1);break}this.setState({inputIsHidden:lt!==-1,focusedValue:it[lt]})}}}},{key:"focusOption",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",rt=this.props.pageSize,it=this.state.focusedOption,st=this.getFocusableOptions();if(st.length){var ot=0,at=st.indexOf(it);it||(at=-1),nt==="up"?ot=at>0?at-1:st.length-1:nt==="down"?ot=(at+1)%st.length:nt==="pageup"?(ot=at-rt,ot<0&&(ot=0)):nt==="pagedown"?(ot=at+rt,ot>st.length-1&&(ot=st.length-1)):nt==="last"&&(ot=st.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:st[ot],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(defaultTheme):_objectSpread2(_objectSpread2({},defaultTheme),this.props.theme):defaultTheme}},{key:"getCommonProps",value:function(){var nt=this.clearValue,rt=this.cx,it=this.getStyles,st=this.getClassNames,ot=this.getValue,at=this.selectOption,lt=this.setValue,ct=this.props,dt=ct.isMulti,_t=ct.isRtl,pt=ct.options,ut=this.hasValue();return{clearValue:nt,cx:rt,getStyles:it,getClassNames:st,getValue:ot,hasValue:ut,isMulti:dt,isRtl:_t,options:pt,selectOption:at,selectProps:ct,setValue:lt,theme:this.getTheme()}}},{key:"hasValue",value:function(){var nt=this.state.selectValue;return nt.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var nt=this.props,rt=nt.isClearable,it=nt.isMulti;return rt===void 0?it:rt}},{key:"isOptionDisabled",value:function(nt,rt){return _isOptionDisabled(this.props,nt,rt)}},{key:"isOptionSelected",value:function(nt,rt){return _isOptionSelected(this.props,nt,rt)}},{key:"filterOption",value:function(nt,rt){return _filterOption(this.props,nt,rt)}},{key:"formatOptionLabel",value:function(nt,rt){if(typeof this.props.formatOptionLabel=="function"){var it=this.props.inputValue,st=this.state.selectValue;return this.props.formatOptionLabel(nt,{context:rt,inputValue:it,selectValue:st})}else return this.getOptionLabel(nt)}},{key:"formatGroupLabel",value:function(nt){return this.props.formatGroupLabel(nt)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var nt=this.props,rt=nt.isDisabled,it=nt.isSearchable,st=nt.inputId,ot=nt.inputValue,at=nt.tabIndex,lt=nt.form,ct=nt.menuIsOpen,dt=nt.required,_t=this.getComponents(),pt=_t.Input,ut=this.state,mt=ut.inputIsHidden,ft=ut.ariaSelection,gt=this.commonProps,vt=st||this.getElementId("input"),bt=_objectSpread2(_objectSpread2(_objectSpread2({"aria-autocomplete":"list","aria-expanded":ct,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":dt,role:"combobox"},ct&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!it&&{"aria-readonly":!0}),this.hasValue()?(ft==null?void 0:ft.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return it?reactExports.createElement(pt,_extends$1({},gt,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:vt,innerRef:this.getInputRef,isDisabled:rt,isHidden:mt,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:at,form:lt,type:"text",value:ot},bt)):reactExports.createElement(DummyInput,_extends$1({id:vt,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:noop$2,onFocus:this.onInputFocus,disabled:rt,tabIndex:at,inputMode:"none",form:lt,value:""},bt))}},{key:"renderPlaceholderOrValue",value:function(){var nt=this,rt=this.getComponents(),it=rt.MultiValue,st=rt.MultiValueContainer,ot=rt.MultiValueLabel,at=rt.MultiValueRemove,lt=rt.SingleValue,ct=rt.Placeholder,dt=this.commonProps,_t=this.props,pt=_t.controlShouldRenderValue,ut=_t.isDisabled,mt=_t.isMulti,ft=_t.inputValue,gt=_t.placeholder,vt=this.state,bt=vt.selectValue,Et=vt.focusedValue,xt=vt.isFocused;if(!this.hasValue()||!pt)return ft?null:reactExports.createElement(ct,_extends$1({},dt,{key:"placeholder",isDisabled:ut,isFocused:xt,innerProps:{id:this.getElementId("placeholder")}}),gt);if(mt)return bt.map(function(Ct,At){var Lt=Ct===Et,Mt="".concat(nt.getOptionLabel(Ct),"-").concat(nt.getOptionValue(Ct));return reactExports.createElement(it,_extends$1({},dt,{components:{Container:st,Label:ot,Remove:at},isFocused:Lt,isDisabled:ut,key:Mt,index:At,removeProps:{onClick:function(){return nt.removeValue(Ct)},onTouchEnd:function(){return nt.removeValue(Ct)},onMouseDown:function(zt){zt.preventDefault()}},data:Ct}),nt.formatOptionLabel(Ct,"value"))});if(ft)return null;var kt=bt[0];return reactExports.createElement(lt,_extends$1({},dt,{data:kt,isDisabled:ut}),this.formatOptionLabel(kt,"value"))}},{key:"renderClearIndicator",value:function(){var nt=this.getComponents(),rt=nt.ClearIndicator,it=this.commonProps,st=this.props,ot=st.isDisabled,at=st.isLoading,lt=this.state.isFocused;if(!this.isClearable()||!rt||ot||!this.hasValue()||at)return null;var ct={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(rt,_extends$1({},it,{innerProps:ct,isFocused:lt}))}},{key:"renderLoadingIndicator",value:function(){var nt=this.getComponents(),rt=nt.LoadingIndicator,it=this.commonProps,st=this.props,ot=st.isDisabled,at=st.isLoading,lt=this.state.isFocused;if(!rt||!at)return null;var ct={"aria-hidden":"true"};return reactExports.createElement(rt,_extends$1({},it,{innerProps:ct,isDisabled:ot,isFocused:lt}))}},{key:"renderIndicatorSeparator",value:function(){var nt=this.getComponents(),rt=nt.DropdownIndicator,it=nt.IndicatorSeparator;if(!rt||!it)return null;var st=this.commonProps,ot=this.props.isDisabled,at=this.state.isFocused;return reactExports.createElement(it,_extends$1({},st,{isDisabled:ot,isFocused:at}))}},{key:"renderDropdownIndicator",value:function(){var nt=this.getComponents(),rt=nt.DropdownIndicator;if(!rt)return null;var it=this.commonProps,st=this.props.isDisabled,ot=this.state.isFocused,at={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(rt,_extends$1({},it,{innerProps:at,isDisabled:st,isFocused:ot}))}},{key:"renderMenu",value:function(){var nt=this,rt=this.getComponents(),it=rt.Group,st=rt.GroupHeading,ot=rt.Menu,at=rt.MenuList,lt=rt.MenuPortal,ct=rt.LoadingMessage,dt=rt.NoOptionsMessage,_t=rt.Option,pt=this.commonProps,ut=this.state.focusedOption,mt=this.props,ft=mt.captureMenuScroll,gt=mt.inputValue,vt=mt.isLoading,bt=mt.loadingMessage,Et=mt.minMenuHeight,xt=mt.maxMenuHeight,kt=mt.menuIsOpen,Ct=mt.menuPlacement,At=mt.menuPosition,Lt=mt.menuPortalTarget,Mt=mt.menuShouldBlockScroll,Ht=mt.menuShouldScrollIntoView,zt=mt.noOptionsMessage,Nt=mt.onMenuScrollToTop,Xt=mt.onMenuScrollToBottom;if(!kt)return null;var rn=function(Ut,St){var It=Ut.type,Tt=Ut.data,Dt=Ut.isDisabled,Ot=Ut.isSelected,jt=Ut.label,qt=Ut.value,Zt=ut===Tt,bn=Dt?void 0:function(){return nt.onOptionHover(Tt)},En=Dt?void 0:function(){return nt.selectOption(Tt)},In="".concat(nt.getElementId("option"),"-").concat(St),$n={id:In,onClick:En,onMouseMove:bn,onMouseOver:bn,tabIndex:-1};return reactExports.createElement(_t,_extends$1({},pt,{innerProps:$n,data:Tt,isDisabled:Dt,isSelected:Ot,key:In,label:jt,type:It,value:qt,isFocused:Zt,innerRef:Zt?nt.getFocusedOptionRef:void 0}),nt.formatOptionLabel(Ut.data,"menu"))},wn;if(this.hasOptions())wn=this.getCategorizedOptions().map(function(Mn){if(Mn.type==="group"){var Ut=Mn.data,St=Mn.options,It=Mn.index,Tt="".concat(nt.getElementId("group"),"-").concat(It),Dt="".concat(Tt,"-heading");return reactExports.createElement(it,_extends$1({},pt,{key:Tt,data:Ut,options:St,Heading:st,headingProps:{id:Dt,data:Mn.data},label:nt.formatGroupLabel(Mn.data)}),Mn.options.map(function(Ot){return rn(Ot,"".concat(It,"-").concat(Ot.index))}))}else if(Mn.type==="option")return rn(Mn,"".concat(Mn.index))});else if(vt){var Wt=bt({inputValue:gt});if(Wt===null)return null;wn=reactExports.createElement(ct,pt,Wt)}else{var fn=zt({inputValue:gt});if(fn===null)return null;wn=reactExports.createElement(dt,pt,fn)}var Tn={minMenuHeight:Et,maxMenuHeight:xt,menuPlacement:Ct,menuPosition:At,menuShouldScrollIntoView:Ht},Fn=reactExports.createElement(MenuPlacer,_extends$1({},pt,Tn),function(Mn){var Ut=Mn.ref,St=Mn.placerProps,It=St.placement,Tt=St.maxHeight;return reactExports.createElement(ot,_extends$1({},pt,Tn,{innerRef:Ut,innerProps:{onMouseDown:nt.onMenuMouseDown,onMouseMove:nt.onMenuMouseMove,id:nt.getElementId("listbox")},isLoading:vt,placement:It}),reactExports.createElement(ScrollManager,{captureEnabled:ft,onTopArrive:Nt,onBottomArrive:Xt,lockEnabled:Mt},function(Dt){return reactExports.createElement(at,_extends$1({},pt,{innerRef:function(jt){nt.getMenuListRef(jt),Dt(jt)},isLoading:vt,maxHeight:Tt,focusedOption:ut}),wn)}))});return Lt||At==="fixed"?reactExports.createElement(lt,_extends$1({},pt,{appendTo:Lt,controlElement:this.controlRef,menuPlacement:Ct,menuPosition:At}),Fn):Fn}},{key:"renderFormField",value:function(){var nt=this,rt=this.props,it=rt.delimiter,st=rt.isDisabled,ot=rt.isMulti,at=rt.name,lt=rt.required,ct=this.state.selectValue;if(lt&&!this.hasValue()&&!st)return reactExports.createElement(RequiredInput$1,{name:at,onFocus:this.onValueInputFocus});if(!(!at||st))if(ot)if(it){var dt=ct.map(function(ut){return nt.getOptionValue(ut)}).join(it);return reactExports.createElement("input",{name:at,type:"hidden",value:dt})}else{var _t=ct.length>0?ct.map(function(ut,mt){return reactExports.createElement("input",{key:"i-".concat(mt),name:at,type:"hidden",value:nt.getOptionValue(ut)})}):reactExports.createElement("input",{name:at,type:"hidden",value:""});return reactExports.createElement("div",null,_t)}else{var pt=ct[0]?this.getOptionValue(ct[0]):"";return reactExports.createElement("input",{name:at,type:"hidden",value:pt})}}},{key:"renderLiveRegion",value:function(){var nt=this.commonProps,rt=this.state,it=rt.ariaSelection,st=rt.focusedOption,ot=rt.focusedValue,at=rt.isFocused,lt=rt.selectValue,ct=this.getFocusableOptions();return reactExports.createElement(LiveRegion$1,_extends$1({},nt,{id:this.getElementId("live-region"),ariaSelection:it,focusedOption:st,focusedValue:ot,isFocused:at,selectValue:lt,focusableOptions:ct}))}},{key:"render",value:function(){var nt=this.getComponents(),rt=nt.Control,it=nt.IndicatorsContainer,st=nt.SelectContainer,ot=nt.ValueContainer,at=this.props,lt=at.className,ct=at.id,dt=at.isDisabled,_t=at.menuIsOpen,pt=this.state.isFocused,ut=this.commonProps=this.getCommonProps();return reactExports.createElement(st,_extends$1({},ut,{className:lt,innerProps:{id:ct,onKeyDown:this.onKeyDown},isDisabled:dt,isFocused:pt}),this.renderLiveRegion(),reactExports.createElement(rt,_extends$1({},ut,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:dt,isFocused:pt,menuIsOpen:_t}),reactExports.createElement(ot,_extends$1({},ut,{isDisabled:dt}),this.renderPlaceholderOrValue(),this.renderInput()),reactExports.createElement(it,_extends$1({},ut,{isDisabled:dt}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(nt,rt){var it=rt.prevProps,st=rt.clearFocusValueOnUpdate,ot=rt.inputIsHiddenAfterUpdate,at=rt.ariaSelection,lt=rt.isFocused,ct=rt.prevWasFocused,dt=nt.options,_t=nt.value,pt=nt.menuIsOpen,ut=nt.inputValue,mt=nt.isMulti,ft=cleanValue(_t),gt={};if(it&&(_t!==it.value||dt!==it.options||pt!==it.menuIsOpen||ut!==it.inputValue)){var vt=pt?buildFocusableOptions(nt,ft):[],bt=st?getNextFocusedValue(rt,ft):null,Et=getNextFocusedOption(rt,vt);gt={selectValue:ft,focusedOption:Et,focusedValue:bt,clearFocusValueOnUpdate:!1}}var xt=ot!=null&&nt!==it?{inputIsHidden:ot,inputIsHiddenAfterUpdate:void 0}:{},kt=at,Ct=lt&&ct;return lt&&!Ct&&(kt={value:valueTernary(mt,ft,ft[0]||null),options:ft,action:"initial-input-focus"},Ct=!ct),(at==null?void 0:at.action)==="initial-input-focus"&&(kt=null),_objectSpread2(_objectSpread2(_objectSpread2({},gt),xt),{},{prevProps:nt,ariaSelection:kt,prevWasFocused:Ct})}}]),et}(reactExports.Component);Select.defaultProps=defaultProps;var _excluded$1=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function useStateManager($){var _=$.defaultInputValue,et=_===void 0?"":_,tt=$.defaultMenuIsOpen,nt=tt===void 0?!1:tt,rt=$.defaultValue,it=rt===void 0?null:rt,st=$.inputValue,ot=$.menuIsOpen,at=$.onChange,lt=$.onInputChange,ct=$.onMenuClose,dt=$.onMenuOpen,_t=$.value,pt=_objectWithoutProperties($,_excluded$1),ut=reactExports.useState(st!==void 0?st:et),mt=_slicedToArray(ut,2),ft=mt[0],gt=mt[1],vt=reactExports.useState(ot!==void 0?ot:nt),bt=_slicedToArray(vt,2),Et=bt[0],xt=bt[1],kt=reactExports.useState(_t!==void 0?_t:it),Ct=_slicedToArray(kt,2),At=Ct[0],Lt=Ct[1],Mt=reactExports.useCallback(function(Wt,fn){typeof at=="function"&&at(Wt,fn),Lt(Wt)},[at]),Ht=reactExports.useCallback(function(Wt,fn){var Tn;typeof lt=="function"&&(Tn=lt(Wt,fn)),gt(Tn!==void 0?Tn:Wt)},[lt]),zt=reactExports.useCallback(function(){typeof dt=="function"&&dt(),xt(!0)},[dt]),Nt=reactExports.useCallback(function(){typeof ct=="function"&&ct(),xt(!1)},[ct]),Xt=st!==void 0?st:ft,rn=ot!==void 0?ot:Et,wn=_t!==void 0?_t:At;return _objectSpread2(_objectSpread2({},pt),{},{inputValue:Xt,menuIsOpen:rn,onChange:Mt,onInputChange:Ht,onMenuClose:Nt,onMenuOpen:zt,value:wn})}var _excluded=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],compareOption=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",et=arguments.length>1?arguments[1]:void 0,tt=arguments.length>2?arguments[2]:void 0,nt=String(_).toLowerCase(),rt=String(tt.getOptionValue(et)).toLowerCase(),it=String(tt.getOptionLabel(et)).toLowerCase();return rt===nt||it===nt},builtins={formatCreateLabel:function(_){return'Create "'.concat(_,'"')},isValidNewOption:function(_,et,tt,nt){return!(!_||et.some(function(rt){return compareOption(_,rt,nt)})||tt.some(function(rt){return compareOption(_,rt,nt)}))},getNewOptionData:function(_,et){return{label:et,value:_,__isNew__:!0}}};function useCreatable($){var _=$.allowCreateWhileLoading,et=_===void 0?!1:_,tt=$.createOptionPosition,nt=tt===void 0?"last":tt,rt=$.formatCreateLabel,it=rt===void 0?builtins.formatCreateLabel:rt,st=$.isValidNewOption,ot=st===void 0?builtins.isValidNewOption:st,at=$.getNewOptionData,lt=at===void 0?builtins.getNewOptionData:at,ct=$.onCreateOption,dt=$.options,_t=dt===void 0?[]:dt,pt=$.onChange,ut=_objectWithoutProperties($,_excluded),mt=ut.getOptionValue,ft=mt===void 0?getOptionValue$1:mt,gt=ut.getOptionLabel,vt=gt===void 0?getOptionLabel$1:gt,bt=ut.inputValue,Et=ut.isLoading,xt=ut.isMulti,kt=ut.value,Ct=ut.name,At=reactExports.useMemo(function(){return ot(bt,cleanValue(kt),_t,{getOptionValue:ft,getOptionLabel:vt})?lt(bt,it(bt)):void 0},[it,lt,vt,ft,bt,ot,_t,kt]),Lt=reactExports.useMemo(function(){return(et||!Et)&&At?nt==="first"?[At].concat(_toConsumableArray(_t)):[].concat(_toConsumableArray(_t),[At]):_t},[et,nt,Et,At,_t]),Mt=reactExports.useCallback(function(Ht,zt){if(zt.action!=="select-option")return pt(Ht,zt);var Nt=Array.isArray(Ht)?Ht:[Ht];if(Nt[Nt.length-1]===At){if(ct)ct(bt);else{var Xt=lt(bt,bt),rn={action:"create-option",name:Ct,option:Xt};pt(valueTernary(xt,[].concat(_toConsumableArray(cleanValue(kt)),[Xt]),Xt),rn)}return}pt(Ht,zt)},[lt,bt,xt,Ct,At,ct,pt,kt]);return _objectSpread2(_objectSpread2({},ut),{},{options:Lt,onChange:Mt})}var CreatableSelect=reactExports.forwardRef(function($,_){var et=useStateManager($),tt=useCreatable(et);return reactExports.createElement(Select,_extends$1({ref:_},tt))}),CreatableSelect$1=CreatableSelect;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o$1=function(){return o$1=Object.assign||function($){for(var _,et=1,tt=arguments.length;et<tt;et++)for(var nt in _=arguments[et])Object.prototype.hasOwnProperty.call(_,nt)&&($[nt]=_[nt]);return $},o$1.apply(this,arguments)},t$1={exports:{}},n$1={},i$1=Object.getOwnPropertySymbols,a$1=Object.prototype.hasOwnProperty,s$1=Object.prototype.propertyIsEnumerable;function l$1($){if($==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}(function(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de",Object.getOwnPropertyNames($)[0]==="5")return!1;for(var _={},et=0;et<10;et++)_["_"+String.fromCharCode(et)]=et;var tt=Object.getOwnPropertyNames(_).map(function(rt){return _[rt]});if(tt.join("")!=="0123456789")return!1;var nt={};return"abcdefghijklmnopqrst".split("").forEach(function(rt){nt[rt]=rt}),Object.keys(Object.assign({},nt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}})();var c$1=React__default,p$1=60103;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */if(n$1.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var u$1=Symbol.for;p$1=u$1("react.element"),n$1.Fragment=u$1("react.fragment")}var f=c$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,__self:!0,__source:!0};function x($,_,et){var tt,nt={},rt=null,it=null;for(tt in et!==void 0&&(rt=""+et),_.key!==void 0&&(rt=""+_.key),_.ref!==void 0&&(it=_.ref),_)v.call(_,tt)&&!y.hasOwnProperty(tt)&&(nt[tt]=_[tt]);if($&&$.defaultProps)for(tt in _=$.defaultProps)nt[tt]===void 0&&(nt[tt]=_[tt]);return{$$typeof:p$1,type:$,key:rt,ref:it,props:nt,_owner:f.current}}n$1.jsx=x,n$1.jsxs=x;/** @license React v17.0.2
* react-jsx-runtime.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/function m($,_){_===void 0&&(_={});var et=_.insertAt;if($&&typeof document<"u"){var tt=document.head||document.getElementsByTagName("head")[0],nt=document.createElement("style");nt.type="text/css",et==="top"&&tt.firstChild?tt.insertBefore(nt,tt.firstChild):tt.appendChild(nt),nt.styleSheet?nt.styleSheet.cssText=$:nt.appendChild(document.createTextNode($))}}t$1.exports=n$1;m(`.bounce-vertically-40 {
    animation: bounce-vertically-40 infinite 2000ms ease;
}
  
@keyframes bounce-vertically-40 {
  0% {
    transform: translateY(0%);
  }

  10% {
    transform: translateY(-40%);
  }
  
  20% {
    transform: translateY(0%);
  }
}
`);var b=function($){var _=$.children,et=$.overlayColor,tt=et===void 0?"rgb(255 255 255 / 80%)":et,nt=$.zIndex,rt=nt===void 0?500:nt,it=$.message;return t$1.exports.jsx(function(st){var ot=st.children;return typeof document!==void 0?r$3.createPortal(t$1.exports.jsxs("div",o$1({style:{position:"fixed",top:"0",left:"0",bottom:"0",right:"0",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:tt,zIndex:rt}},{children:[ot,it&&t$1.exports.jsx(t$1.exports.Fragment,{children:it},void 0)]}),void 0),document.body):t$1.exports.jsxs("div",o$1({style:{position:"fixed",top:"0",left:"0",bottom:"0",right:"0",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:tt,zIndex:rt}},{children:[ot,it&&t$1.exports.jsx(t$1.exports.Fragment,{children:it},void 0)]}),void 0)},{children:_},void 0)};m(`.rotate-infinite {
  animation: rotate-infinite infinite 1000ms linear;
}

.rotate-infinite-slow {
  animation: rotate-infinite infinite 2000ms linear;
}

@keyframes rotate-infinite {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}
`);m(`.fading-four-count-1 {
  animation: fading-four-count infinite 1000ms linear;
}
.fading-four-count-2 {
  animation: fading-four-count infinite 1000ms linear 250ms;
}
.fading-four-count-3 {
  animation: fading-four-count infinite 1000ms linear 500ms;
}
.fading-four-count-4 {
  animation: fading-four-count infinite 1000ms linear 750ms;
}

@keyframes fading-four-count {
  0% {
    opacity: 0.3;
  }

  12.5% {
    opacity: 0.4;
  }

  25% {
    opacity: 0.5;
  }

  37.5% {
    opacity: 0.6;
  }

  50% {
    opacity: 0.7;
  }

  62.5% {
    opacity: 0.8;
  }

  75% {
    opacity: 1;
  }
}
`);m(`.bounce-vertically-90 {
    animation: bounce-vertically-90 infinite 1000ms ease;
}

@keyframes bounce-vertically-90 {
  0% {
    transform: translateY(0%);
  }

  10% {
    transform: translateY(-90%);
  }

  25% {
    transform: translateY(0%);
  }
}
`);var z=function($){var _=$.loading,et=_===void 0||_,tt=$.size,nt=tt===void 0?12:tt,rt=$.color,it=rt===void 0?"#00ced1":rt,st=$.between,ot=st===void 0?3:st;return t$1.exports.jsx(t$1.exports.Fragment,{children:et&&t$1.exports.jsxs("div",o$1({style:{display:"flex",columnGap:ot}},{children:[t$1.exports.jsx("div",{className:"bounce-vertically-90",style:{width:nt,height:nt,borderRadius:nt,backgroundColor:it,animationDelay:"0.1s"}},void 0),t$1.exports.jsx("div",{className:"bounce-vertically-90",style:{width:nt,height:nt,borderRadius:nt,backgroundColor:it,animationDelay:"0.2s"}},void 0),t$1.exports.jsx("div",{className:"bounce-vertically-90",style:{width:nt,height:nt,borderRadius:nt,backgroundColor:it,animationDelay:"0.3s"}},void 0)]}),void 0)},void 0)},R=function($){var _=$.loading,et=_===void 0||_,tt=$.size,nt=$.color,rt=$.between,it=$.overlayColor,st=$.zIndex,ot=$.message;return t$1.exports.jsx(t$1.exports.Fragment,{children:et&&t$1.exports.jsx(b,o$1({overlayColor:it,zIndex:st,message:ot},{children:t$1.exports.jsx(z,{size:tt,color:nt,between:rt},void 0)}),void 0)},void 0)};m(`.swing-horizontally {
    animation: swing-horizontally infinite 900ms ease;
}

@keyframes swing-horizontally {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}
`);m(`.roulette {
  animation: roulette infinite 900ms;
}

@keyframes roulette {
  0% {
    opacity: 0.3;
  }

  40% {
    opacity: 0.3;
  }

  50% {
    opacity: 1;
  }

  60% {
    opacity: 0.3;
  }

  100% {
    opacity: 0.3;
  }
}
`);function r($){var _,et,tt="";if(typeof $=="string"||typeof $=="number")tt+=$;else if(typeof $=="object")if(Array.isArray($))for(_=0;_<$.length;_++)$[_]&&(et=r($[_]))&&(tt&&(tt+=" "),tt+=et);else for(_ in $)$[_]&&(tt&&(tt+=" "),tt+=_);return tt}function clsx(){for(var $,_,et=0,tt="";et<arguments.length;)($=arguments[et++])&&(_=r($))&&(tt&&(tt+=" "),tt+=_);return tt}let e={data:""},t=$=>typeof window=="object"?(($?$.querySelector("#_goober"):window._goober)||Object.assign(($||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:$||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=($,_)=>{let et="",tt="",nt="";for(let rt in $){let it=$[rt];rt[0]=="@"?rt[1]=="i"?et=rt+" "+it+";":tt+=rt[1]=="f"?o(it,rt):rt+"{"+o(it,rt[1]=="k"?"":_)+"}":typeof it=="object"?tt+=o(it,_?_.replace(/([^,])+/g,st=>rt.replace(/(^:.*)|([^,])+/g,ot=>/&/.test(ot)?ot.replace(/&/g,st):st?st+" "+ot:ot)):rt):it!=null&&(rt=/^--/.test(rt)?rt:rt.replace(/[A-Z]/g,"-$&").toLowerCase(),nt+=o.p?o.p(rt,it):rt+":"+it+";")}return et+(_&&nt?_+"{"+nt+"}":nt)+tt},c={},s=$=>{if(typeof $=="object"){let _="";for(let et in $)_+=et+s($[et]);return _}return $},i=($,_,et,tt,nt)=>{let rt=s($),it=c[rt]||(c[rt]=(ot=>{let at=0,lt=11;for(;at<ot.length;)lt=101*lt+ot.charCodeAt(at++)>>>0;return"go"+lt})(rt));if(!c[it]){let ot=rt!==$?$:(at=>{let lt,ct,dt=[{}];for(;lt=l.exec(at.replace(a,""));)lt[4]?dt.shift():lt[3]?(ct=lt[3].replace(n," ").trim(),dt.unshift(dt[0][ct]=dt[0][ct]||{})):dt[0][lt[1]]=lt[2].replace(n," ").trim();return dt[0]})($);c[it]=o(nt?{["@keyframes "+it]:ot}:ot,et?"":"."+it)}let st=et&&c.g?c.g:null;return et&&(c.g=c[it]),((ot,at,lt,ct)=>{ct?at.data=at.data.replace(ct,ot):at.data.indexOf(ot)===-1&&(at.data=lt?ot+at.data:at.data+ot)})(c[it],_,tt,st),it},p=($,_,et)=>$.reduce((tt,nt,rt)=>{let it=_[rt];if(it&&it.call){let st=it(et),ot=st&&st.props&&st.props.className||/^go/.test(st)&&st;it=ot?"."+ot:st&&typeof st=="object"?st.props?"":o(st,""):st===!1?"":st}return tt+nt+(it??"")},"");function u($){let _=this||{},et=$.call?$(_.p):$;return i(et.unshift?et.raw?p(et,[].slice.call(arguments,1),_.p):et.reduce((tt,nt)=>Object.assign(tt,nt&&nt.call?nt(_.p):nt),{}):et,t(_.target),_.g,_.o,_.k)}u.bind({g:1});u.bind({k:1});function _defineProperties($,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass($,_,et){return _&&_defineProperties($.prototype,_),et&&_defineProperties($,et),$}function _extends(){return _extends=Object.assign||function($){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function _inheritsLoose($,_){$.prototype=Object.create(_.prototype),$.prototype.constructor=$,$.__proto__=_}function _objectWithoutPropertiesLoose($,_){if($==null)return{};var et={},tt=Object.keys($),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}function _assertThisInitialized($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}var noOp=function(){return""},SnackbarContext=React__default.createContext({enqueueSnackbar:noOp,closeSnackbar:noOp}),breakpoints={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},capitalise=function(_){return _.charAt(0).toUpperCase()+_.slice(1)},originKeyExtractor=function(_){return""+capitalise(_.vertical)+capitalise(_.horizontal)},isDefined=function(_){return!!_||_===0},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function($){_inheritsLoose(_,$);function _(tt){var nt;nt=$.call(this,tt)||this;var rt=tt.appear,it;return nt.appearStatus=null,tt.in?rt?(it=EXITED,nt.appearStatus=ENTERING):it=ENTERED:tt.unmountOnExit||tt.mountOnEnter?it=UNMOUNTED:it=EXITED,nt.state={status:it},nt.nextCallback=null,nt}_.getDerivedStateFromProps=function(nt,rt){var it=nt.in;return it&&rt.status===UNMOUNTED?{status:EXITED}:null};var et=_.prototype;return et.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},et.componentDidUpdate=function(nt){var rt=null;if(nt!==this.props){var it=this.state.status;this.props.in?it!==ENTERING&&it!==ENTERED&&(rt=ENTERING):(it===ENTERING||it===ENTERED)&&(rt=EXITING)}this.updateStatus(!1,rt)},et.componentWillUnmount=function(){this.cancelNextCallback()},et.getTimeouts=function(){var nt=this.props.timeout,rt=nt,it=nt;return nt!=null&&typeof nt!="number"&&typeof nt!="string"&&(it=nt.exit,rt=nt.enter),{exit:it,enter:rt}},et.updateStatus=function(nt,rt){nt===void 0&&(nt=!1),rt!==null?(this.cancelNextCallback(),rt===ENTERING?this.performEnter(nt):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},et.performEnter=function(nt){var rt=this,it=this.props.enter,st=nt,ot=this.getTimeouts();if(!nt&&!it){this.safeSetState({status:ENTERED},function(){rt.props.onEntered&&rt.props.onEntered(rt.node,st)});return}this.props.onEnter&&this.props.onEnter(this.node,st),this.safeSetState({status:ENTERING},function(){rt.props.onEntering&&rt.props.onEntering(rt.node,st),rt.onTransitionEnd(ot.enter,function(){rt.safeSetState({status:ENTERED},function(){rt.props.onEntered&&rt.props.onEntered(rt.node,st)})})})},et.performExit=function(){var nt=this,rt=this.props.exit,it=this.getTimeouts();if(!rt){this.safeSetState({status:EXITED},function(){nt.props.onExited&&nt.props.onExited(nt.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:EXITING},function(){nt.props.onExiting&&nt.props.onExiting(nt.node),nt.onTransitionEnd(it.exit,function(){nt.safeSetState({status:EXITED},function(){nt.props.onExited&&nt.props.onExited(nt.node)})})})},et.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},et.safeSetState=function(nt,rt){rt=this.setNextCallback(rt),this.setState(nt,rt)},et.setNextCallback=function(nt){var rt=this,it=!0;return this.nextCallback=function(){it&&(it=!1,rt.nextCallback=null,nt())},this.nextCallback.cancel=function(){it=!1},this.nextCallback},et.onTransitionEnd=function(nt,rt){this.setNextCallback(rt);var it=nt==null&&!this.props.addEndListener;if(!this.node||it){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),nt!=null&&setTimeout(this.nextCallback,nt)},et.render=function(){var nt=this.state.status;if(nt===UNMOUNTED)return null;var rt=this.props,it=rt.children,st=_objectWithoutPropertiesLoose(rt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return it(nt,st)},_createClass(_,[{key:"node",get:function(){var nt,rt=(nt=this.props.nodeRef)===null||nt===void 0?void 0:nt.current;if(!rt)throw new Error("notistack - Custom snackbar is not refForwarding");return rt}}]),_}(React__default.Component);function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};function setRef($,_){typeof $=="function"?$(_):$&&($.current=_)}function useForkRef($,_){return reactExports.useMemo(function(){return $==null&&_==null?null:function(et){setRef($,et),setRef(_,et)}},[$,_])}function getTransitionProps($){var _=$.timeout,et=$.style,tt=et===void 0?{}:et,nt=$.mode;return{duration:typeof _=="object"?_[nt]||0:_,easing:tt.transitionTimingFunction,delay:tt.transitionDelay}}var defaultEasing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},reflow=function(_){_.scrollTop=_.scrollTop},formatMs=function(_){return Math.round(_)+"ms"};function createTransition($,_){$===void 0&&($=["all"]);var et=_||{},tt=et.duration,nt=tt===void 0?300:tt,rt=et.easing,it=rt===void 0?defaultEasing.easeInOut:rt,st=et.delay,ot=st===void 0?0:st,at=Array.isArray($)?$:[$];return at.map(function(lt){var ct=typeof nt=="string"?nt:formatMs(nt),dt=typeof ot=="string"?ot:formatMs(ot);return lt+" "+ct+" "+it+" "+dt}).join(",")}function ownerDocument($){return $&&$.ownerDocument||document}function ownerWindow($){var _=ownerDocument($);return _.defaultView||window}function debounce($,_){_===void 0&&(_=166);var et;function tt(){for(var nt=this,rt=arguments.length,it=new Array(rt),st=0;st<rt;st++)it[st]=arguments[st];var ot=function(){$.apply(nt,it)};clearTimeout(et),et=setTimeout(ot,_)}return tt.clear=function(){clearTimeout(et)},tt}function getTranslateValue($,_){var et=_.getBoundingClientRect(),tt=ownerWindow(_),nt;if(_.fakeTransform)nt=_.fakeTransform;else{var rt=tt.getComputedStyle(_);nt=rt.getPropertyValue("-webkit-transform")||rt.getPropertyValue("transform")}var it=0,st=0;if(nt&&nt!=="none"&&typeof nt=="string"){var ot=nt.split("(")[1].split(")")[0].split(",");it=parseInt(ot[4],10),st=parseInt(ot[5],10)}switch($){case"left":return"translateX("+(tt.innerWidth+it-et.left)+"px)";case"right":return"translateX(-"+(et.left+et.width-it)+"px)";case"up":return"translateY("+(tt.innerHeight+st-et.top)+"px)";default:return"translateY(-"+(et.top+et.height-st)+"px)"}}function setTranslateValue($,_){if(_){var et=getTranslateValue($,_);et&&(_.style.webkitTransform=et,_.style.transform=et)}}var Slide=reactExports.forwardRef(function($,_){var et=$.children,tt=$.direction,nt=tt===void 0?"down":tt,rt=$.in,it=$.style,st=$.timeout,ot=st===void 0?0:st,at=$.onEnter,lt=$.onEntered,ct=$.onExit,dt=$.onExited,_t=_objectWithoutPropertiesLoose($,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),pt=reactExports.useRef(null),ut=useForkRef(et.ref,pt),mt=useForkRef(ut,_),ft=function(kt,Ct){setTranslateValue(nt,kt),reflow(kt),at&&at(kt,Ct)},gt=function(kt){var Ct=(it==null?void 0:it.transitionTimingFunction)||defaultEasing.easeOut,At=getTransitionProps({timeout:ot,mode:"enter",style:_extends({},it,{transitionTimingFunction:Ct})});kt.style.webkitTransition=createTransition("-webkit-transform",At),kt.style.transition=createTransition("transform",At),kt.style.webkitTransform="none",kt.style.transform="none"},vt=function(kt){var Ct=(it==null?void 0:it.transitionTimingFunction)||defaultEasing.sharp,At=getTransitionProps({timeout:ot,mode:"exit",style:_extends({},it,{transitionTimingFunction:Ct})});kt.style.webkitTransition=createTransition("-webkit-transform",At),kt.style.transition=createTransition("transform",At),setTranslateValue(nt,kt),ct&&ct(kt)},bt=function(kt){kt.style.webkitTransition="",kt.style.transition="",dt&&dt(kt)},Et=reactExports.useCallback(function(){pt.current&&setTranslateValue(nt,pt.current)},[nt]);return reactExports.useEffect(function(){if(!(rt||nt==="down"||nt==="right")){var xt=debounce(function(){pt.current&&setTranslateValue(nt,pt.current)}),kt=ownerWindow(pt.current);return kt.addEventListener("resize",xt),function(){xt.clear(),kt.removeEventListener("resize",xt)}}},[nt,rt]),reactExports.useEffect(function(){rt||Et()},[rt,Et]),reactExports.createElement(Transition,Object.assign({appear:!0,nodeRef:pt,onEnter:ft,onEntered:lt,onEntering:gt,onExit:vt,onExited:bt,in:rt,timeout:ot},_t),function(xt,kt){return reactExports.cloneElement(et,_extends({ref:mt,style:_extends({visibility:xt==="exited"&&!rt?"hidden":void 0},it,{},et.props.style)},kt))})});Slide.displayName="Slide";var SvgIcon=function(_){return React__default.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},_))},CheckIcon=function(){return React__default.createElement(SvgIcon,null,React__default.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},WarningIcon=function(){return React__default.createElement(SvgIcon,null,React__default.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},ErrorIcon=function(){return React__default.createElement(SvgIcon,null,React__default.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},InfoIcon=function(){return React__default.createElement(SvgIcon,null,React__default.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},defaultIconVariants={default:void 0,success:React__default.createElement(CheckIcon,null),warning:React__default.createElement(WarningIcon,null),error:React__default.createElement(ErrorIcon,null),info:React__default.createElement(InfoIcon,null)},defaults$2={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:defaultIconVariants,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Slide,transitionDuration:{enter:225,exit:195}},getAutoHideDuration=function(_,et){var tt=function(rt){return typeof rt=="number"||rt===null};return tt(_)?_:tt(et)?et:defaults$2.autoHideDuration},getTransitionDuration=function(_,et){var tt=function(rt,it){return it.some(function(st){return typeof rt===st})};return tt(_,["string","number"])?_:tt(_,["object"])?_extends({},defaults$2.transitionDuration,{},tt(et,["object"])&&et,{},_):tt(et,["string","number"])?et:tt(et,["object"])?_extends({},defaults$2.transitionDuration,{},et):defaults$2.transitionDuration},merge$1=function(_,et){return function(tt,nt){return nt===void 0&&(nt=!1),nt?_extends({},defaults$2[tt],{},et[tt],{},_[tt]):tt==="autoHideDuration"?getAutoHideDuration(_.autoHideDuration,et.autoHideDuration):tt==="transitionDuration"?getTransitionDuration(_.transitionDuration,et.transitionDuration):_[tt]||et[tt]||defaults$2[tt]}};function makeStyles($){return Object.entries($).reduce(function(_,et){var tt,nt=et[0],rt=et[1];return _extends({},_,(tt={},tt[nt]=u(rt),tt))},{})}var ComponentClasses={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(_){return"notistack-MuiContent-"+_}},classes=makeStyles({root:{height:0},entered:{height:"auto"}}),collapsedSize="0px",timeout=175,Collapse=reactExports.forwardRef(function($,_){var et=$.children,tt=$.in,nt=$.onExited,rt=reactExports.useRef(null),it=reactExports.useRef(null),st=useForkRef(_,it),ot=function(){return rt.current?rt.current.clientHeight:0},at=function(ut){ut.style.height=collapsedSize},lt=function(ut){var mt=ot(),ft=getTransitionProps({timeout,mode:"enter"}),gt=ft.duration,vt=ft.easing;ut.style.transitionDuration=typeof gt=="string"?gt:gt+"ms",ut.style.height=mt+"px",ut.style.transitionTimingFunction=vt||""},ct=function(ut){ut.style.height="auto"},dt=function(ut){ut.style.height=ot()+"px"},_t=function(ut){reflow(ut);var mt=getTransitionProps({timeout,mode:"exit"}),ft=mt.duration,gt=mt.easing;ut.style.transitionDuration=typeof ft=="string"?ft:ft+"ms",ut.style.height=collapsedSize,ut.style.transitionTimingFunction=gt||""};return reactExports.createElement(Transition,{in:tt,unmountOnExit:!0,onEnter:at,onEntered:ct,onEntering:lt,onExit:dt,onExited:nt,onExiting:_t,nodeRef:it,timeout},function(pt,ut){return reactExports.createElement("div",Object.assign({ref:st,className:clsx(classes.root,pt==="entered"&&classes.entered),style:_extends({pointerEvents:"all",overflow:"hidden",minHeight:collapsedSize,transition:createTransition("height")},pt==="entered"&&{overflow:"visible"},{},pt==="exited"&&!tt&&{visibility:"hidden"})},ut),reactExports.createElement("div",{ref:rt,className:ComponentClasses.CollapseWrapper,style:{display:"flex",width:"100%"}},et))})});Collapse.displayName="Collapse";var direction={right:"left",left:"right",bottom:"up",top:"down"},getSlideDirection=function(_){return _.horizontal!=="center"?direction[_.horizontal]:direction[_.vertical]},toSnackbarAnchorOrigin=function(_){return"anchorOrigin"+originKeyExtractor(_)},keepSnackbarClassKeys=function(_){_===void 0&&(_={});var et={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(_).filter(function(tt){return!et[tt]}).reduce(function(tt,nt){var rt;return _extends({},tt,(rt={},rt[nt]=_[nt],rt))},{})},noOp$1=function(){};function createChainedFunction($,_){return $.reduce(function(et,tt){return tt==null?et:function(){for(var rt=arguments.length,it=new Array(rt),st=0;st<rt;st++)it[st]=arguments[st];var ot=[].concat(it);_&&ot.indexOf(_)===-1&&ot.push(_),et.apply(this,ot),tt.apply(this,ot)}},noOp$1)}var useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useEventCallback($){var _=reactExports.useRef($);return useEnhancedEffect(function(){_.current=$}),reactExports.useCallback(function(){return _.current.apply(void 0,arguments)},[])}var Snackbar=reactExports.forwardRef(function($,_){var et=$.children,tt=$.className,nt=$.autoHideDuration,rt=$.disableWindowBlurListener,it=rt===void 0?!1:rt,st=$.onClose,ot=$.id,at=$.open,lt=$.SnackbarProps,ct=lt===void 0?{}:lt,dt=reactExports.useRef(),_t=useEventCallback(function(){st&&st.apply(void 0,arguments)}),pt=useEventCallback(function(vt){!st||vt==null||(dt.current&&clearTimeout(dt.current),dt.current=setTimeout(function(){_t(null,"timeout",ot)},vt))});reactExports.useEffect(function(){return at&&pt(nt),function(){dt.current&&clearTimeout(dt.current)}},[at,nt,pt]);var ut=function(){dt.current&&clearTimeout(dt.current)},mt=reactExports.useCallback(function(){nt!=null&&pt(nt*.5)},[nt,pt]),ft=function(bt){ct.onMouseEnter&&ct.onMouseEnter(bt),ut()},gt=function(bt){ct.onMouseLeave&&ct.onMouseLeave(bt),mt()};return reactExports.useEffect(function(){if(!it&&at)return window.addEventListener("focus",mt),window.addEventListener("blur",ut),function(){window.removeEventListener("focus",mt),window.removeEventListener("blur",ut)}},[it,mt,at]),reactExports.createElement("div",Object.assign({ref:_},ct,{className:clsx(ComponentClasses.Snackbar,tt),onMouseEnter:ft,onMouseLeave:gt}),et)});Snackbar.displayName="Snackbar";var _root,classes$1=makeStyles({root:(_root={display:"flex",flexWrap:"wrap",flexGrow:1},_root[breakpoints.upSm]={flexGrow:"initial",minWidth:"288px"},_root)}),SnackbarContent=reactExports.forwardRef(function($,_){var et=$.className,tt=_objectWithoutPropertiesLoose($,["className"]);return React__default.createElement("div",Object.assign({ref:_,className:clsx(classes$1.root,et)},tt))});SnackbarContent.displayName="SnackbarContent";var classes$2=makeStyles({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),ariaDescribedby="notistack-snackbar",MaterialDesignContent=reactExports.forwardRef(function($,_){var et=$.id,tt=$.message,nt=$.action,rt=$.iconVariant,it=$.variant,st=$.hideIconVariant,ot=$.style,at=$.className,lt=rt[it],ct=nt;return typeof ct=="function"&&(ct=ct(et)),React__default.createElement(SnackbarContent,{ref:_,role:"alert","aria-describedby":ariaDescribedby,style:ot,className:clsx(ComponentClasses.MuiContent,ComponentClasses.MuiContentVariant(it),classes$2.root,classes$2[it],at,!st&&lt&&classes$2.lessPadding)},React__default.createElement("div",{id:ariaDescribedby,className:classes$2.message},st?null:lt,tt),ct&&React__default.createElement("div",{className:classes$2.action},ct))});MaterialDesignContent.displayName="MaterialDesignContent";var MaterialDesignContent$1=reactExports.memo(MaterialDesignContent),styles=makeStyles({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),SnackbarItem=function(_){var et=reactExports.useRef(),tt=reactExports.useState(!0),nt=tt[0],rt=tt[1],it=createChainedFunction([_.snack.onClose,_.onClose]),st=function(){_.snack.requestClose&&it(null,"instructed",_.snack.id)},ot=reactExports.useCallback(function(){et.current=setTimeout(function(){rt(function(At){return!At})},125)},[]);reactExports.useEffect(function(){return function(){et.current&&clearTimeout(et.current)}},[]);var at=_.snack,lt=_.classes,ct=_.Component,dt=ct===void 0?MaterialDesignContent$1:ct,_t=reactExports.useMemo(function(){return keepSnackbarClassKeys(lt)},[lt]),pt=at.open,ut=at.SnackbarProps,mt=at.TransitionComponent,ft=at.TransitionProps,gt=at.transitionDuration,vt=at.disableWindowBlurListener,bt=at.content,Et=_objectWithoutPropertiesLoose(at,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),xt=_extends({direction:getSlideDirection(Et.anchorOrigin),timeout:gt},ft),kt=bt;typeof kt=="function"&&(kt=kt(Et.id,Et.message));var Ct=["onEnter","onEntered","onExit","onExited"].reduce(function(At,Lt){var Mt;return _extends({},At,(Mt={},Mt[Lt]=createChainedFunction([_.snack[Lt],_[Lt]],Et.id),Mt))},{});return React__default.createElement(Collapse,{in:nt,onExited:Ct.onExited},React__default.createElement(Snackbar,{open:pt,id:Et.id,disableWindowBlurListener:vt,autoHideDuration:Et.autoHideDuration,className:clsx(styles.wrappedRoot,_t.root,_t[toSnackbarAnchorOrigin(Et.anchorOrigin)]),SnackbarProps:ut,onClose:it},React__default.createElement(mt,Object.assign({},xt,{appear:!0,in:pt,onExit:Ct.onExit,onExited:ot,onEnter:Ct.onEnter,onEntered:createChainedFunction([Ct.onEntered,st],Et.id)}),kt||React__default.createElement(dt,Object.assign({},Et)))))},_root$1,_rootDense,_left,_right,_center,indents={view:{default:20,dense:4},snackbar:{default:6,dense:2}},collapseWrapper="."+ComponentClasses.CollapseWrapper,xsWidthMargin=16,styles$1=makeStyles({root:(_root$1={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:createTransition(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},_root$1[collapseWrapper]={padding:indents.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},_root$1.maxWidth="calc(100% - "+indents.view.default*2+"px)",_root$1[breakpoints.downXs]={width:"100%",maxWidth:"calc(100% - "+xsWidthMargin*2+"px)"},_root$1),rootDense:(_rootDense={},_rootDense[collapseWrapper]={padding:indents.snackbar.dense+"px 0px"},_rootDense),top:{top:indents.view.default-indents.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:indents.view.default-indents.snackbar.default+"px",flexDirection:"column-reverse"},left:(_left={left:indents.view.default+"px"},_left[breakpoints.upSm]={alignItems:"flex-start"},_left[breakpoints.downXs]={left:xsWidthMargin+"px"},_left),right:(_right={right:indents.view.default+"px"},_right[breakpoints.upSm]={alignItems:"flex-end"},_right[breakpoints.downXs]={right:xsWidthMargin+"px"},_right),center:(_center={left:"50%",transform:"translateX(-50%)"},_center[breakpoints.upSm]={alignItems:"center"},_center)}),SnackbarContainer=function(_){var et=_.classes,tt=et===void 0?{}:et,nt=_.anchorOrigin,rt=_.dense,it=_.children,st=clsx(ComponentClasses.SnackbarContainer,styles$1[nt.vertical],styles$1[nt.horizontal],styles$1.root,tt.containerRoot,tt["containerAnchorOrigin"+originKeyExtractor(nt)],rt&&styles$1.rootDense);return React__default.createElement("div",{className:st},it)},SnackbarContainer$1=reactExports.memo(SnackbarContainer),isOptions=function(_){var et=typeof _=="string"||reactExports.isValidElement(_);return!et},enqueueSnackbar,SnackbarProvider=function($){_inheritsLoose(_,$);function _(tt){var nt;return nt=$.call(this,tt)||this,nt.enqueueSnackbar=function(rt,it){if(it===void 0&&(it={}),rt==null)throw new Error("enqueueSnackbar called with invalid argument");var st=isOptions(rt)?rt:it,ot=isOptions(rt)?rt.message:rt,at=st.key,lt=st.preventDuplicate,ct=_objectWithoutPropertiesLoose(st,["key","preventDuplicate"]),dt=isDefined(at),_t=dt?at:new Date().getTime()+Math.random(),pt=merge$1(ct,nt.props),ut=_extends({id:_t},ct,{message:ot,open:!0,entered:!1,requestClose:!1,persist:pt("persist"),action:pt("action"),content:pt("content"),variant:pt("variant"),anchorOrigin:pt("anchorOrigin"),disableWindowBlurListener:pt("disableWindowBlurListener"),autoHideDuration:pt("autoHideDuration"),hideIconVariant:pt("hideIconVariant"),TransitionComponent:pt("TransitionComponent"),transitionDuration:pt("transitionDuration"),TransitionProps:pt("TransitionProps",!0),iconVariant:pt("iconVariant",!0),style:pt("style",!0),SnackbarProps:pt("SnackbarProps",!0),className:clsx(nt.props.className,ct.className)});return ut.persist&&(ut.autoHideDuration=void 0),nt.setState(function(mt){if(lt===void 0&&nt.props.preventDuplicate||lt){var ft=function(Et){return dt?Et.id===_t:Et.message===ot},gt=mt.queue.findIndex(ft)>-1,vt=mt.snacks.findIndex(ft)>-1;if(gt||vt)return mt}return nt.handleDisplaySnack(_extends({},mt,{queue:[].concat(mt.queue,[ut])}))}),_t},nt.handleDisplaySnack=function(rt){var it=rt.snacks;return it.length>=nt.maxSnack?nt.handleDismissOldest(rt):nt.processQueue(rt)},nt.processQueue=function(rt){var it=rt.queue,st=rt.snacks;return it.length>0?_extends({},rt,{snacks:[].concat(st,[it[0]]),queue:it.slice(1,it.length)}):rt},nt.handleDismissOldest=function(rt){if(rt.snacks.some(function(lt){return!lt.open||lt.requestClose}))return rt;var it=!1,st=!1,ot=rt.snacks.reduce(function(lt,ct){return lt+(ct.open&&ct.persist?1:0)},0);ot===nt.maxSnack&&(st=!0);var at=rt.snacks.map(function(lt){return!it&&(!lt.persist||st)?(it=!0,lt.entered?(lt.onClose&&lt.onClose(null,"maxsnack",lt.id),nt.props.onClose&&nt.props.onClose(null,"maxsnack",lt.id),_extends({},lt,{open:!1})):_extends({},lt,{requestClose:!0})):_extends({},lt)});return _extends({},rt,{snacks:at})},nt.handleEnteredSnack=function(rt,it,st){if(!isDefined(st))throw new Error("handleEnteredSnack Cannot be called with undefined key");nt.setState(function(ot){var at=ot.snacks;return{snacks:at.map(function(lt){return lt.id===st?_extends({},lt,{entered:!0}):_extends({},lt)})}})},nt.handleCloseSnack=function(rt,it,st){nt.props.onClose&&nt.props.onClose(rt,it,st);var ot=st===void 0;nt.setState(function(at){var lt=at.snacks,ct=at.queue;return{snacks:lt.map(function(dt){return!ot&&dt.id!==st?_extends({},dt):dt.entered?_extends({},dt,{open:!1}):_extends({},dt,{requestClose:!0})}),queue:ct.filter(function(dt){return dt.id!==st})}})},nt.closeSnackbar=function(rt){var it=nt.state.snacks.find(function(st){return st.id===rt});isDefined(rt)&&it&&it.onClose&&it.onClose(null,"instructed",rt),nt.handleCloseSnack(null,"instructed",rt)},nt.handleExitedSnack=function(rt,it){if(!isDefined(it))throw new Error("handleExitedSnack Cannot be called with undefined key");nt.setState(function(st){var ot=nt.processQueue(_extends({},st,{snacks:st.snacks.filter(function(at){return at.id!==it})}));return ot.queue.length===0?ot:nt.handleDismissOldest(ot)})},enqueueSnackbar=nt.enqueueSnackbar,nt.closeSnackbar,nt.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:nt.enqueueSnackbar.bind(_assertThisInitialized(nt)),closeSnackbar:nt.closeSnackbar.bind(_assertThisInitialized(nt))}},nt}var et=_.prototype;return et.render=function(){var nt=this,rt=this.state.contextValue,it=this.props,st=it.domRoot,ot=it.children,at=it.dense,lt=at===void 0?!1:at,ct=it.Components,dt=ct===void 0?{}:ct,_t=it.classes,pt=this.state.snacks.reduce(function(mt,ft){var gt,vt=originKeyExtractor(ft.anchorOrigin),bt=mt[vt]||[];return _extends({},mt,(gt={},gt[vt]=[].concat(bt,[ft]),gt))},{}),ut=Object.keys(pt).map(function(mt){var ft=pt[mt],gt=ft[0];return React__default.createElement(SnackbarContainer$1,{key:mt,dense:lt,anchorOrigin:gt.anchorOrigin,classes:_t},ft.map(function(vt){return React__default.createElement(SnackbarItem,{key:vt.id,snack:vt,classes:_t,Component:dt[vt.variant],onClose:nt.handleCloseSnack,onEnter:nt.props.onEnter,onExit:nt.props.onExit,onExited:createChainedFunction([nt.handleExitedSnack,nt.props.onExited],vt.id),onEntered:createChainedFunction([nt.handleEnteredSnack,nt.props.onEntered],vt.id)})}))});return React__default.createElement(SnackbarContext.Provider,{value:rt},ot,st?reactDomExports.createPortal(ut,st):ut)},_createClass(_,[{key:"maxSnack",get:function(){return this.props.maxSnack||defaults$2.maxSnack}}]),_}(reactExports.Component);const CreateJob=()=>{const[$,_]=reactExports.useState(null),[et,tt]=reactExports.useState(!1),nt=useNavigate(),rt=JSON.parse(localStorage.getItem("user")),it=localStorage.getItem("token"),st=getFirestore(),ot=[{value:"JavaScript",label:"JavaScript"},{value:"C++",label:"C++"},{value:"HTML",label:"HTML"},{value:"CSS",label:"CSS"},{value:"React",label:"React"},{value:"Node",label:"Node"},{value:"MongoDB",label:"MongoDB"},{value:"Redux",label:"Redux"}],[at,lt]=reactExports.useState({jobTitle:"",jobPostedBy:rt==null?void 0:rt.email,jobPostedAt:new Date,jobDescription:"",jobType:"",jobSkills:[],jobExperience:"",jobSalaryType:"",jobMinimumSalary:"",jobMaximumSalary:"",jobDate:"",jobCompany:rt==null?void 0:rt.name,jobCompanyAddress:rt==null?void 0:rt.address,jobCompanyLogo:rt==null?void 0:rt.image}),ct=(_t,pt)=>{lt(ut=>({...ut,[_t]:pt}))};function dt(){var _t;if(at.jobTitle===""||at.jobDescription===""||at.jobType===""||((_t=at.jobSkills)==null?void 0:_t.length)===0||at.jobExperience===""||at.jobSalaryType===""||at.jobMinimumSalary===""||at.jobMaximumSalary===""||at.jobCompany===""||at.jobCompanyAddress===""){enqueueSnackbar("Fields are required",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}});return}tt(!0),addDoc(collection(st,"jobs"),{...at,jobPostId:it}).then(()=>{tt(!1),enqueueSnackbar("Job Post Successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),setTimeout(()=>{nt("/")},2e3)}).catch(pt=>{console.log(pt),tt(!1)})}return console.log(at),console.log($),jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsx(SnackbarProvider,{}),jsxRuntimeExports.jsx(R,{color:"#3575E2",loading:et}),jsxRuntimeExports.jsx("div",{className:"bg-[#FAFAFA] py-10 px-4 lg:px-16",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Title"}),jsxRuntimeExports.jsx("input",{onChange:_t=>ct("jobTitle",_t.target.value),placeholder:"Enter Job Title",className:"block w-full flex-1 border-1 bg-white py-1.5 pl-3 text-gray-900 placeholder:text-gray-400 focus:outline-none sm:text-sm sm:leading-6"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Name"}),jsxRuntimeExports.jsx("input",{value:at.jobCompany,onChange:_t=>ct("jobCompany",_t.target.value),placeholder:"Ex: Microsoft",className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Minimum Salary"}),jsxRuntimeExports.jsx("input",{onChange:_t=>ct("jobMinimumSalary",_t.target.value),placeholder:"$20k",className:"create-job-input"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Maximum Salary"}),jsxRuntimeExports.jsx("input",{onChange:_t=>ct("jobMaximumSalary",_t.target.value),placeholder:"$100k",className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Salary Type"}),jsxRuntimeExports.jsxs("select",{onChange:_t=>ct("jobSalaryType",_t.target.value),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Choose your salary"}),jsxRuntimeExports.jsx("option",{value:"Hourly",children:"Hourly"}),jsxRuntimeExports.jsx("option",{value:"Monthly",children:"Monthly"}),jsxRuntimeExports.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Location"}),jsxRuntimeExports.jsx("input",{onChange:_t=>ct("jobCompanyAddress",_t.target.value),placeholder:"Ex: New York",className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Posting Date"}),jsxRuntimeExports.jsx("input",{onChange:_t=>ct("jobDate",_t.target.value),className:"create-job-input",placeholder:"Ex: 2023-11-03",type:"date"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Experience Level"}),jsxRuntimeExports.jsxs("select",{onChange:_t=>ct("jobExperience",_t.target.value),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Experience Level"}),jsxRuntimeExports.jsx("option",{value:"Junior",children:"Junior"}),jsxRuntimeExports.jsx("option",{value:"Mid-level",children:"Mid-level"}),jsxRuntimeExports.jsx("option",{value:"Senior",children:"Senior"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Required Skill Sets:"}),jsxRuntimeExports.jsx(CreatableSelect$1,{className:"create-job-input py-4",defaultValue:$,onChange:_t=>{lt(pt=>({...pt,jobSkills:_t}))},options:ot,isMulti:!0})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Employment Type"}),jsxRuntimeExports.jsxs("select",{onChange:_t=>ct("jobType",_t.target.value),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select employment type"}),jsxRuntimeExports.jsx("option",{value:"Internee",children:"Internee"}),jsxRuntimeExports.jsx("option",{value:"Employee",children:"Employee"})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Type"}),jsxRuntimeExports.jsxs("select",{onChange:_t=>ct("jobType",_t.target.value),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select job type"}),jsxRuntimeExports.jsx("option",{value:"Full-time",children:"Full-time"}),jsxRuntimeExports.jsx("option",{value:"Part-time",children:"Part-time"}),jsxRuntimeExports.jsx("option",{value:"Contract",children:"Contract"})]})]})]}),at.jobType==="Contract"&&jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Duration"}),jsxRuntimeExports.jsxs("select",{onChange:_t=>ct("jobDuration",_t.target.value),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select job duration"}),jsxRuntimeExports.jsx("option",{value:"8 Months",children:"8 Months"}),jsxRuntimeExports.jsx("option",{value:"1 Year",children:"1 Year"}),jsxRuntimeExports.jsx("option",{value:"2 Year",children:"2 Year"})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Description"}),jsxRuntimeExports.jsx("textarea",{onChange:_t=>ct("jobDescription",_t.target.value),className:"w-full pl-3 py-1.5 focus:outline-none",rows:6,placeholder:"job description"})]}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"block mt-12 bg-blue text-white font-semibold px-8 py-2 rounded-sm cursor-pointer",children:"Submit"})]})})]})},UpdateJob=()=>{const{id:$}=useParams(),[_,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(null),{register:rt,handleSubmit:it,formState:{errors:st},reset:ot}=useForm(),at=_t=>{_t.skills=_,fetch(`http://localhost:5000/update-job/${$}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(_t)}).then(pt=>pt.json()).then(pt=>{console.log(pt),pt.acknowledged===!0&&alert("Job Updated Successfully!!")})},lt=[{value:"JavaScript",label:"JavaScript"},{value:"C++",label:"C++"},{value:"HTML",label:"HTML"},{value:"CSS",label:"CSS"},{value:"React",label:"React"},{value:"Node",label:"Node"},{value:"MongoDB",label:"MongoDB"},{value:"Redux",label:"Redux"}],ct=getFirestore(),dt=async()=>{const _t=doc(ct,"jobs",$),pt=await getDoc(_t);nt(pt.data()),console.log(pt.data())};return useEffect(()=>{dt()},[$]),jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Update This Job",path:"Edit Job"}),jsxRuntimeExports.jsx("div",{className:"bg-[#FAFAFA] py-10 px-4 lg:px-16",children:jsxRuntimeExports.jsxs("form",{onSubmit:it(at),className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Title"}),jsxRuntimeExports.jsx("input",{defaultValue:jobTitle,...rt("jobTitle"),className:"block w-full flex-1 border-1 bg-white py-1.5 pl-3 text-gray-900 placeholder:text-gray-400 focus:outline-none sm:text-sm sm:leading-6"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Name"}),jsxRuntimeExports.jsx("input",{placeholder:"Ex: Microsoft",defaultValue:companyName,...rt("companyName"),className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Minimum Salary"}),jsxRuntimeExports.jsx("input",{placeholder:"$20k",defaultValue:minPrice,...rt("minPrice"),className:"create-job-input"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Maximum Salary"}),jsxRuntimeExports.jsx("input",{placeholder:"$100k",defaultValue:maxPrice,...rt("maxPrice"),className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Salary Type"}),jsxRuntimeExports.jsxs("select",{...rt("salaryType"),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:salaryType,children:salaryType}),jsxRuntimeExports.jsx("option",{value:"Hourly",children:"Hourly"}),jsxRuntimeExports.jsx("option",{value:"Monthly",children:"Monthly"}),jsxRuntimeExports.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Location"}),jsxRuntimeExports.jsx("input",{placeholder:"Ex: New York",defaultValue:jobLocation,...rt("jobLocation"),className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Posting Date"}),jsxRuntimeExports.jsx("input",{className:"create-job-input",...rt("postingDate"),placeholder:"Ex: 2023-11-03",type:"date",defaultValue:postingDate})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Experience Level"}),jsxRuntimeExports.jsxs("select",{...rt("experienceLevel"),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:experienceLevel,children:experienceLevel}),jsxRuntimeExports.jsx("option",{value:"NoExperience",children:"No experience"}),jsxRuntimeExports.jsx("option",{value:"Internship",children:"Internship"}),jsxRuntimeExports.jsx("option",{value:"Work remotely",children:"Work remotely"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Required Skill Sets:"}),jsxRuntimeExports.jsx(CreatableSelect$1,{className:"create-job-input py-4",defaultValue:skills,onChange:et,options:lt,isMulti:!0})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Logo"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"Paste your image url: https://weshare.com/img1.jpg",...rt("companyLogo"),className:"create-job-input",defaultValue:companyLogo})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Employment Type"}),jsxRuntimeExports.jsxs("select",{...rt("employmentType"),className:"create-job-input",children:[jsxRuntimeExports.jsx("option",{value:employmentType,children:employmentType}),jsxRuntimeExports.jsx("option",{value:"Full-time",children:"Full-time"}),jsxRuntimeExports.jsx("option",{value:"Part-time",children:"Part-time"}),jsxRuntimeExports.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Description"}),jsxRuntimeExports.jsx("textarea",{className:"w-full pl-3 py-1.5 focus:outline-none",rows:6,...rt("description"),placeholder:"job description",defaultValue:description})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Job Posted by"}),jsxRuntimeExports.jsx("input",{type:"email",className:"w-full pl-3 py-1.5 focus:outline-none",...rt("postedBy"),placeholder:"your email",defaultValue:postedBy})]}),jsxRuntimeExports.jsx("input",{type:"submit",className:"block mt-12 bg-blue text-white font-semibold px-8 py-2 rounded-sm cursor-pointer"})]})})]})};var sweetalert2_all={exports:{}};/*!
* sweetalert2 v11.9.0
* Released under the MIT License.
*/(function($,_){(function(et,tt){$.exports=tt()})(commonjsGlobal$1,function(){function et(ht,yt){var $t=nt(ht,yt,"get");return rt(ht,$t)}function tt(ht,yt,$t){var tn=nt(ht,yt,"set");return it(ht,tn,$t),$t}function nt(ht,yt,$t){if(!yt.has(ht))throw new TypeError("attempted to "+$t+" private field on non-instance");return yt.get(ht)}function rt(ht,yt){return yt.get?yt.get.call(ht):yt.value}function it(ht,yt,$t){if(yt.set)yt.set.call(ht,$t);else{if(!yt.writable)throw new TypeError("attempted to set read only private field");yt.value=$t}}function st(ht,yt){if(yt.has(ht))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ot(ht,yt,$t){st(ht,yt),yt.set(ht,$t)}const at=100,lt={},ct=()=>{lt.previousActiveElement instanceof HTMLElement?(lt.previousActiveElement.focus(),lt.previousActiveElement=null):document.body&&document.body.focus()},dt=ht=>new Promise(yt=>{if(!ht)return yt();const $t=window.scrollX,tn=window.scrollY;lt.restoreFocusTimeout=setTimeout(()=>{ct(),yt()},at),window.scrollTo($t,tn)}),_t="swal2-",ut=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((ht,yt)=>(ht[yt]=_t+yt,ht),{}),ft=["success","warning","info","question","error"].reduce((ht,yt)=>(ht[yt]=_t+yt,ht),{}),gt="SweetAlert2:",vt=ht=>ht.charAt(0).toUpperCase()+ht.slice(1),bt=ht=>{console.warn("".concat(gt," ").concat(typeof ht=="object"?ht.join(" "):ht))},Et=ht=>{console.error("".concat(gt," ").concat(ht))},xt=[],kt=ht=>{xt.includes(ht)||(xt.push(ht),bt(ht))},Ct=(ht,yt)=>{kt('"'.concat(ht,'" is deprecated and will be removed in the next major release. Please use "').concat(yt,'" instead.'))},At=ht=>typeof ht=="function"?ht():ht,Lt=ht=>ht&&typeof ht.toPromise=="function",Mt=ht=>Lt(ht)?ht.toPromise():Promise.resolve(ht),Ht=ht=>ht&&Promise.resolve(ht)===ht,zt=()=>document.body.querySelector(".".concat(ut.container)),Nt=ht=>{const yt=zt();return yt?yt.querySelector(ht):null},Xt=ht=>Nt(".".concat(ht)),rn=()=>Xt(ut.popup),wn=()=>Xt(ut.icon),Wt=()=>Xt(ut["icon-content"]),fn=()=>Xt(ut.title),Tn=()=>Xt(ut["html-container"]),Fn=()=>Xt(ut.image),Mn=()=>Xt(ut["progress-steps"]),Ut=()=>Xt(ut["validation-message"]),St=()=>Nt(".".concat(ut.actions," .").concat(ut.confirm)),It=()=>Nt(".".concat(ut.actions," .").concat(ut.cancel)),Tt=()=>Nt(".".concat(ut.actions," .").concat(ut.deny)),Dt=()=>Xt(ut["input-label"]),Ot=()=>Nt(".".concat(ut.loader)),jt=()=>Xt(ut.actions),qt=()=>Xt(ut.footer),Zt=()=>Xt(ut["timer-progress-bar"]),bn=()=>Xt(ut.close),En=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,In=()=>{const ht=rn();if(!ht)return[];const yt=ht.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),$t=Array.from(yt).sort((Pr,is)=>{const ms=parseInt(Pr.getAttribute("tabindex")||"0"),Es=parseInt(is.getAttribute("tabindex")||"0");return ms>Es?1:ms<Es?-1:0}),tn=ht.querySelectorAll(En),Un=Array.from(tn).filter(Pr=>Pr.getAttribute("tabindex")!=="-1");return[...new Set($t.concat(Un))].filter(Pr=>Er(Pr))},$n=()=>xn(document.body,ut.shown)&&!xn(document.body,ut["toast-shown"])&&!xn(document.body,ut["no-backdrop"]),Hn=()=>{const ht=rn();return ht?xn(ht,ut.toast):!1},Bt=()=>{const ht=rn();return ht?ht.hasAttribute("data-loading"):!1},sn=(ht,yt)=>{if(ht.textContent="",yt){const tn=new DOMParser().parseFromString(yt,"text/html"),Un=tn.querySelector("head");Un&&Array.from(Un.childNodes).forEach(is=>{ht.appendChild(is)});const Pr=tn.querySelector("body");Pr&&Array.from(Pr.childNodes).forEach(is=>{is instanceof HTMLVideoElement||is instanceof HTMLAudioElement?ht.appendChild(is.cloneNode(!0)):ht.appendChild(is)})}},xn=(ht,yt)=>{if(!yt)return!1;const $t=yt.split(/\s+/);for(let tn=0;tn<$t.length;tn++)if(!ht.classList.contains($t[tn]))return!1;return!0},Cn=(ht,yt)=>{Array.from(ht.classList).forEach($t=>{!Object.values(ut).includes($t)&&!Object.values(ft).includes($t)&&!Object.values(yt.showClass||{}).includes($t)&&ht.classList.remove($t)})},kn=(ht,yt,$t)=>{if(Cn(ht,yt),yt.customClass&&yt.customClass[$t]){if(typeof yt.customClass[$t]!="string"&&!yt.customClass[$t].forEach){bt("Invalid type of customClass.".concat($t,'! Expected string or iterable object, got "').concat(typeof yt.customClass[$t],'"'));return}mn(ht,yt.customClass[$t])}},cn=(ht,yt)=>{if(!yt)return null;switch(yt){case"select":case"textarea":case"file":return ht.querySelector(".".concat(ut.popup," > .").concat(ut[yt]));case"checkbox":return ht.querySelector(".".concat(ut.popup," > .").concat(ut.checkbox," input"));case"radio":return ht.querySelector(".".concat(ut.popup," > .").concat(ut.radio," input:checked"))||ht.querySelector(".".concat(ut.popup," > .").concat(ut.radio," input:first-child"));case"range":return ht.querySelector(".".concat(ut.popup," > .").concat(ut.range," input"));default:return ht.querySelector(".".concat(ut.popup," > .").concat(ut.input))}},nn=ht=>{if(ht.focus(),ht.type!=="file"){const yt=ht.value;ht.value="",ht.value=yt}},dn=(ht,yt,$t)=>{!ht||!yt||(typeof yt=="string"&&(yt=yt.split(/\s+/).filter(Boolean)),yt.forEach(tn=>{Array.isArray(ht)?ht.forEach(Un=>{$t?Un.classList.add(tn):Un.classList.remove(tn)}):$t?ht.classList.add(tn):ht.classList.remove(tn)}))},mn=(ht,yt)=>{dn(ht,yt,!0)},zn=(ht,yt)=>{dn(ht,yt,!1)},Gn=(ht,yt)=>{const $t=Array.from(ht.children);for(let tn=0;tn<$t.length;tn++){const Un=$t[tn];if(Un instanceof HTMLElement&&xn(Un,yt))return Un}},ur=(ht,yt,$t)=>{$t==="".concat(parseInt($t))&&($t=parseInt($t)),$t||parseInt($t)===0?ht.style[yt]=typeof $t=="number"?"".concat($t,"px"):$t:ht.style.removeProperty(yt)},ir=function(ht){let yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";ht&&(ht.style.display=yt)},sr=ht=>{ht&&(ht.style.display="none")},_r=function(ht){let yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";ht&&new MutationObserver(()=>{dr(ht,ht.innerHTML,yt)}).observe(ht,{childList:!0,subtree:!0})},wr=(ht,yt,$t,tn)=>{const Un=ht.querySelector(yt);Un&&(Un.style[$t]=tn)},dr=function(ht,yt){let $t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";yt?ir(ht,$t):sr(ht)},Er=ht=>!!(ht&&(ht.offsetWidth||ht.offsetHeight||ht.getClientRects().length)),Dn=()=>!Er(St())&&!Er(Tt())&&!Er(It()),pn=ht=>ht.scrollHeight>ht.clientHeight,on=ht=>{const yt=window.getComputedStyle(ht),$t=parseFloat(yt.getPropertyValue("animation-duration")||"0"),tn=parseFloat(yt.getPropertyValue("transition-duration")||"0");return $t>0||tn>0},jn=function(ht){let yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const $t=Zt();$t&&Er($t)&&(yt&&($t.style.transition="none",$t.style.width="100%"),setTimeout(()=>{$t.style.transition="width ".concat(ht/1e3,"s linear"),$t.style.width="0%"},10))},On=()=>{const ht=Zt();if(!ht)return;const yt=parseInt(window.getComputedStyle(ht).width);ht.style.removeProperty("transition"),ht.style.width="100%";const $t=parseInt(window.getComputedStyle(ht).width),tn=yt/$t*100;ht.style.width="".concat(tn,"%")},$r=()=>typeof window>"u"||typeof document>"u",Gr=`
 <div aria-labelledby="`.concat(ut.title,'" aria-describedby="').concat(ut["html-container"],'" class="').concat(ut.popup,`" tabindex="-1">
   <button type="button" class="`).concat(ut.close,`"></button>
   <ul class="`).concat(ut["progress-steps"],`"></ul>
   <div class="`).concat(ut.icon,`"></div>
   <img class="`).concat(ut.image,`" />
   <h2 class="`).concat(ut.title,'" id="').concat(ut.title,`"></h2>
   <div class="`).concat(ut["html-container"],'" id="').concat(ut["html-container"],`"></div>
   <input class="`).concat(ut.input,'" id="').concat(ut.input,`" />
   <input type="file" class="`).concat(ut.file,`" />
   <div class="`).concat(ut.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(ut.select,'" id="').concat(ut.select,`"></select>
   <div class="`).concat(ut.radio,`"></div>
   <label class="`).concat(ut.checkbox,`">
     <input type="checkbox" id="`).concat(ut.checkbox,`" />
     <span class="`).concat(ut.label,`"></span>
   </label>
   <textarea class="`).concat(ut.textarea,'" id="').concat(ut.textarea,`"></textarea>
   <div class="`).concat(ut["validation-message"],'" id="').concat(ut["validation-message"],`"></div>
   <div class="`).concat(ut.actions,`">
     <div class="`).concat(ut.loader,`"></div>
     <button type="button" class="`).concat(ut.confirm,`"></button>
     <button type="button" class="`).concat(ut.deny,`"></button>
     <button type="button" class="`).concat(ut.cancel,`"></button>
   </div>
   <div class="`).concat(ut.footer,`"></div>
   <div class="`).concat(ut["timer-progress-bar-container"],`">
     <div class="`).concat(ut["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),yn=()=>{const ht=zt();return ht?(ht.remove(),zn([document.documentElement,document.body],[ut["no-backdrop"],ut["toast-shown"],ut["has-column"]]),!0):!1},qn=()=>{lt.currentInstance.resetValidationMessage()},ar=()=>{const ht=rn(),yt=Gn(ht,ut.input),$t=Gn(ht,ut.file),tn=ht.querySelector(".".concat(ut.range," input")),Un=ht.querySelector(".".concat(ut.range," output")),Pr=Gn(ht,ut.select),is=ht.querySelector(".".concat(ut.checkbox," input")),ms=Gn(ht,ut.textarea);yt.oninput=qn,$t.onchange=qn,Pr.onchange=qn,is.onchange=qn,ms.oninput=qn,tn.oninput=()=>{qn(),Un.value=tn.value},tn.onchange=()=>{qn(),Un.value=tn.value}},Xn=ht=>typeof ht=="string"?document.querySelector(ht):ht,lr=ht=>{const yt=rn();yt.setAttribute("role",ht.toast?"alert":"dialog"),yt.setAttribute("aria-live",ht.toast?"polite":"assertive"),ht.toast||yt.setAttribute("aria-modal","true")},hr=ht=>{window.getComputedStyle(ht).direction==="rtl"&&mn(zt(),ut.rtl)},jr=ht=>{const yt=yn();if($r()){Et("SweetAlert2 requires document to initialize");return}const $t=document.createElement("div");$t.className=ut.container,yt&&mn($t,ut["no-transition"]),sn($t,Gr);const tn=Xn(ht.target);tn.appendChild($t),lr(ht),hr(tn),ar()},Wn=(ht,yt)=>{ht instanceof HTMLElement?yt.appendChild(ht):typeof ht=="object"?Or(ht,yt):ht&&sn(yt,ht)},Or=(ht,yt)=>{ht.jquery?or(yt,ht):sn(yt,ht.toString())},or=(ht,yt)=>{if(ht.textContent="",0 in yt)for(let $t=0;$t in yt;$t++)ht.appendChild(yt[$t].cloneNode(!0));else ht.appendChild(yt.cloneNode(!0))},Gt=(()=>{if($r())return!1;const ht=document.createElement("div");return typeof ht.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof ht.style.animation<"u"?"animationend":!1})(),Rt=(ht,yt)=>{const $t=jt(),tn=Ot();!$t||!tn||(!yt.showConfirmButton&&!yt.showDenyButton&&!yt.showCancelButton?sr($t):ir($t),kn($t,yt,"actions"),Vt($t,tn,yt),sn(tn,yt.loaderHtml||""),kn(tn,yt,"loader"))};function Vt(ht,yt,$t){const tn=St(),Un=Tt(),Pr=It();!tn||!Un||!Pr||(ln(tn,"confirm",$t),ln(Un,"deny",$t),ln(Pr,"cancel",$t),Kt(tn,Un,Pr,$t),$t.reverseButtons&&($t.toast?(ht.insertBefore(Pr,tn),ht.insertBefore(Un,tn)):(ht.insertBefore(Pr,yt),ht.insertBefore(Un,yt),ht.insertBefore(tn,yt))))}function Kt(ht,yt,$t,tn){if(!tn.buttonsStyling){zn([ht,yt,$t],ut.styled);return}mn([ht,yt,$t],ut.styled),tn.confirmButtonColor&&(ht.style.backgroundColor=tn.confirmButtonColor,mn(ht,ut["default-outline"])),tn.denyButtonColor&&(yt.style.backgroundColor=tn.denyButtonColor,mn(yt,ut["default-outline"])),tn.cancelButtonColor&&($t.style.backgroundColor=tn.cancelButtonColor,mn($t,ut["default-outline"]))}function ln(ht,yt,$t){const tn=vt(yt);dr(ht,$t["show".concat(tn,"Button")],"inline-block"),sn(ht,$t["".concat(yt,"ButtonText")]||""),ht.setAttribute("aria-label",$t["".concat(yt,"ButtonAriaLabel")]||""),ht.className=ut[yt],kn(ht,$t,"".concat(yt,"Button"))}const gn=(ht,yt)=>{const $t=bn();$t&&(sn($t,yt.closeButtonHtml||""),kn($t,yt,"closeButton"),dr($t,yt.showCloseButton),$t.setAttribute("aria-label",yt.closeButtonAriaLabel||""))},Pn=(ht,yt)=>{const $t=zt();$t&&(Bn($t,yt.backdrop),Zn($t,yt.position),Jn($t,yt.grow),kn($t,yt,"container"))};function Bn(ht,yt){typeof yt=="string"?ht.style.background=yt:yt||mn([document.documentElement,document.body],ut["no-backdrop"])}function Zn(ht,yt){yt&&(yt in ut?mn(ht,ut[yt]):(bt('The "position" parameter is not valid, defaulting to "center"'),mn(ht,ut.center)))}function Jn(ht,yt){yt&&mn(ht,ut["grow-".concat(yt)])}var rr={innerParams:new WeakMap,domCache:new WeakMap};const tr=["input","file","range","select","radio","checkbox","textarea"],nr=(ht,yt)=>{const $t=rn();if(!$t)return;const tn=rr.innerParams.get(ht),Un=!tn||yt.input!==tn.input;tr.forEach(Pr=>{const is=Gn($t,ut[Pr]);is&&(Vr(Pr,yt.inputAttributes),is.className=ut[Pr],Un&&sr(is))}),yt.input&&(Un&&yr(yt),Hr(yt))},yr=ht=>{if(!ht.input)return;if(!ts[ht.input]){Et("Unexpected type of input! Expected ".concat(Object.keys(ts).join(" | "),', got "').concat(ht.input,'"'));return}const yt=Ps(ht.input),$t=ts[ht.input](yt,ht);ir(yt),ht.inputAutoFocus&&setTimeout(()=>{nn($t)})},Ir=ht=>{for(let yt=0;yt<ht.attributes.length;yt++){const $t=ht.attributes[yt].name;["id","type","value","style"].includes($t)||ht.removeAttribute($t)}},Vr=(ht,yt)=>{const $t=cn(rn(),ht);if($t){Ir($t);for(const tn in yt)$t.setAttribute(tn,yt[tn])}},Hr=ht=>{const yt=Ps(ht.input);typeof ht.customClass=="object"&&mn(yt,ht.customClass.input)},fs=(ht,yt)=>{(!ht.placeholder||yt.inputPlaceholder)&&(ht.placeholder=yt.inputPlaceholder)},Zr=(ht,yt,$t)=>{if($t.inputLabel){const tn=document.createElement("label"),Un=ut["input-label"];tn.setAttribute("for",ht.id),tn.className=Un,typeof $t.customClass=="object"&&mn(tn,$t.customClass.inputLabel),tn.innerText=$t.inputLabel,yt.insertAdjacentElement("beforebegin",tn)}},Ps=ht=>Gn(rn(),ut[ht]||ut.input),Rs=(ht,yt)=>{["string","number"].includes(typeof yt)?ht.value="".concat(yt):Ht(yt)||bt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof yt,'"'))},ts={};ts.text=ts.email=ts.password=ts.number=ts.tel=ts.url=ts.search=ts.date=ts["datetime-local"]=ts.time=ts.week=ts.month=(ht,yt)=>(Rs(ht,yt.inputValue),Zr(ht,ht,yt),fs(ht,yt),ht.type=yt.input,ht),ts.file=(ht,yt)=>(Zr(ht,ht,yt),fs(ht,yt),ht),ts.range=(ht,yt)=>{const $t=ht.querySelector("input"),tn=ht.querySelector("output");return Rs($t,yt.inputValue),$t.type=yt.input,Rs(tn,yt.inputValue),Zr($t,ht,yt),ht},ts.select=(ht,yt)=>{if(ht.textContent="",yt.inputPlaceholder){const $t=document.createElement("option");sn($t,yt.inputPlaceholder),$t.value="",$t.disabled=!0,$t.selected=!0,ht.appendChild($t)}return Zr(ht,ht,yt),ht},ts.radio=ht=>(ht.textContent="",ht),ts.checkbox=(ht,yt)=>{const $t=cn(rn(),"checkbox");$t.value="1",$t.checked=!!yt.inputValue;const tn=ht.querySelector("span");return sn(tn,yt.inputPlaceholder),$t},ts.textarea=(ht,yt)=>{Rs(ht,yt.inputValue),fs(ht,yt),Zr(ht,ht,yt);const $t=tn=>parseInt(window.getComputedStyle(tn).marginLeft)+parseInt(window.getComputedStyle(tn).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const tn=parseInt(window.getComputedStyle(rn()).width),Un=()=>{if(!document.body.contains(ht))return;const Pr=ht.offsetWidth+$t(ht);Pr>tn?rn().style.width="".concat(Pr,"px"):ur(rn(),"width",yt.width)};new MutationObserver(Un).observe(ht,{attributes:!0,attributeFilter:["style"]})}}),ht};const ro=(ht,yt)=>{const $t=Tn();$t&&(_r($t),kn($t,yt,"htmlContainer"),yt.html?(Wn(yt.html,$t),ir($t,"block")):yt.text?($t.textContent=yt.text,ir($t,"block")):sr($t),nr(ht,yt))},Ol=(ht,yt)=>{const $t=qt();$t&&(_r($t),dr($t,yt.footer,"block"),yt.footer&&Wn(yt.footer,$t),kn($t,yt,"footer"))},Ml=(ht,yt)=>{const $t=rr.innerParams.get(ht),tn=wn();if(tn){if($t&&yt.icon===$t.icon){go(tn,yt),jo(tn,yt);return}if(!yt.icon&&!yt.iconHtml){sr(tn);return}if(yt.icon&&Object.keys(ft).indexOf(yt.icon)===-1){Et('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(yt.icon,'"')),sr(tn);return}ir(tn),go(tn,yt),jo(tn,yt),mn(tn,yt.showClass&&yt.showClass.icon)}},jo=(ht,yt)=>{for(const[$t,tn]of Object.entries(ft))yt.icon!==$t&&zn(ht,tn);mn(ht,yt.icon&&ft[yt.icon]),Ll(ht,yt),Fl(),kn(ht,yt,"icon")},Fl=()=>{const ht=rn();if(!ht)return;const yt=window.getComputedStyle(ht).getPropertyValue("background-color"),$t=ht.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let tn=0;tn<$t.length;tn++)$t[tn].style.backgroundColor=yt},io=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Uo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,go=(ht,yt)=>{if(!yt.icon&&!yt.iconHtml)return;let $t=ht.innerHTML,tn="";yt.iconHtml?tn=Ys(yt.iconHtml):yt.icon==="success"?(tn=io,$t=$t.replace(/ style=".*?"/g,"")):yt.icon==="error"?tn=Uo:yt.icon&&(tn=Ys({question:"?",warning:"!",info:"i"}[yt.icon])),$t.trim()!==tn.trim()&&sn(ht,tn)},Ll=(ht,yt)=>{if(yt.iconColor){ht.style.color=yt.iconColor,ht.style.borderColor=yt.iconColor;for(const $t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wr(ht,$t,"backgroundColor",yt.iconColor);wr(ht,".swal2-success-ring","borderColor",yt.iconColor)}},Ys=ht=>'<div class="'.concat(ut["icon-content"],'">').concat(ht,"</div>"),Nl=(ht,yt)=>{const $t=Fn();if($t){if(!yt.imageUrl){sr($t);return}ir($t,""),$t.setAttribute("src",yt.imageUrl),$t.setAttribute("alt",yt.imageAlt||""),ur($t,"width",yt.imageWidth),ur($t,"height",yt.imageHeight),$t.className=ut.image,kn($t,yt,"image")}},Vl=(ht,yt)=>{const $t=zt(),tn=rn();if(!(!$t||!tn)){if(yt.toast){ur($t,"width",yt.width),tn.style.width="100%";const Un=Ot();Un&&tn.insertBefore(Un,wn())}else ur(tn,"width",yt.width);ur(tn,"padding",yt.padding),yt.color&&(tn.style.color=yt.color),yt.background&&(tn.style.background=yt.background),sr(Ut()),Ul(tn,yt)}},Ul=(ht,yt)=>{const $t=yt.showClass||{};ht.className="".concat(ut.popup," ").concat(Er(ht)?$t.popup:""),yt.toast?(mn([document.documentElement,document.body],ut["toast-shown"]),mn(ht,ut.toast)):mn(ht,ut.modal),kn(ht,yt,"popup"),typeof yt.customClass=="string"&&mn(ht,yt.customClass),yt.icon&&mn(ht,ut["icon-".concat(yt.icon)])},_o=(ht,yt)=>{const $t=Mn();if(!$t)return;const{progressSteps:tn,currentProgressStep:Un}=yt;if(!tn||tn.length===0||Un===void 0){sr($t);return}ir($t),$t.textContent="",Un>=tn.length&&bt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),tn.forEach((Pr,is)=>{const ms=Bl(Pr);if($t.appendChild(ms),is===Un&&mn(ms,ut["active-progress-step"]),is!==tn.length-1){const Es=Wl(yt);$t.appendChild(Es)}})},Bl=ht=>{const yt=document.createElement("li");return mn(yt,ut["progress-step"]),sn(yt,ht),yt},Wl=ht=>{const yt=document.createElement("li");return mn(yt,ut["progress-step-line"]),ht.progressStepsDistance&&ur(yt,"width",ht.progressStepsDistance),yt},Bo=(ht,yt)=>{const $t=fn();$t&&(_r($t),dr($t,yt.title||yt.titleText,"block"),yt.title&&Wn(yt.title,$t),yt.titleText&&($t.innerText=yt.titleText),kn($t,yt,"title"))},yo=(ht,yt)=>{Vl(ht,yt),Pn(ht,yt),_o(ht,yt),Ml(ht,yt),Nl(ht,yt),Bo(ht,yt),gn(ht,yt),ro(ht,yt),Rt(ht,yt),Ol(ht,yt);const $t=rn();typeof yt.didRender=="function"&&$t&&yt.didRender($t)},Hl=()=>Er(rn()),Wo=()=>{var ht;return(ht=St())===null||ht===void 0?void 0:ht.click()},vo=()=>{var ht;return(ht=Tt())===null||ht===void 0?void 0:ht.click()},zl=()=>{var ht;return(ht=It())===null||ht===void 0?void 0:ht.click()},Us=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Eo=ht=>{ht.keydownTarget&&ht.keydownHandlerAdded&&(ht.keydownTarget.removeEventListener("keydown",ht.keydownHandler,{capture:ht.keydownListenerCapture}),ht.keydownHandlerAdded=!1)},Gl=(ht,yt,$t)=>{Eo(ht),yt.toast||(ht.keydownHandler=tn=>Ks(yt,tn,$t),ht.keydownTarget=yt.keydownListenerCapture?window:rn(),ht.keydownListenerCapture=yt.keydownListenerCapture,ht.keydownTarget.addEventListener("keydown",ht.keydownHandler,{capture:ht.keydownListenerCapture}),ht.keydownHandlerAdded=!0)},Js=(ht,yt)=>{var $t;const tn=In();if(tn.length){ht=ht+yt,ht===tn.length?ht=0:ht===-1&&(ht=tn.length-1),tn[ht].focus();return}($t=rn())===null||$t===void 0||$t.focus()},Ho=["ArrowRight","ArrowDown"],Yl=["ArrowLeft","ArrowUp"],Ks=(ht,yt,$t)=>{ht&&(yt.isComposing||yt.keyCode===229||(ht.stopKeydownPropagation&&yt.stopPropagation(),yt.key==="Enter"?Kl(yt,ht):yt.key==="Tab"?zo(yt):[...Ho,...Yl].includes(yt.key)?Xl(yt.key):yt.key==="Escape"&&so(yt,ht,$t)))},Kl=(ht,yt)=>{if(!At(yt.allowEnterKey))return;const $t=cn(rn(),yt.input);if(ht.target&&$t&&ht.target instanceof HTMLElement&&ht.target.outerHTML===$t.outerHTML){if(["textarea","file"].includes(yt.input))return;Wo(),ht.preventDefault()}},zo=ht=>{const yt=ht.target,$t=In();let tn=-1;for(let Un=0;Un<$t.length;Un++)if(yt===$t[Un]){tn=Un;break}ht.shiftKey?Js(tn,-1):Js(tn,1),ht.stopPropagation(),ht.preventDefault()},Xl=ht=>{const yt=jt(),$t=St(),tn=Tt(),Un=It();if(!yt||!$t||!tn||!Un)return;const Pr=[$t,tn,Un];if(document.activeElement instanceof HTMLElement&&!Pr.includes(document.activeElement))return;const is=Ho.includes(ht)?"nextElementSibling":"previousElementSibling";let ms=document.activeElement;if(ms){for(let Es=0;Es<yt.children.length;Es++){if(ms=ms[is],!ms)return;if(ms instanceof HTMLButtonElement&&Er(ms))break}ms instanceof HTMLButtonElement&&ms.focus()}},so=(ht,yt,$t)=>{At(yt.allowEscapeKey)&&(ht.preventDefault(),$t(Us.esc))};var Bs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ql=()=>{Array.from(document.body.children).forEach(yt=>{yt===zt()||yt.contains(zt())||(yt.hasAttribute("aria-hidden")&&yt.setAttribute("data-previous-aria-hidden",yt.getAttribute("aria-hidden")||""),yt.setAttribute("aria-hidden","true"))})},wo=()=>{Array.from(document.body.children).forEach(yt=>{yt.hasAttribute("data-previous-aria-hidden")?(yt.setAttribute("aria-hidden",yt.getAttribute("data-previous-aria-hidden")||""),yt.removeAttribute("data-previous-aria-hidden")):yt.removeAttribute("aria-hidden")})},bo=typeof window<"u"&&!!window.GestureEvent,xo=()=>{if(bo&&!xn(document.body,ut.iosfix)){const ht=document.body.scrollTop;document.body.style.top="".concat(ht*-1,"px"),mn(document.body,ut.iosfix),Jl()}},Jl=()=>{const ht=zt();if(!ht)return;let yt;ht.ontouchstart=$t=>{yt=Zl($t)},ht.ontouchmove=$t=>{yt&&($t.preventDefault(),$t.stopPropagation())}},Zl=ht=>{const yt=ht.target,$t=zt(),tn=Tn();return!$t||!tn||_c(ht)||Pt(ht)?!1:yt===$t||!pn($t)&&yt instanceof HTMLElement&&yt.tagName!=="INPUT"&&yt.tagName!=="TEXTAREA"&&!(pn(tn)&&tn.contains(yt))},_c=ht=>ht.touches&&ht.touches.length&&ht.touches[0].touchType==="stylus",Pt=ht=>ht.touches&&ht.touches.length>1,Ft=()=>{if(xn(document.body,ut.iosfix)){const ht=parseInt(document.body.style.top,10);zn(document.body,ut.iosfix),document.body.style.top="",document.body.scrollTop=ht*-1}},Yt=()=>{const ht=document.createElement("div");ht.className=ut["scrollbar-measure"],document.body.appendChild(ht);const yt=ht.getBoundingClientRect().width-ht.clientWidth;return document.body.removeChild(ht),yt};let Jt=null;const an=ht=>{Jt===null&&(document.body.scrollHeight>window.innerHeight||ht==="scroll")&&(Jt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Jt+Yt(),"px"))},un=()=>{Jt!==null&&(document.body.style.paddingRight="".concat(Jt,"px"),Jt=null)};function An(ht,yt,$t,tn){Hn()?Qn(ht,tn):(dt($t).then(()=>Qn(ht,tn)),Eo(lt)),bo?(yt.setAttribute("style","display:none !important"),yt.removeAttribute("class"),yt.innerHTML=""):yt.remove(),$n()&&(un(),Ft(),wo()),_n()}function _n(){zn([document.documentElement,document.body],[ut.shown,ut["height-auto"],ut["no-backdrop"],ut["toast-shown"]])}function en(ht){ht=Vn(ht);const yt=Bs.swalPromiseResolve.get(this),$t=Sn(this);this.isAwaitingPromise?ht.isDismissed||(Nn(this),yt(ht)):$t&&yt(ht)}const Sn=ht=>{const yt=rn();if(!yt)return!1;const $t=rr.innerParams.get(ht);if(!$t||xn(yt,$t.hideClass.popup))return!1;zn(yt,$t.showClass.popup),mn(yt,$t.hideClass.popup);const tn=zt();return zn(tn,$t.showClass.backdrop),mn(tn,$t.hideClass.backdrop),Ln(ht,yt,$t),!0};function vn(ht){const yt=Bs.swalPromiseReject.get(this);Nn(this),yt&&yt(ht)}const Nn=ht=>{ht.isAwaitingPromise&&(delete ht.isAwaitingPromise,rr.innerParams.get(ht)||ht._destroy())},Vn=ht=>typeof ht>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},ht),Ln=(ht,yt,$t)=>{const tn=zt(),Un=Gt&&on(yt);typeof $t.willClose=="function"&&$t.willClose(yt),Un?er(ht,yt,tn,$t.returnFocus,$t.didClose):An(ht,tn,$t.returnFocus,$t.didClose)},er=(ht,yt,$t,tn,Un)=>{Gt&&(lt.swalCloseEventFinishedCallback=An.bind(null,ht,$t,tn,Un),yt.addEventListener(Gt,function(Pr){Pr.target===yt&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback)}))},Qn=(ht,yt)=>{setTimeout(()=>{typeof yt=="function"&&yt.bind(ht.params)(),ht._destroy&&ht._destroy()})},Yn=ht=>{let yt=rn();if(yt||new ga,yt=rn(),!yt)return;const $t=Ot();Hn()?sr(wn()):Nr(yt,ht),ir($t),yt.setAttribute("data-loading","true"),yt.setAttribute("aria-busy","true"),yt.focus()},Nr=(ht,yt)=>{const $t=jt(),tn=Ot();!$t||!tn||(!yt&&Er(St())&&(yt=St()),ir($t),yt&&(sr(yt),tn.setAttribute("data-button-to-replace",yt.className),$t.insertBefore(tn,yt)),mn([ht,$t],ut.loading))},br=(ht,yt)=>{yt.input==="select"||yt.input==="radio"?Tr(ht,yt):["text","email","number","tel","textarea"].some($t=>$t===yt.input)&&(Lt(yt.inputValue)||Ht(yt.inputValue))&&(Yn(St()),Yr(ht,yt))},xr=(ht,yt)=>{const $t=ht.getInput();if(!$t)return null;switch(yt.input){case"checkbox":return Rr($t);case"radio":return fr($t);case"file":return kr($t);default:return yt.inputAutoTrim?$t.value.trim():$t.value}},Rr=ht=>ht.checked?1:0,fr=ht=>ht.checked?ht.value:null,kr=ht=>ht.files&&ht.files.length?ht.getAttribute("multiple")!==null?ht.files:ht.files[0]:null,Tr=(ht,yt)=>{const $t=rn();if(!$t)return;const tn=Un=>{yt.input==="select"?zr($t,qr(Un),yt):yt.input==="radio"&&Kr($t,qr(Un),yt)};Lt(yt.inputOptions)||Ht(yt.inputOptions)?(Yn(St()),Mt(yt.inputOptions).then(Un=>{ht.hideLoading(),tn(Un)})):typeof yt.inputOptions=="object"?tn(yt.inputOptions):Et("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof yt.inputOptions))},Yr=(ht,yt)=>{const $t=ht.getInput();$t&&(sr($t),Mt(yt.inputValue).then(tn=>{$t.value=yt.input==="number"?"".concat(parseFloat(tn)||0):"".concat(tn),ir($t),$t.focus(),ht.hideLoading()}).catch(tn=>{Et("Error in inputValue promise: ".concat(tn)),$t.value="",ir($t),$t.focus(),ht.hideLoading()}))};function zr(ht,yt,$t){const tn=Gn(ht,ut.select);if(!tn)return;const Un=(Pr,is,ms)=>{const Es=document.createElement("option");Es.value=ms,sn(Es,is),Es.selected=Xr(ms,$t.inputValue),Pr.appendChild(Es)};yt.forEach(Pr=>{const is=Pr[0],ms=Pr[1];if(Array.isArray(ms)){const Es=document.createElement("optgroup");Es.label=is,Es.disabled=!1,tn.appendChild(Es),ms.forEach(co=>Un(Es,co[1],co[0]))}else Un(tn,ms,is)}),tn.focus()}function Kr(ht,yt,$t){const tn=Gn(ht,ut.radio);if(!tn)return;yt.forEach(Pr=>{const is=Pr[0],ms=Pr[1],Es=document.createElement("input"),co=document.createElement("label");Es.type="radio",Es.name=ut.radio,Es.value=is,Xr(is,$t.inputValue)&&(Es.checked=!0);const du=document.createElement("span");sn(du,ms),du.className=ut.label,co.appendChild(Es),co.appendChild(du),tn.appendChild(co)});const Un=tn.querySelectorAll("input");Un.length&&Un[0].focus()}const qr=ht=>{const yt=[];return ht instanceof Map?ht.forEach(($t,tn)=>{let Un=$t;typeof Un=="object"&&(Un=qr(Un)),yt.push([tn,Un])}):Object.keys(ht).forEach($t=>{let tn=ht[$t];typeof tn=="object"&&(tn=qr(tn)),yt.push([$t,tn])}),yt},Xr=(ht,yt)=>!!yt&&yt.toString()===ht.toString(),gs=ht=>{const yt=rr.innerParams.get(ht);ht.disableButtons(),yt.input?us(ht,"confirm"):$s(ht,!0)},ls=ht=>{const yt=rr.innerParams.get(ht);ht.disableButtons(),yt.returnInputValueOnDeny?us(ht,"deny"):ds(ht,!1)},ys=(ht,yt)=>{ht.disableButtons(),yt(Us.cancel)},us=(ht,yt)=>{const $t=rr.innerParams.get(ht);if(!$t.input){Et('The "input" parameter is needed to be set when using returnInputValueOn'.concat(vt(yt)));return}const tn=ht.getInput(),Un=xr(ht,$t);$t.inputValidator?ps(ht,Un,yt):tn&&!tn.checkValidity()?(ht.enableButtons(),ht.showValidationMessage($t.validationMessage)):yt==="deny"?ds(ht,Un):$s(ht,Un)},ps=(ht,yt,$t)=>{const tn=rr.innerParams.get(ht);ht.disableInput(),Promise.resolve().then(()=>Mt(tn.inputValidator(yt,tn.validationMessage))).then(Pr=>{ht.enableButtons(),ht.enableInput(),Pr?ht.showValidationMessage(Pr):$t==="deny"?ds(ht,yt):$s(ht,yt)})},ds=(ht,yt)=>{const $t=rr.innerParams.get(ht||void 0);$t.showLoaderOnDeny&&Yn(Tt()),$t.preDeny?(ht.isAwaitingPromise=!0,Promise.resolve().then(()=>Mt($t.preDeny(yt,$t.validationMessage))).then(Un=>{Un===!1?(ht.hideLoading(),Nn(ht)):ht.close({isDenied:!0,value:typeof Un>"u"?yt:Un})}).catch(Un=>Ss(ht||void 0,Un))):ht.close({isDenied:!0,value:yt})},hs=(ht,yt)=>{ht.close({isConfirmed:!0,value:yt})},Ss=(ht,yt)=>{ht.rejectPromise(yt)},$s=(ht,yt)=>{const $t=rr.innerParams.get(ht||void 0);$t.showLoaderOnConfirm&&Yn(),$t.preConfirm?(ht.resetValidationMessage(),ht.isAwaitingPromise=!0,Promise.resolve().then(()=>Mt($t.preConfirm(yt,$t.validationMessage))).then(Un=>{Er(Ut())||Un===!1?(ht.hideLoading(),Nn(ht)):hs(ht,typeof Un>"u"?yt:Un)}).catch(Un=>Ss(ht||void 0,Un))):hs(ht,yt)};function Cs(){const ht=rr.innerParams.get(this);if(!ht)return;const yt=rr.domCache.get(this);sr(yt.loader),Hn()?ht.icon&&ir(wn()):bs(yt),zn([yt.popup,yt.actions],ut.loading),yt.popup.removeAttribute("aria-busy"),yt.popup.removeAttribute("data-loading"),yt.confirmButton.disabled=!1,yt.denyButton.disabled=!1,yt.cancelButton.disabled=!1}const bs=ht=>{const yt=ht.popup.getElementsByClassName(ht.loader.getAttribute("data-button-to-replace"));yt.length?ir(yt[0],"inline-block"):Dn()&&sr(ht.actions)};function Is(){const ht=rr.innerParams.get(this),yt=rr.domCache.get(this);return yt?cn(yt.popup,ht.input):null}function Os(ht,yt,$t){const tn=rr.domCache.get(ht);yt.forEach(Un=>{tn[Un].disabled=$t})}function Ar(ht,yt){const $t=rn();if(!(!$t||!ht))if(ht.type==="radio"){const tn=$t.querySelectorAll('[name="'.concat(ut.radio,'"]'));for(let Un=0;Un<tn.length;Un++)tn[Un].disabled=yt}else ht.disabled=yt}function Sr(){Os(this,["confirmButton","denyButton","cancelButton"],!1)}function pr(){Os(this,["confirmButton","denyButton","cancelButton"],!0)}function vr(){Ar(this.getInput(),!1)}function mr(){Ar(this.getInput(),!0)}function Cr(ht){const yt=rr.domCache.get(this),$t=rr.innerParams.get(this);sn(yt.validationMessage,ht),yt.validationMessage.className=ut["validation-message"],$t.customClass&&$t.customClass.validationMessage&&mn(yt.validationMessage,$t.customClass.validationMessage),ir(yt.validationMessage);const tn=this.getInput();tn&&(tn.setAttribute("aria-invalid","true"),tn.setAttribute("aria-describedby",ut["validation-message"]),nn(tn),mn(tn,ut.inputerror))}function Dr(){const ht=rr.domCache.get(this);ht.validationMessage&&sr(ht.validationMessage);const yt=this.getInput();yt&&(yt.removeAttribute("aria-invalid"),yt.removeAttribute("aria-describedby"),zn(yt,ut.inputerror))}const gr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},cr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mr={},Ur=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ns=ht=>Object.prototype.hasOwnProperty.call(gr,ht),es=ht=>cr.indexOf(ht)!==-1,xs=ht=>Mr[ht],ks=ht=>{ns(ht)||bt('Unknown parameter "'.concat(ht,'"'))},Lr=ht=>{Ur.includes(ht)&&bt('The parameter "'.concat(ht,'" is incompatible with toasts'))},As=ht=>{const yt=xs(ht);yt&&Ct(ht,yt)},ss=ht=>{ht.backdrop===!1&&ht.allowOutsideClick&&bt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const yt in ht)ks(yt),ht.toast&&Lr(yt),As(yt)};function os(ht){const yt=rn(),$t=rr.innerParams.get(this);if(!yt||xn(yt,$t.hideClass.popup)){bt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const tn=ws(ht),Un=Object.assign({},$t,tn);yo(this,Un),rr.innerParams.set(this,Un),Object.defineProperties(this,{params:{value:Object.assign({},this.params,ht),writable:!1,enumerable:!0}})}const ws=ht=>{const yt={};return Object.keys(ht).forEach($t=>{es($t)?yt[$t]=ht[$t]:bt("Invalid parameter to update: ".concat($t))}),yt};function _i(){const ht=rr.domCache.get(this),yt=rr.innerParams.get(this);if(!yt){Ws(this);return}ht.popup&&lt.swalCloseEventFinishedCallback&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback),typeof yt.didDestroy=="function"&&yt.didDestroy(),Fs(this)}const Fs=ht=>{Ws(ht),delete ht.params,delete lt.keydownHandler,delete lt.keydownTarget,delete lt.currentInstance},Ws=ht=>{ht.isAwaitingPromise?(Xs(rr,ht),ht.isAwaitingPromise=!0):(Xs(Bs,ht),Xs(rr,ht),delete ht.isAwaitingPromise,delete ht.disableButtons,delete ht.enableButtons,delete ht.getInput,delete ht.disableInput,delete ht.enableInput,delete ht.hideLoading,delete ht.disableLoading,delete ht.showValidationMessage,delete ht.resetValidationMessage,delete ht.close,delete ht.closePopup,delete ht.closeModal,delete ht.closeToast,delete ht.rejectPromise,delete ht.update,delete ht._destroy)},Xs=(ht,yt)=>{for(const $t in ht)ht[$t].delete(yt)};var Hs=Object.freeze({__proto__:null,_destroy:_i,close:en,closeModal:en,closePopup:en,closeToast:en,disableButtons:pr,disableInput:mr,disableLoading:Cs,enableButtons:Sr,enableInput:vr,getInput:Is,handleAwaitingPromise:Nn,hideLoading:Cs,rejectPromise:vn,resetValidationMessage:Dr,showValidationMessage:Cr,update:os});const Zs=(ht,yt,$t)=>{ht.toast?eu(ht,yt,$t):(tu(yt),rs(yt),nu(ht,yt,$t))},eu=(ht,yt,$t)=>{yt.popup.onclick=()=>{ht&&(Ds(ht)||ht.timer||ht.input)||$t(Us.close)}},Ds=ht=>!!(ht.showConfirmButton||ht.showDenyButton||ht.showCancelButton||ht.showCloseButton);let eo=!1;const tu=ht=>{ht.popup.onmousedown=()=>{ht.container.onmouseup=function(yt){ht.container.onmouseup=()=>{},yt.target===ht.container&&(eo=!0)}}},rs=ht=>{ht.container.onmousedown=()=>{ht.popup.onmouseup=function(yt){ht.popup.onmouseup=()=>{},(yt.target===ht.popup||yt.target instanceof HTMLElement&&ht.popup.contains(yt.target))&&(eo=!0)}}},nu=(ht,yt,$t)=>{yt.container.onclick=tn=>{if(eo){eo=!1;return}tn.target===yt.container&&At(ht.allowOutsideClick)&&$t(Us.backdrop)}},Ls=ht=>typeof ht=="object"&&ht.jquery,qo=ht=>ht instanceof Element||Ls(ht),ru=ht=>{const yt={};return typeof ht[0]=="object"&&!qo(ht[0])?Object.assign(yt,ht[0]):["title","html","icon"].forEach(($t,tn)=>{const Un=ht[tn];typeof Un=="string"||qo(Un)?yt[$t]=Un:Un!==void 0&&Et("Unexpected type of ".concat($t,'! Expected "string" or "Element", got ').concat(typeof Un))}),yt};function iu(){const ht=this;for(var yt=arguments.length,$t=new Array(yt),tn=0;tn<yt;tn++)$t[tn]=arguments[tn];return new ht(...$t)}function So(ht){class yt extends this{_main(tn,Un){return super._main(tn,Object.assign({},ht,Un))}}return yt}const Go=()=>lt.timeout&&lt.timeout.getTimerLeft(),Yo=()=>{if(lt.timeout)return On(),lt.timeout.stop()},Ko=()=>{if(lt.timeout){const ht=lt.timeout.start();return jn(ht),ht}},su=()=>{const ht=lt.timeout;return ht&&(ht.running?Yo():Ko())},Ns=ht=>{if(lt.timeout){const yt=lt.timeout.increase(ht);return jn(yt,!0),yt}},ou=()=>!!(lt.timeout&&lt.timeout.isRunning());let Ao=!1;const oo={};function To(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";oo[ht]=this,Ao||(document.body.addEventListener("click",Xo),Ao=!0)}const Xo=ht=>{for(let yt=ht.target;yt&&yt!==document;yt=yt.parentNode)for(const $t in oo){const tn=yt.getAttribute($t);if(tn){oo[$t].fire({template:tn});return}}};var Qo=Object.freeze({__proto__:null,argsToParams:ru,bindClickHandler:To,clickCancel:zl,clickConfirm:Wo,clickDeny:vo,enableLoading:Yn,fire:iu,getActions:jt,getCancelButton:It,getCloseButton:bn,getConfirmButton:St,getContainer:zt,getDenyButton:Tt,getFocusableElements:In,getFooter:qt,getHtmlContainer:Tn,getIcon:wn,getIconContent:Wt,getImage:Fn,getInputLabel:Dt,getLoader:Ot,getPopup:rn,getProgressSteps:Mn,getTimerLeft:Go,getTimerProgressBar:Zt,getTitle:fn,getValidationMessage:Ut,increaseTimer:Ns,isDeprecatedParameter:xs,isLoading:Bt,isTimerRunning:ou,isUpdatableParameter:es,isValidParameter:ns,isVisible:Hl,mixin:So,resumeTimer:Ko,showLoading:Yn,stopTimer:Yo,toggleTimer:su});class zs{constructor(yt,$t){this.callback=yt,this.remaining=$t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(yt){const $t=this.running;return $t&&this.stop(),this.remaining+=yt,$t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Jo=["swal-title","swal-html","swal-footer"],au=ht=>{const yt=typeof ht.template=="string"?document.querySelector(ht.template):ht.template;if(!yt)return{};const $t=yt.content;return uu($t),Object.assign(Ro($t),Po($t),Io($t),Zo($t),lu($t),Co($t),cu($t,Jo))},Ro=ht=>{const yt={};return Array.from(ht.querySelectorAll("swal-param")).forEach(tn=>{Vs(tn,["name","value"]);const Un=tn.getAttribute("name"),Pr=tn.getAttribute("value");typeof gr[Un]=="boolean"?yt[Un]=Pr!=="false":typeof gr[Un]=="object"?yt[Un]=JSON.parse(Pr):yt[Un]=Pr}),yt},Po=ht=>{const yt={};return Array.from(ht.querySelectorAll("swal-function-param")).forEach(tn=>{const Un=tn.getAttribute("name"),Pr=tn.getAttribute("value");yt[Un]=new Function("return ".concat(Pr))()}),yt},Io=ht=>{const yt={};return Array.from(ht.querySelectorAll("swal-button")).forEach(tn=>{Vs(tn,["type","color","aria-label"]);const Un=tn.getAttribute("type");yt["".concat(Un,"ButtonText")]=tn.innerHTML,yt["show".concat(vt(Un),"Button")]=!0,tn.hasAttribute("color")&&(yt["".concat(Un,"ButtonColor")]=tn.getAttribute("color")),tn.hasAttribute("aria-label")&&(yt["".concat(Un,"ButtonAriaLabel")]=tn.getAttribute("aria-label"))}),yt},Zo=ht=>{const yt={},$t=ht.querySelector("swal-image");return $t&&(Vs($t,["src","width","height","alt"]),$t.hasAttribute("src")&&(yt.imageUrl=$t.getAttribute("src")),$t.hasAttribute("width")&&(yt.imageWidth=$t.getAttribute("width")),$t.hasAttribute("height")&&(yt.imageHeight=$t.getAttribute("height")),$t.hasAttribute("alt")&&(yt.imageAlt=$t.getAttribute("alt"))),yt},lu=ht=>{const yt={},$t=ht.querySelector("swal-icon");return $t&&(Vs($t,["type","color"]),$t.hasAttribute("type")&&(yt.icon=$t.getAttribute("type")),$t.hasAttribute("color")&&(yt.iconColor=$t.getAttribute("color")),yt.iconHtml=$t.innerHTML),yt},Co=ht=>{const yt={},$t=ht.querySelector("swal-input");$t&&(Vs($t,["type","label","placeholder","value"]),yt.input=$t.getAttribute("type")||"text",$t.hasAttribute("label")&&(yt.inputLabel=$t.getAttribute("label")),$t.hasAttribute("placeholder")&&(yt.inputPlaceholder=$t.getAttribute("placeholder")),$t.hasAttribute("value")&&(yt.inputValue=$t.getAttribute("value")));const tn=Array.from(ht.querySelectorAll("swal-input-option"));return tn.length&&(yt.inputOptions={},tn.forEach(Un=>{Vs(Un,["value"]);const Pr=Un.getAttribute("value"),is=Un.innerHTML;yt.inputOptions[Pr]=is})),yt},cu=(ht,yt)=>{const $t={};for(const tn in yt){const Un=yt[tn],Pr=ht.querySelector(Un);Pr&&(Vs(Pr,[]),$t[Un.replace(/^swal-/,"")]=Pr.innerHTML.trim())}return $t},uu=ht=>{const yt=Jo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(ht.children).forEach($t=>{const tn=$t.tagName.toLowerCase();yt.includes(tn)||bt("Unrecognized element <".concat(tn,">"))})},Vs=(ht,yt)=>{Array.from(ht.attributes).forEach($t=>{yt.indexOf($t.name)===-1&&bt(['Unrecognized attribute "'.concat($t.name,'" on <').concat(ht.tagName.toLowerCase(),">."),"".concat(yt.length?"Allowed attributes are: ".concat(yt.join(", ")):"To set the value, use HTML within the element.")])})},Kn=10,Fr=ht=>{const yt=zt(),$t=rn();typeof ht.willOpen=="function"&&ht.willOpen($t);const Un=window.getComputedStyle(document.body).overflowY;Wr(yt,$t,ht),setTimeout(()=>{Jr(yt,$t)},Kn),$n()&&(Qr(yt,ht.scrollbarPadding,Un),Ql()),!Hn()&&!lt.previousActiveElement&&(lt.previousActiveElement=document.activeElement),typeof ht.didOpen=="function"&&setTimeout(()=>ht.didOpen($t)),zn(yt,ut["no-transition"])},Br=ht=>{const yt=rn();if(ht.target!==yt||!Gt)return;const $t=zt();yt.removeEventListener(Gt,Br),$t.style.overflowY="auto"},Jr=(ht,yt)=>{Gt&&on(yt)?(ht.style.overflowY="hidden",yt.addEventListener(Gt,Br)):ht.style.overflowY="auto"},Qr=(ht,yt,$t)=>{xo(),yt&&$t!=="hidden"&&an($t),setTimeout(()=>{ht.scrollTop=0})},Wr=(ht,yt,$t)=>{mn(ht,$t.showClass.backdrop),yt.style.setProperty("opacity","0","important"),ir(yt,"grid"),setTimeout(()=>{mn(yt,$t.showClass.popup),yt.style.removeProperty("opacity")},Kn),mn([document.documentElement,document.body],ut.shown),$t.heightAuto&&$t.backdrop&&!$t.toast&&mn([document.documentElement,document.body],ut["height-auto"])};var vs={email:(ht,yt)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(ht)?Promise.resolve():Promise.resolve(yt||"Invalid email address"),url:(ht,yt)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(ht)?Promise.resolve():Promise.resolve(yt||"Invalid URL")};function js(ht){ht.inputValidator||(ht.input==="email"&&(ht.inputValidator=vs.email),ht.input==="url"&&(ht.inputValidator=vs.url))}function ko(ht){(!ht.target||typeof ht.target=="string"&&!document.querySelector(ht.target)||typeof ht.target!="string"&&!ht.target.appendChild)&&(bt('Target parameter is not valid, defaulting to "body"'),ht.target="body")}function ao(ht){js(ht),ht.showLoaderOnConfirm&&!ht.preConfirm&&bt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ko(ht),typeof ht.title=="string"&&(ht.title=ht.title.split(`
`).join("<br />")),jr(ht)}let Ts;var qs=new WeakMap;class _s{constructor(){if(ot(this,qs,{writable:!0,value:void 0}),typeof window>"u")return;Ts=this;for(var yt=arguments.length,$t=new Array(yt),tn=0;tn<yt;tn++)$t[tn]=arguments[tn];const Un=Object.freeze(this.constructor.argsToParams($t));this.params=Un,this.isAwaitingPromise=!1,tt(this,qs,this._main(Ts.params))}_main(yt){let $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ss(Object.assign({},$t,yt)),lt.currentInstance&&(lt.currentInstance._destroy(),$n()&&wo()),lt.currentInstance=Ts;const tn=Qs(yt,$t);ao(tn),Object.freeze(tn),lt.timeout&&(lt.timeout.stop(),delete lt.timeout),clearTimeout(lt.restoreFocusTimeout);const Un=Rp(Ts);return yo(Ts,tn),rr.innerParams.set(Ts,tn),lo(Ts,Un,tn)}then(yt){return et(this,qs).then(yt)}finally(yt){return et(this,qs).finally(yt)}}const lo=(ht,yt,$t)=>new Promise((tn,Un)=>{const Pr=is=>{ht.close({isDismissed:!0,dismiss:is})};Bs.swalPromiseResolve.set(ht,tn),Bs.swalPromiseReject.set(ht,Un),yt.confirmButton.onclick=()=>{gs(ht)},yt.denyButton.onclick=()=>{ls(ht)},yt.cancelButton.onclick=()=>{ys(ht,Pr)},yt.closeButton.onclick=()=>{Pr(Us.close)},Zs($t,yt,Pr),Gl(lt,$t,Pr),br(ht,$t),Fr($t),Pp(lt,$t,Pr),Ip(yt,$t),setTimeout(()=>{yt.container.scrollTop=0})}),Qs=(ht,yt)=>{const $t=au(ht),tn=Object.assign({},gr,yt,$t,ht);return tn.showClass=Object.assign({},gr.showClass,tn.showClass),tn.hideClass=Object.assign({},gr.hideClass,tn.hideClass),tn},Rp=ht=>{const yt={popup:rn(),container:zt(),actions:jt(),confirmButton:St(),denyButton:Tt(),cancelButton:It(),loader:Ot(),closeButton:bn(),validationMessage:Ut(),progressSteps:Mn()};return rr.domCache.set(ht,yt),yt},Pp=(ht,yt,$t)=>{const tn=Zt();sr(tn),yt.timer&&(ht.timeout=new zs(()=>{$t("timer"),delete ht.timeout},yt.timer),yt.timerProgressBar&&(ir(tn),kn(tn,yt,"timerProgressBar"),setTimeout(()=>{ht.timeout&&ht.timeout.running&&jn(yt.timer)})))},Ip=(ht,yt)=>{if(!yt.toast){if(!At(yt.allowEnterKey)){kp();return}Cp(ht,yt)||Js(-1,1)}},Cp=(ht,yt)=>yt.focusDeny&&Er(ht.denyButton)?(ht.denyButton.focus(),!0):yt.focusCancel&&Er(ht.cancelButton)?(ht.cancelButton.focus(),!0):yt.focusConfirm&&Er(ht.confirmButton)?(ht.confirmButton.focus(),!0):!1,kp=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const ht=new Date,yt=localStorage.getItem("swal-initiation");yt?(ht.getTime()-Date.parse(yt))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const $t=document.createElement("audio");$t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",$t.loop=!0,document.body.appendChild($t),setTimeout(()=>{$t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(ht))}_s.prototype.disableButtons=pr,_s.prototype.enableButtons=Sr,_s.prototype.getInput=Is,_s.prototype.disableInput=mr,_s.prototype.enableInput=vr,_s.prototype.hideLoading=Cs,_s.prototype.disableLoading=Cs,_s.prototype.showValidationMessage=Cr,_s.prototype.resetValidationMessage=Dr,_s.prototype.close=en,_s.prototype.closePopup=en,_s.prototype.closeModal=en,_s.prototype.closeToast=en,_s.prototype.rejectPromise=vn,_s.prototype.update=os,_s.prototype._destroy=_i,Object.assign(_s,Qo),Object.keys(Hs).forEach(ht=>{_s[ht]=function(){return Ts&&Ts[ht]?Ts[ht](...arguments):null}}),_s.DismissReason=Us,_s.version="11.9.0";const ga=_s;return ga.default=ga,ga}),typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.Sweetalert2&&(commonjsGlobal$1.swal=commonjsGlobal$1.sweetAlert=commonjsGlobal$1.Swal=commonjsGlobal$1.SweetAlert=commonjsGlobal$1.Sweetalert2),typeof document<"u"&&function(et,tt){var nt=et.createElement("style");if(et.getElementsByTagName("head")[0].appendChild(nt),nt.styleSheet)nt.styleSheet.disabled||(nt.styleSheet.cssText=tt);else try{nt.innerHTML=tt}catch{nt.innerText=tt}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(sweetalert2_all);var core_min={};function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function(_,et){module.exports=_.pdfjsLib=et()})(globalThis,()=>(()=>{var __webpack_modules__=[,($,_)=>{var Er;Object.defineProperty(_,"__esModule",{value:!0}),_.VerbosityLevel=_.Util=_.UnknownErrorException=_.UnexpectedResponseException=_.TextRenderingMode=_.RenderingIntentFlag=_.PromiseCapability=_.PermissionFlag=_.PasswordResponses=_.PasswordException=_.PageActionEventType=_.OPS=_.MissingPDFException=_.MAX_IMAGE_SIZE_TO_CACHE=_.LINE_FACTOR=_.LINE_DESCENT_FACTOR=_.InvalidPDFException=_.ImageKind=_.IDENTITY_MATRIX=_.FormatError=_.FeatureTest=_.FONT_IDENTITY_MATRIX=_.DocumentActionEventType=_.CMapCompressionType=_.BaseException=_.BASELINE_FACTOR=_.AnnotationType=_.AnnotationReplyType=_.AnnotationPrefix=_.AnnotationMode=_.AnnotationFlag=_.AnnotationFieldFlag=_.AnnotationEditorType=_.AnnotationEditorPrefix=_.AnnotationEditorParamsType=_.AnnotationBorderStyleType=_.AnnotationActionEventType=_.AbortException=void 0,_.assert=fn,_.bytesToString=Zt,_.createValidAbsoluteUrl=Fn,_.getModificationDate=Gn,_.getUuid=wr,_.getVerbosityLevel=Xt,_.info=rn,_.isArrayBuffer=mn,_.isArrayEqual=zn,_.isNodeJS=void 0,_.normalizeUnicode=_r,_.objectFromMap=$n,_.objectSize=In,_.setVerbosityLevel=Nt,_.shadow=Mn,_.string32=En,_.stringToBytes=bn,_.stringToPDFString=cn,_.stringToUTF8String=nn,_.unreachable=Wt,_.utf8StringToString=dn,_.warn=wn;const et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_.isNodeJS=et;const tt=[1,0,0,1,0,0];_.IDENTITY_MATRIX=tt;const nt=[.001,0,0,.001,0,0];_.FONT_IDENTITY_MATRIX=nt;const rt=1e7;_.MAX_IMAGE_SIZE_TO_CACHE=rt;const it=1.35;_.LINE_FACTOR=it;const st=.35;_.LINE_DESCENT_FACTOR=st;const ot=st/it;_.BASELINE_FACTOR=ot;const at={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_.RenderingIntentFlag=at;const lt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_.AnnotationMode=lt;const ct="pdfjs_internal_editor_";_.AnnotationEditorPrefix=ct;const dt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_.AnnotationEditorType=dt;const _t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_.AnnotationEditorParamsType=_t;const pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_.PermissionFlag=pt;const ut={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_.TextRenderingMode=ut;const mt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_.ImageKind=mt;const ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_.AnnotationType=ft;const gt={GROUP:"Group",REPLY:"R"};_.AnnotationReplyType=gt;const vt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_.AnnotationFlag=vt;const bt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_.AnnotationFieldFlag=bt;const Et={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_.AnnotationBorderStyleType=Et;const xt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_.AnnotationActionEventType=xt;const kt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_.DocumentActionEventType=kt;const Ct={O:"PageOpen",C:"PageClose"};_.PageActionEventType=Ct;const At={ERRORS:0,WARNINGS:1,INFOS:5};_.VerbosityLevel=At;const Lt={NONE:0,BINARY:1};_.CMapCompressionType=Lt;const Mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_.OPS=Mt;const Ht={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_.PasswordResponses=Ht;let zt=At.WARNINGS;function Nt(Dn){Number.isInteger(Dn)&&(zt=Dn)}function Xt(){return zt}function rn(Dn){zt>=At.INFOS&&console.log(`Info: ${Dn}`)}function wn(Dn){zt>=At.WARNINGS&&console.log(`Warning: ${Dn}`)}function Wt(Dn){throw new Error(Dn)}function fn(Dn,pn){Dn||Wt(pn)}function Tn(Dn){switch(Dn==null?void 0:Dn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Fn(Dn,pn=null,on=null){if(!Dn)return null;try{if(on&&typeof Dn=="string"){if(on.addDefaultProtocol&&Dn.startsWith("www.")){const On=Dn.match(/\./g);(On==null?void 0:On.length)>=2&&(Dn=`http://${Dn}`)}if(on.tryConvertEncoding)try{Dn=nn(Dn)}catch{}}const jn=pn?new URL(Dn,pn):new URL(Dn);if(Tn(jn))return jn}catch{}return null}function Mn(Dn,pn,on,jn=!1){return Object.defineProperty(Dn,pn,{value:on,enumerable:!jn,configurable:!0,writable:!1}),on}const Ut=function(){function pn(on,jn){this.constructor===pn&&Wt("Cannot initialize BaseException."),this.message=on,this.name=jn}return pn.prototype=new Error,pn.constructor=pn,pn}();_.BaseException=Ut;class St extends Ut{constructor(pn,on){super(pn,"PasswordException"),this.code=on}}_.PasswordException=St;class It extends Ut{constructor(pn,on){super(pn,"UnknownErrorException"),this.details=on}}_.UnknownErrorException=It;class Tt extends Ut{constructor(pn){super(pn,"InvalidPDFException")}}_.InvalidPDFException=Tt;class Dt extends Ut{constructor(pn){super(pn,"MissingPDFException")}}_.MissingPDFException=Dt;class Ot extends Ut{constructor(pn,on){super(pn,"UnexpectedResponseException"),this.status=on}}_.UnexpectedResponseException=Ot;class jt extends Ut{constructor(pn){super(pn,"FormatError")}}_.FormatError=jt;class qt extends Ut{constructor(pn){super(pn,"AbortException")}}_.AbortException=qt;function Zt(Dn){(typeof Dn!="object"||(Dn==null?void 0:Dn.length)===void 0)&&Wt("Invalid argument for bytesToString");const pn=Dn.length,on=8192;if(pn<on)return String.fromCharCode.apply(null,Dn);const jn=[];for(let On=0;On<pn;On+=on){const $r=Math.min(On+on,pn),Gr=Dn.subarray(On,$r);jn.push(String.fromCharCode.apply(null,Gr))}return jn.join("")}function bn(Dn){typeof Dn!="string"&&Wt("Invalid argument for stringToBytes");const pn=Dn.length,on=new Uint8Array(pn);for(let jn=0;jn<pn;++jn)on[jn]=Dn.charCodeAt(jn)&255;return on}function En(Dn){return String.fromCharCode(Dn>>24&255,Dn>>16&255,Dn>>8&255,Dn&255)}function In(Dn){return Object.keys(Dn).length}function $n(Dn){const pn=Object.create(null);for(const[on,jn]of Dn)pn[on]=jn;return pn}function Hn(){const Dn=new Uint8Array(4);return Dn[0]=1,new Uint32Array(Dn.buffer,0,1)[0]===1}function Bt(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return Mn(this,"isLittleEndian",Hn())}static get isEvalSupported(){return Mn(this,"isEvalSupported",Bt())}static get isOffscreenCanvasSupported(){return Mn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Mn(this,"platform",{isWin:!1,isMac:!1}):Mn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var pn,on;return Mn(this,"isCSSRoundSupported",(on=(pn=globalThis.CSS)==null?void 0:pn.supports)==null?void 0:on.call(pn,"width: round(1.5px, 1px)"))}}_.FeatureTest=sn;const xn=[...Array(256).keys()].map(Dn=>Dn.toString(16).padStart(2,"0"));class Cn{static makeHexColor(pn,on,jn){return`#${xn[pn]}${xn[on]}${xn[jn]}`}static scaleMinMax(pn,on){let jn;pn[0]?(pn[0]<0&&(jn=on[0],on[0]=on[1],on[1]=jn),on[0]*=pn[0],on[1]*=pn[0],pn[3]<0&&(jn=on[2],on[2]=on[3],on[3]=jn),on[2]*=pn[3],on[3]*=pn[3]):(jn=on[0],on[0]=on[2],on[2]=jn,jn=on[1],on[1]=on[3],on[3]=jn,pn[1]<0&&(jn=on[2],on[2]=on[3],on[3]=jn),on[2]*=pn[1],on[3]*=pn[1],pn[2]<0&&(jn=on[0],on[0]=on[1],on[1]=jn),on[0]*=pn[2],on[1]*=pn[2]),on[0]+=pn[4],on[1]+=pn[4],on[2]+=pn[5],on[3]+=pn[5]}static transform(pn,on){return[pn[0]*on[0]+pn[2]*on[1],pn[1]*on[0]+pn[3]*on[1],pn[0]*on[2]+pn[2]*on[3],pn[1]*on[2]+pn[3]*on[3],pn[0]*on[4]+pn[2]*on[5]+pn[4],pn[1]*on[4]+pn[3]*on[5]+pn[5]]}static applyTransform(pn,on){const jn=pn[0]*on[0]+pn[1]*on[2]+on[4],On=pn[0]*on[1]+pn[1]*on[3]+on[5];return[jn,On]}static applyInverseTransform(pn,on){const jn=on[0]*on[3]-on[1]*on[2],On=(pn[0]*on[3]-pn[1]*on[2]+on[2]*on[5]-on[4]*on[3])/jn,$r=(-pn[0]*on[1]+pn[1]*on[0]+on[4]*on[1]-on[5]*on[0])/jn;return[On,$r]}static getAxialAlignedBoundingBox(pn,on){const jn=this.applyTransform(pn,on),On=this.applyTransform(pn.slice(2,4),on),$r=this.applyTransform([pn[0],pn[3]],on),Gr=this.applyTransform([pn[2],pn[1]],on);return[Math.min(jn[0],On[0],$r[0],Gr[0]),Math.min(jn[1],On[1],$r[1],Gr[1]),Math.max(jn[0],On[0],$r[0],Gr[0]),Math.max(jn[1],On[1],$r[1],Gr[1])]}static inverseTransform(pn){const on=pn[0]*pn[3]-pn[1]*pn[2];return[pn[3]/on,-pn[1]/on,-pn[2]/on,pn[0]/on,(pn[2]*pn[5]-pn[4]*pn[3])/on,(pn[4]*pn[1]-pn[5]*pn[0])/on]}static singularValueDecompose2dScale(pn){const on=[pn[0],pn[2],pn[1],pn[3]],jn=pn[0]*on[0]+pn[1]*on[2],On=pn[0]*on[1]+pn[1]*on[3],$r=pn[2]*on[0]+pn[3]*on[2],Gr=pn[2]*on[1]+pn[3]*on[3],yn=(jn+Gr)/2,qn=Math.sqrt((jn+Gr)**2-4*(jn*Gr-$r*On))/2,ar=yn+qn||1,Xn=yn-qn||1;return[Math.sqrt(ar),Math.sqrt(Xn)]}static normalizeRect(pn){const on=pn.slice(0);return pn[0]>pn[2]&&(on[0]=pn[2],on[2]=pn[0]),pn[1]>pn[3]&&(on[1]=pn[3],on[3]=pn[1]),on}static intersect(pn,on){const jn=Math.max(Math.min(pn[0],pn[2]),Math.min(on[0],on[2])),On=Math.min(Math.max(pn[0],pn[2]),Math.max(on[0],on[2]));if(jn>On)return null;const $r=Math.max(Math.min(pn[1],pn[3]),Math.min(on[1],on[3])),Gr=Math.min(Math.max(pn[1],pn[3]),Math.max(on[1],on[3]));return $r>Gr?null:[jn,$r,On,Gr]}static bezierBoundingBox(pn,on,jn,On,$r,Gr,yn,qn){const ar=[],Xn=[[],[]];let lr,hr,jr,Wn,Or,or,Gt,Rt;for(let gn=0;gn<2;++gn){if(gn===0?(hr=6*pn-12*jn+6*$r,lr=-3*pn+9*jn-9*$r+3*yn,jr=3*jn-3*pn):(hr=6*on-12*On+6*Gr,lr=-3*on+9*On-9*Gr+3*qn,jr=3*On-3*on),Math.abs(lr)<1e-12){if(Math.abs(hr)<1e-12)continue;Wn=-jr/hr,0<Wn&&Wn<1&&ar.push(Wn);continue}Gt=hr*hr-4*jr*lr,Rt=Math.sqrt(Gt),!(Gt<0)&&(Or=(-hr+Rt)/(2*lr),0<Or&&Or<1&&ar.push(Or),or=(-hr-Rt)/(2*lr),0<or&&or<1&&ar.push(or))}let Vt=ar.length,Kt;const ln=Vt;for(;Vt--;)Wn=ar[Vt],Kt=1-Wn,Xn[0][Vt]=Kt*Kt*Kt*pn+3*Kt*Kt*Wn*jn+3*Kt*Wn*Wn*$r+Wn*Wn*Wn*yn,Xn[1][Vt]=Kt*Kt*Kt*on+3*Kt*Kt*Wn*On+3*Kt*Wn*Wn*Gr+Wn*Wn*Wn*qn;return Xn[0][ln]=pn,Xn[1][ln]=on,Xn[0][ln+1]=yn,Xn[1][ln+1]=qn,Xn[0].length=Xn[1].length=ln+2,[Math.min(...Xn[0]),Math.min(...Xn[1]),Math.max(...Xn[0]),Math.max(...Xn[1])]}}_.Util=Cn;const kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function cn(Dn){if(Dn[0]>=""){let on;if(Dn[0]===""&&Dn[1]===""?on="utf-16be":Dn[0]===""&&Dn[1]===""?on="utf-16le":Dn[0]===""&&Dn[1]===""&&Dn[2]===""&&(on="utf-8"),on)try{const jn=new TextDecoder(on,{fatal:!0}),On=bn(Dn);return jn.decode(On)}catch(jn){wn(`stringToPDFString: "${jn}".`)}}const pn=[];for(let on=0,jn=Dn.length;on<jn;on++){const On=kn[Dn.charCodeAt(on)];pn.push(On?String.fromCharCode(On):Dn.charAt(on))}return pn.join("")}function nn(Dn){return decodeURIComponent(escape(Dn))}function dn(Dn){return unescape(encodeURIComponent(Dn))}function mn(Dn){return typeof Dn=="object"&&(Dn==null?void 0:Dn.byteLength)!==void 0}function zn(Dn,pn){if(Dn.length!==pn.length)return!1;for(let on=0,jn=Dn.length;on<jn;on++)if(Dn[on]!==pn[on])return!1;return!0}function Gn(Dn=new Date){return[Dn.getUTCFullYear().toString(),(Dn.getUTCMonth()+1).toString().padStart(2,"0"),Dn.getUTCDate().toString().padStart(2,"0"),Dn.getUTCHours().toString().padStart(2,"0"),Dn.getUTCMinutes().toString().padStart(2,"0"),Dn.getUTCSeconds().toString().padStart(2,"0")].join("")}class ur{constructor(){Qt(this,Er,!1);this.promise=new Promise((pn,on)=>{this.resolve=jn=>{Rn(this,Er,!0),pn(jn)},this.reject=jn=>{Rn(this,Er,!0),on(jn)}})}get settled(){return wt(this,Er)}}Er=new WeakMap,_.PromiseCapability=ur;let ir=null,sr=null;function _r(Dn){return ir||(ir=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,sr=new Map([["","t"]])),Dn.replaceAll(ir,(pn,on,jn)=>on?on.normalize("NFKC"):sr.get(jn))}function wr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Dn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Dn);else for(let pn=0;pn<32;pn++)Dn[pn]=Math.floor(Math.random()*255);return Zt(Dn)}const dr="pdfjs_internal_id_";_.AnnotationPrefix=dr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var $,et,tt,nt,uo,it,_a,ot,at,lt,ct,dt,_t,pt,ut,mt,_l,gt,vt,fu,Et,xt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Ct){if(typeof Ct=="string"||Ct instanceof URL?Ct={url:Ct}:(0,_util.isArrayBuffer)(Ct)&&(Ct={data:Ct}),typeof Ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Ct.url&&!Ct.data&&!Ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const At=new PDFDocumentLoadingTask,{docId:Lt}=At,Mt=Ct.url?getUrlProp(Ct.url):null,Ht=Ct.data?getDataProp(Ct.data):null,zt=Ct.httpHeaders||null,Nt=Ct.withCredentials===!0,Xt=Ct.password??null,rn=Ct.range instanceof PDFDataRangeTransport?Ct.range:null,wn=Number.isInteger(Ct.rangeChunkSize)&&Ct.rangeChunkSize>0?Ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Wt=Ct.worker instanceof PDFWorker?Ct.worker:null;const fn=Ct.verbosity,Tn=typeof Ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Ct.docBaseUrl)?Ct.docBaseUrl:null,Fn=typeof Ct.cMapUrl=="string"?Ct.cMapUrl:null,Mn=Ct.cMapPacked!==!1,Ut=Ct.CMapReaderFactory||DefaultCMapReaderFactory,St=typeof Ct.standardFontDataUrl=="string"?Ct.standardFontDataUrl:null,It=Ct.StandardFontDataFactory||DefaultStandardFontDataFactory,Tt=Ct.stopAtErrors!==!0,Dt=Number.isInteger(Ct.maxImageSize)&&Ct.maxImageSize>-1?Ct.maxImageSize:-1,Ot=Ct.isEvalSupported!==!1,jt=typeof Ct.isOffscreenCanvasSupported=="boolean"?Ct.isOffscreenCanvasSupported:!_util.isNodeJS,qt=Number.isInteger(Ct.canvasMaxAreaInBytes)?Ct.canvasMaxAreaInBytes:-1,Zt=typeof Ct.disableFontFace=="boolean"?Ct.disableFontFace:_util.isNodeJS,bn=Ct.fontExtraProperties===!0,En=Ct.enableXfa===!0,In=Ct.ownerDocument||globalThis.document,$n=Ct.disableRange===!0,Hn=Ct.disableStream===!0,Bt=Ct.disableAutoFetch===!0,sn=Ct.pdfBug===!0,xn=rn?rn.length:Ct.length??NaN,Cn=typeof Ct.useSystemFonts=="boolean"?Ct.useSystemFonts:!_util.isNodeJS&&!Zt,kn=typeof Ct.useWorkerFetch=="boolean"?Ct.useWorkerFetch:Ut===_display_utils.DOMCMapReaderFactory&&It===_display_utils.DOMStandardFontDataFactory&&Fn&&St&&(0,_display_utils.isValidFetchUrl)(Fn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(St,document.baseURI),cn=Ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:In}),nn=Ct.filterFactory||new DefaultFilterFactory({docId:Lt,ownerDocument:In}),dn=null;(0,_util.setVerbosityLevel)(fn);const mn={canvasFactory:cn,filterFactory:nn};if(kn||(mn.cMapReaderFactory=new Ut({baseUrl:Fn,isCompressed:Mn}),mn.standardFontDataFactory=new It({baseUrl:St})),!Wt){const ur={verbosity:fn,port:_worker_options.GlobalWorkerOptions.workerPort};Wt=ur.port?PDFWorker.fromPort(ur):new PDFWorker(ur),At._worker=Wt}const zn={docId:Lt,apiVersion:"3.11.174",data:Ht,password:Xt,disableAutoFetch:Bt,rangeChunkSize:wn,length:xn,docBaseUrl:Tn,enableXfa:En,evaluatorOptions:{maxImageSize:Dt,disableFontFace:Zt,ignoreErrors:Tt,isEvalSupported:Ot,isOffscreenCanvasSupported:jt,canvasMaxAreaInBytes:qt,fontExtraProperties:bn,useSystemFonts:Cn,cMapUrl:kn?Fn:null,standardFontDataUrl:kn?St:null}},Gn={ignoreErrors:Tt,isEvalSupported:Ot,disableFontFace:Zt,fontExtraProperties:bn,enableXfa:En,ownerDocument:In,disableAutoFetch:Bt,pdfBug:sn,styleElement:dn};return Wt.promise.then(function(){if(At.destroyed)throw new Error("Loading aborted");const ur=_fetchDocument(Wt,zn),ir=new Promise(function(sr){let _r;rn?_r=new _transport_stream.PDFDataTransportStream({length:xn,initialData:rn.initialData,progressiveDone:rn.progressiveDone,contentDispositionFilename:rn.contentDispositionFilename,disableRange:$n,disableStream:Hn},rn):Ht||(_r=(dr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(dr):(0,_display_utils.isValidFetchUrl)(dr.url)?new _displayFetch_stream.PDFFetchStream(dr):new _displayNetwork.PDFNetworkStream(dr))({url:Mt,length:xn,httpHeaders:zt,withCredentials:Nt,rangeChunkSize:wn,disableRange:$n,disableStream:Hn})),sr(_r)});return Promise.all([ur,ir]).then(function([sr,_r]){if(At.destroyed)throw new Error("Loading aborted");const wr=new _message_handler.MessageHandler(Lt,sr,Wt.port),dr=new WorkerTransport(wr,At,_r,Gn,mn);At._transport=dr,wr.send("Ready",null)})}).catch(At._capability.reject),At}async function _fetchDocument(Ct,At){if(Ct.destroyed)throw new Error("Worker was destroyed");const Lt=await Ct.messageHandler.sendWithPromise("GetDocRequest",At,At.data?[At.data.buffer]:null);if(Ct.destroyed)throw new Error("Worker was destroyed");return Lt}function getUrlProp(Ct){if(Ct instanceof URL)return Ct.href;try{return new URL(Ct,window.location).href}catch{if(_util.isNodeJS&&typeof Ct=="string")return Ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Ct){if(_util.isNodeJS&&typeof Buffer<"u"&&Ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Ct instanceof Uint8Array&&Ct.byteLength===Ct.buffer.byteLength)return Ct;if(typeof Ct=="string")return(0,_util.stringToBytes)(Ct);if(typeof Ct=="object"&&!isNaN(Ct==null?void 0:Ct.length)||(0,_util.isArrayBuffer)(Ct))return new Uint8Array(Ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _=class _{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Do(_,$)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var At,Lt,Mt;this.destroyed=!0;try{(At=this._worker)!=null&&At.port&&(this._worker._pendingDestroy=!0),await((Lt=this._transport)==null?void 0:Lt.destroy())}catch(Ht){throw(Mt=this._worker)!=null&&Mt.port&&delete this._worker._pendingDestroy,Ht}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$=new WeakMap,Qt(_,$,0);let PDFDocumentLoadingTask=_;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(At,Lt,Mt=!1,Ht=null){this.length=At,this.initialData=Lt,this.progressiveDone=Mt,this.contentDispositionFilename=Ht,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(At){this._rangeListeners.push(At)}addProgressListener(At){this._progressListeners.push(At)}addProgressiveReadListener(At){this._progressiveReadListeners.push(At)}addProgressiveDoneListener(At){this._progressiveDoneListeners.push(At)}onDataRange(At,Lt){for(const Mt of this._rangeListeners)Mt(At,Lt)}onDataProgress(At,Lt){this._readyCapability.promise.then(()=>{for(const Mt of this._progressListeners)Mt(At,Lt)})}onDataProgressiveRead(At){this._readyCapability.promise.then(()=>{for(const Lt of this._progressiveReadListeners)Lt(At)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const At of this._progressiveDoneListeners)At()})}transportReady(){this._readyCapability.resolve()}requestDataRange(At,Lt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(At,Lt){this._pdfInfo=At,this._transport=Lt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Mt=>{if(!Mt)return Mt;const Ht=[];for(const zt in Mt)Ht.push(...Mt[zt]);return Ht}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(At){return this._transport.getPage(At)}getPageIndex(At){return this._transport.getPageIndex(At)}getDestinations(){return this._transport.getDestinations()}getDestination(At){return this._transport.getDestination(At)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(At=!1){return this._transport.startCleanup(At||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(At,Lt,Mt,Ht=!1){Qt(this,nt);Qt(this,it);Qt(this,et,null);Qt(this,tt,!1);this._pageIndex=At,this._pageInfo=Lt,this._transport=Mt,this._stats=Ht?new _display_utils.StatTimer:null,this._pdfBug=Ht,this.commonObjs=Mt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:At,rotation:Lt=this.rotate,offsetX:Mt=0,offsetY:Ht=0,dontFlip:zt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:At,rotation:Lt,offsetX:Mt,offsetY:Ht,dontFlip:zt})}getAnnotations({intent:At="display"}={}){const Lt=this._transport.getRenderingIntent(At);return this._transport.getAnnotations(this._pageIndex,Lt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var At;return((At=this._transport._htmlForXfa)==null?void 0:At.children[this._pageIndex])||null}render({canvasContext:At,viewport:Lt,intent:Mt="display",annotationMode:Ht=_util.AnnotationMode.ENABLE,transform:zt=null,background:Nt=null,optionalContentConfigPromise:Xt=null,annotationCanvasMap:rn=null,pageColors:wn=null,printAnnotationStorage:Wt=null}){var It,Tt;(It=this._stats)==null||It.time("Overall");const fn=this._transport.getRenderingIntent(Mt,Ht,Wt);Rn(this,tt,!1),hn(this,it,_a).call(this),Xt||(Xt=this._transport.getOptionalContentConfig());let Tn=this._intentStates.get(fn.cacheKey);Tn||(Tn=Object.create(null),this._intentStates.set(fn.cacheKey,Tn)),Tn.streamReaderCancelTimeout&&(clearTimeout(Tn.streamReaderCancelTimeout),Tn.streamReaderCancelTimeout=null);const Fn=!!(fn.renderingIntent&_util.RenderingIntentFlag.PRINT);Tn.displayReadyCapability||(Tn.displayReadyCapability=new _util.PromiseCapability,Tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Tt=this._stats)==null||Tt.time("Page Request"),this._pumpOperatorList(fn));const Mn=Dt=>{var Ot,jt;Tn.renderTasks.delete(Ut),(this._maybeCleanupAfterRender||Fn)&&Rn(this,tt,!0),hn(this,nt,uo).call(this,!Fn),Dt?(Ut.capability.reject(Dt),this._abortOperatorList({intentState:Tn,reason:Dt instanceof Error?Dt:new Error(Dt)})):Ut.capability.resolve(),(Ot=this._stats)==null||Ot.timeEnd("Rendering"),(jt=this._stats)==null||jt.timeEnd("Overall")},Ut=new InternalRenderTask({callback:Mn,params:{canvasContext:At,viewport:Lt,transform:zt,background:Nt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:rn,operatorList:Tn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Fn,pdfBug:this._pdfBug,pageColors:wn});(Tn.renderTasks||(Tn.renderTasks=new Set)).add(Ut);const St=Ut.task;return Promise.all([Tn.displayReadyCapability.promise,Xt]).then(([Dt,Ot])=>{var jt;if(this.destroyed){Mn();return}(jt=this._stats)==null||jt.time("Rendering"),Ut.initializeGraphics({transparency:Dt,optionalContentConfig:Ot}),Ut.operatorListChanged()}).catch(Mn),St}getOperatorList({intent:At="display",annotationMode:Lt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Mt=null}={}){var rn;function Ht(){Nt.operatorList.lastChunk&&(Nt.opListReadCapability.resolve(Nt.operatorList),Nt.renderTasks.delete(Xt))}const zt=this._transport.getRenderingIntent(At,Lt,Mt,!0);let Nt=this._intentStates.get(zt.cacheKey);Nt||(Nt=Object.create(null),this._intentStates.set(zt.cacheKey,Nt));let Xt;return Nt.opListReadCapability||(Xt=Object.create(null),Xt.operatorListChanged=Ht,Nt.opListReadCapability=new _util.PromiseCapability,(Nt.renderTasks||(Nt.renderTasks=new Set)).add(Xt),Nt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(rn=this._stats)==null||rn.time("Page Request"),this._pumpOperatorList(zt)),Nt.opListReadCapability.promise}streamTextContent({includeMarkedContent:At=!1,disableNormalization:Lt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:At===!0,disableNormalization:Lt===!0},{highWaterMark:100,size(Ht){return Ht.items.length}})}getTextContent(At={}){if(this._transport._htmlForXfa)return this.getXfa().then(Mt=>_xfa_text.XfaText.textContent(Mt));const Lt=this.streamTextContent(At);return new Promise(function(Mt,Ht){function zt(){Nt.read().then(function({value:rn,done:wn}){if(wn){Mt(Xt);return}Object.assign(Xt.styles,rn.styles),Xt.items.push(...rn.items),zt()},Ht)}const Nt=Lt.getReader(),Xt={items:[],styles:Object.create(null)};zt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const At=[];for(const Lt of this._intentStates.values())if(this._abortOperatorList({intentState:Lt,reason:new Error("Page was destroyed."),force:!0}),!Lt.opListReadCapability)for(const Mt of Lt.renderTasks)At.push(Mt.completed),Mt.cancel();return this.objs.clear(),Rn(this,tt,!1),hn(this,it,_a).call(this),Promise.all(At)}cleanup(At=!1){Rn(this,tt,!0);const Lt=hn(this,nt,uo).call(this,!1);return At&&Lt&&this._stats&&(this._stats=new _display_utils.StatTimer),Lt}_startRenderPage(At,Lt){var Ht,zt;const Mt=this._intentStates.get(Lt);Mt&&((Ht=this._stats)==null||Ht.timeEnd("Page Request"),(zt=Mt.displayReadyCapability)==null||zt.resolve(At))}_renderPageChunk(At,Lt){for(let Mt=0,Ht=At.length;Mt<Ht;Mt++)Lt.operatorList.fnArray.push(At.fnArray[Mt]),Lt.operatorList.argsArray.push(At.argsArray[Mt]);Lt.operatorList.lastChunk=At.lastChunk,Lt.operatorList.separateAnnots=At.separateAnnots;for(const Mt of Lt.renderTasks)Mt.operatorListChanged();At.lastChunk&&hn(this,nt,uo).call(this,!0)}_pumpOperatorList({renderingIntent:At,cacheKey:Lt,annotationStorageSerializable:Mt}){const{map:Ht,transfers:zt}=Mt,Xt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:At,cacheKey:Lt,annotationStorage:Ht},zt).getReader(),rn=this._intentStates.get(Lt);rn.streamReader=Xt;const wn=()=>{Xt.read().then(({value:Wt,done:fn})=>{if(fn){rn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Wt,rn),wn())},Wt=>{if(rn.streamReader=null,!this._transport.destroyed){if(rn.operatorList){rn.operatorList.lastChunk=!0;for(const fn of rn.renderTasks)fn.operatorListChanged();hn(this,nt,uo).call(this,!0)}if(rn.displayReadyCapability)rn.displayReadyCapability.reject(Wt);else if(rn.opListReadCapability)rn.opListReadCapability.reject(Wt);else throw Wt}})};wn()}_abortOperatorList({intentState:At,reason:Lt,force:Mt=!1}){if(At.streamReader){if(At.streamReaderCancelTimeout&&(clearTimeout(At.streamReaderCancelTimeout),At.streamReaderCancelTimeout=null),!Mt){if(At.renderTasks.size>0)return;if(Lt instanceof _display_utils.RenderingCancelledException){let Ht=RENDERING_CANCELLED_TIMEOUT;Lt.extraDelay>0&&Lt.extraDelay<1e3&&(Ht+=Lt.extraDelay),At.streamReaderCancelTimeout=setTimeout(()=>{At.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:At,reason:Lt,force:!0})},Ht);return}}if(At.streamReader.cancel(new _util.AbortException(Lt.message)).catch(()=>{}),At.streamReader=null,!this._transport.destroyed){for(const[Ht,zt]of this._intentStates)if(zt===At){this._intentStates.delete(Ht);break}this.cleanup()}}}get stats(){return this._stats}}et=new WeakMap,tt=new WeakMap,nt=new WeakSet,uo=function(At=!1){if(hn(this,it,_a).call(this),!wt(this,tt)||this.destroyed)return!1;if(At)return Rn(this,et,setTimeout(()=>{Rn(this,et,null),hn(this,nt,uo).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Lt,operatorList:Mt}of this._intentStates.values())if(Lt.size>0||!Mt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Rn(this,tt,!1),!0},it=new WeakSet,_a=function(){wt(this,et)&&(clearTimeout(wt(this,et)),Rn(this,et,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Qt(this,ot,new Set);Qt(this,at,Promise.resolve())}postMessage(At,Lt){const Mt={data:structuredClone(At,Lt?{transfer:Lt}:null)};wt(this,at).then(()=>{for(const Ht of wt(this,ot))Ht.call(this,Mt)})}addEventListener(At,Lt){wt(this,ot).add(Lt)}removeEventListener(At,Lt){wt(this,ot).delete(Lt)}terminate(){wt(this,ot).clear()}}ot=new WeakMap,at=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ct=(lt=document==null?void 0:document.currentScript)==null?void 0:lt.src;Ct&&(PDFWorkerUtil.fallbackWorkerSrc=Ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ct,At){let Lt;try{if(Lt=new URL(Ct),!Lt.origin||Lt.origin==="null")return!1}catch{return!1}const Mt=new URL(At,Lt);return Lt.origin===Mt.origin},PDFWorkerUtil.createCDNWrapper=function(Ct){const At=`importScripts("${Ct}");`;return URL.createObjectURL(new Blob([At]))}}const _PDFWorker=class _PDFWorker{constructor({name:Ct=null,port:At=null,verbosity:Lt=(0,_util.getVerbosityLevel)()}={}){var Mt;if(this.name=Ct,this.destroyed=!1,this.verbosity=Lt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,At){if((Mt=wt(_PDFWorker,ct))!=null&&Mt.has(At))throw new Error("Cannot use more than one PDFWorker per port.");(wt(_PDFWorker,ct)||Rn(_PDFWorker,ct,new WeakMap)).set(At,this),this._initializeFromPort(At);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ct){this._port=Ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ct)||(Ct=PDFWorkerUtil.createCDNWrapper(new URL(Ct,window.location).href));const At=new Worker(Ct),Lt=new _message_handler.MessageHandler("main","worker",At),Mt=()=>{At.removeEventListener("error",Ht),Lt.destroy(),At.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ht=()=>{this._webWorker||Mt()};At.addEventListener("error",Ht),Lt.on("test",Nt=>{if(At.removeEventListener("error",Ht),this.destroyed){Mt();return}Nt?(this._messageHandler=Lt,this._port=At,this._webWorker=At,this._readyCapability.resolve(),Lt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Lt.destroy(),At.terminate())}),Lt.on("ready",Nt=>{if(At.removeEventListener("error",Ht),this.destroyed){Mt();return}try{zt()}catch{this._setupFakeWorker()}});const zt=()=>{const Nt=new Uint8Array;Lt.send("test",Nt,[Nt.buffer])};zt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const At=new LoopbackPort;this._port=At;const Lt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Mt=new _message_handler.MessageHandler(Lt+"_worker",Lt,At);Ct.setup(Mt,At);const Ht=new _message_handler.MessageHandler(Lt,Lt+"_worker",At);this._messageHandler=Ht,this._readyCapability.resolve(),Ht.send("configure",{verbosity:this.verbosity})}).catch(Ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ct.message}".`))})}destroy(){var Ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Ct=wt(_PDFWorker,ct))==null||Ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ct){var Lt;if(!(Ct!=null&&Ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const At=(Lt=wt(this,ct))==null?void 0:Lt.get(Ct.port);if(At){if(At._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return At}return new _PDFWorker(Ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Ct;try{return((Ct=globalThis.pdfjsWorker)==null?void 0:Ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};ct=new WeakMap,Qt(_PDFWorker,ct,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(At,Lt,Mt,Ht,zt){Qt(this,mt);Qt(this,dt,new Map);Qt(this,_t,new Map);Qt(this,pt,new Map);Qt(this,ut,null);this.messageHandler=At,this.loadingTask=Lt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ht.ownerDocument,styleElement:Ht.styleElement}),this._params=Ht,this.canvasFactory=zt.canvasFactory,this.filterFactory=zt.filterFactory,this.cMapReaderFactory=zt.cMapReaderFactory,this.standardFontDataFactory=zt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Mt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(At,Lt=_util.AnnotationMode.ENABLE,Mt=null,Ht=!1){let zt=_util.RenderingIntentFlag.DISPLAY,Nt=_annotation_storage.SerializableEmpty;switch(At){case"any":zt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":zt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${At}`)}switch(Lt){case _util.AnnotationMode.DISABLE:zt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:zt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:zt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Nt=(zt&_util.RenderingIntentFlag.PRINT&&Mt instanceof _annotation_storage.PrintAnnotationStorage?Mt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Lt}`)}return Ht&&(zt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:zt,cacheKey:`${zt}_${Nt.hash}`,annotationStorageSerializable:Nt}}destroy(){var Mt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Mt=wt(this,ut))==null||Mt.reject(new Error("Worker was destroyed during onPassword callback"));const At=[];for(const Ht of wt(this,_t).values())At.push(Ht._destroy());wt(this,_t).clear(),wt(this,pt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Lt=this.messageHandler.sendWithPromise("Terminate",null);return At.push(Lt),Promise.all(At).then(()=>{var Ht;this.commonObjs.clear(),this.fontLoader.clear(),wt(this,dt).clear(),this.filterFactory.destroy(),(Ht=this._networkStream)==null||Ht.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:At,loadingTask:Lt}=this;At.on("GetReader",(Mt,Ht)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=zt=>{this._lastProgress={loaded:zt.loaded,total:zt.total}},Ht.onPull=()=>{this._fullReader.read().then(function({value:zt,done:Nt}){if(Nt){Ht.close();return}(0,_util.assert)(zt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ht.enqueue(new Uint8Array(zt),1,[zt])}).catch(zt=>{Ht.error(zt)})},Ht.onCancel=zt=>{this._fullReader.cancel(zt),Ht.ready.catch(Nt=>{if(!this.destroyed)throw Nt})}}),At.on("ReaderHeadersReady",Mt=>{const Ht=new _util.PromiseCapability,zt=this._fullReader;return zt.headersReady.then(()=>{var Nt;(!zt.isStreamingSupported||!zt.isRangeSupported)&&(this._lastProgress&&((Nt=Lt.onProgress)==null||Nt.call(Lt,this._lastProgress)),zt.onProgress=Xt=>{var rn;(rn=Lt.onProgress)==null||rn.call(Lt,{loaded:Xt.loaded,total:Xt.total})}),Ht.resolve({isStreamingSupported:zt.isStreamingSupported,isRangeSupported:zt.isRangeSupported,contentLength:zt.contentLength})},Ht.reject),Ht.promise}),At.on("GetRangeReader",(Mt,Ht)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const zt=this._networkStream.getRangeReader(Mt.begin,Mt.end);if(!zt){Ht.close();return}Ht.onPull=()=>{zt.read().then(function({value:Nt,done:Xt}){if(Xt){Ht.close();return}(0,_util.assert)(Nt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ht.enqueue(new Uint8Array(Nt),1,[Nt])}).catch(Nt=>{Ht.error(Nt)})},Ht.onCancel=Nt=>{zt.cancel(Nt),Ht.ready.catch(Xt=>{if(!this.destroyed)throw Xt})}}),At.on("GetDoc",({pdfInfo:Mt})=>{this._numPages=Mt.numPages,this._htmlForXfa=Mt.htmlForXfa,delete Mt.htmlForXfa,Lt._capability.resolve(new PDFDocumentProxy(Mt,this))}),At.on("DocException",function(Mt){let Ht;switch(Mt.name){case"PasswordException":Ht=new _util.PasswordException(Mt.message,Mt.code);break;case"InvalidPDFException":Ht=new _util.InvalidPDFException(Mt.message);break;case"MissingPDFException":Ht=new _util.MissingPDFException(Mt.message);break;case"UnexpectedResponseException":Ht=new _util.UnexpectedResponseException(Mt.message,Mt.status);break;case"UnknownErrorException":Ht=new _util.UnknownErrorException(Mt.message,Mt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Lt._capability.reject(Ht)}),At.on("PasswordRequest",Mt=>{if(Rn(this,ut,new _util.PromiseCapability),Lt.onPassword){const Ht=zt=>{zt instanceof Error?wt(this,ut).reject(zt):wt(this,ut).resolve({password:zt})};try{Lt.onPassword(Ht,Mt.code)}catch(zt){wt(this,ut).reject(zt)}}else wt(this,ut).reject(new _util.PasswordException(Mt.message,Mt.code));return wt(this,ut).promise}),At.on("DataLoaded",Mt=>{var Ht;(Ht=Lt.onProgress)==null||Ht.call(Lt,{loaded:Mt.length,total:Mt.length}),this.downloadInfoCapability.resolve(Mt)}),At.on("StartRenderPage",Mt=>{if(this.destroyed)return;wt(this,_t).get(Mt.pageIndex)._startRenderPage(Mt.transparency,Mt.cacheKey)}),At.on("commonobj",([Mt,Ht,zt])=>{var Nt;if(!this.destroyed&&!this.commonObjs.has(Mt))switch(Ht){case"Font":const Xt=this._params;if("error"in zt){const Wt=zt.error;(0,_util.warn)(`Error during font loading: ${Wt}`),this.commonObjs.resolve(Mt,Wt);break}const rn=Xt.pdfBug&&((Nt=globalThis.FontInspector)!=null&&Nt.enabled)?(Wt,fn)=>globalThis.FontInspector.fontAdded(Wt,fn):null,wn=new _font_loader.FontFaceObject(zt,{isEvalSupported:Xt.isEvalSupported,disableFontFace:Xt.disableFontFace,ignoreErrors:Xt.ignoreErrors,inspectFont:rn});this.fontLoader.bind(wn).catch(Wt=>At.sendWithPromise("FontFallback",{id:Mt})).finally(()=>{!Xt.fontExtraProperties&&wn.data&&(wn.data=null),this.commonObjs.resolve(Mt,wn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Mt,zt);break;default:throw new Error(`Got unknown common object type ${Ht}`)}}),At.on("obj",([Mt,Ht,zt,Nt])=>{var rn;if(this.destroyed)return;const Xt=wt(this,_t).get(Ht);if(!Xt.objs.has(Mt))switch(zt){case"Image":if(Xt.objs.resolve(Mt,Nt),Nt){let wn;if(Nt.bitmap){const{width:Wt,height:fn}=Nt;wn=Wt*fn*4}else wn=((rn=Nt.data)==null?void 0:rn.length)||0;wn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Xt._maybeCleanupAfterRender=!0)}break;case"Pattern":Xt.objs.resolve(Mt,Nt);break;default:throw new Error(`Got unknown object type ${zt}`)}}),At.on("DocProgress",Mt=>{var Ht;this.destroyed||(Ht=Lt.onProgress)==null||Ht.call(Lt,{loaded:Mt.loaded,total:Mt.total})}),At.on("FetchBuiltInCMap",Mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Mt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),At.on("FetchStandardFontData",Mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Mt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Mt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:At,transfers:Lt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:At,filename:((Mt=this._fullReader)==null?void 0:Mt.filename)??null},Lt).finally(()=>{this.annotationStorage.resetModified()})}getPage(At){if(!Number.isInteger(At)||At<=0||At>this._numPages)return Promise.reject(new Error("Invalid page request."));const Lt=At-1,Mt=wt(this,pt).get(Lt);if(Mt)return Mt;const Ht=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Lt}).then(zt=>{if(this.destroyed)throw new Error("Transport destroyed");const Nt=new PDFPageProxy(Lt,zt,this,this._params.pdfBug);return wt(this,_t).set(Lt,Nt),Nt});return wt(this,pt).set(Lt,Ht),Ht}getPageIndex(At){return typeof At!="object"||At===null||!Number.isInteger(At.num)||At.num<0||!Number.isInteger(At.gen)||At.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:At.num,gen:At.gen})}getAnnotations(At,Lt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:At,intent:Lt})}getFieldObjects(){return hn(this,mt,_l).call(this,"GetFieldObjects")}hasJSActions(){return hn(this,mt,_l).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(At){return typeof At!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:At})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return hn(this,mt,_l).call(this,"GetDocJSActions")}getPageJSActions(At){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:At})}getStructTree(At){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:At})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(At=>new _optional_content_config.OptionalContentConfig(At))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const At="GetMetadata",Lt=wt(this,dt).get(At);if(Lt)return Lt;const Mt=this.messageHandler.sendWithPromise(At,null).then(Ht=>{var zt,Nt;return{info:Ht[0],metadata:Ht[1]?new _metadata.Metadata(Ht[1]):null,contentDispositionFilename:((zt=this._fullReader)==null?void 0:zt.filename)??null,contentLength:((Nt=this._fullReader)==null?void 0:Nt.contentLength)??null}});return wt(this,dt).set(At,Mt),Mt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(At=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Lt of wt(this,_t).values())if(!Lt.cleanup())throw new Error(`startCleanup: Page ${Lt.pageNumber} is currently rendering.`);this.commonObjs.clear(),At||this.fontLoader.clear(),wt(this,dt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:At,enableXfa:Lt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:At,enableXfa:Lt})}}dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakSet,_l=function(At,Lt=null){const Mt=wt(this,dt).get(At);if(Mt)return Mt;const Ht=this.messageHandler.sendWithPromise(At,Lt);return wt(this,dt).set(At,Ht),Ht};class PDFObjects{constructor(){Qt(this,vt);Qt(this,gt,Object.create(null))}get(At,Lt=null){if(Lt){const Ht=hn(this,vt,fu).call(this,At);return Ht.capability.promise.then(()=>Lt(Ht.data)),null}const Mt=wt(this,gt)[At];if(!(Mt!=null&&Mt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${At}.`);return Mt.data}has(At){const Lt=wt(this,gt)[At];return(Lt==null?void 0:Lt.capability.settled)||!1}resolve(At,Lt=null){const Mt=hn(this,vt,fu).call(this,At);Mt.data=Lt,Mt.capability.resolve()}clear(){var At;for(const Lt in wt(this,gt)){const{data:Mt}=wt(this,gt)[Lt];(At=Mt==null?void 0:Mt.bitmap)==null||At.close()}Rn(this,gt,Object.create(null))}}gt=new WeakMap,vt=new WeakSet,fu=function(At){var Lt;return(Lt=wt(this,gt))[At]||(Lt[At]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(At){Qt(this,Et,null);Rn(this,Et,At),this.onContinue=null}get promise(){return wt(this,Et).capability.promise}cancel(At=0){wt(this,Et).cancel(null,At)}get separateAnnots(){const{separateAnnots:At}=wt(this,Et).operatorList;if(!At)return!1;const{annotationCanvasMap:Lt}=wt(this,Et);return At.form||At.canvas&&(Lt==null?void 0:Lt.size)>0}}Et=new WeakMap,exports.RenderTask=RenderTask;const kt=class kt{constructor({callback:At,params:Lt,objs:Mt,commonObjs:Ht,annotationCanvasMap:zt,operatorList:Nt,pageIndex:Xt,canvasFactory:rn,filterFactory:wn,useRequestAnimationFrame:Wt=!1,pdfBug:fn=!1,pageColors:Tn=null}){this.callback=At,this.params=Lt,this.objs=Mt,this.commonObjs=Ht,this.annotationCanvasMap=zt,this.operatorListIdx=null,this.operatorList=Nt,this._pageIndex=Xt,this.canvasFactory=rn,this.filterFactory=wn,this._pdfBug=fn,this.pageColors=Tn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Wt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Lt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:At=!1,optionalContentConfig:Lt}){var Xt,rn;if(this.cancelled)return;if(this._canvas){if(wt(kt,xt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wt(kt,xt).add(this._canvas)}this._pdfBug&&((Xt=globalThis.StepperManager)!=null&&Xt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Mt,viewport:Ht,transform:zt,background:Nt}=this.params;this.gfx=new _canvas.CanvasGraphics(Mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Lt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:zt,viewport:Ht,transparency:At,background:Nt}),this.operatorListIdx=0,this.graphicsReady=!0,(rn=this.graphicsReadyCallback)==null||rn.call(this)}cancel(At=null,Lt=0){var Mt;this.running=!1,this.cancelled=!0,(Mt=this.gfx)==null||Mt.endDrawing(),wt(kt,xt).delete(this._canvas),this.callback(At||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Lt))}operatorListChanged(){var At;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(At=this.stepper)==null||At.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wt(kt,xt).delete(this._canvas),this.callback())))}};xt=new WeakMap,Qt(kt,xt,new WeakSet);let InternalRenderTask=kt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},($,_,et)=>{var at,lt,ct,Xu,_t;Object.defineProperty(_,"__esModule",{value:!0}),_.SerializableEmpty=_.PrintAnnotationStorage=_.AnnotationStorage=void 0;var tt=et(1),nt=et(4),rt=et(8);const it=Object.freeze({map:null,hash:"",transfers:void 0});_.SerializableEmpty=it;class st{constructor(){Qt(this,ct);Qt(this,at,!1);Qt(this,lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ut,mt){const ft=wt(this,lt).get(ut);return ft===void 0?mt:Object.assign(mt,ft)}getRawValue(ut){return wt(this,lt).get(ut)}remove(ut){if(wt(this,lt).delete(ut),wt(this,lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const mt of wt(this,lt).values())if(mt instanceof nt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ut,mt){const ft=wt(this,lt).get(ut);let gt=!1;if(ft!==void 0)for(const[vt,bt]of Object.entries(mt))ft[vt]!==bt&&(gt=!0,ft[vt]=bt);else gt=!0,wt(this,lt).set(ut,mt);gt&&hn(this,ct,Xu).call(this),mt instanceof nt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(mt.constructor._type)}has(ut){return wt(this,lt).has(ut)}getAll(){return wt(this,lt).size>0?(0,tt.objectFromMap)(wt(this,lt)):null}setAll(ut){for(const[mt,ft]of Object.entries(ut))this.setValue(mt,ft)}get size(){return wt(this,lt).size}resetModified(){wt(this,at)&&(Rn(this,at,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ot(this)}get serializable(){if(wt(this,lt).size===0)return it;const ut=new Map,mt=new rt.MurmurHash3_64,ft=[],gt=Object.create(null);let vt=!1;for(const[bt,Et]of wt(this,lt)){const xt=Et instanceof nt.AnnotationEditor?Et.serialize(!1,gt):Et;xt&&(ut.set(bt,xt),mt.update(`${bt}:${JSON.stringify(xt)}`),vt||(vt=!!xt.bitmap))}if(vt)for(const bt of ut.values())bt.bitmap&&ft.push(bt.bitmap);return ut.size>0?{map:ut,hash:mt.hexdigest(),transfers:ft}:it}}at=new WeakMap,lt=new WeakMap,ct=new WeakSet,Xu=function(){wt(this,at)||(Rn(this,at,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_.AnnotationStorage=st;class ot extends st{constructor(mt){super();Qt(this,_t,void 0);const{map:ft,hash:gt,transfers:vt}=mt.serializable,bt=structuredClone(ft,vt?{transfer:vt}:null);Rn(this,_t,{map:bt,hash:gt,transfers:vt})}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return wt(this,_t)}}_t=new WeakMap,_.PrintAnnotationStorage=ot},($,_,et)=>{var ot,at,lt,ct,dt,_t,pt,ut,mt,ft,gt,vt,bt,Et,xt,pu,Ct,mu,Lt,gu,Ht,_u,Nt,Qu,rn,Ju,Wt,Zu,Tn,yu,Mn,_d;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditor=void 0;var tt=et(5),nt=et(1),rt=et(6);const St=class St{constructor(Tt){Qt(this,xt);Qt(this,Ct);Qt(this,Ht);Qt(this,Nt);Qt(this,rn);Qt(this,Wt);Qt(this,Tn);Qt(this,Mn);Qt(this,ot,"");Qt(this,at,!1);Qt(this,lt,null);Qt(this,ct,null);Qt(this,dt,null);Qt(this,_t,!1);Qt(this,pt,null);Qt(this,ut,this.focusin.bind(this));Qt(this,mt,this.focusout.bind(this));Qt(this,ft,!1);Qt(this,gt,!1);Qt(this,vt,!1);cs(this,"_initialOptions",Object.create(null));cs(this,"_uiManager",null);cs(this,"_focusEventsAllowed",!0);cs(this,"_l10nPromise",null);Qt(this,bt,!1);Qt(this,Et,St._zIndex++);this.constructor===St&&(0,nt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Tt.parent,this.id=Tt.id,this.width=this.height=null,this.pageIndex=Tt.parent.pageIndex,this.name=Tt.name,this.div=null,this._uiManager=Tt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Tt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:Ot,pageHeight:jt,pageX:qt,pageY:Zt}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ot,jt],this.pageTranslation=[qt,Zt];const[bn,En]=this.parentDimensions;this.x=Tt.x/bn,this.y=Tt.y/En,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,nt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Tt){const Dt=new st({id:Tt.parent.getNextId(),parent:Tt.parent,uiManager:Tt._uiManager});Dt.annotationElementId=Tt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(Tt,Dt=null){if(St._l10nPromise||(St._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(jt=>[jt,Tt.get(jt)]))),Dt!=null&&Dt.strings)for(const jt of Dt.strings)St._l10nPromise.set(jt,Tt.get(jt));if(St._borderLineWidth!==-1)return;const Ot=getComputedStyle(document.documentElement);St._borderLineWidth=parseFloat(Ot.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Tt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Tt){return!1}static paste(Tt,Dt){(0,nt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return wt(this,bt)}set _isDraggable(Tt){var Dt;Rn(this,bt,Tt),(Dt=this.div)==null||Dt.classList.toggle("draggable",Tt)}center(){const[Tt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(Tt*2),this.y+=this.width*Tt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(Tt*2),this.y-=this.width*Tt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Tt){this._uiManager.addCommands(Tt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=wt(this,Et)}setParent(Tt){Tt!==null&&(this.pageIndex=Tt.pageIndex,this.pageDimensions=Tt.pageDimensions),this.parent=Tt}focusin(Tt){this._focusEventsAllowed&&(wt(this,ft)?Rn(this,ft,!1):this.parent.setSelected(this))}focusout(Tt){var Ot;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=Tt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(Tt.preventDefault(),(Ot=this.parent)!=null&&Ot.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Tt,Dt,Ot,jt){const[qt,Zt]=this.parentDimensions;[Ot,jt]=this.screenToPageTranslation(Ot,jt),this.x=(Tt+Ot)/qt,this.y=(Dt+jt)/Zt,this.fixAndSetPosition()}translate(Tt,Dt){hn(this,xt,pu).call(this,this.parentDimensions,Tt,Dt)}translateInPage(Tt,Dt){hn(this,xt,pu).call(this,this.pageDimensions,Tt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(Tt,Dt){const[Ot,jt]=this.parentDimensions;if(this.x+=Tt/Ot,this.y+=Dt/jt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:In,y:$n}=this.div.getBoundingClientRect();this.parent.findNewParent(this,In,$n)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:qt,y:Zt}=this;const[bn,En]=hn(this,Ct,mu).call(this);qt+=bn,Zt+=En,this.div.style.left=`${(100*qt).toFixed(2)}%`,this.div.style.top=`${(100*Zt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Tt,Dt]=this.pageDimensions;let{x:Ot,y:jt,width:qt,height:Zt}=this;switch(qt*=Tt,Zt*=Dt,Ot*=Tt,jt*=Dt,this.rotation){case 0:Ot=Math.max(0,Math.min(Tt-qt,Ot)),jt=Math.max(0,Math.min(Dt-Zt,jt));break;case 90:Ot=Math.max(0,Math.min(Tt-Zt,Ot)),jt=Math.min(Dt,Math.max(qt,jt));break;case 180:Ot=Math.min(Tt,Math.max(qt,Ot)),jt=Math.min(Dt,Math.max(Zt,jt));break;case 270:Ot=Math.min(Tt,Math.max(Zt,Ot)),jt=Math.max(0,Math.min(Dt-qt,jt));break}this.x=Ot/=Tt,this.y=jt/=Dt;const[bn,En]=hn(this,Ct,mu).call(this);Ot+=bn,jt+=En;const{style:In}=this.div;In.left=`${(100*Ot).toFixed(2)}%`,In.top=`${(100*jt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Tt,Dt){var Ot;return hn(Ot=St,Lt,gu).call(Ot,Tt,Dt,this.parentRotation)}pageTranslationToScreen(Tt,Dt){var Ot;return hn(Ot=St,Lt,gu).call(Ot,Tt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Tt,pageDimensions:[Dt,Ot]}=this,jt=Dt*Tt,qt=Ot*Tt;return nt.FeatureTest.isCSSRoundSupported?[Math.round(jt),Math.round(qt)]:[jt,qt]}setDims(Tt,Dt){var qt;const[Ot,jt]=this.parentDimensions;this.div.style.width=`${(100*Tt/Ot).toFixed(2)}%`,wt(this,_t)||(this.div.style.height=`${(100*Dt/jt).toFixed(2)}%`),(qt=wt(this,lt))==null||qt.classList.toggle("small",Tt<St.SMALL_EDITOR_SIZE||Dt<St.SMALL_EDITOR_SIZE)}fixDims(){const{style:Tt}=this.div,{height:Dt,width:Ot}=Tt,jt=Ot.endsWith("%"),qt=!wt(this,_t)&&Dt.endsWith("%");if(jt&&qt)return;const[Zt,bn]=this.parentDimensions;jt||(Tt.width=`${(100*parseFloat(Ot)/Zt).toFixed(2)}%`),!wt(this,_t)&&!qt&&(Tt.height=`${(100*parseFloat(Dt)/bn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(wt(this,lt))return;const Tt=Rn(this,lt,document.createElement("button"));Tt.className="altText";const Dt=await St._l10nPromise.get("editor_alt_text_button_label");Tt.textContent=Dt,Tt.setAttribute("aria-label",Dt),Tt.tabIndex="0",Tt.addEventListener("contextmenu",rt.noContextMenu),Tt.addEventListener("pointerdown",Ot=>Ot.stopPropagation()),Tt.addEventListener("click",Ot=>{Ot.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Tt.addEventListener("keydown",Ot=>{Ot.target===Tt&&Ot.key==="Enter"&&(Ot.preventDefault(),this._uiManager.editAltText(this))}),hn(this,Tn,yu).call(this),this.div.append(Tt),St.SMALL_EDITOR_SIZE||(St.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Tt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:wt(this,ot),decorative:wt(this,at)}}set altTextData({altText:Tt,decorative:Dt}){wt(this,ot)===Tt&&wt(this,at)===Dt||(Rn(this,ot,Tt),Rn(this,at,Dt),hn(this,Tn,yu).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",wt(this,ut)),this.div.addEventListener("focusout",wt(this,mt));const[Tt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/Tt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Tt/Dt).toFixed(2)}%`);const[Ot,jt]=this.getInitialTranslation();return this.translate(Ot,jt),(0,tt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Tt){const{isMac:Dt}=nt.FeatureTest.platform;if(Tt.button!==0||Tt.ctrlKey&&Dt){Tt.preventDefault();return}Rn(this,ft,!0),hn(this,Mn,_d).call(this,Tt)}moveInDOM(){var Tt;(Tt=this.parent)==null||Tt.moveEditorInDOM(this)}_setParentAndPosition(Tt,Dt,Ot){Tt.changeParent(this),this.x=Dt,this.y=Ot,this.fixAndSetPosition()}getRect(Tt,Dt){const Ot=this.parentScale,[jt,qt]=this.pageDimensions,[Zt,bn]=this.pageTranslation,En=Tt/Ot,In=Dt/Ot,$n=this.x*jt,Hn=this.y*qt,Bt=this.width*jt,sn=this.height*qt;switch(this.rotation){case 0:return[$n+En+Zt,qt-Hn-In-sn+bn,$n+En+Bt+Zt,qt-Hn-In+bn];case 90:return[$n+In+Zt,qt-Hn+En+bn,$n+In+sn+Zt,qt-Hn+En+Bt+bn];case 180:return[$n-En-Bt+Zt,qt-Hn+In+bn,$n-En+Zt,qt-Hn+In+sn+bn];case 270:return[$n-In-sn+Zt,qt-Hn-En-Bt+bn,$n-In+Zt,qt-Hn-En+bn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Tt,Dt){const[Ot,jt,qt,Zt]=Tt,bn=qt-Ot,En=Zt-jt;switch(this.rotation){case 0:return[Ot,Dt-Zt,bn,En];case 90:return[Ot,Dt-jt,En,bn];case 180:return[qt,Dt-jt,bn,En];case 270:return[qt,Dt-Zt,En,bn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Rn(this,vt,!0)}disableEditMode(){Rn(this,vt,!1)}isInEditMode(){return wt(this,vt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Tt,Dt;(Tt=this.div)==null||Tt.addEventListener("focusin",wt(this,ut)),(Dt=this.div)==null||Dt.addEventListener("focusout",wt(this,mt))}serialize(Tt=!1,Dt=null){(0,nt.unreachable)("An editor must be serializable")}static deserialize(Tt,Dt,Ot){const jt=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:Ot});jt.rotation=Tt.rotation;const[qt,Zt]=jt.pageDimensions,[bn,En,In,$n]=jt.getRectInCurrentCoords(Tt.rect,Zt);return jt.x=bn/qt,jt.y=En/Zt,jt.width=In/qt,jt.height=$n/Zt,jt}remove(){var Tt;this.div.removeEventListener("focusin",wt(this,ut)),this.div.removeEventListener("focusout",wt(this,mt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Tt=wt(this,lt))==null||Tt.remove(),Rn(this,lt,null),Rn(this,ct,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(hn(this,Nt,Qu).call(this),wt(this,pt).classList.remove("hidden"))}select(){var Tt;this.makeResizable(),(Tt=this.div)==null||Tt.classList.add("selectedEditor")}unselect(){var Tt,Dt,Ot;(Tt=wt(this,pt))==null||Tt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(Ot=this.div)!=null&&Ot.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Tt,Dt){}disableEditing(){wt(this,lt)&&(wt(this,lt).hidden=!0)}enableEditing(){wt(this,lt)&&(wt(this,lt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return wt(this,gt)}set isEditing(Tt){Rn(this,gt,Tt),this.parent&&(Tt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Tt,Dt){Rn(this,_t,!0);const Ot=Tt/Dt,{style:jt}=this.div;jt.aspectRatio=Ot,jt.height="auto"}static get MIN_SIZE(){return 16}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,Et=new WeakMap,xt=new WeakSet,pu=function([Tt,Dt],Ot,jt){[Ot,jt]=this.screenToPageTranslation(Ot,jt),this.x+=Ot/Tt,this.y+=jt/Dt,this.fixAndSetPosition()},Ct=new WeakSet,mu=function(){const[Tt,Dt]=this.parentDimensions,{_borderLineWidth:Ot}=St,jt=Ot/Tt,qt=Ot/Dt;switch(this.rotation){case 90:return[-jt,qt];case 180:return[jt,qt];case 270:return[jt,-qt];default:return[-jt,-qt]}},Lt=new WeakSet,gu=function(Tt,Dt,Ot){switch(Ot){case 90:return[Dt,-Tt];case 180:return[-Tt,-Dt];case 270:return[-Dt,Tt];default:return[Tt,Dt]}},Ht=new WeakSet,_u=function(Tt){switch(Tt){case 90:{const[Dt,Ot]=this.pageDimensions;return[0,-Dt/Ot,Ot/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,Ot]=this.pageDimensions;return[0,Dt/Ot,-Ot/Dt,0]}default:return[1,0,0,1]}},Nt=new WeakSet,Qu=function(){if(wt(this,pt))return;Rn(this,pt,document.createElement("div")),wt(this,pt).classList.add("resizers");const Tt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Tt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of Tt){const Ot=document.createElement("div");wt(this,pt).append(Ot),Ot.classList.add("resizer",Dt),Ot.addEventListener("pointerdown",hn(this,rn,Ju).bind(this,Dt)),Ot.addEventListener("contextmenu",rt.noContextMenu)}this.div.prepend(wt(this,pt))},rn=new WeakSet,Ju=function(Tt,Dt){Dt.preventDefault();const{isMac:Ot}=nt.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&Ot)return;const jt=hn(this,Wt,Zu).bind(this,Tt),qt=this._isDraggable;this._isDraggable=!1;const Zt={passive:!0,capture:!0};window.addEventListener("pointermove",jt,Zt);const bn=this.x,En=this.y,In=this.width,$n=this.height,Hn=this.parent.div.style.cursor,Bt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const sn=()=>{this._isDraggable=qt,window.removeEventListener("pointerup",sn),window.removeEventListener("blur",sn),window.removeEventListener("pointermove",jt,Zt),this.parent.div.style.cursor=Hn,this.div.style.cursor=Bt;const xn=this.x,Cn=this.y,kn=this.width,cn=this.height;xn===bn&&Cn===En&&kn===In&&cn===$n||this.addCommands({cmd:()=>{this.width=kn,this.height=cn,this.x=xn,this.y=Cn;const[nn,dn]=this.parentDimensions;this.setDims(nn*kn,dn*cn),this.fixAndSetPosition()},undo:()=>{this.width=In,this.height=$n,this.x=bn,this.y=En;const[nn,dn]=this.parentDimensions;this.setDims(nn*In,dn*$n),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",sn),window.addEventListener("blur",sn)},Wt=new WeakSet,Zu=function(Tt,Dt){const[Ot,jt]=this.parentDimensions,qt=this.x,Zt=this.y,bn=this.width,En=this.height,In=St.MIN_SIZE/Ot,$n=St.MIN_SIZE/jt,Hn=jn=>Math.round(jn*1e4)/1e4,Bt=hn(this,Ht,_u).call(this,this.rotation),sn=(jn,On)=>[Bt[0]*jn+Bt[2]*On,Bt[1]*jn+Bt[3]*On],xn=hn(this,Ht,_u).call(this,360-this.rotation),Cn=(jn,On)=>[xn[0]*jn+xn[2]*On,xn[1]*jn+xn[3]*On];let kn,cn,nn=!1,dn=!1;switch(Tt){case"topLeft":nn=!0,kn=(jn,On)=>[0,0],cn=(jn,On)=>[jn,On];break;case"topMiddle":kn=(jn,On)=>[jn/2,0],cn=(jn,On)=>[jn/2,On];break;case"topRight":nn=!0,kn=(jn,On)=>[jn,0],cn=(jn,On)=>[0,On];break;case"middleRight":dn=!0,kn=(jn,On)=>[jn,On/2],cn=(jn,On)=>[0,On/2];break;case"bottomRight":nn=!0,kn=(jn,On)=>[jn,On],cn=(jn,On)=>[0,0];break;case"bottomMiddle":kn=(jn,On)=>[jn/2,On],cn=(jn,On)=>[jn/2,0];break;case"bottomLeft":nn=!0,kn=(jn,On)=>[0,On],cn=(jn,On)=>[jn,0];break;case"middleLeft":dn=!0,kn=(jn,On)=>[0,On/2],cn=(jn,On)=>[jn,On/2];break}const mn=kn(bn,En),zn=cn(bn,En);let Gn=sn(...zn);const ur=Hn(qt+Gn[0]),ir=Hn(Zt+Gn[1]);let sr=1,_r=1,[wr,dr]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([wr,dr]=Cn(wr/Ot,dr/jt),nn){const jn=Math.hypot(bn,En);sr=_r=Math.max(Math.min(Math.hypot(zn[0]-mn[0]-wr,zn[1]-mn[1]-dr)/jn,1/bn,1/En),In/bn,$n/En)}else dn?sr=Math.max(In,Math.min(1,Math.abs(zn[0]-mn[0]-wr)))/bn:_r=Math.max($n,Math.min(1,Math.abs(zn[1]-mn[1]-dr)))/En;const Er=Hn(bn*sr),Dn=Hn(En*_r);Gn=sn(...cn(Er,Dn));const pn=ur-Gn[0],on=ir-Gn[1];this.width=Er,this.height=Dn,this.x=pn,this.y=on,this.setDims(Ot*Er,jt*Dn),this.fixAndSetPosition()},Tn=new WeakSet,yu=async function(){var Ot;const Tt=wt(this,lt);if(!Tt)return;if(!wt(this,ot)&&!wt(this,at)){Tt.classList.remove("done"),(Ot=wt(this,ct))==null||Ot.remove();return}St._l10nPromise.get("editor_alt_text_edit_button_label").then(jt=>{Tt.setAttribute("aria-label",jt)});let Dt=wt(this,ct);if(!Dt){Rn(this,ct,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const jt=Dt.id=`alt-text-tooltip-${this.id}`;Tt.setAttribute("aria-describedby",jt);const qt=100;Tt.addEventListener("mouseenter",()=>{Rn(this,dt,setTimeout(()=>{Rn(this,dt,null),wt(this,ct).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},qt))}),Tt.addEventListener("mouseleave",()=>{var Zt;clearTimeout(wt(this,dt)),Rn(this,dt,null),(Zt=wt(this,ct))==null||Zt.classList.remove("show")})}Tt.classList.add("done"),Dt.innerText=wt(this,at)?await St._l10nPromise.get("editor_alt_text_decorative_tooltip"):wt(this,ot),Dt.parentNode||Tt.append(Dt)},Mn=new WeakSet,_d=function(Tt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ot,jt;Dt&&(Ot={passive:!0,capture:!0},jt=Zt=>{const[bn,En]=this.screenToPageTranslation(Zt.movementX,Zt.movementY);this._uiManager.dragSelectedEditors(bn,En)},window.addEventListener("pointermove",jt,Ot));const qt=()=>{if(window.removeEventListener("pointerup",qt),window.removeEventListener("blur",qt),Dt&&window.removeEventListener("pointermove",jt,Ot),Rn(this,ft,!1),!this._uiManager.endDragSession()){const{isMac:Zt}=nt.FeatureTest.platform;Tt.ctrlKey&&!Zt||Tt.shiftKey||Tt.metaKey&&Zt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",qt),window.addEventListener("blur",qt)},Qt(St,Lt),cs(St,"_borderLineWidth",-1),cs(St,"_colorManager",new tt.ColorManager),cs(St,"_zIndex",1),cs(St,"SMALL_EDITOR_SIZE",0);let it=St;_.AnnotationEditor=it;class st extends it{constructor(Tt){super(Tt),this.annotationElementId=Tt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},($,_,et)=>{var _t,pt,ut,mt,ft,vu,bt,Et,xt,kt,Ct,_h,Mt,Ht,zt,Nt,Xt,rn,wn,Wt,fn,Tn,Fn,Mn,Ut,St,It,Tt,Dt,Ot,jt,qt,Zt,bn,En,In,$n,Hn,Bt,sn,xn,Cn,kn,cn,nn,dn,mn,_f,Gn,Eu,ir,wu,_r,yl,dr,bu,Dn,xu,on,Ms,On,$o,Gr,ep,qn,tp,Xn,Su,hr,Oo,Wn,Au;Object.defineProperty(_,"__esModule",{value:!0}),_.KeyboardManager=_.CommandManager=_.ColorManager=_.AnnotationEditorUIManager=void 0,_.bindEvents=rt,_.opacityToHex=it;var tt=et(1),nt=et(6);function rt(Gt,Rt,Vt){for(const Kt of Vt)Rt.addEventListener(Kt,Gt[Kt].bind(Gt))}function it(Gt){return Math.round(Math.min(255,Math.max(1,255*Gt))).toString(16).padStart(2,"0")}class st{constructor(){Qt(this,_t,0)}getId(){return`${tt.AnnotationEditorPrefix}${Do(this,_t)._++}`}}_t=new WeakMap;const vt=class vt{constructor(){Qt(this,ft);Qt(this,pt,(0,tt.getUuid)());Qt(this,ut,0);Qt(this,mt,null)}static get _isSVGFittingCanvas(){const Rt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Kt=new OffscreenCanvas(1,3).getContext("2d"),ln=new Image;ln.src=Rt;const gn=ln.decode().then(()=>(Kt.drawImage(ln,0,0,1,1,0,0,1,3),new Uint32Array(Kt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,tt.shadow)(this,"_isSVGFittingCanvas",gn)}async getFromFile(Rt){const{lastModified:Vt,name:Kt,size:ln,type:gn}=Rt;return hn(this,ft,vu).call(this,`${Vt}_${Kt}_${ln}_${gn}`,Rt)}async getFromUrl(Rt){return hn(this,ft,vu).call(this,Rt,Rt)}async getFromId(Rt){wt(this,mt)||Rn(this,mt,new Map);const Vt=wt(this,mt).get(Rt);return Vt?Vt.bitmap?(Vt.refCounter+=1,Vt):Vt.file?this.getFromFile(Vt.file):this.getFromUrl(Vt.url):null}getSvgUrl(Rt){const Vt=wt(this,mt).get(Rt);return Vt!=null&&Vt.isSvg?Vt.svgUrl:null}deleteId(Rt){wt(this,mt)||Rn(this,mt,new Map);const Vt=wt(this,mt).get(Rt);Vt&&(Vt.refCounter-=1,Vt.refCounter===0&&(Vt.bitmap=null))}isValidId(Rt){return Rt.startsWith(`image_${wt(this,pt)}_`)}};pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakSet,vu=async function(Rt,Vt){wt(this,mt)||Rn(this,mt,new Map);let Kt=wt(this,mt).get(Rt);if(Kt===null)return null;if(Kt!=null&&Kt.bitmap)return Kt.refCounter+=1,Kt;try{Kt||(Kt={bitmap:null,id:`image_${wt(this,pt)}_${Do(this,ut)._++}`,refCounter:0,isSvg:!1});let ln;if(typeof Vt=="string"){Kt.url=Vt;const gn=await fetch(Vt);if(!gn.ok)throw new Error(gn.statusText);ln=await gn.blob()}else ln=Kt.file=Vt;if(ln.type==="image/svg+xml"){const gn=vt._isSVGFittingCanvas,Pn=new FileReader,Bn=new Image,Zn=new Promise((Jn,rr)=>{Bn.onload=()=>{Kt.bitmap=Bn,Kt.isSvg=!0,Jn()},Pn.onload=async()=>{const tr=Kt.svgUrl=Pn.result;Bn.src=await gn?`${tr}#svgView(preserveAspectRatio(none))`:tr},Bn.onerror=Pn.onerror=rr});Pn.readAsDataURL(ln),await Zn}else Kt.bitmap=await createImageBitmap(ln);Kt.refCounter=1}catch(ln){console.error(ln),Kt=null}return wt(this,mt).set(Rt,Kt),Kt&&wt(this,mt).set(Kt.id,Kt),Kt};let ot=vt;class at{constructor(Rt=128){Qt(this,bt,[]);Qt(this,Et,!1);Qt(this,xt,void 0);Qt(this,kt,-1);Rn(this,xt,Rt)}add({cmd:Rt,undo:Vt,mustExec:Kt,type:ln=NaN,overwriteIfSameType:gn=!1,keepUndo:Pn=!1}){if(Kt&&Rt(),wt(this,Et))return;const Bn={cmd:Rt,undo:Vt,type:ln};if(wt(this,kt)===-1){wt(this,bt).length>0&&(wt(this,bt).length=0),Rn(this,kt,0),wt(this,bt).push(Bn);return}if(gn&&wt(this,bt)[wt(this,kt)].type===ln){Pn&&(Bn.undo=wt(this,bt)[wt(this,kt)].undo),wt(this,bt)[wt(this,kt)]=Bn;return}const Zn=wt(this,kt)+1;Zn===wt(this,xt)?wt(this,bt).splice(0,1):(Rn(this,kt,Zn),Zn<wt(this,bt).length&&wt(this,bt).splice(Zn)),wt(this,bt).push(Bn)}undo(){wt(this,kt)!==-1&&(Rn(this,Et,!0),wt(this,bt)[wt(this,kt)].undo(),Rn(this,Et,!1),Rn(this,kt,wt(this,kt)-1))}redo(){wt(this,kt)<wt(this,bt).length-1&&(Rn(this,kt,wt(this,kt)+1),Rn(this,Et,!0),wt(this,bt)[wt(this,kt)].cmd(),Rn(this,Et,!1))}hasSomethingToUndo(){return wt(this,kt)!==-1}hasSomethingToRedo(){return wt(this,kt)<wt(this,bt).length-1}destroy(){Rn(this,bt,null)}}bt=new WeakMap,Et=new WeakMap,xt=new WeakMap,kt=new WeakMap,_.CommandManager=at;class lt{constructor(Rt){Qt(this,Ct);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Vt}=tt.FeatureTest.platform;for(const[Kt,ln,gn={}]of Rt)for(const Pn of Kt){const Bn=Pn.startsWith("mac+");Vt&&Bn?(this.callbacks.set(Pn.slice(4),{callback:ln,options:gn}),this.allKeys.add(Pn.split("+").at(-1))):!Vt&&!Bn&&(this.callbacks.set(Pn,{callback:ln,options:gn}),this.allKeys.add(Pn.split("+").at(-1)))}}exec(Rt,Vt){if(!this.allKeys.has(Vt.key))return;const Kt=this.callbacks.get(hn(this,Ct,_h).call(this,Vt));if(!Kt)return;const{callback:ln,options:{bubbles:gn=!1,args:Pn=[],checker:Bn=null}}=Kt;Bn&&!Bn(Rt,Vt)||(ln.bind(Rt,...Pn)(),gn||(Vt.stopPropagation(),Vt.preventDefault()))}}Ct=new WeakSet,_h=function(Rt){Rt.altKey&&this.buffer.push("alt"),Rt.ctrlKey&&this.buffer.push("ctrl"),Rt.metaKey&&this.buffer.push("meta"),Rt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Rt.key);const Vt=this.buffer.join("+");return this.buffer.length=0,Vt},_.KeyboardManager=lt;const Lt=class Lt{get _colors(){const Rt=new Map([["CanvasText",null],["Canvas",null]]);return(0,nt.getColorValues)(Rt),(0,tt.shadow)(this,"_colors",Rt)}convert(Rt){const Vt=(0,nt.getRGB)(Rt);if(!window.matchMedia("(forced-colors: active)").matches)return Vt;for(const[Kt,ln]of this._colors)if(ln.every((gn,Pn)=>gn===Vt[Pn]))return Lt._colorsMapping.get(Kt);return Vt}getHexCode(Rt){const Vt=this._colors.get(Rt);return Vt?tt.Util.makeHexColor(...Vt):Rt}};cs(Lt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ct=Lt;_.ColorManager=ct;const or=class or{constructor(Rt,Vt,Kt,ln,gn,Pn){Qt(this,mn);Qt(this,Gn);Qt(this,ir);Qt(this,_r);Qt(this,dr);Qt(this,Dn);Qt(this,on);Qt(this,On);Qt(this,Gr);Qt(this,qn);Qt(this,Xn);Qt(this,hr);Qt(this,Wn);Qt(this,Mt,null);Qt(this,Ht,new Map);Qt(this,zt,new Map);Qt(this,Nt,null);Qt(this,Xt,null);Qt(this,rn,new at);Qt(this,wn,0);Qt(this,Wt,new Set);Qt(this,fn,null);Qt(this,Tn,null);Qt(this,Fn,new Set);Qt(this,Mn,null);Qt(this,Ut,new st);Qt(this,St,!1);Qt(this,It,!1);Qt(this,Tt,null);Qt(this,Dt,tt.AnnotationEditorType.NONE);Qt(this,Ot,new Set);Qt(this,jt,null);Qt(this,qt,this.blur.bind(this));Qt(this,Zt,this.focus.bind(this));Qt(this,bn,this.copy.bind(this));Qt(this,En,this.cut.bind(this));Qt(this,In,this.paste.bind(this));Qt(this,$n,this.keydown.bind(this));Qt(this,Hn,this.onEditingAction.bind(this));Qt(this,Bt,this.onPageChanging.bind(this));Qt(this,sn,this.onScaleChanging.bind(this));Qt(this,xn,this.onRotationChanging.bind(this));Qt(this,Cn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Qt(this,kn,[0,0]);Qt(this,cn,null);Qt(this,nn,null);Qt(this,dn,null);Rn(this,nn,Rt),Rn(this,dn,Vt),Rn(this,Nt,Kt),this._eventBus=ln,this._eventBus._on("editingaction",wt(this,Hn)),this._eventBus._on("pagechanging",wt(this,Bt)),this._eventBus._on("scalechanging",wt(this,sn)),this._eventBus._on("rotationchanging",wt(this,xn)),Rn(this,Xt,gn.annotationStorage),Rn(this,Mn,gn.filterFactory),Rn(this,jt,Pn),this.viewParameters={realScale:nt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Rt=or.prototype,Vt=gn=>{const{activeElement:Pn}=document;return Pn&&wt(gn,nn).contains(Pn)&&gn.hasSomethingToControl()},Kt=this.TRANSLATE_SMALL,ln=this.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new lt([[["ctrl+a","mac+meta+a"],Rt.selectAll],[["ctrl+z","mac+meta+z"],Rt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Rt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Rt.delete],[["Escape","mac+Escape"],Rt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Rt.translateSelectedEditors,{args:[-Kt,0],checker:Vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Rt.translateSelectedEditors,{args:[-ln,0],checker:Vt}],[["ArrowRight","mac+ArrowRight"],Rt.translateSelectedEditors,{args:[Kt,0],checker:Vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Rt.translateSelectedEditors,{args:[ln,0],checker:Vt}],[["ArrowUp","mac+ArrowUp"],Rt.translateSelectedEditors,{args:[0,-Kt],checker:Vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Rt.translateSelectedEditors,{args:[0,-ln],checker:Vt}],[["ArrowDown","mac+ArrowDown"],Rt.translateSelectedEditors,{args:[0,Kt],checker:Vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Rt.translateSelectedEditors,{args:[0,ln],checker:Vt}]]))}destroy(){hn(this,_r,yl).call(this),hn(this,Gn,Eu).call(this),this._eventBus._off("editingaction",wt(this,Hn)),this._eventBus._off("pagechanging",wt(this,Bt)),this._eventBus._off("scalechanging",wt(this,sn)),this._eventBus._off("rotationchanging",wt(this,xn));for(const Rt of wt(this,zt).values())Rt.destroy();wt(this,zt).clear(),wt(this,Ht).clear(),wt(this,Fn).clear(),Rn(this,Mt,null),wt(this,Ot).clear(),wt(this,rn).destroy(),wt(this,Nt).destroy()}get hcmFilter(){return(0,tt.shadow)(this,"hcmFilter",wt(this,jt)?wt(this,Mn).addHCMFilter(wt(this,jt).foreground,wt(this,jt).background):"none")}get direction(){return(0,tt.shadow)(this,"direction",getComputedStyle(wt(this,nn)).direction)}editAltText(Rt){var Vt;(Vt=wt(this,Nt))==null||Vt.editAltText(this,Rt)}onPageChanging({pageNumber:Rt}){Rn(this,wn,Rt-1)}focusMainContainer(){wt(this,nn).focus()}findParent(Rt,Vt){for(const Kt of wt(this,zt).values()){const{x:ln,y:gn,width:Pn,height:Bn}=Kt.div.getBoundingClientRect();if(Rt>=ln&&Rt<=ln+Pn&&Vt>=gn&&Vt<=gn+Bn)return Kt}return null}disableUserSelect(Rt=!1){wt(this,dn).classList.toggle("noUserSelect",Rt)}addShouldRescale(Rt){wt(this,Fn).add(Rt)}removeShouldRescale(Rt){wt(this,Fn).delete(Rt)}onScaleChanging({scale:Rt}){this.commitOrRemove(),this.viewParameters.realScale=Rt*nt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Vt of wt(this,Fn))Vt.onScaleChanging()}onRotationChanging({pagesRotation:Rt}){this.commitOrRemove(),this.viewParameters.rotation=Rt}addToAnnotationStorage(Rt){!Rt.isEmpty()&&wt(this,Xt)&&!wt(this,Xt).has(Rt.id)&&wt(this,Xt).setValue(Rt.id,Rt)}blur(){if(!this.hasSelection)return;const{activeElement:Rt}=document;for(const Vt of wt(this,Ot))if(Vt.div.contains(Rt)){Rn(this,Tt,[Vt,Rt]),Vt._focusEventsAllowed=!1;break}}focus(){if(!wt(this,Tt))return;const[Rt,Vt]=wt(this,Tt);Rn(this,Tt,null),Vt.addEventListener("focusin",()=>{Rt._focusEventsAllowed=!0},{once:!0}),Vt.focus()}addEditListeners(){hn(this,ir,wu).call(this),hn(this,dr,bu).call(this)}removeEditListeners(){hn(this,_r,yl).call(this),hn(this,Dn,xu).call(this)}copy(Rt){var Kt;if(Rt.preventDefault(),(Kt=wt(this,Mt))==null||Kt.commitOrRemove(),!this.hasSelection)return;const Vt=[];for(const ln of wt(this,Ot)){const gn=ln.serialize(!0);gn&&Vt.push(gn)}Vt.length!==0&&Rt.clipboardData.setData("application/pdfjs",JSON.stringify(Vt))}cut(Rt){this.copy(Rt),this.delete()}paste(Rt){Rt.preventDefault();const{clipboardData:Vt}=Rt;for(const gn of Vt.items)for(const Pn of wt(this,Tn))if(Pn.isHandlingMimeForPasting(gn.type)){Pn.paste(gn,this.currentLayer);return}let Kt=Vt.getData("application/pdfjs");if(!Kt)return;try{Kt=JSON.parse(Kt)}catch(gn){(0,tt.warn)(`paste: "${gn.message}".`);return}if(!Array.isArray(Kt))return;this.unselectAll();const ln=this.currentLayer;try{const gn=[];for(const Zn of Kt){const Jn=ln.deserialize(Zn);if(!Jn)return;gn.push(Jn)}const Pn=()=>{for(const Zn of gn)hn(this,Xn,Su).call(this,Zn);hn(this,Wn,Au).call(this,gn)},Bn=()=>{for(const Zn of gn)Zn.remove()};this.addCommands({cmd:Pn,undo:Bn,mustExec:!0})}catch(gn){(0,tt.warn)(`paste: "${gn.message}".`)}}keydown(Rt){var Vt;(Vt=this.getActive())!=null&&Vt.shouldGetKeyboardEvents()||or._keyboardManager.exec(this,Rt)}onEditingAction(Rt){["undo","redo","delete","selectAll"].includes(Rt.name)&&this[Rt.name]()}setEditingState(Rt){Rt?(hn(this,mn,_f).call(this),hn(this,ir,wu).call(this),hn(this,dr,bu).call(this),hn(this,on,Ms).call(this,{isEditing:wt(this,Dt)!==tt.AnnotationEditorType.NONE,isEmpty:hn(this,hr,Oo).call(this),hasSomethingToUndo:wt(this,rn).hasSomethingToUndo(),hasSomethingToRedo:wt(this,rn).hasSomethingToRedo(),hasSelectedEditor:!1})):(hn(this,Gn,Eu).call(this),hn(this,_r,yl).call(this),hn(this,Dn,xu).call(this),hn(this,on,Ms).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Rt){if(!wt(this,Tn)){Rn(this,Tn,Rt);for(const Vt of wt(this,Tn))hn(this,On,$o).call(this,Vt.defaultPropertiesToUpdate)}}getId(){return wt(this,Ut).getId()}get currentLayer(){return wt(this,zt).get(wt(this,wn))}getLayer(Rt){return wt(this,zt).get(Rt)}get currentPageIndex(){return wt(this,wn)}addLayer(Rt){wt(this,zt).set(Rt.pageIndex,Rt),wt(this,St)?Rt.enable():Rt.disable()}removeLayer(Rt){wt(this,zt).delete(Rt.pageIndex)}updateMode(Rt,Vt=null){if(wt(this,Dt)!==Rt){if(Rn(this,Dt,Rt),Rt===tt.AnnotationEditorType.NONE){this.setEditingState(!1),hn(this,qn,tp).call(this);return}this.setEditingState(!0),hn(this,Gr,ep).call(this),this.unselectAll();for(const Kt of wt(this,zt).values())Kt.updateMode(Rt);if(Vt){for(const Kt of wt(this,Ht).values())if(Kt.annotationElementId===Vt){this.setSelected(Kt),Kt.enterInEditMode();break}}}}updateToolbar(Rt){Rt!==wt(this,Dt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Rt})}updateParams(Rt,Vt){if(wt(this,Tn)){if(Rt===tt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Rt);return}for(const Kt of wt(this,Ot))Kt.updateParams(Rt,Vt);for(const Kt of wt(this,Tn))Kt.updateDefaultParams(Rt,Vt)}}enableWaiting(Rt=!1){if(wt(this,It)!==Rt){Rn(this,It,Rt);for(const Vt of wt(this,zt).values())Rt?Vt.disableClick():Vt.enableClick(),Vt.div.classList.toggle("waiting",Rt)}}getEditors(Rt){const Vt=[];for(const Kt of wt(this,Ht).values())Kt.pageIndex===Rt&&Vt.push(Kt);return Vt}getEditor(Rt){return wt(this,Ht).get(Rt)}addEditor(Rt){wt(this,Ht).set(Rt.id,Rt)}removeEditor(Rt){var Vt;wt(this,Ht).delete(Rt.id),this.unselect(Rt),(!Rt.annotationElementId||!wt(this,Wt).has(Rt.annotationElementId))&&((Vt=wt(this,Xt))==null||Vt.remove(Rt.id))}addDeletedAnnotationElement(Rt){wt(this,Wt).add(Rt.annotationElementId),Rt.deleted=!0}isDeletedAnnotationElement(Rt){return wt(this,Wt).has(Rt)}removeDeletedAnnotationElement(Rt){wt(this,Wt).delete(Rt.annotationElementId),Rt.deleted=!1}setActiveEditor(Rt){wt(this,Mt)!==Rt&&(Rn(this,Mt,Rt),Rt&&hn(this,On,$o).call(this,Rt.propertiesToUpdate))}toggleSelected(Rt){if(wt(this,Ot).has(Rt)){wt(this,Ot).delete(Rt),Rt.unselect(),hn(this,on,Ms).call(this,{hasSelectedEditor:this.hasSelection});return}wt(this,Ot).add(Rt),Rt.select(),hn(this,On,$o).call(this,Rt.propertiesToUpdate),hn(this,on,Ms).call(this,{hasSelectedEditor:!0})}setSelected(Rt){for(const Vt of wt(this,Ot))Vt!==Rt&&Vt.unselect();wt(this,Ot).clear(),wt(this,Ot).add(Rt),Rt.select(),hn(this,On,$o).call(this,Rt.propertiesToUpdate),hn(this,on,Ms).call(this,{hasSelectedEditor:!0})}isSelected(Rt){return wt(this,Ot).has(Rt)}unselect(Rt){Rt.unselect(),wt(this,Ot).delete(Rt),hn(this,on,Ms).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return wt(this,Ot).size!==0}undo(){wt(this,rn).undo(),hn(this,on,Ms).call(this,{hasSomethingToUndo:wt(this,rn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:hn(this,hr,Oo).call(this)})}redo(){wt(this,rn).redo(),hn(this,on,Ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:wt(this,rn).hasSomethingToRedo(),isEmpty:hn(this,hr,Oo).call(this)})}addCommands(Rt){wt(this,rn).add(Rt),hn(this,on,Ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:hn(this,hr,Oo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Rt=[...wt(this,Ot)],Vt=()=>{for(const ln of Rt)ln.remove()},Kt=()=>{for(const ln of Rt)hn(this,Xn,Su).call(this,ln)};this.addCommands({cmd:Vt,undo:Kt,mustExec:!0})}commitOrRemove(){var Rt;(Rt=wt(this,Mt))==null||Rt.commitOrRemove()}hasSomethingToControl(){return wt(this,Mt)||this.hasSelection}selectAll(){for(const Rt of wt(this,Ot))Rt.commit();hn(this,Wn,Au).call(this,wt(this,Ht).values())}unselectAll(){if(wt(this,Mt)){wt(this,Mt).commitOrRemove();return}if(this.hasSelection){for(const Rt of wt(this,Ot))Rt.unselect();wt(this,Ot).clear(),hn(this,on,Ms).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Rt,Vt,Kt=!1){if(Kt||this.commitOrRemove(),!this.hasSelection)return;wt(this,kn)[0]+=Rt,wt(this,kn)[1]+=Vt;const[ln,gn]=wt(this,kn),Pn=[...wt(this,Ot)],Bn=1e3;wt(this,cn)&&clearTimeout(wt(this,cn)),Rn(this,cn,setTimeout(()=>{Rn(this,cn,null),wt(this,kn)[0]=wt(this,kn)[1]=0,this.addCommands({cmd:()=>{for(const Zn of Pn)wt(this,Ht).has(Zn.id)&&Zn.translateInPage(ln,gn)},undo:()=>{for(const Zn of Pn)wt(this,Ht).has(Zn.id)&&Zn.translateInPage(-ln,-gn)},mustExec:!1})},Bn));for(const Zn of Pn)Zn.translateInPage(Rt,Vt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Rn(this,fn,new Map);for(const Rt of wt(this,Ot))wt(this,fn).set(Rt,{savedX:Rt.x,savedY:Rt.y,savedPageIndex:Rt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!wt(this,fn))return!1;this.disableUserSelect(!1);const Rt=wt(this,fn);Rn(this,fn,null);let Vt=!1;for(const[{x:ln,y:gn,pageIndex:Pn},Bn]of Rt)Bn.newX=ln,Bn.newY=gn,Bn.newPageIndex=Pn,Vt||(Vt=ln!==Bn.savedX||gn!==Bn.savedY||Pn!==Bn.savedPageIndex);if(!Vt)return!1;const Kt=(ln,gn,Pn,Bn)=>{if(wt(this,Ht).has(ln.id)){const Zn=wt(this,zt).get(Bn);Zn?ln._setParentAndPosition(Zn,gn,Pn):(ln.pageIndex=Bn,ln.x=gn,ln.y=Pn)}};return this.addCommands({cmd:()=>{for(const[ln,{newX:gn,newY:Pn,newPageIndex:Bn}]of Rt)Kt(ln,gn,Pn,Bn)},undo:()=>{for(const[ln,{savedX:gn,savedY:Pn,savedPageIndex:Bn}]of Rt)Kt(ln,gn,Pn,Bn)},mustExec:!0}),!0}dragSelectedEditors(Rt,Vt){if(wt(this,fn))for(const Kt of wt(this,fn).keys())Kt.drag(Rt,Vt)}rebuild(Rt){if(Rt.parent===null){const Vt=this.getLayer(Rt.pageIndex);Vt?(Vt.changeParent(Rt),Vt.addOrRebuild(Rt)):(this.addEditor(Rt),this.addToAnnotationStorage(Rt),Rt.rebuild())}else Rt.parent.addOrRebuild(Rt)}isActive(Rt){return wt(this,Mt)===Rt}getActive(){return wt(this,Mt)}getMode(){return wt(this,Dt)}get imageManager(){return(0,tt.shadow)(this,"imageManager",new ot)}};Mt=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Nt=new WeakMap,Xt=new WeakMap,rn=new WeakMap,wn=new WeakMap,Wt=new WeakMap,fn=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Ut=new WeakMap,St=new WeakMap,It=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,jt=new WeakMap,qt=new WeakMap,Zt=new WeakMap,bn=new WeakMap,En=new WeakMap,In=new WeakMap,$n=new WeakMap,Hn=new WeakMap,Bt=new WeakMap,sn=new WeakMap,xn=new WeakMap,Cn=new WeakMap,kn=new WeakMap,cn=new WeakMap,nn=new WeakMap,dn=new WeakMap,mn=new WeakSet,_f=function(){window.addEventListener("focus",wt(this,Zt)),window.addEventListener("blur",wt(this,qt))},Gn=new WeakSet,Eu=function(){window.removeEventListener("focus",wt(this,Zt)),window.removeEventListener("blur",wt(this,qt))},ir=new WeakSet,wu=function(){window.addEventListener("keydown",wt(this,$n),{capture:!0})},_r=new WeakSet,yl=function(){window.removeEventListener("keydown",wt(this,$n),{capture:!0})},dr=new WeakSet,bu=function(){document.addEventListener("copy",wt(this,bn)),document.addEventListener("cut",wt(this,En)),document.addEventListener("paste",wt(this,In))},Dn=new WeakSet,xu=function(){document.removeEventListener("copy",wt(this,bn)),document.removeEventListener("cut",wt(this,En)),document.removeEventListener("paste",wt(this,In))},on=new WeakSet,Ms=function(Rt){Object.entries(Rt).some(([Kt,ln])=>wt(this,Cn)[Kt]!==ln)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(wt(this,Cn),Rt)})},On=new WeakSet,$o=function(Rt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Rt})},Gr=new WeakSet,ep=function(){if(!wt(this,St)){Rn(this,St,!0);for(const Rt of wt(this,zt).values())Rt.enable()}},qn=new WeakSet,tp=function(){if(this.unselectAll(),wt(this,St)){Rn(this,St,!1);for(const Rt of wt(this,zt).values())Rt.disable()}},Xn=new WeakSet,Su=function(Rt){const Vt=wt(this,zt).get(Rt.pageIndex);Vt?Vt.addOrRebuild(Rt):this.addEditor(Rt)},hr=new WeakSet,Oo=function(){if(wt(this,Ht).size===0)return!0;if(wt(this,Ht).size===1)for(const Rt of wt(this,Ht).values())return Rt.isEmpty();return!1},Wn=new WeakSet,Au=function(Rt){wt(this,Ot).clear();for(const Vt of Rt)Vt.isEmpty()||(wt(this,Ot).add(Vt),Vt.select());hn(this,on,Ms).call(this,{hasSelectedEditor:!0})},cs(or,"TRANSLATE_SMALL",1),cs(or,"TRANSLATE_BIG",10);let dt=or;_.AnnotationEditorUIManager=dt},($,_,et)=>{var wn,Wt,fn,Tn,Fn,Mn,Ut,St,It,Tt,Dt,Ot,ho,qt,fo,bn,Tu,In,El,Hn,xl,sn,Mo,Cn,Fo;Object.defineProperty(_,"__esModule",{value:!0}),_.StatTimer=_.RenderingCancelledException=_.PixelsPerInch=_.PageViewport=_.PDFDateString=_.DOMStandardFontDataFactory=_.DOMSVGFactory=_.DOMFilterFactory=_.DOMCanvasFactory=_.DOMCMapReaderFactory=void 0,_.deprecated=kt,_.getColorValues=Ht,_.getCurrentTransform=zt,_.getCurrentTransformInverse=Nt,_.getFilenameFromUrl=ft,_.getPdfFilenameFromUrl=gt,_.getRGB=Mt,_.getXfaPageViewport=Lt,_.isDataScheme=ut,_.isPdfFile=mt,_.isValidFetchUrl=bt,_.loadScript=xt,_.noContextMenu=Et,_.setLayerDimensions=Xt;var tt=et(7),nt=et(1);const rt="http://www.w3.org/2000/svg",rn=class rn{};cs(rn,"CSS",96),cs(rn,"PDF",72),cs(rn,"PDF_TO_CSS_UNITS",rn.CSS/rn.PDF);let it=rn;_.PixelsPerInch=it;class st extends tt.BaseFilterFactory{constructor({docId:dn,ownerDocument:mn=globalThis.document}={}){super();Qt(this,Ot);Qt(this,qt);Qt(this,bn);Qt(this,In);Qt(this,Hn);Qt(this,sn);Qt(this,Cn);Qt(this,wn,void 0);Qt(this,Wt,void 0);Qt(this,fn,void 0);Qt(this,Tn,void 0);Qt(this,Fn,void 0);Qt(this,Mn,void 0);Qt(this,Ut,void 0);Qt(this,St,void 0);Qt(this,It,void 0);Qt(this,Tt,void 0);Qt(this,Dt,0);Rn(this,fn,dn),Rn(this,Tn,mn)}addFilter(dn){if(!dn)return"none";let mn=wt(this,Ot,ho).get(dn);if(mn)return mn;let zn,Gn,ur,ir;if(dn.length===1){const dr=dn[0],Er=new Array(256);for(let Dn=0;Dn<256;Dn++)Er[Dn]=dr[Dn]/255;ir=zn=Gn=ur=Er.join(",")}else{const[dr,Er,Dn]=dn,pn=new Array(256),on=new Array(256),jn=new Array(256);for(let On=0;On<256;On++)pn[On]=dr[On]/255,on[On]=Er[On]/255,jn[On]=Dn[On]/255;zn=pn.join(","),Gn=on.join(","),ur=jn.join(","),ir=`${zn}${Gn}${ur}`}if(mn=wt(this,Ot,ho).get(ir),mn)return wt(this,Ot,ho).set(dn,mn),mn;const sr=`g_${wt(this,fn)}_transfer_map_${Do(this,Dt)._++}`,_r=`url(#${sr})`;wt(this,Ot,ho).set(dn,_r),wt(this,Ot,ho).set(ir,_r);const wr=hn(this,In,El).call(this,sr);return hn(this,sn,Mo).call(this,zn,Gn,ur,wr),_r}addHCMFilter(dn,mn){var Er;const zn=`${dn}-${mn}`;if(wt(this,Mn)===zn)return wt(this,Ut);if(Rn(this,Mn,zn),Rn(this,Ut,"none"),(Er=wt(this,Fn))==null||Er.remove(),!dn||!mn)return wt(this,Ut);const Gn=hn(this,Cn,Fo).call(this,dn);dn=nt.Util.makeHexColor(...Gn);const ur=hn(this,Cn,Fo).call(this,mn);if(mn=nt.Util.makeHexColor(...ur),wt(this,qt,fo).style.color="",dn==="#000000"&&mn==="#ffffff"||dn===mn)return wt(this,Ut);const ir=new Array(256);for(let Dn=0;Dn<=255;Dn++){const pn=Dn/255;ir[Dn]=pn<=.03928?pn/12.92:((pn+.055)/1.055)**2.4}const sr=ir.join(","),_r=`g_${wt(this,fn)}_hcm_filter`,wr=Rn(this,St,hn(this,In,El).call(this,_r));hn(this,sn,Mo).call(this,sr,sr,sr,wr),hn(this,bn,Tu).call(this,wr);const dr=(Dn,pn)=>{const on=Gn[Dn]/255,jn=ur[Dn]/255,On=new Array(pn+1);for(let $r=0;$r<=pn;$r++)On[$r]=on+$r/pn*(jn-on);return On.join(",")};return hn(this,sn,Mo).call(this,dr(0,5),dr(1,5),dr(2,5),wr),Rn(this,Ut,`url(#${_r})`),wt(this,Ut)}addHighlightHCMFilter(dn,mn,zn,Gn){var jn;const ur=`${dn}-${mn}-${zn}-${Gn}`;if(wt(this,It)===ur)return wt(this,Tt);if(Rn(this,It,ur),Rn(this,Tt,"none"),(jn=wt(this,St))==null||jn.remove(),!dn||!mn)return wt(this,Tt);const[ir,sr]=[dn,mn].map(hn(this,Cn,Fo).bind(this));let _r=Math.round(.2126*ir[0]+.7152*ir[1]+.0722*ir[2]),wr=Math.round(.2126*sr[0]+.7152*sr[1]+.0722*sr[2]),[dr,Er]=[zn,Gn].map(hn(this,Cn,Fo).bind(this));wr<_r&&([_r,wr,dr,Er]=[wr,_r,Er,dr]),wt(this,qt,fo).style.color="";const Dn=(On,$r,Gr)=>{const yn=new Array(256),qn=(wr-_r)/Gr,ar=On/255,Xn=($r-On)/(255*Gr);let lr=0;for(let hr=0;hr<=Gr;hr++){const jr=Math.round(_r+hr*qn),Wn=ar+hr*Xn;for(let Or=lr;Or<=jr;Or++)yn[Or]=Wn;lr=jr+1}for(let hr=lr;hr<256;hr++)yn[hr]=yn[lr-1];return yn.join(",")},pn=`g_${wt(this,fn)}_hcm_highlight_filter`,on=Rn(this,St,hn(this,In,El).call(this,pn));return hn(this,bn,Tu).call(this,on),hn(this,sn,Mo).call(this,Dn(dr[0],Er[0],5),Dn(dr[1],Er[1],5),Dn(dr[2],Er[2],5),on),Rn(this,Tt,`url(#${pn})`),wt(this,Tt)}destroy(dn=!1){dn&&(wt(this,Ut)||wt(this,Tt))||(wt(this,Wt)&&(wt(this,Wt).parentNode.parentNode.remove(),Rn(this,Wt,null)),wt(this,wn)&&(wt(this,wn).clear(),Rn(this,wn,null)),Rn(this,Dt,0))}}wn=new WeakMap,Wt=new WeakMap,fn=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Ut=new WeakMap,St=new WeakMap,It=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,Ot=new WeakSet,ho=function(){return wt(this,wn)||Rn(this,wn,new Map)},qt=new WeakSet,fo=function(){if(!wt(this,Wt)){const dn=wt(this,Tn).createElement("div"),{style:mn}=dn;mn.visibility="hidden",mn.contain="strict",mn.width=mn.height=0,mn.position="absolute",mn.top=mn.left=0,mn.zIndex=-1;const zn=wt(this,Tn).createElementNS(rt,"svg");zn.setAttribute("width",0),zn.setAttribute("height",0),Rn(this,Wt,wt(this,Tn).createElementNS(rt,"defs")),dn.append(zn),zn.append(wt(this,Wt)),wt(this,Tn).body.append(dn)}return wt(this,Wt)},bn=new WeakSet,Tu=function(dn){const mn=wt(this,Tn).createElementNS(rt,"feColorMatrix");mn.setAttribute("type","matrix"),mn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),dn.append(mn)},In=new WeakSet,El=function(dn){const mn=wt(this,Tn).createElementNS(rt,"filter");return mn.setAttribute("color-interpolation-filters","sRGB"),mn.setAttribute("id",dn),wt(this,qt,fo).append(mn),mn},Hn=new WeakSet,xl=function(dn,mn,zn){const Gn=wt(this,Tn).createElementNS(rt,mn);Gn.setAttribute("type","discrete"),Gn.setAttribute("tableValues",zn),dn.append(Gn)},sn=new WeakSet,Mo=function(dn,mn,zn,Gn){const ur=wt(this,Tn).createElementNS(rt,"feComponentTransfer");Gn.append(ur),hn(this,Hn,xl).call(this,ur,"feFuncR",dn),hn(this,Hn,xl).call(this,ur,"feFuncG",mn),hn(this,Hn,xl).call(this,ur,"feFuncB",zn)},Cn=new WeakSet,Fo=function(dn){return wt(this,qt,fo).style.color=dn,Mt(getComputedStyle(wt(this,qt,fo)).getPropertyValue("color"))},_.DOMFilterFactory=st;class ot extends tt.BaseCanvasFactory{constructor({ownerDocument:nn=globalThis.document}={}){super(),this._document=nn}_createCanvas(nn,dn){const mn=this._document.createElement("canvas");return mn.width=nn,mn.height=dn,mn}}_.DOMCanvasFactory=ot;async function at(cn,nn=!1){if(bt(cn,document.baseURI)){const dn=await fetch(cn);if(!dn.ok)throw new Error(dn.statusText);return nn?new Uint8Array(await dn.arrayBuffer()):(0,nt.stringToBytes)(await dn.text())}return new Promise((dn,mn)=>{const zn=new XMLHttpRequest;zn.open("GET",cn,!0),nn&&(zn.responseType="arraybuffer"),zn.onreadystatechange=()=>{if(zn.readyState===XMLHttpRequest.DONE){if(zn.status===200||zn.status===0){let Gn;if(nn&&zn.response?Gn=new Uint8Array(zn.response):!nn&&zn.responseText&&(Gn=(0,nt.stringToBytes)(zn.responseText)),Gn){dn(Gn);return}}mn(new Error(zn.statusText))}},zn.send(null)})}class lt extends tt.BaseCMapReaderFactory{_fetchData(nn,dn){return at(nn,this.isCompressed).then(mn=>({cMapData:mn,compressionType:dn}))}}_.DOMCMapReaderFactory=lt;class ct extends tt.BaseStandardFontDataFactory{_fetchData(nn){return at(nn,!0)}}_.DOMStandardFontDataFactory=ct;class dt extends tt.BaseSVGFactory{_createSVG(nn){return document.createElementNS(rt,nn)}}_.DOMSVGFactory=dt;class _t{constructor({viewBox:nn,scale:dn,rotation:mn,offsetX:zn=0,offsetY:Gn=0,dontFlip:ur=!1}){this.viewBox=nn,this.scale=dn,this.rotation=mn,this.offsetX=zn,this.offsetY=Gn;const ir=(nn[2]+nn[0])/2,sr=(nn[3]+nn[1])/2;let _r,wr,dr,Er;switch(mn%=360,mn<0&&(mn+=360),mn){case 180:_r=-1,wr=0,dr=0,Er=1;break;case 90:_r=0,wr=1,dr=1,Er=0;break;case 270:_r=0,wr=-1,dr=-1,Er=0;break;case 0:_r=1,wr=0,dr=0,Er=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ur&&(dr=-dr,Er=-Er);let Dn,pn,on,jn;_r===0?(Dn=Math.abs(sr-nn[1])*dn+zn,pn=Math.abs(ir-nn[0])*dn+Gn,on=(nn[3]-nn[1])*dn,jn=(nn[2]-nn[0])*dn):(Dn=Math.abs(ir-nn[0])*dn+zn,pn=Math.abs(sr-nn[1])*dn+Gn,on=(nn[2]-nn[0])*dn,jn=(nn[3]-nn[1])*dn),this.transform=[_r*dn,wr*dn,dr*dn,Er*dn,Dn-_r*dn*ir-dr*dn*sr,pn-wr*dn*ir-Er*dn*sr],this.width=on,this.height=jn}get rawDims(){const{viewBox:nn}=this;return(0,nt.shadow)(this,"rawDims",{pageWidth:nn[2]-nn[0],pageHeight:nn[3]-nn[1],pageX:nn[0],pageY:nn[1]})}clone({scale:nn=this.scale,rotation:dn=this.rotation,offsetX:mn=this.offsetX,offsetY:zn=this.offsetY,dontFlip:Gn=!1}={}){return new _t({viewBox:this.viewBox.slice(),scale:nn,rotation:dn,offsetX:mn,offsetY:zn,dontFlip:Gn})}convertToViewportPoint(nn,dn){return nt.Util.applyTransform([nn,dn],this.transform)}convertToViewportRectangle(nn){const dn=nt.Util.applyTransform([nn[0],nn[1]],this.transform),mn=nt.Util.applyTransform([nn[2],nn[3]],this.transform);return[dn[0],dn[1],mn[0],mn[1]]}convertToPdfPoint(nn,dn){return nt.Util.applyInverseTransform([nn,dn],this.transform)}}_.PageViewport=_t;class pt extends nt.BaseException{constructor(nn,dn=0){super(nn,"RenderingCancelledException"),this.extraDelay=dn}}_.RenderingCancelledException=pt;function ut(cn){const nn=cn.length;let dn=0;for(;dn<nn&&cn[dn].trim()==="";)dn++;return cn.substring(dn,dn+5).toLowerCase()==="data:"}function mt(cn){return typeof cn=="string"&&/\.pdf$/i.test(cn)}function ft(cn,nn=!1){return nn||([cn]=cn.split(/[#?]/,1)),cn.substring(cn.lastIndexOf("/")+1)}function gt(cn,nn="document.pdf"){if(typeof cn!="string")return nn;if(ut(cn))return(0,nt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),nn;const dn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,mn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,zn=dn.exec(cn);let Gn=mn.exec(zn[1])||mn.exec(zn[2])||mn.exec(zn[3]);if(Gn&&(Gn=Gn[0],Gn.includes("%")))try{Gn=mn.exec(decodeURIComponent(Gn))[0]}catch{}return Gn||nn}class vt{constructor(){cs(this,"started",Object.create(null));cs(this,"times",[])}time(nn){nn in this.started&&(0,nt.warn)(`Timer is already running for ${nn}`),this.started[nn]=Date.now()}timeEnd(nn){nn in this.started||(0,nt.warn)(`Timer has not been started for ${nn}`),this.times.push({name:nn,start:this.started[nn],end:Date.now()}),delete this.started[nn]}toString(){const nn=[];let dn=0;for(const{name:mn}of this.times)dn=Math.max(mn.length,dn);for(const{name:mn,start:zn,end:Gn}of this.times)nn.push(`${mn.padEnd(dn)} ${Gn-zn}ms
`);return nn.join("")}}_.StatTimer=vt;function bt(cn,nn){try{const{protocol:dn}=nn?new URL(cn,nn):new URL(cn);return dn==="http:"||dn==="https:"}catch{return!1}}function Et(cn){cn.preventDefault()}function xt(cn,nn=!1){return new Promise((dn,mn)=>{const zn=document.createElement("script");zn.src=cn,zn.onload=function(Gn){nn&&zn.remove(),dn(Gn)},zn.onerror=function(){mn(new Error(`Cannot load script at: ${zn.src}`))},(document.head||document.documentElement).append(zn)})}function kt(cn){console.log("Deprecated API usage: "+cn)}let Ct;class At{static toDateObject(nn){if(!nn||typeof nn!="string")return null;Ct||(Ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const dn=Ct.exec(nn);if(!dn)return null;const mn=parseInt(dn[1],10);let zn=parseInt(dn[2],10);zn=zn>=1&&zn<=12?zn-1:0;let Gn=parseInt(dn[3],10);Gn=Gn>=1&&Gn<=31?Gn:1;let ur=parseInt(dn[4],10);ur=ur>=0&&ur<=23?ur:0;let ir=parseInt(dn[5],10);ir=ir>=0&&ir<=59?ir:0;let sr=parseInt(dn[6],10);sr=sr>=0&&sr<=59?sr:0;const _r=dn[7]||"Z";let wr=parseInt(dn[8],10);wr=wr>=0&&wr<=23?wr:0;let dr=parseInt(dn[9],10)||0;return dr=dr>=0&&dr<=59?dr:0,_r==="-"?(ur+=wr,ir+=dr):_r==="+"&&(ur-=wr,ir-=dr),new Date(Date.UTC(mn,zn,Gn,ur,ir,sr))}}_.PDFDateString=At;function Lt(cn,{scale:nn=1,rotation:dn=0}){const{width:mn,height:zn}=cn.attributes.style,Gn=[0,0,parseInt(mn),parseInt(zn)];return new _t({viewBox:Gn,scale:nn,rotation:dn})}function Mt(cn){if(cn.startsWith("#")){const nn=parseInt(cn.slice(1),16);return[(nn&16711680)>>16,(nn&65280)>>8,nn&255]}return cn.startsWith("rgb(")?cn.slice(4,-1).split(",").map(nn=>parseInt(nn)):cn.startsWith("rgba(")?cn.slice(5,-1).split(",").map(nn=>parseInt(nn)).slice(0,3):((0,nt.warn)(`Not a valid color format: "${cn}"`),[0,0,0])}function Ht(cn){const nn=document.createElement("span");nn.style.visibility="hidden",document.body.append(nn);for(const dn of cn.keys()){nn.style.color=dn;const mn=window.getComputedStyle(nn).color;cn.set(dn,Mt(mn))}nn.remove()}function zt(cn){const{a:nn,b:dn,c:mn,d:zn,e:Gn,f:ur}=cn.getTransform();return[nn,dn,mn,zn,Gn,ur]}function Nt(cn){const{a:nn,b:dn,c:mn,d:zn,e:Gn,f:ur}=cn.getTransform().invertSelf();return[nn,dn,mn,zn,Gn,ur]}function Xt(cn,nn,dn=!1,mn=!0){if(nn instanceof _t){const{pageWidth:zn,pageHeight:Gn}=nn.rawDims,{style:ur}=cn,ir=nt.FeatureTest.isCSSRoundSupported,sr=`var(--scale-factor) * ${zn}px`,_r=`var(--scale-factor) * ${Gn}px`,wr=ir?`round(${sr}, 1px)`:`calc(${sr})`,dr=ir?`round(${_r}, 1px)`:`calc(${_r})`;!dn||nn.rotation%180===0?(ur.width=wr,ur.height=dr):(ur.width=dr,ur.height=wr)}mn&&cn.setAttribute("data-main-rotation",nn.rotation)}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseStandardFontDataFactory=_.BaseSVGFactory=_.BaseFilterFactory=_.BaseCanvasFactory=_.BaseCMapReaderFactory=void 0;var tt=et(1);class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(lt){return"none"}addHCMFilter(lt,ct){return"none"}addHighlightHCMFilter(lt,ct,dt,_t){return"none"}destroy(lt=!1){}}_.BaseFilterFactory=nt;class rt{constructor(){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lt,ct){if(lt<=0||ct<=0)throw new Error("Invalid canvas size");const dt=this._createCanvas(lt,ct);return{canvas:dt,context:dt.getContext("2d")}}reset(lt,ct,dt){if(!lt.canvas)throw new Error("Canvas is not specified");if(ct<=0||dt<=0)throw new Error("Invalid canvas size");lt.canvas.width=ct,lt.canvas.height=dt}destroy(lt){if(!lt.canvas)throw new Error("Canvas is not specified");lt.canvas.width=0,lt.canvas.height=0,lt.canvas=null,lt.context=null}_createCanvas(lt,ct){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}_.BaseCanvasFactory=rt;class it{constructor({baseUrl:lt=null,isCompressed:ct=!0}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lt,this.isCompressed=ct}async fetch({name:lt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lt)throw new Error("CMap name must be specified.");const ct=this.baseUrl+lt+(this.isCompressed?".bcmap":""),dt=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(ct,dt).catch(_t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ct}`)})}_fetchData(lt,ct){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_.BaseCMapReaderFactory=it;class st{constructor({baseUrl:lt=null}){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lt}async fetch({filename:lt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lt)throw new Error("Font filename must be specified.");const ct=`${this.baseUrl}${lt}`;return this._fetchData(ct).catch(dt=>{throw new Error(`Unable to load font data at: ${ct}`)})}_fetchData(lt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_.BaseStandardFontDataFactory=st;class ot{constructor(){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(lt,ct,dt=!1){if(lt<=0||ct<=0)throw new Error("Invalid SVG dimensions");const _t=this._createSVG("svg:svg");return _t.setAttribute("version","1.1"),dt||(_t.setAttribute("width",`${lt}px`),_t.setAttribute("height",`${ct}px`)),_t.setAttribute("preserveAspectRatio","none"),_t.setAttribute("viewBox",`0 0 ${lt} ${ct}`),_t}createElement(lt){if(typeof lt!="string")throw new Error("Invalid SVG element type");return this._createSVG(lt)}_createSVG(lt){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}_.BaseSVGFactory=ot},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.MurmurHash3_64=void 0;var tt=et(1);const nt=3285377520,rt=4294901760,it=65535;class st{constructor(at){this.h1=at?at&4294967295:nt,this.h2=at?at&4294967295:nt}update(at){let lt,ct;if(typeof at=="string"){lt=new Uint8Array(at.length*2),ct=0;for(let kt=0,Ct=at.length;kt<Ct;kt++){const At=at.charCodeAt(kt);At<=255?lt[ct++]=At:(lt[ct++]=At>>>8,lt[ct++]=At&255)}}else if((0,tt.isArrayBuffer)(at))lt=at.slice(),ct=lt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const dt=ct>>2,_t=ct-dt*4,pt=new Uint32Array(lt.buffer,0,dt);let ut=0,mt=0,ft=this.h1,gt=this.h2;const vt=3432918353,bt=461845907,Et=vt&it,xt=bt&it;for(let kt=0;kt<dt;kt++)kt&1?(ut=pt[kt],ut=ut*vt&rt|ut*Et&it,ut=ut<<15|ut>>>17,ut=ut*bt&rt|ut*xt&it,ft^=ut,ft=ft<<13|ft>>>19,ft=ft*5+3864292196):(mt=pt[kt],mt=mt*vt&rt|mt*Et&it,mt=mt<<15|mt>>>17,mt=mt*bt&rt|mt*xt&it,gt^=mt,gt=gt<<13|gt>>>19,gt=gt*5+3864292196);switch(ut=0,_t){case 3:ut^=lt[dt*4+2]<<16;case 2:ut^=lt[dt*4+1]<<8;case 1:ut^=lt[dt*4],ut=ut*vt&rt|ut*Et&it,ut=ut<<15|ut>>>17,ut=ut*bt&rt|ut*xt&it,dt&1?ft^=ut:gt^=ut}this.h1=ft,this.h2=gt}hexdigest(){let at=this.h1,lt=this.h2;return at^=lt>>>1,at=at*3981806797&rt|at*36045&it,lt=lt*4283543511&rt|((lt<<16|at>>>16)*2950163797&rt)>>>16,at^=lt>>>1,at=at*444984403&rt|at*60499&it,lt=lt*3301882366&rt|((lt<<16|at>>>16)*3120437893&rt)>>>16,at^=lt>>>1,(at>>>0).toString(16).padStart(8,"0")+(lt>>>0).toString(16).padStart(8,"0")}}_.MurmurHash3_64=st},($,_,et)=>{var it;Object.defineProperty(_,"__esModule",{value:!0}),_.FontLoader=_.FontFaceObject=void 0;var tt=et(1);class nt{constructor({ownerDocument:ot=globalThis.document,styleElement:at=null}){Qt(this,it,new Set);this._document=ot,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ot){this.nativeFontFaces.add(ot),this._document.fonts.add(ot)}removeNativeFontFace(ot){this.nativeFontFaces.delete(ot),this._document.fonts.delete(ot)}insertRule(ot){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const at=this.styleElement.sheet;at.insertRule(ot,at.cssRules.length)}clear(){for(const ot of this.nativeFontFaces)this._document.fonts.delete(ot);this.nativeFontFaces.clear(),wt(this,it).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ot){if(!(!ot||wt(this,it).has(ot.loadedName))){if((0,tt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:at,src:lt,style:ct}=ot,dt=new FontFace(at,lt,ct);this.addNativeFontFace(dt);try{await dt.load(),wt(this,it).add(at)}catch{(0,tt.warn)(`Cannot load system font: ${ot.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(dt)}return}(0,tt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ot){if(ot.attached||ot.missingFile&&!ot.systemFontInfo)return;if(ot.attached=!0,ot.systemFontInfo){await this.loadSystemFont(ot.systemFontInfo);return}if(this.isFontLoadingAPISupported){const lt=ot.createNativeFontFace();if(lt){this.addNativeFontFace(lt);try{await lt.loaded}catch(ct){throw(0,tt.warn)(`Failed to load font '${lt.family}': '${ct}'.`),ot.disableFontFace=!0,ct}}return}const at=ot.createFontFaceRule();if(at){if(this.insertRule(at),this.isSyncFontLoadingSupported)return;await new Promise(lt=>{const ct=this._queueLoadingCallback(lt);this._prepareFontLoadEvent(ot,ct)})}}get isFontLoadingAPISupported(){var at;const ot=!!((at=this._document)!=null&&at.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",ot)}get isSyncFontLoadingSupported(){let ot=!1;return(tt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ot=!0),(0,tt.shadow)(this,"isSyncFontLoadingSupported",ot)}_queueLoadingCallback(ot){function at(){for((0,tt.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;lt.length>0&&lt[0].done;){const dt=lt.shift();setTimeout(dt.callback,0)}}const{loadingRequests:lt}=this,ct={done:!1,complete:at,callback:ot};return lt.push(ct),ct}get _loadTestFont(){const ot=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tt.shadow)(this,"_loadTestFont",ot)}_prepareFontLoadEvent(ot,at){function lt(Mt,Ht){return Mt.charCodeAt(Ht)<<24|Mt.charCodeAt(Ht+1)<<16|Mt.charCodeAt(Ht+2)<<8|Mt.charCodeAt(Ht+3)&255}function ct(Mt,Ht,zt,Nt){const Xt=Mt.substring(0,Ht),rn=Mt.substring(Ht+zt);return Xt+Nt+rn}let dt,_t;const pt=this._document.createElement("canvas");pt.width=1,pt.height=1;const ut=pt.getContext("2d");let mt=0;function ft(Mt,Ht){if(++mt>30){(0,tt.warn)("Load test font never loaded."),Ht();return}if(ut.font="30px "+Mt,ut.fillText(".",0,20),ut.getImageData(0,0,1,1).data[3]>0){Ht();return}setTimeout(ft.bind(null,Mt,Ht))}const gt=`lt${Date.now()}${this.loadTestFontId++}`;let vt=this._loadTestFont;vt=ct(vt,976,gt.length,gt);const Et=16,xt=1482184792;let kt=lt(vt,Et);for(dt=0,_t=gt.length-3;dt<_t;dt+=4)kt=kt-xt+lt(gt,dt)|0;dt<gt.length&&(kt=kt-xt+lt(gt+"XXX",dt)|0),vt=ct(vt,Et,4,(0,tt.string32)(kt));const Ct=`url(data:font/opentype;base64,${btoa(vt)});`,At=`@font-face {font-family:"${gt}";src:${Ct}}`;this.insertRule(At);const Lt=this._document.createElement("div");Lt.style.visibility="hidden",Lt.style.width=Lt.style.height="10px",Lt.style.position="absolute",Lt.style.top=Lt.style.left="0px";for(const Mt of[ot.loadedName,gt]){const Ht=this._document.createElement("span");Ht.textContent="Hi",Ht.style.fontFamily=Mt,Lt.append(Ht)}this._document.body.append(Lt),ft(gt,()=>{Lt.remove(),at.complete()})}}it=new WeakMap,_.FontLoader=nt;class rt{constructor(ot,{isEvalSupported:at=!0,disableFontFace:lt=!1,ignoreErrors:ct=!1,inspectFont:dt=null}){this.compiledGlyphs=Object.create(null);for(const _t in ot)this[_t]=ot[_t];this.isEvalSupported=at!==!1,this.disableFontFace=lt===!0,this.ignoreErrors=ct===!0,this._inspectFont=dt}createNativeFontFace(){var at;if(!this.data||this.disableFontFace)return null;let ot;if(!this.cssFontInfo)ot=new FontFace(this.loadedName,this.data,{});else{const lt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(lt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ot=new FontFace(this.cssFontInfo.fontFamily,this.data,lt)}return(at=this._inspectFont)==null||at.call(this,this),ot}createFontFaceRule(){var ct;if(!this.data||this.disableFontFace)return null;const ot=(0,tt.bytesToString)(this.data),at=`url(data:${this.mimetype};base64,${btoa(ot)});`;let lt;if(!this.cssFontInfo)lt=`@font-face {font-family:"${this.loadedName}";src:${at}}`;else{let dt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(dt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${dt}src:${at}}`}return(ct=this._inspectFont)==null||ct.call(this,this,at),lt}getPathGenerator(ot,at){if(this.compiledGlyphs[at]!==void 0)return this.compiledGlyphs[at];let lt;try{lt=ot.get(this.loadedName+"_path_"+at)}catch(ct){if(!this.ignoreErrors)throw ct;return(0,tt.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[at]=function(dt,_t){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const ct=[];for(const dt of lt){const _t=dt.args!==void 0?dt.args.join(","):"";ct.push("c.",dt.cmd,"(",_t,`);
`)}return this.compiledGlyphs[at]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[at]=function(ct,dt){for(const _t of lt)_t.cmd==="scale"&&(_t.args=[dt,-dt]),ct[_t.cmd].apply(ct,_t.args)}}}_.FontFaceObject=rt},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NodeStandardFontDataFactory=_.NodeFilterFactory=_.NodeCanvasFactory=_.NodeCMapReaderFactory=void 0;var tt=et(7);et(1);const nt=function(at){return new Promise((lt,ct)=>{require$$5.readFile(at,(_t,pt)=>{if(_t||!pt){ct(new Error(_t));return}lt(new Uint8Array(pt))})})};class rt extends tt.BaseFilterFactory{}_.NodeFilterFactory=rt;class it extends tt.BaseCanvasFactory{_createCanvas(lt,ct){return require$$5.createCanvas(lt,ct)}}_.NodeCanvasFactory=it;class st extends tt.BaseCMapReaderFactory{_fetchData(lt,ct){return nt(lt).then(dt=>({cMapData:dt,compressionType:ct}))}}_.NodeCMapReaderFactory=st;class ot extends tt.BaseStandardFontDataFactory{_fetchData(lt){return nt(lt)}}_.NodeStandardFontDataFactory=ot},($,_,et)=>{var Wt,Ru,Tn,Pu;Object.defineProperty(_,"__esModule",{value:!0}),_.CanvasGraphics=void 0;var tt=et(1),nt=et(6),rt=et(12),it=et(13);const st=16,ot=100,at=4096,lt=15,ct=10,dt=1e3,_t=16;function pt(Ut,St){if(Ut._removeMirroring)throw new Error("Context is already forwarding operations.");Ut.__originalSave=Ut.save,Ut.__originalRestore=Ut.restore,Ut.__originalRotate=Ut.rotate,Ut.__originalScale=Ut.scale,Ut.__originalTranslate=Ut.translate,Ut.__originalTransform=Ut.transform,Ut.__originalSetTransform=Ut.setTransform,Ut.__originalResetTransform=Ut.resetTransform,Ut.__originalClip=Ut.clip,Ut.__originalMoveTo=Ut.moveTo,Ut.__originalLineTo=Ut.lineTo,Ut.__originalBezierCurveTo=Ut.bezierCurveTo,Ut.__originalRect=Ut.rect,Ut.__originalClosePath=Ut.closePath,Ut.__originalBeginPath=Ut.beginPath,Ut._removeMirroring=()=>{Ut.save=Ut.__originalSave,Ut.restore=Ut.__originalRestore,Ut.rotate=Ut.__originalRotate,Ut.scale=Ut.__originalScale,Ut.translate=Ut.__originalTranslate,Ut.transform=Ut.__originalTransform,Ut.setTransform=Ut.__originalSetTransform,Ut.resetTransform=Ut.__originalResetTransform,Ut.clip=Ut.__originalClip,Ut.moveTo=Ut.__originalMoveTo,Ut.lineTo=Ut.__originalLineTo,Ut.bezierCurveTo=Ut.__originalBezierCurveTo,Ut.rect=Ut.__originalRect,Ut.closePath=Ut.__originalClosePath,Ut.beginPath=Ut.__originalBeginPath,delete Ut._removeMirroring},Ut.save=function(){St.save(),this.__originalSave()},Ut.restore=function(){St.restore(),this.__originalRestore()},Ut.translate=function(Tt,Dt){St.translate(Tt,Dt),this.__originalTranslate(Tt,Dt)},Ut.scale=function(Tt,Dt){St.scale(Tt,Dt),this.__originalScale(Tt,Dt)},Ut.transform=function(Tt,Dt,Ot,jt,qt,Zt){St.transform(Tt,Dt,Ot,jt,qt,Zt),this.__originalTransform(Tt,Dt,Ot,jt,qt,Zt)},Ut.setTransform=function(Tt,Dt,Ot,jt,qt,Zt){St.setTransform(Tt,Dt,Ot,jt,qt,Zt),this.__originalSetTransform(Tt,Dt,Ot,jt,qt,Zt)},Ut.resetTransform=function(){St.resetTransform(),this.__originalResetTransform()},Ut.rotate=function(Tt){St.rotate(Tt),this.__originalRotate(Tt)},Ut.clip=function(Tt){St.clip(Tt),this.__originalClip(Tt)},Ut.moveTo=function(It,Tt){St.moveTo(It,Tt),this.__originalMoveTo(It,Tt)},Ut.lineTo=function(It,Tt){St.lineTo(It,Tt),this.__originalLineTo(It,Tt)},Ut.bezierCurveTo=function(It,Tt,Dt,Ot,jt,qt){St.bezierCurveTo(It,Tt,Dt,Ot,jt,qt),this.__originalBezierCurveTo(It,Tt,Dt,Ot,jt,qt)},Ut.rect=function(It,Tt,Dt,Ot){St.rect(It,Tt,Dt,Ot),this.__originalRect(It,Tt,Dt,Ot)},Ut.closePath=function(){St.closePath(),this.__originalClosePath()},Ut.beginPath=function(){St.beginPath(),this.__originalBeginPath()}}class ut{constructor(St){this.canvasFactory=St,this.cache=Object.create(null)}getCanvas(St,It,Tt){let Dt;return this.cache[St]!==void 0?(Dt=this.cache[St],this.canvasFactory.reset(Dt,It,Tt)):(Dt=this.canvasFactory.create(It,Tt),this.cache[St]=Dt),Dt}delete(St){delete this.cache[St]}clear(){for(const St in this.cache){const It=this.cache[St];this.canvasFactory.destroy(It),delete this.cache[St]}}}function mt(Ut,St,It,Tt,Dt,Ot,jt,qt,Zt,bn){const[En,In,$n,Hn,Bt,sn]=(0,nt.getCurrentTransform)(Ut);if(In===0&&$n===0){const kn=jt*En+Bt,cn=Math.round(kn),nn=qt*Hn+sn,dn=Math.round(nn),mn=(jt+Zt)*En+Bt,zn=Math.abs(Math.round(mn)-cn)||1,Gn=(qt+bn)*Hn+sn,ur=Math.abs(Math.round(Gn)-dn)||1;return Ut.setTransform(Math.sign(En),0,0,Math.sign(Hn),cn,dn),Ut.drawImage(St,It,Tt,Dt,Ot,0,0,zn,ur),Ut.setTransform(En,In,$n,Hn,Bt,sn),[zn,ur]}if(En===0&&Hn===0){const kn=qt*$n+Bt,cn=Math.round(kn),nn=jt*In+sn,dn=Math.round(nn),mn=(qt+bn)*$n+Bt,zn=Math.abs(Math.round(mn)-cn)||1,Gn=(jt+Zt)*In+sn,ur=Math.abs(Math.round(Gn)-dn)||1;return Ut.setTransform(0,Math.sign(In),Math.sign($n),0,cn,dn),Ut.drawImage(St,It,Tt,Dt,Ot,0,0,ur,zn),Ut.setTransform(En,In,$n,Hn,Bt,sn),[ur,zn]}Ut.drawImage(St,It,Tt,Dt,Ot,jt,qt,Zt,bn);const xn=Math.hypot(En,In),Cn=Math.hypot($n,Hn);return[xn*Zt,Cn*bn]}function ft(Ut){const{width:St,height:It}=Ut;if(St>dt||It>dt)return null;const Tt=1e3,Dt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ot=St+1;let jt=new Uint8Array(Ot*(It+1)),qt,Zt,bn;const En=St+7&-8;let In=new Uint8Array(En*It),$n=0;for(const Cn of Ut.data){let kn=128;for(;kn>0;)In[$n++]=Cn&kn?0:255,kn>>=1}let Hn=0;for($n=0,In[$n]!==0&&(jt[0]=1,++Hn),Zt=1;Zt<St;Zt++)In[$n]!==In[$n+1]&&(jt[Zt]=In[$n]?2:1,++Hn),$n++;for(In[$n]!==0&&(jt[Zt]=2,++Hn),qt=1;qt<It;qt++){$n=qt*En,bn=qt*Ot,In[$n-En]!==In[$n]&&(jt[bn]=In[$n]?1:8,++Hn);let Cn=(In[$n]?4:0)+(In[$n-En]?8:0);for(Zt=1;Zt<St;Zt++)Cn=(Cn>>2)+(In[$n+1]?4:0)+(In[$n-En+1]?8:0),Dt[Cn]&&(jt[bn+Zt]=Dt[Cn],++Hn),$n++;if(In[$n-En]!==In[$n]&&(jt[bn+Zt]=In[$n]?2:4,++Hn),Hn>Tt)return null}for($n=En*(It-1),bn=qt*Ot,In[$n]!==0&&(jt[bn]=8,++Hn),Zt=1;Zt<St;Zt++)In[$n]!==In[$n+1]&&(jt[bn+Zt]=In[$n]?4:8,++Hn),$n++;if(In[$n]!==0&&(jt[bn+Zt]=4,++Hn),Hn>Tt)return null;const Bt=new Int32Array([0,Ot,-1,0,-Ot,0,0,0,1]),sn=new Path2D;for(qt=0;Hn&&qt<=It;qt++){let Cn=qt*Ot;const kn=Cn+St;for(;Cn<kn&&!jt[Cn];)Cn++;if(Cn===kn)continue;sn.moveTo(Cn%Ot,qt);const cn=Cn;let nn=jt[Cn];do{const dn=Bt[nn];do Cn+=dn;while(!jt[Cn]);const mn=jt[Cn];mn!==5&&mn!==10?(nn=mn,jt[Cn]=0):(nn=mn&51*nn>>4,jt[Cn]&=nn>>2|nn<<2),sn.lineTo(Cn%Ot,Cn/Ot|0),jt[Cn]||--Hn}while(cn!==Cn);--qt}return In=null,jt=null,function(Cn){Cn.save(),Cn.scale(1/St,-1/It),Cn.translate(0,-It),Cn.fill(sn),Cn.beginPath(),Cn.restore()}}class gt{constructor(St,It){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,St,It])}clone(){const St=Object.create(this);return St.clipBox=this.clipBox.slice(),St}setCurrentPoint(St,It){this.x=St,this.y=It}updatePathMinMax(St,It,Tt){[It,Tt]=tt.Util.applyTransform([It,Tt],St),this.minX=Math.min(this.minX,It),this.minY=Math.min(this.minY,Tt),this.maxX=Math.max(this.maxX,It),this.maxY=Math.max(this.maxY,Tt)}updateRectMinMax(St,It){const Tt=tt.Util.applyTransform(It,St),Dt=tt.Util.applyTransform(It.slice(2),St);this.minX=Math.min(this.minX,Tt[0],Dt[0]),this.minY=Math.min(this.minY,Tt[1],Dt[1]),this.maxX=Math.max(this.maxX,Tt[0],Dt[0]),this.maxY=Math.max(this.maxY,Tt[1],Dt[1])}updateScalingPathMinMax(St,It){tt.Util.scaleMinMax(St,It),this.minX=Math.min(this.minX,It[0]),this.maxX=Math.max(this.maxX,It[1]),this.minY=Math.min(this.minY,It[2]),this.maxY=Math.max(this.maxY,It[3])}updateCurvePathMinMax(St,It,Tt,Dt,Ot,jt,qt,Zt,bn,En){const In=tt.Util.bezierBoundingBox(It,Tt,Dt,Ot,jt,qt,Zt,bn);if(En){En[0]=Math.min(En[0],In[0],In[2]),En[1]=Math.max(En[1],In[0],In[2]),En[2]=Math.min(En[2],In[1],In[3]),En[3]=Math.max(En[3],In[1],In[3]);return}this.updateRectMinMax(St,In)}getPathBoundingBox(St=rt.PathType.FILL,It=null){const Tt=[this.minX,this.minY,this.maxX,this.maxY];if(St===rt.PathType.STROKE){It||(0,tt.unreachable)("Stroke bounding box must include transform.");const Dt=tt.Util.singularValueDecompose2dScale(It),Ot=Dt[0]*this.lineWidth/2,jt=Dt[1]*this.lineWidth/2;Tt[0]-=Ot,Tt[1]-=jt,Tt[2]+=Ot,Tt[3]+=jt}return Tt}updateClipFromPath(){const St=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(St||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(St){this.clipBox=St,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(St=rt.PathType.FILL,It=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(St,It))}}function vt(Ut,St){if(typeof ImageData<"u"&&St instanceof ImageData){Ut.putImageData(St,0,0);return}const It=St.height,Tt=St.width,Dt=It%_t,Ot=(It-Dt)/_t,jt=Dt===0?Ot:Ot+1,qt=Ut.createImageData(Tt,_t);let Zt=0,bn;const En=St.data,In=qt.data;let $n,Hn,Bt,sn;if(St.kind===tt.ImageKind.GRAYSCALE_1BPP){const xn=En.byteLength,Cn=new Uint32Array(In.buffer,0,In.byteLength>>2),kn=Cn.length,cn=Tt+7>>3,nn=4294967295,dn=tt.FeatureTest.isLittleEndian?4278190080:255;for($n=0;$n<jt;$n++){for(Bt=$n<Ot?_t:Dt,bn=0,Hn=0;Hn<Bt;Hn++){const mn=xn-Zt;let zn=0;const Gn=mn>cn?Tt:mn*8-7,ur=Gn&-8;let ir=0,sr=0;for(;zn<ur;zn+=8)sr=En[Zt++],Cn[bn++]=sr&128?nn:dn,Cn[bn++]=sr&64?nn:dn,Cn[bn++]=sr&32?nn:dn,Cn[bn++]=sr&16?nn:dn,Cn[bn++]=sr&8?nn:dn,Cn[bn++]=sr&4?nn:dn,Cn[bn++]=sr&2?nn:dn,Cn[bn++]=sr&1?nn:dn;for(;zn<Gn;zn++)ir===0&&(sr=En[Zt++],ir=128),Cn[bn++]=sr&ir?nn:dn,ir>>=1}for(;bn<kn;)Cn[bn++]=0;Ut.putImageData(qt,0,$n*_t)}}else if(St.kind===tt.ImageKind.RGBA_32BPP){for(Hn=0,sn=Tt*_t*4,$n=0;$n<Ot;$n++)In.set(En.subarray(Zt,Zt+sn)),Zt+=sn,Ut.putImageData(qt,0,Hn),Hn+=_t;$n<jt&&(sn=Tt*Dt*4,In.set(En.subarray(Zt,Zt+sn)),Ut.putImageData(qt,0,Hn))}else if(St.kind===tt.ImageKind.RGB_24BPP)for(Bt=_t,sn=Tt*Bt,$n=0;$n<jt;$n++){for($n>=Ot&&(Bt=Dt,sn=Tt*Bt),bn=0,Hn=sn;Hn--;)In[bn++]=En[Zt++],In[bn++]=En[Zt++],In[bn++]=En[Zt++],In[bn++]=255;Ut.putImageData(qt,0,$n*_t)}else throw new Error(`bad image kind: ${St.kind}`)}function bt(Ut,St){if(St.bitmap){Ut.drawImage(St.bitmap,0,0);return}const It=St.height,Tt=St.width,Dt=It%_t,Ot=(It-Dt)/_t,jt=Dt===0?Ot:Ot+1,qt=Ut.createImageData(Tt,_t);let Zt=0;const bn=St.data,En=qt.data;for(let In=0;In<jt;In++){const $n=In<Ot?_t:Dt;({srcPos:Zt}=(0,it.convertBlackAndWhiteToRGBA)({src:bn,srcPos:Zt,dest:En,width:Tt,height:$n,nonBlackColor:0})),Ut.putImageData(qt,0,In*_t)}}function Et(Ut,St){const It=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Tt of It)Ut[Tt]!==void 0&&(St[Tt]=Ut[Tt]);Ut.setLineDash!==void 0&&(St.setLineDash(Ut.getLineDash()),St.lineDashOffset=Ut.lineDashOffset)}function xt(Ut){if(Ut.strokeStyle=Ut.fillStyle="#000000",Ut.fillRule="nonzero",Ut.globalAlpha=1,Ut.lineWidth=1,Ut.lineCap="butt",Ut.lineJoin="miter",Ut.miterLimit=10,Ut.globalCompositeOperation="source-over",Ut.font="10px sans-serif",Ut.setLineDash!==void 0&&(Ut.setLineDash([]),Ut.lineDashOffset=0),!tt.isNodeJS){const{filter:St}=Ut;St!=="none"&&St!==""&&(Ut.filter="none")}}function kt(Ut,St,It,Tt){const Dt=Ut.length;for(let Ot=3;Ot<Dt;Ot+=4){const jt=Ut[Ot];if(jt===0)Ut[Ot-3]=St,Ut[Ot-2]=It,Ut[Ot-1]=Tt;else if(jt<255){const qt=255-jt;Ut[Ot-3]=Ut[Ot-3]*jt+St*qt>>8,Ut[Ot-2]=Ut[Ot-2]*jt+It*qt>>8,Ut[Ot-1]=Ut[Ot-1]*jt+Tt*qt>>8}}}function Ct(Ut,St,It){const Tt=Ut.length,Dt=1/255;for(let Ot=3;Ot<Tt;Ot+=4){const jt=It?It[Ut[Ot]]:Ut[Ot];St[Ot]=St[Ot]*jt*Dt|0}}function At(Ut,St,It){const Tt=Ut.length;for(let Dt=3;Dt<Tt;Dt+=4){const Ot=Ut[Dt-3]*77+Ut[Dt-2]*152+Ut[Dt-1]*28;St[Dt]=It?St[Dt]*It[Ot>>8]>>8:St[Dt]*Ot>>16}}function Lt(Ut,St,It,Tt,Dt,Ot,jt,qt,Zt,bn,En){const In=!!Ot,$n=In?Ot[0]:0,Hn=In?Ot[1]:0,Bt=In?Ot[2]:0,sn=Dt==="Luminosity"?At:Ct,Cn=Math.min(Tt,Math.ceil(1048576/It));for(let kn=0;kn<Tt;kn+=Cn){const cn=Math.min(Cn,Tt-kn),nn=Ut.getImageData(qt-bn,kn+(Zt-En),It,cn),dn=St.getImageData(qt,kn+Zt,It,cn);In&&kt(nn.data,$n,Hn,Bt),sn(nn.data,dn.data,jt),St.putImageData(dn,qt,kn+Zt)}}function Mt(Ut,St,It,Tt){const Dt=Tt[0],Ot=Tt[1],jt=Tt[2]-Dt,qt=Tt[3]-Ot;jt===0||qt===0||(Lt(St.context,It,jt,qt,St.subtype,St.backdrop,St.transferMap,Dt,Ot,St.offsetX,St.offsetY),Ut.save(),Ut.globalAlpha=1,Ut.globalCompositeOperation="source-over",Ut.setTransform(1,0,0,1,0,0),Ut.drawImage(It.canvas,0,0),Ut.restore())}function Ht(Ut,St){const It=tt.Util.singularValueDecompose2dScale(Ut);It[0]=Math.fround(It[0]),It[1]=Math.fround(It[1]);const Tt=Math.fround((globalThis.devicePixelRatio||1)*nt.PixelsPerInch.PDF_TO_CSS_UNITS);return St!==void 0?St:It[0]<=Tt||It[1]<=Tt}const zt=["butt","round","square"],Nt=["miter","round","bevel"],Xt={},rn={},Mn=class Mn{constructor(St,It,Tt,Dt,Ot,{optionalContentConfig:jt,markedContentStack:qt=null},Zt,bn){Qt(this,Wt);Qt(this,Tn);this.ctx=St,this.current=new gt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=It,this.objs=Tt,this.canvasFactory=Dt,this.filterFactory=Ot,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=qt||[],this.optionalContentConfig=jt,this.cachedCanvases=new ut(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Zt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=bn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(St,It=null){return typeof St=="string"?St.startsWith("g_")?this.commonObjs.get(St):this.objs.get(St):It}beginDrawing({transform:St,viewport:It,transparency:Tt=!1,background:Dt=null}){const Ot=this.ctx.canvas.width,jt=this.ctx.canvas.height,qt=this.ctx.fillStyle;if(this.ctx.fillStyle=Dt||"#ffffff",this.ctx.fillRect(0,0,Ot,jt),this.ctx.fillStyle=qt,Tt){const Zt=this.cachedCanvases.getCanvas("transparent",Ot,jt);this.compositeCtx=this.ctx,this.transparentCanvas=Zt.canvas,this.ctx=Zt.context,this.ctx.save(),this.ctx.transform(...(0,nt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),xt(this.ctx),St&&(this.ctx.transform(...St),this.outputScaleX=St[0],this.outputScaleY=St[0]),this.ctx.transform(...It.transform),this.viewportScale=It.scale,this.baseTransform=(0,nt.getCurrentTransform)(this.ctx)}executeOperatorList(St,It,Tt,Dt){const Ot=St.argsArray,jt=St.fnArray;let qt=It||0;const Zt=Ot.length;if(Zt===qt)return qt;const bn=Zt-qt>ct&&typeof Tt=="function",En=bn?Date.now()+lt:0;let In=0;const $n=this.commonObjs,Hn=this.objs;let Bt;for(;;){if(Dt!==void 0&&qt===Dt.nextBreakPoint)return Dt.breakIt(qt,Tt),qt;if(Bt=jt[qt],Bt!==tt.OPS.dependency)this[Bt].apply(this,Ot[qt]);else for(const sn of Ot[qt]){const xn=sn.startsWith("g_")?$n:Hn;if(!xn.has(sn))return xn.get(sn,Tt),qt}if(qt++,qt===Zt)return qt;if(bn&&++In>ct){if(Date.now()>En)return Tt(),qt;In=0}}}endDrawing(){hn(this,Wt,Ru).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const St of this._cachedBitmapsMap.values()){for(const It of St.values())typeof HTMLCanvasElement<"u"&&It instanceof HTMLCanvasElement&&(It.width=It.height=0);St.clear()}this._cachedBitmapsMap.clear(),hn(this,Tn,Pu).call(this)}_scaleImage(St,It){const Tt=St.width,Dt=St.height;let Ot=Math.max(Math.hypot(It[0],It[1]),1),jt=Math.max(Math.hypot(It[2],It[3]),1),qt=Tt,Zt=Dt,bn="prescale1",En,In;for(;Ot>2&&qt>1||jt>2&&Zt>1;){let $n=qt,Hn=Zt;Ot>2&&qt>1&&($n=qt>=16384?Math.floor(qt/2)-1||1:Math.ceil(qt/2),Ot/=qt/$n),jt>2&&Zt>1&&(Hn=Zt>=16384?Math.floor(Zt/2)-1||1:Math.ceil(Zt)/2,jt/=Zt/Hn),En=this.cachedCanvases.getCanvas(bn,$n,Hn),In=En.context,In.clearRect(0,0,$n,Hn),In.drawImage(St,0,0,qt,Zt,0,0,$n,Hn),St=En.canvas,qt=$n,Zt=Hn,bn=bn==="prescale1"?"prescale2":"prescale1"}return{img:St,paintWidth:qt,paintHeight:Zt}}_createMaskCanvas(St){const It=this.ctx,{width:Tt,height:Dt}=St,Ot=this.current.fillColor,jt=this.current.patternFill,qt=(0,nt.getCurrentTransform)(It);let Zt,bn,En,In;if((St.bitmap||St.data)&&St.count>1){const zn=St.bitmap||St.data.buffer;bn=JSON.stringify(jt?qt:[qt.slice(0,4),Ot]),Zt=this._cachedBitmapsMap.get(zn),Zt||(Zt=new Map,this._cachedBitmapsMap.set(zn,Zt));const Gn=Zt.get(bn);if(Gn&&!jt){const ur=Math.round(Math.min(qt[0],qt[2])+qt[4]),ir=Math.round(Math.min(qt[1],qt[3])+qt[5]);return{canvas:Gn,offsetX:ur,offsetY:ir}}En=Gn}En||(In=this.cachedCanvases.getCanvas("maskCanvas",Tt,Dt),bt(In.context,St));let $n=tt.Util.transform(qt,[1/Tt,0,0,-1/Dt,0,0]);$n=tt.Util.transform($n,[1,0,0,1,0,-Dt]);const Hn=tt.Util.applyTransform([0,0],$n),Bt=tt.Util.applyTransform([Tt,Dt],$n),sn=tt.Util.normalizeRect([Hn[0],Hn[1],Bt[0],Bt[1]]),xn=Math.round(sn[2]-sn[0])||1,Cn=Math.round(sn[3]-sn[1])||1,kn=this.cachedCanvases.getCanvas("fillCanvas",xn,Cn),cn=kn.context,nn=Math.min(Hn[0],Bt[0]),dn=Math.min(Hn[1],Bt[1]);cn.translate(-nn,-dn),cn.transform(...$n),En||(En=this._scaleImage(In.canvas,(0,nt.getCurrentTransformInverse)(cn)),En=En.img,Zt&&jt&&Zt.set(bn,En)),cn.imageSmoothingEnabled=Ht((0,nt.getCurrentTransform)(cn),St.interpolate),mt(cn,En,0,0,En.width,En.height,0,0,Tt,Dt),cn.globalCompositeOperation="source-in";const mn=tt.Util.transform((0,nt.getCurrentTransformInverse)(cn),[1,0,0,1,-nn,-dn]);return cn.fillStyle=jt?Ot.getPattern(It,this,mn,rt.PathType.FILL):Ot,cn.fillRect(0,0,Tt,Dt),Zt&&!jt&&(this.cachedCanvases.delete("fillCanvas"),Zt.set(bn,kn.canvas)),{canvas:kn.canvas,offsetX:Math.round(nn),offsetY:Math.round(dn)}}setLineWidth(St){St!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=St,this.ctx.lineWidth=St}setLineCap(St){this.ctx.lineCap=zt[St]}setLineJoin(St){this.ctx.lineJoin=Nt[St]}setMiterLimit(St){this.ctx.miterLimit=St}setDash(St,It){const Tt=this.ctx;Tt.setLineDash!==void 0&&(Tt.setLineDash(St),Tt.lineDashOffset=It)}setRenderingIntent(St){}setFlatness(St){}setGState(St){for(const[It,Tt]of St)switch(It){case"LW":this.setLineWidth(Tt);break;case"LC":this.setLineCap(Tt);break;case"LJ":this.setLineJoin(Tt);break;case"ML":this.setMiterLimit(Tt);break;case"D":this.setDash(Tt[0],Tt[1]);break;case"RI":this.setRenderingIntent(Tt);break;case"FL":this.setFlatness(Tt);break;case"Font":this.setFont(Tt[0],Tt[1]);break;case"CA":this.current.strokeAlpha=Tt;break;case"ca":this.current.fillAlpha=Tt,this.ctx.globalAlpha=Tt;break;case"BM":this.ctx.globalCompositeOperation=Tt;break;case"SMask":this.current.activeSMask=Tt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Tt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const St=this.inSMaskMode;this.current.activeSMask&&!St?this.beginSMaskMode():!this.current.activeSMask&&St&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const St=this.ctx.canvas.width,It=this.ctx.canvas.height,Tt="smaskGroupAt"+this.groupLevel,Dt=this.cachedCanvases.getCanvas(Tt,St,It);this.suspendedCtx=this.ctx,this.ctx=Dt.context;const Ot=this.ctx;Ot.setTransform(...(0,nt.getCurrentTransform)(this.suspendedCtx)),Et(this.suspendedCtx,Ot),pt(Ot,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Et(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(St){if(!this.current.activeSMask)return;St?(St[0]=Math.floor(St[0]),St[1]=Math.floor(St[1]),St[2]=Math.ceil(St[2]),St[3]=Math.ceil(St[3])):St=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const It=this.current.activeSMask,Tt=this.suspendedCtx;Mt(Tt,It,this.ctx,St),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Et(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const St=this.current;this.stateStack.push(St),this.current=St.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Et(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(St,It,Tt,Dt,Ot,jt){this.ctx.transform(St,It,Tt,Dt,Ot,jt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(St,It,Tt){const Dt=this.ctx,Ot=this.current;let jt=Ot.x,qt=Ot.y,Zt,bn;const En=(0,nt.getCurrentTransform)(Dt),In=En[0]===0&&En[3]===0||En[1]===0&&En[2]===0,$n=In?Tt.slice(0):null;for(let Hn=0,Bt=0,sn=St.length;Hn<sn;Hn++)switch(St[Hn]|0){case tt.OPS.rectangle:jt=It[Bt++],qt=It[Bt++];const xn=It[Bt++],Cn=It[Bt++],kn=jt+xn,cn=qt+Cn;Dt.moveTo(jt,qt),xn===0||Cn===0?Dt.lineTo(kn,cn):(Dt.lineTo(kn,qt),Dt.lineTo(kn,cn),Dt.lineTo(jt,cn)),In||Ot.updateRectMinMax(En,[jt,qt,kn,cn]),Dt.closePath();break;case tt.OPS.moveTo:jt=It[Bt++],qt=It[Bt++],Dt.moveTo(jt,qt),In||Ot.updatePathMinMax(En,jt,qt);break;case tt.OPS.lineTo:jt=It[Bt++],qt=It[Bt++],Dt.lineTo(jt,qt),In||Ot.updatePathMinMax(En,jt,qt);break;case tt.OPS.curveTo:Zt=jt,bn=qt,jt=It[Bt+4],qt=It[Bt+5],Dt.bezierCurveTo(It[Bt],It[Bt+1],It[Bt+2],It[Bt+3],jt,qt),Ot.updateCurvePathMinMax(En,Zt,bn,It[Bt],It[Bt+1],It[Bt+2],It[Bt+3],jt,qt,$n),Bt+=6;break;case tt.OPS.curveTo2:Zt=jt,bn=qt,Dt.bezierCurveTo(jt,qt,It[Bt],It[Bt+1],It[Bt+2],It[Bt+3]),Ot.updateCurvePathMinMax(En,Zt,bn,jt,qt,It[Bt],It[Bt+1],It[Bt+2],It[Bt+3],$n),jt=It[Bt+2],qt=It[Bt+3],Bt+=4;break;case tt.OPS.curveTo3:Zt=jt,bn=qt,jt=It[Bt+2],qt=It[Bt+3],Dt.bezierCurveTo(It[Bt],It[Bt+1],jt,qt,jt,qt),Ot.updateCurvePathMinMax(En,Zt,bn,It[Bt],It[Bt+1],jt,qt,jt,qt,$n),Bt+=4;break;case tt.OPS.closePath:Dt.closePath();break}In&&Ot.updateScalingPathMinMax(En,$n),Ot.setCurrentPoint(jt,qt)}closePath(){this.ctx.closePath()}stroke(St=!0){const It=this.ctx,Tt=this.current.strokeColor;It.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Tt=="object"&&(Tt!=null&&Tt.getPattern)?(It.save(),It.strokeStyle=Tt.getPattern(It,this,(0,nt.getCurrentTransformInverse)(It),rt.PathType.STROKE),this.rescaleAndStroke(!1),It.restore()):this.rescaleAndStroke(!0)),St&&this.consumePath(this.current.getClippedPathBoundingBox()),It.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(St=!0){const It=this.ctx,Tt=this.current.fillColor,Dt=this.current.patternFill;let Ot=!1;Dt&&(It.save(),It.fillStyle=Tt.getPattern(It,this,(0,nt.getCurrentTransformInverse)(It),rt.PathType.FILL),Ot=!0);const jt=this.current.getClippedPathBoundingBox();this.contentVisible&&jt!==null&&(this.pendingEOFill?(It.fill("evenodd"),this.pendingEOFill=!1):It.fill()),Ot&&It.restore(),St&&this.consumePath(jt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Xt}eoClip(){this.pendingClip=rn}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const St=this.pendingTextPaths,It=this.ctx;if(St===void 0){It.beginPath();return}It.save(),It.beginPath();for(const Tt of St)It.setTransform(...Tt.transform),It.translate(Tt.x,Tt.y),Tt.addToPath(It,Tt.fontSize);It.restore(),It.clip(),It.beginPath(),delete this.pendingTextPaths}setCharSpacing(St){this.current.charSpacing=St}setWordSpacing(St){this.current.wordSpacing=St}setHScale(St){this.current.textHScale=St/100}setLeading(St){this.current.leading=-St}setFont(St,It){var En;const Tt=this.commonObjs.get(St),Dt=this.current;if(!Tt)throw new Error(`Can't find font for ${St}`);if(Dt.fontMatrix=Tt.fontMatrix||tt.FONT_IDENTITY_MATRIX,(Dt.fontMatrix[0]===0||Dt.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+St),It<0?(It=-It,Dt.fontDirection=-1):Dt.fontDirection=1,this.current.font=Tt,this.current.fontSize=It,Tt.isType3Font)return;const Ot=Tt.loadedName||"sans-serif",jt=((En=Tt.systemFontInfo)==null?void 0:En.css)||`"${Ot}", ${Tt.fallbackName}`;let qt="normal";Tt.black?qt="900":Tt.bold&&(qt="bold");const Zt=Tt.italic?"italic":"normal";let bn=It;It<st?bn=st:It>ot&&(bn=ot),this.current.fontSizeScale=It/bn,this.ctx.font=`${Zt} ${qt} ${bn}px ${jt}`}setTextRenderingMode(St){this.current.textRenderingMode=St}setTextRise(St){this.current.textRise=St}moveText(St,It){this.current.x=this.current.lineX+=St,this.current.y=this.current.lineY+=It}setLeadingMoveText(St,It){this.setLeading(-It),this.moveText(St,It)}setTextMatrix(St,It,Tt,Dt,Ot,jt){this.current.textMatrix=[St,It,Tt,Dt,Ot,jt],this.current.textMatrixScale=Math.hypot(St,It),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(St,It,Tt,Dt){const Ot=this.ctx,jt=this.current,qt=jt.font,Zt=jt.textRenderingMode,bn=jt.fontSize/jt.fontSizeScale,En=Zt&tt.TextRenderingMode.FILL_STROKE_MASK,In=!!(Zt&tt.TextRenderingMode.ADD_TO_PATH_FLAG),$n=jt.patternFill&&!qt.missingFile;let Hn;(qt.disableFontFace||In||$n)&&(Hn=qt.getPathGenerator(this.commonObjs,St)),qt.disableFontFace||$n?(Ot.save(),Ot.translate(It,Tt),Ot.beginPath(),Hn(Ot,bn),Dt&&Ot.setTransform(...Dt),(En===tt.TextRenderingMode.FILL||En===tt.TextRenderingMode.FILL_STROKE)&&Ot.fill(),(En===tt.TextRenderingMode.STROKE||En===tt.TextRenderingMode.FILL_STROKE)&&Ot.stroke(),Ot.restore()):((En===tt.TextRenderingMode.FILL||En===tt.TextRenderingMode.FILL_STROKE)&&Ot.fillText(St,It,Tt),(En===tt.TextRenderingMode.STROKE||En===tt.TextRenderingMode.FILL_STROKE)&&Ot.strokeText(St,It,Tt)),In&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nt.getCurrentTransform)(Ot),x:It,y:Tt,fontSize:bn,addToPath:Hn})}get isFontSubpixelAAEnabled(){const{context:St}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);St.scale(1.5,1),St.fillText("I",0,10);const It=St.getImageData(0,0,10,10).data;let Tt=!1;for(let Dt=3;Dt<It.length;Dt+=4)if(It[Dt]>0&&It[Dt]<255){Tt=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",Tt)}showText(St){const It=this.current,Tt=It.font;if(Tt.isType3Font)return this.showType3Text(St);const Dt=It.fontSize;if(Dt===0)return;const Ot=this.ctx,jt=It.fontSizeScale,qt=It.charSpacing,Zt=It.wordSpacing,bn=It.fontDirection,En=It.textHScale*bn,In=St.length,$n=Tt.vertical,Hn=$n?1:-1,Bt=Tt.defaultVMetrics,sn=Dt*It.fontMatrix[0],xn=It.textRenderingMode===tt.TextRenderingMode.FILL&&!Tt.disableFontFace&&!It.patternFill;Ot.save(),Ot.transform(...It.textMatrix),Ot.translate(It.x,It.y+It.textRise),bn>0?Ot.scale(En,-1):Ot.scale(En,1);let Cn;if(It.patternFill){Ot.save();const mn=It.fillColor.getPattern(Ot,this,(0,nt.getCurrentTransformInverse)(Ot),rt.PathType.FILL);Cn=(0,nt.getCurrentTransform)(Ot),Ot.restore(),Ot.fillStyle=mn}let kn=It.lineWidth;const cn=It.textMatrixScale;if(cn===0||kn===0){const mn=It.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(mn===tt.TextRenderingMode.STROKE||mn===tt.TextRenderingMode.FILL_STROKE)&&(kn=this.getSinglePixelWidth())}else kn/=cn;if(jt!==1&&(Ot.scale(jt,jt),kn/=jt),Ot.lineWidth=kn,Tt.isInvalidPDFjsFont){const mn=[];let zn=0;for(const Gn of St)mn.push(Gn.unicode),zn+=Gn.width;Ot.fillText(mn.join(""),0,0),It.x+=zn*sn*En,Ot.restore(),this.compose();return}let nn=0,dn;for(dn=0;dn<In;++dn){const mn=St[dn];if(typeof mn=="number"){nn+=Hn*mn*Dt/1e3;continue}let zn=!1;const Gn=(mn.isSpace?Zt:0)+qt,ur=mn.fontChar,ir=mn.accent;let sr,_r,wr=mn.width;if($n){const Er=mn.vmetric||Bt,Dn=-(mn.vmetric?Er[1]:wr*.5)*sn,pn=Er[2]*sn;wr=Er?-Er[0]:wr,sr=Dn/jt,_r=(nn+pn)/jt}else sr=nn/jt,_r=0;if(Tt.remeasure&&wr>0){const Er=Ot.measureText(ur).width*1e3/Dt*jt;if(wr<Er&&this.isFontSubpixelAAEnabled){const Dn=wr/Er;zn=!0,Ot.save(),Ot.scale(Dn,1),sr/=Dn}else wr!==Er&&(sr+=(wr-Er)/2e3*Dt/jt)}if(this.contentVisible&&(mn.isInFont||Tt.missingFile)){if(xn&&!ir)Ot.fillText(ur,sr,_r);else if(this.paintChar(ur,sr,_r,Cn),ir){const Er=sr+Dt*ir.offset.x/jt,Dn=_r-Dt*ir.offset.y/jt;this.paintChar(ir.fontChar,Er,Dn,Cn)}}const dr=$n?wr*sn-Gn*bn:wr*sn+Gn*bn;nn+=dr,zn&&Ot.restore()}$n?It.y-=nn:It.x+=nn*En,Ot.restore(),this.compose()}showType3Text(St){const It=this.ctx,Tt=this.current,Dt=Tt.font,Ot=Tt.fontSize,jt=Tt.fontDirection,qt=Dt.vertical?1:-1,Zt=Tt.charSpacing,bn=Tt.wordSpacing,En=Tt.textHScale*jt,In=Tt.fontMatrix||tt.FONT_IDENTITY_MATRIX,$n=St.length,Hn=Tt.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let Bt,sn,xn,Cn;if(!(Hn||Ot===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,It.save(),It.transform(...Tt.textMatrix),It.translate(Tt.x,Tt.y),It.scale(En,jt),Bt=0;Bt<$n;++Bt){if(sn=St[Bt],typeof sn=="number"){Cn=qt*sn*Ot/1e3,this.ctx.translate(Cn,0),Tt.x+=Cn*En;continue}const kn=(sn.isSpace?bn:0)+Zt,cn=Dt.charProcOperatorList[sn.operatorListId];if(!cn){(0,tt.warn)(`Type3 character "${sn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=sn,this.save(),It.scale(Ot,Ot),It.transform(...In),this.executeOperatorList(cn),this.restore()),xn=tt.Util.applyTransform([sn.width,0],In)[0]*Ot+kn,It.translate(xn,0),Tt.x+=xn*En}It.restore(),this.processingType3=null}}setCharWidth(St,It){}setCharWidthAndBounds(St,It,Tt,Dt,Ot,jt){this.ctx.rect(Tt,Dt,Ot-Tt,jt-Dt),this.ctx.clip(),this.endPath()}getColorN_Pattern(St){let It;if(St[0]==="TilingPattern"){const Tt=St[1],Dt=this.baseTransform||(0,nt.getCurrentTransform)(this.ctx),Ot={createCanvasGraphics:jt=>new Mn(jt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};It=new rt.TilingPattern(St,Tt,this.ctx,Ot,Dt)}else It=this._getPattern(St[1],St[2]);return It}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(St,It,Tt){const Dt=tt.Util.makeHexColor(St,It,Tt);this.ctx.strokeStyle=Dt,this.current.strokeColor=Dt}setFillRGBColor(St,It,Tt){const Dt=tt.Util.makeHexColor(St,It,Tt);this.ctx.fillStyle=Dt,this.current.fillColor=Dt,this.current.patternFill=!1}_getPattern(St,It=null){let Tt;return this.cachedPatterns.has(St)?Tt=this.cachedPatterns.get(St):(Tt=(0,rt.getShadingPattern)(this.getObject(St)),this.cachedPatterns.set(St,Tt)),It&&(Tt.matrix=It),Tt}shadingFill(St){if(!this.contentVisible)return;const It=this.ctx;this.save();const Tt=this._getPattern(St);It.fillStyle=Tt.getPattern(It,this,(0,nt.getCurrentTransformInverse)(It),rt.PathType.SHADING);const Dt=(0,nt.getCurrentTransformInverse)(It);if(Dt){const{width:Ot,height:jt}=It.canvas,[qt,Zt,bn,En]=tt.Util.getAxialAlignedBoundingBox([0,0,Ot,jt],Dt);this.ctx.fillRect(qt,Zt,bn-qt,En-Zt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(St,It){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(St)&&St.length===6&&this.transform(...St),this.baseTransform=(0,nt.getCurrentTransform)(this.ctx),It)){const Tt=It[2]-It[0],Dt=It[3]-It[1];this.ctx.rect(It[0],It[1],Tt,Dt),this.current.updateRectMinMax((0,nt.getCurrentTransform)(this.ctx),It),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(St){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const It=this.ctx;St.isolated||(0,tt.info)("TODO: Support non-isolated groups."),St.knockout&&(0,tt.warn)("Knockout groups not supported.");const Tt=(0,nt.getCurrentTransform)(It);if(St.matrix&&It.transform(...St.matrix),!St.bbox)throw new Error("Bounding box is required.");let Dt=tt.Util.getAxialAlignedBoundingBox(St.bbox,(0,nt.getCurrentTransform)(It));const Ot=[0,0,It.canvas.width,It.canvas.height];Dt=tt.Util.intersect(Dt,Ot)||[0,0,0,0];const jt=Math.floor(Dt[0]),qt=Math.floor(Dt[1]);let Zt=Math.max(Math.ceil(Dt[2])-jt,1),bn=Math.max(Math.ceil(Dt[3])-qt,1),En=1,In=1;Zt>at&&(En=Zt/at,Zt=at),bn>at&&(In=bn/at,bn=at),this.current.startNewPathAndClipBox([0,0,Zt,bn]);let $n="groupAt"+this.groupLevel;St.smask&&($n+="_smask_"+this.smaskCounter++%2);const Hn=this.cachedCanvases.getCanvas($n,Zt,bn),Bt=Hn.context;Bt.scale(1/En,1/In),Bt.translate(-jt,-qt),Bt.transform(...Tt),St.smask?this.smaskStack.push({canvas:Hn.canvas,context:Bt,offsetX:jt,offsetY:qt,scaleX:En,scaleY:In,subtype:St.smask.subtype,backdrop:St.smask.backdrop,transferMap:St.smask.transferMap||null,startTransformInverse:null}):(It.setTransform(1,0,0,1,0,0),It.translate(jt,qt),It.scale(En,In),It.save()),Et(It,Bt),this.ctx=Bt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(It),this.groupLevel++}endGroup(St){if(!this.contentVisible)return;this.groupLevel--;const It=this.ctx,Tt=this.groupStack.pop();if(this.ctx=Tt,this.ctx.imageSmoothingEnabled=!1,St.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Dt=(0,nt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Dt);const Ot=tt.Util.getAxialAlignedBoundingBox([0,0,It.canvas.width,It.canvas.height],Dt);this.ctx.drawImage(It.canvas,0,0),this.ctx.restore(),this.compose(Ot)}}beginAnnotation(St,It,Tt,Dt,Ot){if(hn(this,Wt,Ru).call(this),xt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(It)&&It.length===4){const jt=It[2]-It[0],qt=It[3]-It[1];if(Ot&&this.annotationCanvasMap){Tt=Tt.slice(),Tt[4]-=It[0],Tt[5]-=It[1],It=It.slice(),It[0]=It[1]=0,It[2]=jt,It[3]=qt;const[Zt,bn]=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(this.ctx)),{viewportScale:En}=this,In=Math.ceil(jt*this.outputScaleX*En),$n=Math.ceil(qt*this.outputScaleY*En);this.annotationCanvas=this.canvasFactory.create(In,$n);const{canvas:Hn,context:Bt}=this.annotationCanvas;this.annotationCanvasMap.set(St,Hn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Bt,this.ctx.save(),this.ctx.setTransform(Zt,0,0,-bn,0,qt*bn),xt(this.ctx)}else xt(this.ctx),this.ctx.rect(It[0],It[1],jt,qt),this.ctx.clip(),this.endPath()}this.current=new gt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Tt),this.transform(...Dt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),hn(this,Tn,Pu).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(St){if(!this.contentVisible)return;const It=St.count;St=this.getObject(St.data,St),St.count=It;const Tt=this.ctx,Dt=this.processingType3;if(Dt&&(Dt.compiled===void 0&&(Dt.compiled=ft(St)),Dt.compiled)){Dt.compiled(Tt);return}const Ot=this._createMaskCanvas(St),jt=Ot.canvas;Tt.save(),Tt.setTransform(1,0,0,1,0,0),Tt.drawImage(jt,Ot.offsetX,Ot.offsetY),Tt.restore(),this.compose()}paintImageMaskXObjectRepeat(St,It,Tt=0,Dt=0,Ot,jt){if(!this.contentVisible)return;St=this.getObject(St.data,St);const qt=this.ctx;qt.save();const Zt=(0,nt.getCurrentTransform)(qt);qt.transform(It,Tt,Dt,Ot,0,0);const bn=this._createMaskCanvas(St);qt.setTransform(1,0,0,1,bn.offsetX-Zt[4],bn.offsetY-Zt[5]);for(let En=0,In=jt.length;En<In;En+=2){const $n=tt.Util.transform(Zt,[It,Tt,Dt,Ot,jt[En],jt[En+1]]),[Hn,Bt]=tt.Util.applyTransform([0,0],$n);qt.drawImage(bn.canvas,Hn,Bt)}qt.restore(),this.compose()}paintImageMaskXObjectGroup(St){if(!this.contentVisible)return;const It=this.ctx,Tt=this.current.fillColor,Dt=this.current.patternFill;for(const Ot of St){const{data:jt,width:qt,height:Zt,transform:bn}=Ot,En=this.cachedCanvases.getCanvas("maskCanvas",qt,Zt),In=En.context;In.save();const $n=this.getObject(jt,Ot);bt(In,$n),In.globalCompositeOperation="source-in",In.fillStyle=Dt?Tt.getPattern(In,this,(0,nt.getCurrentTransformInverse)(It),rt.PathType.FILL):Tt,In.fillRect(0,0,qt,Zt),In.restore(),It.save(),It.transform(...bn),It.scale(1,-1),mt(It,En.canvas,0,0,qt,Zt,0,-1,1,1),It.restore()}this.compose()}paintImageXObject(St){if(!this.contentVisible)return;const It=this.getObject(St);if(!It){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(It)}paintImageXObjectRepeat(St,It,Tt,Dt){if(!this.contentVisible)return;const Ot=this.getObject(St);if(!Ot){(0,tt.warn)("Dependent image isn't ready yet");return}const jt=Ot.width,qt=Ot.height,Zt=[];for(let bn=0,En=Dt.length;bn<En;bn+=2)Zt.push({transform:[It,0,0,Tt,Dt[bn],Dt[bn+1]],x:0,y:0,w:jt,h:qt});this.paintInlineImageXObjectGroup(Ot,Zt)}applyTransferMapsToCanvas(St){return this.current.transferMaps!=="none"&&(St.filter=this.current.transferMaps,St.drawImage(St.canvas,0,0),St.filter="none"),St.canvas}applyTransferMapsToBitmap(St){if(this.current.transferMaps==="none")return St.bitmap;const{bitmap:It,width:Tt,height:Dt}=St,Ot=this.cachedCanvases.getCanvas("inlineImage",Tt,Dt),jt=Ot.context;return jt.filter=this.current.transferMaps,jt.drawImage(It,0,0),jt.filter="none",Ot.canvas}paintInlineImageXObject(St){if(!this.contentVisible)return;const It=St.width,Tt=St.height,Dt=this.ctx;if(this.save(),!tt.isNodeJS){const{filter:qt}=Dt;qt!=="none"&&qt!==""&&(Dt.filter="none")}Dt.scale(1/It,-1/Tt);let Ot;if(St.bitmap)Ot=this.applyTransferMapsToBitmap(St);else if(typeof HTMLElement=="function"&&St instanceof HTMLElement||!St.data)Ot=St;else{const Zt=this.cachedCanvases.getCanvas("inlineImage",It,Tt).context;vt(Zt,St),Ot=this.applyTransferMapsToCanvas(Zt)}const jt=this._scaleImage(Ot,(0,nt.getCurrentTransformInverse)(Dt));Dt.imageSmoothingEnabled=Ht((0,nt.getCurrentTransform)(Dt),St.interpolate),mt(Dt,jt.img,0,0,jt.paintWidth,jt.paintHeight,0,-Tt,It,Tt),this.compose(),this.restore()}paintInlineImageXObjectGroup(St,It){if(!this.contentVisible)return;const Tt=this.ctx;let Dt;if(St.bitmap)Dt=St.bitmap;else{const Ot=St.width,jt=St.height,Zt=this.cachedCanvases.getCanvas("inlineImage",Ot,jt).context;vt(Zt,St),Dt=this.applyTransferMapsToCanvas(Zt)}for(const Ot of It)Tt.save(),Tt.transform(...Ot.transform),Tt.scale(1,-1),mt(Tt,Dt,Ot.x,Ot.y,Ot.w,Ot.h,0,-1,1,1),Tt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(St){}markPointProps(St,It){}beginMarkedContent(St){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(St,It){St==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(It)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(St){const It=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(St);const Tt=this.ctx;this.pendingClip&&(It||(this.pendingClip===rn?Tt.clip("evenodd"):Tt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Tt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const St=(0,nt.getCurrentTransform)(this.ctx);if(St[1]===0&&St[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(St[0]),Math.abs(St[3]));else{const It=Math.abs(St[0]*St[3]-St[2]*St[1]),Tt=Math.hypot(St[0],St[2]),Dt=Math.hypot(St[1],St[3]);this._cachedGetSinglePixelWidth=Math.max(Tt,Dt)/It}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:St}=this.current,{a:It,b:Tt,c:Dt,d:Ot}=this.ctx.getTransform();let jt,qt;if(Tt===0&&Dt===0){const Zt=Math.abs(It),bn=Math.abs(Ot);if(Zt===bn)if(St===0)jt=qt=1/Zt;else{const En=Zt*St;jt=qt=En<1?1/En:1}else if(St===0)jt=1/Zt,qt=1/bn;else{const En=Zt*St,In=bn*St;jt=En<1?1/En:1,qt=In<1?1/In:1}}else{const Zt=Math.abs(It*Ot-Tt*Dt),bn=Math.hypot(It,Tt),En=Math.hypot(Dt,Ot);if(St===0)jt=En/Zt,qt=bn/Zt;else{const In=St*Zt;jt=En>In?En/In:1,qt=bn>In?bn/In:1}}this._cachedScaleForStroking[0]=jt,this._cachedScaleForStroking[1]=qt}return this._cachedScaleForStroking}rescaleAndStroke(St){const{ctx:It}=this,{lineWidth:Tt}=this.current,[Dt,Ot]=this.getScaleForStroking();if(It.lineWidth=Tt||1,Dt===1&&Ot===1){It.stroke();return}const jt=It.getLineDash();if(St&&It.save(),It.scale(Dt,Ot),jt.length>0){const qt=Math.max(Dt,Ot);It.setLineDash(jt.map(Zt=>Zt/qt)),It.lineDashOffset/=qt}It.stroke(),St&&It.restore()}isContentVisible(){for(let St=this.markedContentStack.length-1;St>=0;St--)if(!this.markedContentStack[St].visible)return!1;return!0}};Wt=new WeakSet,Ru=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Tn=new WeakSet,Pu=function(){if(this.pageColors){const St=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(St!=="none"){const It=this.ctx.filter;this.ctx.filter=St,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=It}}};let wn=Mn;_.CanvasGraphics=wn;for(const Ut in tt.OPS)wn.prototype[Ut]!==void 0&&(wn.prototype[tt.OPS[Ut]]=wn.prototype[Ut])},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TilingPattern=_.PathType=void 0,_.getShadingPattern=_t;var tt=et(1),nt=et(6);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_.PathType=rt;function it(ft,gt){if(!gt)return;const vt=gt[2]-gt[0],bt=gt[3]-gt[1],Et=new Path2D;Et.rect(gt[0],gt[1],vt,bt),ft.clip(Et)}class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class ot extends st{constructor(gt){super(),this._type=gt[1],this._bbox=gt[2],this._colorStops=gt[3],this._p0=gt[4],this._p1=gt[5],this._r0=gt[6],this._r1=gt[7],this.matrix=null}_createGradient(gt){let vt;this._type==="axial"?vt=gt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(vt=gt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const bt of this._colorStops)vt.addColorStop(bt[0],bt[1]);return vt}getPattern(gt,vt,bt,Et){let xt;if(Et===rt.STROKE||Et===rt.FILL){const kt=vt.current.getClippedPathBoundingBox(Et,(0,nt.getCurrentTransform)(gt))||[0,0,0,0],Ct=Math.ceil(kt[2]-kt[0])||1,At=Math.ceil(kt[3]-kt[1])||1,Lt=vt.cachedCanvases.getCanvas("pattern",Ct,At,!0),Mt=Lt.context;Mt.clearRect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.beginPath(),Mt.rect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.translate(-kt[0],-kt[1]),bt=tt.Util.transform(bt,[1,0,0,1,kt[0],kt[1]]),Mt.transform(...vt.baseTransform),this.matrix&&Mt.transform(...this.matrix),it(Mt,this._bbox),Mt.fillStyle=this._createGradient(Mt),Mt.fill(),xt=gt.createPattern(Lt.canvas,"no-repeat");const Ht=new DOMMatrix(bt);xt.setTransform(Ht)}else it(gt,this._bbox),xt=this._createGradient(gt);return xt}}function at(ft,gt,vt,bt,Et,xt,kt,Ct){const At=gt.coords,Lt=gt.colors,Mt=ft.data,Ht=ft.width*4;let zt;At[vt+1]>At[bt+1]&&(zt=vt,vt=bt,bt=zt,zt=xt,xt=kt,kt=zt),At[bt+1]>At[Et+1]&&(zt=bt,bt=Et,Et=zt,zt=kt,kt=Ct,Ct=zt),At[vt+1]>At[bt+1]&&(zt=vt,vt=bt,bt=zt,zt=xt,xt=kt,kt=zt);const Nt=(At[vt]+gt.offsetX)*gt.scaleX,Xt=(At[vt+1]+gt.offsetY)*gt.scaleY,rn=(At[bt]+gt.offsetX)*gt.scaleX,wn=(At[bt+1]+gt.offsetY)*gt.scaleY,Wt=(At[Et]+gt.offsetX)*gt.scaleX,fn=(At[Et+1]+gt.offsetY)*gt.scaleY;if(Xt>=fn)return;const Tn=Lt[xt],Fn=Lt[xt+1],Mn=Lt[xt+2],Ut=Lt[kt],St=Lt[kt+1],It=Lt[kt+2],Tt=Lt[Ct],Dt=Lt[Ct+1],Ot=Lt[Ct+2],jt=Math.round(Xt),qt=Math.round(fn);let Zt,bn,En,In,$n,Hn,Bt,sn;for(let xn=jt;xn<=qt;xn++){if(xn<wn){const dn=xn<Xt?0:(Xt-xn)/(Xt-wn);Zt=Nt-(Nt-rn)*dn,bn=Tn-(Tn-Ut)*dn,En=Fn-(Fn-St)*dn,In=Mn-(Mn-It)*dn}else{let dn;xn>fn?dn=1:wn===fn?dn=0:dn=(wn-xn)/(wn-fn),Zt=rn-(rn-Wt)*dn,bn=Ut-(Ut-Tt)*dn,En=St-(St-Dt)*dn,In=It-(It-Ot)*dn}let Cn;xn<Xt?Cn=0:xn>fn?Cn=1:Cn=(Xt-xn)/(Xt-fn),$n=Nt-(Nt-Wt)*Cn,Hn=Tn-(Tn-Tt)*Cn,Bt=Fn-(Fn-Dt)*Cn,sn=Mn-(Mn-Ot)*Cn;const kn=Math.round(Math.min(Zt,$n)),cn=Math.round(Math.max(Zt,$n));let nn=Ht*xn+kn*4;for(let dn=kn;dn<=cn;dn++)Cn=(Zt-dn)/(Zt-$n),Cn<0?Cn=0:Cn>1&&(Cn=1),Mt[nn++]=bn-(bn-Hn)*Cn|0,Mt[nn++]=En-(En-Bt)*Cn|0,Mt[nn++]=In-(In-sn)*Cn|0,Mt[nn++]=255}}function lt(ft,gt,vt){const bt=gt.coords,Et=gt.colors;let xt,kt;switch(gt.type){case"lattice":const Ct=gt.verticesPerRow,At=Math.floor(bt.length/Ct)-1,Lt=Ct-1;for(xt=0;xt<At;xt++){let Mt=xt*Ct;for(let Ht=0;Ht<Lt;Ht++,Mt++)at(ft,vt,bt[Mt],bt[Mt+1],bt[Mt+Ct],Et[Mt],Et[Mt+1],Et[Mt+Ct]),at(ft,vt,bt[Mt+Ct+1],bt[Mt+1],bt[Mt+Ct],Et[Mt+Ct+1],Et[Mt+1],Et[Mt+Ct])}break;case"triangles":for(xt=0,kt=bt.length;xt<kt;xt+=3)at(ft,vt,bt[xt],bt[xt+1],bt[xt+2],Et[xt],Et[xt+1],Et[xt+2]);break;default:throw new Error("illegal figure")}}class ct extends st{constructor(gt){super(),this._coords=gt[2],this._colors=gt[3],this._figures=gt[4],this._bounds=gt[5],this._bbox=gt[7],this._background=gt[8],this.matrix=null}_createMeshCanvas(gt,vt,bt){const Ct=Math.floor(this._bounds[0]),At=Math.floor(this._bounds[1]),Lt=Math.ceil(this._bounds[2])-Ct,Mt=Math.ceil(this._bounds[3])-At,Ht=Math.min(Math.ceil(Math.abs(Lt*gt[0]*1.1)),3e3),zt=Math.min(Math.ceil(Math.abs(Mt*gt[1]*1.1)),3e3),Nt=Lt/Ht,Xt=Mt/zt,rn={coords:this._coords,colors:this._colors,offsetX:-Ct,offsetY:-At,scaleX:1/Nt,scaleY:1/Xt},wn=Ht+2*2,Wt=zt+2*2,fn=bt.getCanvas("mesh",wn,Wt,!1),Tn=fn.context,Fn=Tn.createImageData(Ht,zt);if(vt){const Ut=Fn.data;for(let St=0,It=Ut.length;St<It;St+=4)Ut[St]=vt[0],Ut[St+1]=vt[1],Ut[St+2]=vt[2],Ut[St+3]=255}for(const Ut of this._figures)lt(Fn,Ut,rn);return Tn.putImageData(Fn,2,2),{canvas:fn.canvas,offsetX:Ct-2*Nt,offsetY:At-2*Xt,scaleX:Nt,scaleY:Xt}}getPattern(gt,vt,bt,Et){it(gt,this._bbox);let xt;if(Et===rt.SHADING)xt=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(gt));else if(xt=tt.Util.singularValueDecompose2dScale(vt.baseTransform),this.matrix){const Ct=tt.Util.singularValueDecompose2dScale(this.matrix);xt=[xt[0]*Ct[0],xt[1]*Ct[1]]}const kt=this._createMeshCanvas(xt,Et===rt.SHADING?null:this._background,vt.cachedCanvases);return Et!==rt.SHADING&&(gt.setTransform(...vt.baseTransform),this.matrix&&gt.transform(...this.matrix)),gt.translate(kt.offsetX,kt.offsetY),gt.scale(kt.scaleX,kt.scaleY),gt.createPattern(kt.canvas,"no-repeat")}}class dt extends st{getPattern(){return"hotpink"}}function _t(ft){switch(ft[0]){case"RadialAxial":return new ot(ft);case"Mesh":return new ct(ft);case"Dummy":return new dt}throw new Error(`Unknown IR type: ${ft[0]}`)}const pt={COLORED:1,UNCOLORED:2},mt=class mt{constructor(gt,vt,bt,Et,xt){this.operatorList=gt[2],this.matrix=gt[3]||[1,0,0,1,0,0],this.bbox=gt[4],this.xstep=gt[5],this.ystep=gt[6],this.paintType=gt[7],this.tilingType=gt[8],this.color=vt,this.ctx=bt,this.canvasGraphicsFactory=Et,this.baseTransform=xt}createPatternCanvas(gt){const vt=this.operatorList,bt=this.bbox,Et=this.xstep,xt=this.ystep,kt=this.paintType,Ct=this.tilingType,At=this.color,Lt=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+Ct);const Mt=bt[0],Ht=bt[1],zt=bt[2],Nt=bt[3],Xt=tt.Util.singularValueDecompose2dScale(this.matrix),rn=tt.Util.singularValueDecompose2dScale(this.baseTransform),wn=[Xt[0]*rn[0],Xt[1]*rn[1]],Wt=this.getSizeAndScale(Et,this.ctx.canvas.width,wn[0]),fn=this.getSizeAndScale(xt,this.ctx.canvas.height,wn[1]),Tn=gt.cachedCanvases.getCanvas("pattern",Wt.size,fn.size,!0),Fn=Tn.context,Mn=Lt.createCanvasGraphics(Fn);Mn.groupLevel=gt.groupLevel,this.setFillAndStrokeStyleToContext(Mn,kt,At);let Ut=Mt,St=Ht,It=zt,Tt=Nt;return Mt<0&&(Ut=0,It+=Math.abs(Mt)),Ht<0&&(St=0,Tt+=Math.abs(Ht)),Fn.translate(-(Wt.scale*Ut),-(fn.scale*St)),Mn.transform(Wt.scale,0,0,fn.scale,0,0),Fn.save(),this.clipBbox(Mn,Ut,St,It,Tt),Mn.baseTransform=(0,nt.getCurrentTransform)(Mn.ctx),Mn.executeOperatorList(vt),Mn.endDrawing(),{canvas:Tn.canvas,scaleX:Wt.scale,scaleY:fn.scale,offsetX:Ut,offsetY:St}}getSizeAndScale(gt,vt,bt){gt=Math.abs(gt);const Et=Math.max(mt.MAX_PATTERN_SIZE,vt);let xt=Math.ceil(gt*bt);return xt>=Et?xt=Et:bt=xt/gt,{scale:bt,size:xt}}clipBbox(gt,vt,bt,Et,xt){const kt=Et-vt,Ct=xt-bt;gt.ctx.rect(vt,bt,kt,Ct),gt.current.updateRectMinMax((0,nt.getCurrentTransform)(gt.ctx),[vt,bt,Et,xt]),gt.clip(),gt.endPath()}setFillAndStrokeStyleToContext(gt,vt,bt){const Et=gt.ctx,xt=gt.current;switch(vt){case pt.COLORED:const kt=this.ctx;Et.fillStyle=kt.fillStyle,Et.strokeStyle=kt.strokeStyle,xt.fillColor=kt.fillStyle,xt.strokeColor=kt.strokeStyle;break;case pt.UNCOLORED:const Ct=tt.Util.makeHexColor(bt[0],bt[1],bt[2]);Et.fillStyle=Ct,Et.strokeStyle=Ct,xt.fillColor=Ct,xt.strokeColor=Ct;break;default:throw new tt.FormatError(`Unsupported paint type: ${vt}`)}}getPattern(gt,vt,bt,Et){let xt=bt;Et!==rt.SHADING&&(xt=tt.Util.transform(xt,vt.baseTransform),this.matrix&&(xt=tt.Util.transform(xt,this.matrix)));const kt=this.createPatternCanvas(vt);let Ct=new DOMMatrix(xt);Ct=Ct.translate(kt.offsetX,kt.offsetY),Ct=Ct.scale(1/kt.scaleX,1/kt.scaleY);const At=gt.createPattern(kt.canvas,"repeat");return At.setTransform(Ct),At}};cs(mt,"MAX_PATTERN_SIZE",3e3);let ut=mt;_.TilingPattern=ut},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.convertBlackAndWhiteToRGBA=rt,_.convertToRGBA=nt,_.grayToRGBA=st;var tt=et(1);function nt(ot){switch(ot.kind){case tt.ImageKind.GRAYSCALE_1BPP:return rt(ot);case tt.ImageKind.RGB_24BPP:return it(ot)}return null}function rt({src:ot,srcPos:at=0,dest:lt,width:ct,height:dt,nonBlackColor:_t=4294967295,inverseDecode:pt=!1}){const ut=tt.FeatureTest.isLittleEndian?4278190080:255,[mt,ft]=pt?[_t,ut]:[ut,_t],gt=ct>>3,vt=ct&7,bt=ot.length;lt=new Uint32Array(lt.buffer);let Et=0;for(let xt=0;xt<dt;xt++){for(const Ct=at+gt;at<Ct;at++){const At=at<bt?ot[at]:255;lt[Et++]=At&128?ft:mt,lt[Et++]=At&64?ft:mt,lt[Et++]=At&32?ft:mt,lt[Et++]=At&16?ft:mt,lt[Et++]=At&8?ft:mt,lt[Et++]=At&4?ft:mt,lt[Et++]=At&2?ft:mt,lt[Et++]=At&1?ft:mt}if(vt===0)continue;const kt=at<bt?ot[at++]:255;for(let Ct=0;Ct<vt;Ct++)lt[Et++]=kt&1<<7-Ct?ft:mt}return{srcPos:at,destPos:Et}}function it({src:ot,srcPos:at=0,dest:lt,destPos:ct=0,width:dt,height:_t}){let pt=0;const ut=ot.length>>2,mt=new Uint32Array(ot.buffer,at,ut);if(tt.FeatureTest.isLittleEndian){for(;pt<ut-2;pt+=3,ct+=4){const ft=mt[pt],gt=mt[pt+1],vt=mt[pt+2];lt[ct]=ft|4278190080,lt[ct+1]=ft>>>24|gt<<8|4278190080,lt[ct+2]=gt>>>16|vt<<16|4278190080,lt[ct+3]=vt>>>8|4278190080}for(let ft=pt*4,gt=ot.length;ft<gt;ft+=3)lt[ct++]=ot[ft]|ot[ft+1]<<8|ot[ft+2]<<16|4278190080}else{for(;pt<ut-2;pt+=3,ct+=4){const ft=mt[pt],gt=mt[pt+1],vt=mt[pt+2];lt[ct]=ft|255,lt[ct+1]=ft<<24|gt>>>8|255,lt[ct+2]=gt<<16|vt>>>16|255,lt[ct+3]=vt<<8|255}for(let ft=pt*4,gt=ot.length;ft<gt;ft+=3)lt[ct++]=ot[ft]<<24|ot[ft+1]<<16|ot[ft+2]<<8|255}return{srcPos:at,destPos:ct}}function st(ot,at){if(tt.FeatureTest.isLittleEndian)for(let lt=0,ct=ot.length;lt<ct;lt++)at[lt]=ot[lt]*65793|4278190080;else for(let lt=0,ct=ot.length;lt<ct;lt++)at[lt]=ot[lt]*16843008|255}},($,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlobalWorkerOptions=void 0;const et=Object.create(null);_.GlobalWorkerOptions=et,et.workerPort=null,et.workerSrc=""},($,_,et)=>{var ot,np,lt,rp,dt,Sl;Object.defineProperty(_,"__esModule",{value:!0}),_.MessageHandler=void 0;var tt=et(1);const nt={UNKNOWN:0,DATA:1,ERROR:2},rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(pt){switch(pt instanceof Error||typeof pt=="object"&&pt!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),pt.name){case"AbortException":return new tt.AbortException(pt.message);case"MissingPDFException":return new tt.MissingPDFException(pt.message);case"PasswordException":return new tt.PasswordException(pt.message,pt.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(pt.message,pt.status);case"UnknownErrorException":return new tt.UnknownErrorException(pt.message,pt.details);default:return new tt.UnknownErrorException(pt.message,pt.toString())}}class st{constructor(ut,mt,ft){Qt(this,ot);Qt(this,lt);Qt(this,dt);this.sourceName=ut,this.targetName=mt,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=gt=>{const vt=gt.data;if(vt.targetName!==this.sourceName)return;if(vt.stream){hn(this,lt,rp).call(this,vt);return}if(vt.callback){const Et=vt.callbackId,xt=this.callbackCapabilities[Et];if(!xt)throw new Error(`Cannot resolve callback ${Et}`);if(delete this.callbackCapabilities[Et],vt.callback===nt.DATA)xt.resolve(vt.data);else if(vt.callback===nt.ERROR)xt.reject(it(vt.reason));else throw new Error("Unexpected callback case");return}const bt=this.actionHandler[vt.action];if(!bt)throw new Error(`Unknown action from worker: ${vt.action}`);if(vt.callbackId){const Et=this.sourceName,xt=vt.sourceName;new Promise(function(kt){kt(bt(vt.data))}).then(function(kt){ft.postMessage({sourceName:Et,targetName:xt,callback:nt.DATA,callbackId:vt.callbackId,data:kt})},function(kt){ft.postMessage({sourceName:Et,targetName:xt,callback:nt.ERROR,callbackId:vt.callbackId,reason:it(kt)})});return}if(vt.streamId){hn(this,ot,np).call(this,vt);return}bt(vt.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(ut,mt){const ft=this.actionHandler;if(ft[ut])throw new Error(`There is already an actionName called "${ut}"`);ft[ut]=mt}send(ut,mt,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,data:mt},ft)}sendWithPromise(ut,mt,ft){const gt=this.callbackId++,vt=new tt.PromiseCapability;this.callbackCapabilities[gt]=vt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,callbackId:gt,data:mt},ft)}catch(bt){vt.reject(bt)}return vt.promise}sendWithStream(ut,mt,ft,gt){const vt=this.streamId++,bt=this.sourceName,Et=this.targetName,xt=this.comObj;return new ReadableStream({start:kt=>{const Ct=new tt.PromiseCapability;return this.streamControllers[vt]={controller:kt,startCall:Ct,pullCall:null,cancelCall:null,isClosed:!1},xt.postMessage({sourceName:bt,targetName:Et,action:ut,streamId:vt,data:mt,desiredSize:kt.desiredSize},gt),Ct.promise},pull:kt=>{const Ct=new tt.PromiseCapability;return this.streamControllers[vt].pullCall=Ct,xt.postMessage({sourceName:bt,targetName:Et,stream:rt.PULL,streamId:vt,desiredSize:kt.desiredSize}),Ct.promise},cancel:kt=>{(0,tt.assert)(kt instanceof Error,"cancel must have a valid reason");const Ct=new tt.PromiseCapability;return this.streamControllers[vt].cancelCall=Ct,this.streamControllers[vt].isClosed=!0,xt.postMessage({sourceName:bt,targetName:Et,stream:rt.CANCEL,streamId:vt,reason:it(kt)}),Ct.promise}},ft)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ot=new WeakSet,np=function(ut){const mt=ut.streamId,ft=this.sourceName,gt=ut.sourceName,vt=this.comObj,bt=this,Et=this.actionHandler[ut.action],xt={enqueue(kt,Ct=1,At){if(this.isCancelled)return;const Lt=this.desiredSize;this.desiredSize-=Ct,Lt>0&&this.desiredSize<=0&&(this.sinkCapability=new tt.PromiseCapability,this.ready=this.sinkCapability.promise),vt.postMessage({sourceName:ft,targetName:gt,stream:rt.ENQUEUE,streamId:mt,chunk:kt},At)},close(){this.isCancelled||(this.isCancelled=!0,vt.postMessage({sourceName:ft,targetName:gt,stream:rt.CLOSE,streamId:mt}),delete bt.streamSinks[mt])},error(kt){(0,tt.assert)(kt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,vt.postMessage({sourceName:ft,targetName:gt,stream:rt.ERROR,streamId:mt,reason:it(kt)}))},sinkCapability:new tt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ut.desiredSize,ready:null};xt.sinkCapability.resolve(),xt.ready=xt.sinkCapability.promise,this.streamSinks[mt]=xt,new Promise(function(kt){kt(Et(ut.data,xt))}).then(function(){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.START_COMPLETE,streamId:mt,success:!0})},function(kt){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.START_COMPLETE,streamId:mt,reason:it(kt)})})},lt=new WeakSet,rp=function(ut){const mt=ut.streamId,ft=this.sourceName,gt=ut.sourceName,vt=this.comObj,bt=this.streamControllers[mt],Et=this.streamSinks[mt];switch(ut.stream){case rt.START_COMPLETE:ut.success?bt.startCall.resolve():bt.startCall.reject(it(ut.reason));break;case rt.PULL_COMPLETE:ut.success?bt.pullCall.resolve():bt.pullCall.reject(it(ut.reason));break;case rt.PULL:if(!Et){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.PULL_COMPLETE,streamId:mt,success:!0});break}Et.desiredSize<=0&&ut.desiredSize>0&&Et.sinkCapability.resolve(),Et.desiredSize=ut.desiredSize,new Promise(function(xt){var kt;xt((kt=Et.onPull)==null?void 0:kt.call(Et))}).then(function(){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.PULL_COMPLETE,streamId:mt,success:!0})},function(xt){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.PULL_COMPLETE,streamId:mt,reason:it(xt)})});break;case rt.ENQUEUE:if((0,tt.assert)(bt,"enqueue should have stream controller"),bt.isClosed)break;bt.controller.enqueue(ut.chunk);break;case rt.CLOSE:if((0,tt.assert)(bt,"close should have stream controller"),bt.isClosed)break;bt.isClosed=!0,bt.controller.close(),hn(this,dt,Sl).call(this,bt,mt);break;case rt.ERROR:(0,tt.assert)(bt,"error should have stream controller"),bt.controller.error(it(ut.reason)),hn(this,dt,Sl).call(this,bt,mt);break;case rt.CANCEL_COMPLETE:ut.success?bt.cancelCall.resolve():bt.cancelCall.reject(it(ut.reason)),hn(this,dt,Sl).call(this,bt,mt);break;case rt.CANCEL:if(!Et)break;new Promise(function(xt){var kt;xt((kt=Et.onCancel)==null?void 0:kt.call(Et,it(ut.reason)))}).then(function(){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.CANCEL_COMPLETE,streamId:mt,success:!0})},function(xt){vt.postMessage({sourceName:ft,targetName:gt,stream:rt.CANCEL_COMPLETE,streamId:mt,reason:it(xt)})}),Et.sinkCapability.reject(it(ut.reason)),Et.isCancelled=!0,delete this.streamSinks[mt];break;default:throw new Error("Unexpected stream case")}},dt=new WeakSet,Sl=async function(ut,mt){var ft,gt,vt;await Promise.allSettled([(ft=ut.startCall)==null?void 0:ft.promise,(gt=ut.pullCall)==null?void 0:gt.promise,(vt=ut.cancelCall)==null?void 0:vt.promise]),delete this.streamControllers[mt]},_.MessageHandler=st},($,_,et)=>{var rt,it;Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var tt=et(1);class nt{constructor({parsedData:ot,rawData:at}){Qt(this,rt,void 0);Qt(this,it,void 0);Rn(this,rt,ot),Rn(this,it,at)}getRaw(){return wt(this,it)}get(ot){return wt(this,rt).get(ot)??null}getAll(){return(0,tt.objectFromMap)(wt(this,rt))}has(ot){return wt(this,rt).has(ot)}}rt=new WeakMap,it=new WeakMap,_.Metadata=nt},($,_,et)=>{var ot,at,lt,ct,dt,_t,Iu;Object.defineProperty(_,"__esModule",{value:!0}),_.OptionalContentConfig=void 0;var tt=et(1),nt=et(8);const rt=Symbol("INTERNAL");class it{constructor(mt,ft){Qt(this,ot,!0);this.name=mt,this.intent=ft}get visible(){return wt(this,ot)}_setVisible(mt,ft){mt!==rt&&(0,tt.unreachable)("Internal method `_setVisible` called."),Rn(this,ot,ft)}}ot=new WeakMap;class st{constructor(mt){Qt(this,_t);Qt(this,at,null);Qt(this,lt,new Map);Qt(this,ct,null);Qt(this,dt,null);if(this.name=null,this.creator=null,mt!==null){this.name=mt.name,this.creator=mt.creator,Rn(this,dt,mt.order);for(const ft of mt.groups)wt(this,lt).set(ft.id,new it(ft.name,ft.intent));if(mt.baseState==="OFF")for(const ft of wt(this,lt).values())ft._setVisible(rt,!1);for(const ft of mt.on)wt(this,lt).get(ft)._setVisible(rt,!0);for(const ft of mt.off)wt(this,lt).get(ft)._setVisible(rt,!1);Rn(this,ct,this.getHash())}}isVisible(mt){if(wt(this,lt).size===0)return!0;if(!mt)return(0,tt.warn)("Optional content group not defined."),!0;if(mt.type==="OCG")return wt(this,lt).has(mt.id)?wt(this,lt).get(mt.id).visible:((0,tt.warn)(`Optional content group not found: ${mt.id}`),!0);if(mt.type==="OCMD"){if(mt.expression)return hn(this,_t,Iu).call(this,mt.expression);if(!mt.policy||mt.policy==="AnyOn"){for(const ft of mt.ids){if(!wt(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(wt(this,lt).get(ft).visible)return!0}return!1}else if(mt.policy==="AllOn"){for(const ft of mt.ids){if(!wt(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(!wt(this,lt).get(ft).visible)return!1}return!0}else if(mt.policy==="AnyOff"){for(const ft of mt.ids){if(!wt(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(!wt(this,lt).get(ft).visible)return!0}return!1}else if(mt.policy==="AllOff"){for(const ft of mt.ids){if(!wt(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(wt(this,lt).get(ft).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${mt.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${mt.type}.`),!0}setVisibility(mt,ft=!0){if(!wt(this,lt).has(mt)){(0,tt.warn)(`Optional content group not found: ${mt}`);return}wt(this,lt).get(mt)._setVisible(rt,!!ft),Rn(this,at,null)}get hasInitialVisibility(){return wt(this,ct)===null||this.getHash()===wt(this,ct)}getOrder(){return wt(this,lt).size?wt(this,dt)?wt(this,dt).slice():[...wt(this,lt).keys()]:null}getGroups(){return wt(this,lt).size>0?(0,tt.objectFromMap)(wt(this,lt)):null}getGroup(mt){return wt(this,lt).get(mt)||null}getHash(){if(wt(this,at)!==null)return wt(this,at);const mt=new nt.MurmurHash3_64;for(const[ft,gt]of wt(this,lt))mt.update(`${ft}:${gt.visible}`);return Rn(this,at,mt.hexdigest())}}at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakSet,Iu=function(mt){const ft=mt.length;if(ft<2)return!0;const gt=mt[0];for(let vt=1;vt<ft;vt++){const bt=mt[vt];let Et;if(Array.isArray(bt))Et=hn(this,_t,Iu).call(this,bt);else if(wt(this,lt).has(bt))Et=wt(this,lt).get(bt).visible;else return(0,tt.warn)(`Optional content group not found: ${bt}`),!0;switch(gt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return gt==="And"},_.OptionalContentConfig=st},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFDataTransportStream=void 0;var tt=et(1),nt=et(6);class rt{constructor({length:at,initialData:lt,progressiveDone:ct=!1,contentDispositionFilename:dt=null,disableRange:_t=!1,disableStream:pt=!1},ut){if((0,tt.assert)(ut,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct,this._contentDispositionFilename=dt,(lt==null?void 0:lt.length)>0){const mt=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;this._queuedChunks.push(mt)}this._pdfDataRangeTransport=ut,this._isStreamingSupported=!pt,this._isRangeSupported=!_t,this._contentLength=at,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((mt,ft)=>{this._onReceiveData({begin:mt,chunk:ft})}),this._pdfDataRangeTransport.addProgressListener((mt,ft)=>{this._onProgress({loaded:mt,total:ft})}),this._pdfDataRangeTransport.addProgressiveReadListener(mt=>{this._onReceiveData({chunk:mt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:at,chunk:lt}){const ct=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;if(at===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ct):this._queuedChunks.push(ct);else{const dt=this._rangeReaders.some(function(_t){return _t._begin!==at?!1:(_t._enqueue(ct),!0)});(0,tt.assert)(dt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var at;return((at=this._fullRequestReader)==null?void 0:at._loaded)??0}_onProgress(at){var lt,ct,dt,_t;at.total===void 0?(ct=(lt=this._rangeReaders[0])==null?void 0:lt.onProgress)==null||ct.call(lt,{loaded:at.loaded}):(_t=(dt=this._fullRequestReader)==null?void 0:dt.onProgress)==null||_t.call(dt,{loaded:at.loaded,total:at.total})}_onProgressiveDone(){var at;(at=this._fullRequestReader)==null||at.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(at){const lt=this._rangeReaders.indexOf(at);lt>=0&&this._rangeReaders.splice(lt,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const at=this._queuedChunks;return this._queuedChunks=null,new it(this,at,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(at,lt){if(lt<=this._progressiveDataLength)return null;const ct=new st(this,at,lt);return this._pdfDataRangeTransport.requestDataRange(at,lt),this._rangeReaders.push(ct),ct}cancelAllRequests(at){var lt;(lt=this._fullRequestReader)==null||lt.cancel(at);for(const ct of this._rangeReaders.slice(0))ct.cancel(at);this._pdfDataRangeTransport.abort()}}_.PDFDataTransportStream=rt;class it{constructor(at,lt,ct=!1,dt=null){this._stream=at,this._done=ct||!1,this._filename=(0,nt.isPdfFile)(dt)?dt:null,this._queuedChunks=lt||[],this._loaded=0;for(const _t of this._queuedChunks)this._loaded+=_t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),at._fullRequestReader=this,this.onProgress=null}_enqueue(at){this._done||(this._requests.length>0?this._requests.shift().resolve({value:at,done:!1}):this._queuedChunks.push(at),this._loaded+=at.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const at=new tt.PromiseCapability;return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class st{constructor(at,lt,ct){this._stream=at,this._begin=lt,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(at){if(!this._done){if(this._requests.length===0)this._queuedChunk=at;else{this._requests.shift().resolve({value:at,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const at=new tt.PromiseCapability;return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFetchStream=void 0;var tt=et(1),nt=et(20);function rt(ct,dt,_t){return{method:"GET",headers:ct,signal:_t.signal,mode:"cors",credentials:dt?"include":"same-origin",redirect:"follow"}}function it(ct){const dt=new Headers;for(const _t in ct){const pt=ct[_t];pt!==void 0&&dt.append(_t,pt)}return dt}function st(ct){return ct instanceof Uint8Array?ct.buffer:ct instanceof ArrayBuffer?ct:((0,tt.warn)(`getArrayBuffer - unexpected data format: ${ct}`),new Uint8Array(ct).buffer)}class ot{constructor(dt){this.source=dt,this.isHttp=/^https?:/i.test(dt.url),this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new at(this),this._fullRequestReader}getRangeReader(dt,_t){if(_t<=this._progressiveDataLength)return null;const pt=new lt(this,dt,_t);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(dt){var _t;(_t=this._fullRequestReader)==null||_t.cancel(dt);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(dt)}}_.PDFFetchStream=ot;class at{constructor(dt){this._stream=dt,this._reader=null,this._loaded=0,this._filename=null;const _t=dt.source;this._withCredentials=_t.withCredentials||!1,this._contentLength=_t.length,this._headersCapability=new tt.PromiseCapability,this._disableRange=_t.disableRange||!1,this._rangeChunkSize=_t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_t.disableStream,this._isRangeSupported=!_t.disableRange,this._headers=it(this._stream.httpHeaders);const pt=_t.url;fetch(pt,rt(this._headers,this._withCredentials,this._abortController)).then(ut=>{if(!(0,nt.validateResponseStatus)(ut.status))throw(0,nt.createResponseStatusError)(ut.status,pt);this._reader=ut.body.getReader(),this._headersCapability.resolve();const mt=vt=>ut.headers.get(vt),{allowRangeRequests:ft,suggestedLength:gt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=gt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(mt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._headersCapability.promise;const{value:dt,done:_t}=await this._reader.read();return _t?{value:dt,done:_t}:(this._loaded+=dt.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:st(dt),done:!1})}cancel(dt){var _t;(_t=this._reader)==null||_t.cancel(dt),this._abortController.abort()}}class lt{constructor(dt,_t,pt){this._stream=dt,this._reader=null,this._loaded=0;const ut=dt.source;this._withCredentials=ut.withCredentials||!1,this._readCapability=new tt.PromiseCapability,this._isStreamingSupported=!ut.disableStream,this._abortController=new AbortController,this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_t}-${pt-1}`);const mt=ut.url;fetch(mt,rt(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,nt.validateResponseStatus)(ft.status))throw(0,nt.createResponseStatusError)(ft.status,mt);this._readCapability.resolve(),this._reader=ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._readCapability.promise;const{value:dt,done:_t}=await this._reader.read();return _t?{value:dt,done:_t}:(this._loaded+=dt.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded}),{value:st(dt),done:!1})}cancel(dt){var _t;(_t=this._reader)==null||_t.cancel(dt),this._abortController.abort()}}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createResponseStatusError=ot,_.extractFilenameFromHeader=st,_.validateRangeRequestCapabilities=it,_.validateResponseStatus=at;var tt=et(1),nt=et(21),rt=et(6);function it({getResponseHeader:lt,isHttp:ct,rangeChunkSize:dt,disableRange:_t}){const pt={allowRangeRequests:!1,suggestedLength:void 0},ut=parseInt(lt("Content-Length"),10);return!Number.isInteger(ut)||(pt.suggestedLength=ut,ut<=2*dt)||_t||!ct||lt("Accept-Ranges")!=="bytes"||(lt("Content-Encoding")||"identity")!=="identity"||(pt.allowRangeRequests=!0),pt}function st(lt){const ct=lt("Content-Disposition");if(ct){let dt=(0,nt.getFilenameFromContentDispositionHeader)(ct);if(dt.includes("%"))try{dt=decodeURIComponent(dt)}catch{}if((0,rt.isPdfFile)(dt))return dt}return null}function ot(lt,ct){return lt===404||lt===0&&ct.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+ct+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${lt}) while retrieving PDF "${ct}".`,lt)}function at(lt){return lt===200||lt===206}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getFilenameFromContentDispositionHeader=nt;var tt=et(1);function nt(rt){let it=!0,st=ot("filename\\*","i").exec(rt);if(st){st=st[1];let ut=dt(st);return ut=unescape(ut),ut=_t(ut),ut=pt(ut),lt(ut)}if(st=ct(rt),st){const ut=pt(st);return lt(ut)}if(st=ot("filename","i").exec(rt),st){st=st[1];let ut=dt(st);return ut=pt(ut),lt(ut)}function ot(ut,mt){return new RegExp("(?:^|;)\\s*"+ut+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',mt)}function at(ut,mt){if(ut){if(!/^[\x00-\xFF]+$/.test(mt))return mt;try{const ft=new TextDecoder(ut,{fatal:!0}),gt=(0,tt.stringToBytes)(mt);mt=ft.decode(gt),it=!1}catch{}}return mt}function lt(ut){return it&&/[\x80-\xff]/.test(ut)&&(ut=at("utf-8",ut),it&&(ut=at("iso-8859-1",ut))),ut}function ct(ut){const mt=[];let ft;const gt=ot("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ft=gt.exec(ut))!==null;){let[,bt,Et,xt]=ft;if(bt=parseInt(bt,10),bt in mt){if(bt===0)break;continue}mt[bt]=[Et,xt]}const vt=[];for(let bt=0;bt<mt.length&&bt in mt;++bt){let[Et,xt]=mt[bt];xt=dt(xt),Et&&(xt=unescape(xt),bt===0&&(xt=_t(xt))),vt.push(xt)}return vt.join("")}function dt(ut){if(ut.startsWith('"')){const mt=ut.slice(1).split('\\"');for(let ft=0;ft<mt.length;++ft){const gt=mt[ft].indexOf('"');gt!==-1&&(mt[ft]=mt[ft].slice(0,gt),mt.length=ft+1),mt[ft]=mt[ft].replaceAll(/\\(.)/g,"$1")}ut=mt.join('"')}return ut}function _t(ut){const mt=ut.indexOf("'");if(mt===-1)return ut;const ft=ut.slice(0,mt),vt=ut.slice(mt+1).replace(/^[^']*'/,"");return at(ft,vt)}function pt(ut){return!ut.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ut)?ut:ut.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(mt,ft,gt,vt){if(gt==="q"||gt==="Q")return vt=vt.replaceAll("_"," "),vt=vt.replaceAll(/=([0-9a-fA-F]{2})/g,function(bt,Et){return String.fromCharCode(parseInt(Et,16))}),at(ft,vt);try{vt=atob(vt)}catch{}return at(ft,vt)})}return""}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNetworkStream=void 0;var tt=et(1),nt=et(20);const rt=200,it=206;function st(dt){const _t=dt.response;return typeof _t!="string"?_t:(0,tt.stringToBytes)(_t).buffer}class ot{constructor(_t,pt={}){this.url=_t,this.isHttp=/^https?:/i.test(_t),this.httpHeaders=this.isHttp&&pt.httpHeaders||Object.create(null),this.withCredentials=pt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_t,pt,ut){const mt={begin:_t,end:pt};for(const ft in ut)mt[ft]=ut[ft];return this.request(mt)}requestFull(_t){return this.request(_t)}request(_t){const pt=new XMLHttpRequest,ut=this.currXhrId++,mt=this.pendingRequests[ut]={xhr:pt};pt.open("GET",this.url),pt.withCredentials=this.withCredentials;for(const ft in this.httpHeaders){const gt=this.httpHeaders[ft];gt!==void 0&&pt.setRequestHeader(ft,gt)}return this.isHttp&&"begin"in _t&&"end"in _t?(pt.setRequestHeader("Range",`bytes=${_t.begin}-${_t.end-1}`),mt.expectedStatus=it):mt.expectedStatus=rt,pt.responseType="arraybuffer",_t.onError&&(pt.onerror=function(ft){_t.onError(pt.status)}),pt.onreadystatechange=this.onStateChange.bind(this,ut),pt.onprogress=this.onProgress.bind(this,ut),mt.onHeadersReceived=_t.onHeadersReceived,mt.onDone=_t.onDone,mt.onError=_t.onError,mt.onProgress=_t.onProgress,pt.send(null),ut}onProgress(_t,pt){var mt;const ut=this.pendingRequests[_t];ut&&((mt=ut.onProgress)==null||mt.call(ut,pt))}onStateChange(_t,pt){var bt,Et,xt;const ut=this.pendingRequests[_t];if(!ut)return;const mt=ut.xhr;if(mt.readyState>=2&&ut.onHeadersReceived&&(ut.onHeadersReceived(),delete ut.onHeadersReceived),mt.readyState!==4||!(_t in this.pendingRequests))return;if(delete this.pendingRequests[_t],mt.status===0&&this.isHttp){(bt=ut.onError)==null||bt.call(ut,mt.status);return}const ft=mt.status||rt;if(!(ft===rt&&ut.expectedStatus===it)&&ft!==ut.expectedStatus){(Et=ut.onError)==null||Et.call(ut,mt.status);return}const vt=st(mt);if(ft===it){const kt=mt.getResponseHeader("Content-Range"),Ct=/bytes (\d+)-(\d+)\/(\d+)/.exec(kt);ut.onDone({begin:parseInt(Ct[1],10),chunk:vt})}else vt?ut.onDone({begin:0,chunk:vt}):(xt=ut.onError)==null||xt.call(ut,mt.status)}getRequestXhr(_t){return this.pendingRequests[_t].xhr}isPendingRequest(_t){return _t in this.pendingRequests}abortRequest(_t){const pt=this.pendingRequests[_t].xhr;delete this.pendingRequests[_t],pt.abort()}}class at{constructor(_t){this._source=_t,this._manager=new ot(_t.url,{httpHeaders:_t.httpHeaders,withCredentials:_t.withCredentials}),this._rangeChunkSize=_t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_t){const pt=this._rangeRequestReaders.indexOf(_t);pt>=0&&this._rangeRequestReaders.splice(pt,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this._manager,this._source),this._fullRequestReader}getRangeReader(_t,pt){const ut=new ct(this._manager,_t,pt);return ut.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ut),ut}cancelAllRequests(_t){var pt;(pt=this._fullRequestReader)==null||pt.cancel(_t);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(_t)}}_.PDFNetworkStream=at;class lt{constructor(_t,pt){this._manager=_t;const ut={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._fullRequestId=_t.requestFull(ut),this._headersReceivedCapability=new tt.PromiseCapability,this._disableRange=pt.disableRange||!1,this._contentLength=pt.length,this._rangeChunkSize=pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _t=this._fullRequestId,pt=this._manager.getRequestXhr(_t),ut=gt=>pt.getResponseHeader(gt),{allowRangeRequests:mt,suggestedLength:ft}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});mt&&(this._isRangeSupported=!0),this._contentLength=ft||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(ut),this._isRangeSupported&&this._manager.abortRequest(_t),this._headersReceivedCapability.resolve()}_onDone(_t){if(_t&&(this._requests.length>0?this._requests.shift().resolve({value:_t.chunk,done:!1}):this._cachedChunks.push(_t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_t){this._storedError=(0,nt.createResponseStatusError)(_t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_t){var pt;(pt=this.onProgress)==null||pt.call(this,{loaded:_t.loaded,total:_t.lengthComputable?_t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _t=new tt.PromiseCapability;return this._requests.push(_t),_t.promise}cancel(_t){this._done=!0,this._headersReceivedCapability.reject(_t);for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(_t,pt,ut){this._manager=_t;const mt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_t.url,this._requestId=_t.requestRange(pt,ut,mt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _t;(_t=this.onClosed)==null||_t.call(this,this)}_onDone(_t){const pt=_t.chunk;this._requests.length>0?this._requests.shift().resolve({value:pt,done:!1}):this._queuedChunk=pt,this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_t){this._storedError=(0,nt.createResponseStatusError)(_t,this._url);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_t){var pt;this.isStreamingSupported||(pt=this.onProgress)==null||pt.call(this,{loaded:_t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const pt=this._queuedChunk;return this._queuedChunk=null,{value:pt,done:!1}}if(this._done)return{value:void 0,done:!0};const _t=new tt.PromiseCapability;return this._requests.push(_t),_t.promise}cancel(_t){this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNodeStream=void 0;var tt=et(1),nt=et(20);const rt=/^file:\/\/\/[a-zA-Z]:\//;function it(ut){const mt=require$$5,ft=mt.parse(ut);return ft.protocol==="file:"||ft.host?ft:/^[a-z]:[/\\]/i.test(ut)?mt.parse(`file:///${ut}`):(ft.host||(ft.protocol="file:"),ft)}class st{constructor(mt){this.source=mt,this.url=it(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _t(this):new ct(this),this._fullRequestReader}getRangeReader(mt,ft){if(ft<=this._progressiveDataLength)return null;const gt=this.isFsUrl?new pt(this,mt,ft):new dt(this,mt,ft);return this._rangeRequestReaders.push(gt),gt}cancelAllRequests(mt){var ft;(ft=this._fullRequestReader)==null||ft.cancel(mt);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(mt)}}_.PDFNodeStream=st;class ot{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ft=mt.source;this._contentLength=ft.length,this._loaded=0,this._filename=null,this._disableRange=ft.disableRange||!1,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ft.disableStream,this._isRangeSupported=!ft.disableRange,this._readableStream=null,this._readCapability=new tt.PromiseCapability,this._headersCapability=new tt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=mt.length,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ft=>{this._error(ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class at{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new tt.PromiseCapability;const ft=mt.source;this._isStreamingSupported=!ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=mt.length,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ft=>{this._error(ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lt(ut,mt){return{protocol:ut.protocol,auth:ut.auth,host:ut.hostname,port:ut.port,path:ut.path,method:"GET",headers:mt}}class ct extends ot{constructor(mt){super(mt);const ft=gt=>{if(gt.statusCode===404){const xt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=xt,this._headersCapability.reject(xt);return}this._headersCapability.resolve(),this._setReadableStream(gt);const vt=xt=>this._readableStream.headers[xt.toLowerCase()],{allowRangeRequests:bt,suggestedLength:Et}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:vt,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=bt,this._contentLength=Et||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(vt)};if(this._request=null,this._url.protocol==="http:"){const gt=require$$5;this._request=gt.request(lt(this._url,mt.httpHeaders),ft)}else{const gt=require$$5;this._request=gt.request(lt(this._url,mt.httpHeaders),ft)}this._request.on("error",gt=>{this._storedError=gt,this._headersCapability.reject(gt)}),this._request.end()}}class dt extends at{constructor(mt,ft,gt){super(mt),this._httpHeaders={};for(const bt in mt.httpHeaders){const Et=mt.httpHeaders[bt];Et!==void 0&&(this._httpHeaders[bt]=Et)}this._httpHeaders.Range=`bytes=${ft}-${gt-1}`;const vt=bt=>{if(bt.statusCode===404){const Et=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(bt)};if(this._request=null,this._url.protocol==="http:"){const bt=require$$5;this._request=bt.request(lt(this._url,this._httpHeaders),vt)}else{const bt=require$$5;this._request=bt.request(lt(this._url,this._httpHeaders),vt)}this._request.on("error",bt=>{this._storedError=bt}),this._request.end()}}class _t extends ot{constructor(mt){super(mt);let ft=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(ft=ft.replace(/^\//,""));const gt=require$$5;gt.lstat(ft,(vt,bt)=>{if(vt){vt.code==="ENOENT"&&(vt=new tt.MissingPDFException(`Missing PDF "${ft}".`)),this._storedError=vt,this._headersCapability.reject(vt);return}this._contentLength=bt.size,this._setReadableStream(gt.createReadStream(ft)),this._headersCapability.resolve()})}}class pt extends at{constructor(mt,ft,gt){super(mt);let vt=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(vt=vt.replace(/^\//,""));const bt=require$$5;this._setReadableStream(bt.createReadStream(vt,{start:ft,end:gt-1}))}}},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SVGGraphics=void 0;var tt=et(6),nt=et(1);const rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",st="http://www.w3.org/1999/xlink",ot=["butt","round","square"],at=["miter","round","bevel"],lt=function(bt,Et="",xt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!xt)return URL.createObjectURL(new Blob([bt],{type:Et}));const kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ct=`data:${Et};base64,`;for(let At=0,Lt=bt.length;At<Lt;At+=3){const Mt=bt[At]&255,Ht=bt[At+1]&255,zt=bt[At+2]&255,Nt=Mt>>2,Xt=(Mt&3)<<4|Ht>>4,rn=At+1<Lt?(Ht&15)<<2|zt>>6:64,wn=At+2<Lt?zt&63:64;Ct+=kt[Nt]+kt[Xt]+kt[rn]+kt[wn]}return Ct},ct=function(){const bt=new Uint8Array([137,80,78,71,13,10,26,10]),Et=12,xt=new Int32Array(256);for(let zt=0;zt<256;zt++){let Nt=zt;for(let Xt=0;Xt<8;Xt++)Nt=Nt&1?3988292384^Nt>>1&2147483647:Nt>>1&2147483647;xt[zt]=Nt}function kt(zt,Nt,Xt){let rn=-1;for(let wn=Nt;wn<Xt;wn++){const Wt=(rn^zt[wn])&255,fn=xt[Wt];rn=rn>>>8^fn}return rn^-1}function Ct(zt,Nt,Xt,rn){let wn=rn;const Wt=Nt.length;Xt[wn]=Wt>>24&255,Xt[wn+1]=Wt>>16&255,Xt[wn+2]=Wt>>8&255,Xt[wn+3]=Wt&255,wn+=4,Xt[wn]=zt.charCodeAt(0)&255,Xt[wn+1]=zt.charCodeAt(1)&255,Xt[wn+2]=zt.charCodeAt(2)&255,Xt[wn+3]=zt.charCodeAt(3)&255,wn+=4,Xt.set(Nt,wn),wn+=Nt.length;const fn=kt(Xt,rn+4,wn);Xt[wn]=fn>>24&255,Xt[wn+1]=fn>>16&255,Xt[wn+2]=fn>>8&255,Xt[wn+3]=fn&255}function At(zt,Nt,Xt){let rn=1,wn=0;for(let Wt=Nt;Wt<Xt;++Wt)rn=(rn+(zt[Wt]&255))%65521,wn=(wn+rn)%65521;return wn<<16|rn}function Lt(zt){if(!nt.isNodeJS)return Mt(zt);try{const Nt=parseInt(process.versions.node)>=8?zt:Buffer.from(zt),Xt=require$$5.deflateSync(Nt,{level:9});return Xt instanceof Uint8Array?Xt:new Uint8Array(Xt)}catch(Nt){(0,nt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Nt)}return Mt(zt)}function Mt(zt){let Nt=zt.length;const Xt=65535,rn=Math.ceil(Nt/Xt),wn=new Uint8Array(2+Nt+rn*5+4);let Wt=0;wn[Wt++]=120,wn[Wt++]=156;let fn=0;for(;Nt>Xt;)wn[Wt++]=0,wn[Wt++]=255,wn[Wt++]=255,wn[Wt++]=0,wn[Wt++]=0,wn.set(zt.subarray(fn,fn+Xt),Wt),Wt+=Xt,fn+=Xt,Nt-=Xt;wn[Wt++]=1,wn[Wt++]=Nt&255,wn[Wt++]=Nt>>8&255,wn[Wt++]=~Nt&65535&255,wn[Wt++]=(~Nt&65535)>>8&255,wn.set(zt.subarray(fn),Wt),Wt+=zt.length-fn;const Tn=At(zt,0,zt.length);return wn[Wt++]=Tn>>24&255,wn[Wt++]=Tn>>16&255,wn[Wt++]=Tn>>8&255,wn[Wt++]=Tn&255,wn}function Ht(zt,Nt,Xt,rn){const wn=zt.width,Wt=zt.height;let fn,Tn,Fn;const Mn=zt.data;switch(Nt){case nt.ImageKind.GRAYSCALE_1BPP:Tn=0,fn=1,Fn=wn+7>>3;break;case nt.ImageKind.RGB_24BPP:Tn=2,fn=8,Fn=wn*3;break;case nt.ImageKind.RGBA_32BPP:Tn=6,fn=8,Fn=wn*4;break;default:throw new Error("invalid format")}const Ut=new Uint8Array((1+Fn)*Wt);let St=0,It=0;for(let Zt=0;Zt<Wt;++Zt)Ut[St++]=0,Ut.set(Mn.subarray(It,It+Fn),St),It+=Fn,St+=Fn;if(Nt===nt.ImageKind.GRAYSCALE_1BPP&&rn){St=0;for(let Zt=0;Zt<Wt;Zt++){St++;for(let bn=0;bn<Fn;bn++)Ut[St++]^=255}}const Tt=new Uint8Array([wn>>24&255,wn>>16&255,wn>>8&255,wn&255,Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255,fn,Tn,0,0,0]),Dt=Lt(Ut),Ot=bt.length+Et*3+Tt.length+Dt.length,jt=new Uint8Array(Ot);let qt=0;return jt.set(bt,qt),qt+=bt.length,Ct("IHDR",Tt,jt,qt),qt+=Et+Tt.length,Ct("IDATA",Dt,jt,qt),qt+=Et+Dt.length,Ct("IEND",new Uint8Array(0),jt,qt),lt(jt,"image/png",Xt)}return function(Nt,Xt,rn){const wn=Nt.kind===void 0?nt.ImageKind.GRAYSCALE_1BPP:Nt.kind;return Ht(Nt,wn,Xt,rn)}}();class dt{constructor(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=nt.IDENTITY_MATRIX,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Et,xt){this.x=Et,this.y=xt}}function _t(bt){let Et=[];const xt=[];for(const kt of bt){if(kt.fn==="save"){Et.push({fnId:92,fn:"group",items:[]}),xt.push(Et),Et=Et.at(-1).items;continue}kt.fn==="restore"?Et=xt.pop():Et.push(kt)}return Et}function pt(bt){if(Number.isInteger(bt))return bt.toString();const Et=bt.toFixed(10);let xt=Et.length-1;if(Et[xt]!=="0")return Et;do xt--;while(Et[xt]==="0");return Et.substring(0,Et[xt]==="."?xt:xt+1)}function ut(bt){if(bt[4]===0&&bt[5]===0){if(bt[1]===0&&bt[2]===0)return bt[0]===1&&bt[3]===1?"":`scale(${pt(bt[0])} ${pt(bt[3])})`;if(bt[0]===bt[3]&&bt[1]===-bt[2]){const Et=Math.acos(bt[0])*180/Math.PI;return`rotate(${pt(Et)})`}}else if(bt[0]===1&&bt[1]===0&&bt[2]===0&&bt[3]===1)return`translate(${pt(bt[4])} ${pt(bt[5])})`;return`matrix(${pt(bt[0])} ${pt(bt[1])} ${pt(bt[2])} ${pt(bt[3])} ${pt(bt[4])} ${pt(bt[5])})`}let mt=0,ft=0,gt=0;class vt{constructor(Et,xt,kt=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new dt,this.transformMatrix=nt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Et,this.objs=xt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!kt,this._operatorIdMapping=[];for(const Ct in nt.OPS)this._operatorIdMapping[nt.OPS[Ct]]=Ct}getObject(Et,xt=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):xt}save(){this.transformStack.push(this.transformMatrix);const Et=this.current;this.extraStack.push(Et),this.current=Et.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Et){this.save(),this.executeOpTree(Et),this.restore()}loadDependencies(Et){const xt=Et.fnArray,kt=Et.argsArray;for(let Ct=0,At=xt.length;Ct<At;Ct++)if(xt[Ct]===nt.OPS.dependency)for(const Lt of kt[Ct]){const Mt=Lt.startsWith("g_")?this.commonObjs:this.objs,Ht=new Promise(zt=>{Mt.get(Lt,zt)});this.current.dependencies.push(Ht)}return Promise.all(this.current.dependencies)}transform(Et,xt,kt,Ct,At,Lt){const Mt=[Et,xt,kt,Ct,At,Lt];this.transformMatrix=nt.Util.transform(this.transformMatrix,Mt),this.tgrp=null}getSVG(Et,xt){this.viewport=xt;const kt=this._initialize(xt);return this.loadDependencies(Et).then(()=>(this.transformMatrix=nt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Et)),kt))}convertOpList(Et){const xt=this._operatorIdMapping,kt=Et.argsArray,Ct=Et.fnArray,At=[];for(let Lt=0,Mt=Ct.length;Lt<Mt;Lt++){const Ht=Ct[Lt];At.push({fnId:Ht,fn:xt[Ht],args:kt[Lt]})}return _t(At)}executeOpTree(Et){for(const xt of Et){const kt=xt.fn,Ct=xt.fnId,At=xt.args;switch(Ct|0){case nt.OPS.beginText:this.beginText();break;case nt.OPS.dependency:break;case nt.OPS.setLeading:this.setLeading(At);break;case nt.OPS.setLeadingMoveText:this.setLeadingMoveText(At[0],At[1]);break;case nt.OPS.setFont:this.setFont(At);break;case nt.OPS.showText:this.showText(At[0]);break;case nt.OPS.showSpacedText:this.showText(At[0]);break;case nt.OPS.endText:this.endText();break;case nt.OPS.moveText:this.moveText(At[0],At[1]);break;case nt.OPS.setCharSpacing:this.setCharSpacing(At[0]);break;case nt.OPS.setWordSpacing:this.setWordSpacing(At[0]);break;case nt.OPS.setHScale:this.setHScale(At[0]);break;case nt.OPS.setTextMatrix:this.setTextMatrix(At[0],At[1],At[2],At[3],At[4],At[5]);break;case nt.OPS.setTextRise:this.setTextRise(At[0]);break;case nt.OPS.setTextRenderingMode:this.setTextRenderingMode(At[0]);break;case nt.OPS.setLineWidth:this.setLineWidth(At[0]);break;case nt.OPS.setLineJoin:this.setLineJoin(At[0]);break;case nt.OPS.setLineCap:this.setLineCap(At[0]);break;case nt.OPS.setMiterLimit:this.setMiterLimit(At[0]);break;case nt.OPS.setFillRGBColor:this.setFillRGBColor(At[0],At[1],At[2]);break;case nt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(At[0],At[1],At[2]);break;case nt.OPS.setStrokeColorN:this.setStrokeColorN(At);break;case nt.OPS.setFillColorN:this.setFillColorN(At);break;case nt.OPS.shadingFill:this.shadingFill(At[0]);break;case nt.OPS.setDash:this.setDash(At[0],At[1]);break;case nt.OPS.setRenderingIntent:this.setRenderingIntent(At[0]);break;case nt.OPS.setFlatness:this.setFlatness(At[0]);break;case nt.OPS.setGState:this.setGState(At[0]);break;case nt.OPS.fill:this.fill();break;case nt.OPS.eoFill:this.eoFill();break;case nt.OPS.stroke:this.stroke();break;case nt.OPS.fillStroke:this.fillStroke();break;case nt.OPS.eoFillStroke:this.eoFillStroke();break;case nt.OPS.clip:this.clip("nonzero");break;case nt.OPS.eoClip:this.clip("evenodd");break;case nt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nt.OPS.paintImageXObject:this.paintImageXObject(At[0]);break;case nt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(At[0]);break;case nt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(At[0]);break;case nt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(At[0],At[1]);break;case nt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nt.OPS.closePath:this.closePath();break;case nt.OPS.closeStroke:this.closeStroke();break;case nt.OPS.closeFillStroke:this.closeFillStroke();break;case nt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nt.OPS.nextLine:this.nextLine();break;case nt.OPS.transform:this.transform(At[0],At[1],At[2],At[3],At[4],At[5]);break;case nt.OPS.constructPath:this.constructPath(At[0],At[1]);break;case nt.OPS.endPath:this.endPath();break;case 92:this.group(xt.items);break;default:(0,nt.warn)(`Unimplemented operator ${kt}`);break}}}setWordSpacing(Et){this.current.wordSpacing=Et}setCharSpacing(Et){this.current.charSpacing=Et}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Et,xt,kt,Ct,At,Lt){const Mt=this.current;Mt.textMatrix=Mt.lineMatrix=[Et,xt,kt,Ct,At,Lt],Mt.textMatrixScale=Math.hypot(Et,xt),Mt.x=Mt.lineX=0,Mt.y=Mt.lineY=0,Mt.xcoords=[],Mt.ycoords=[],Mt.tspan=this.svgFactory.createElement("svg:tspan"),Mt.tspan.setAttributeNS(null,"font-family",Mt.fontFamily),Mt.tspan.setAttributeNS(null,"font-size",`${pt(Mt.fontSize)}px`),Mt.tspan.setAttributeNS(null,"y",pt(-Mt.y)),Mt.txtElement=this.svgFactory.createElement("svg:text"),Mt.txtElement.append(Mt.tspan)}beginText(){const Et=this.current;Et.x=Et.lineX=0,Et.y=Et.lineY=0,Et.textMatrix=nt.IDENTITY_MATRIX,Et.lineMatrix=nt.IDENTITY_MATRIX,Et.textMatrixScale=1,Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.txtElement=this.svgFactory.createElement("svg:text"),Et.txtgrp=this.svgFactory.createElement("svg:g"),Et.xcoords=[],Et.ycoords=[]}moveText(Et,xt){const kt=this.current;kt.x=kt.lineX+=Et,kt.y=kt.lineY+=xt,kt.xcoords=[],kt.ycoords=[],kt.tspan=this.svgFactory.createElement("svg:tspan"),kt.tspan.setAttributeNS(null,"font-family",kt.fontFamily),kt.tspan.setAttributeNS(null,"font-size",`${pt(kt.fontSize)}px`),kt.tspan.setAttributeNS(null,"y",pt(-kt.y))}showText(Et){const xt=this.current,kt=xt.font,Ct=xt.fontSize;if(Ct===0)return;const At=xt.fontSizeScale,Lt=xt.charSpacing,Mt=xt.wordSpacing,Ht=xt.fontDirection,zt=xt.textHScale*Ht,Nt=kt.vertical,Xt=Nt?1:-1,rn=kt.defaultVMetrics,wn=Ct*xt.fontMatrix[0];let Wt=0;for(const Fn of Et){if(Fn===null){Wt+=Ht*Mt;continue}else if(typeof Fn=="number"){Wt+=Xt*Fn*Ct/1e3;continue}const Mn=(Fn.isSpace?Mt:0)+Lt,Ut=Fn.fontChar;let St,It,Tt=Fn.width;if(Nt){let Ot;const jt=Fn.vmetric||rn;Ot=Fn.vmetric?jt[1]:Tt*.5,Ot=-Ot*wn;const qt=jt[2]*wn;Tt=jt?-jt[0]:Tt,St=Ot/At,It=(Wt+qt)/At}else St=Wt/At,It=0;(Fn.isInFont||kt.missingFile)&&(xt.xcoords.push(xt.x+St),Nt&&xt.ycoords.push(-xt.y+It),xt.tspan.textContent+=Ut);const Dt=Nt?Tt*wn-Mn*Ht:Tt*wn+Mn*Ht;Wt+=Dt}xt.tspan.setAttributeNS(null,"x",xt.xcoords.map(pt).join(" ")),Nt?xt.tspan.setAttributeNS(null,"y",xt.ycoords.map(pt).join(" ")):xt.tspan.setAttributeNS(null,"y",pt(-xt.y)),Nt?xt.y-=Wt:xt.x+=Wt*zt,xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${pt(xt.fontSize)}px`),xt.fontStyle!==rt.fontStyle&&xt.tspan.setAttributeNS(null,"font-style",xt.fontStyle),xt.fontWeight!==rt.fontWeight&&xt.tspan.setAttributeNS(null,"font-weight",xt.fontWeight);const fn=xt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;if(fn===nt.TextRenderingMode.FILL||fn===nt.TextRenderingMode.FILL_STROKE?(xt.fillColor!==rt.fillColor&&xt.tspan.setAttributeNS(null,"fill",xt.fillColor),xt.fillAlpha<1&&xt.tspan.setAttributeNS(null,"fill-opacity",xt.fillAlpha)):xt.textRenderingMode===nt.TextRenderingMode.ADD_TO_PATH?xt.tspan.setAttributeNS(null,"fill","transparent"):xt.tspan.setAttributeNS(null,"fill","none"),fn===nt.TextRenderingMode.STROKE||fn===nt.TextRenderingMode.FILL_STROKE){const Fn=1/(xt.textMatrixScale||1);this._setStrokeAttributes(xt.tspan,Fn)}let Tn=xt.textMatrix;xt.textRise!==0&&(Tn=Tn.slice(),Tn[5]+=xt.textRise),xt.txtElement.setAttributeNS(null,"transform",`${ut(Tn)} scale(${pt(zt)}, -1)`),xt.txtElement.setAttributeNS(it,"xml:space","preserve"),xt.txtElement.append(xt.tspan),xt.txtgrp.append(xt.txtElement),this._ensureTransformGroup().append(xt.txtElement)}setLeadingMoveText(Et,xt){this.setLeading(-xt),this.moveText(Et,xt)}addFontStyle(Et){if(!Et.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const xt=lt(Et.data,Et.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Et.loadedName}"; src: url(${xt}); }
`}setFont(Et){const xt=this.current,kt=this.commonObjs.get(Et[0]);let Ct=Et[1];xt.font=kt,this.embedFonts&&!kt.missingFile&&!this.embeddedFonts[kt.loadedName]&&(this.addFontStyle(kt),this.embeddedFonts[kt.loadedName]=kt),xt.fontMatrix=kt.fontMatrix||nt.FONT_IDENTITY_MATRIX;let At="normal";kt.black?At="900":kt.bold&&(At="bold");const Lt=kt.italic?"italic":"normal";Ct<0?(Ct=-Ct,xt.fontDirection=-1):xt.fontDirection=1,xt.fontSize=Ct,xt.fontFamily=kt.loadedName,xt.fontWeight=At,xt.fontStyle=Lt,xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"y",pt(-xt.y)),xt.xcoords=[],xt.ycoords=[]}endText(){var xt;const Et=this.current;Et.textRenderingMode&nt.TextRenderingMode.ADD_TO_PATH_FLAG&&((xt=Et.txtElement)!=null&&xt.hasChildNodes())&&(Et.element=Et.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Et){Et>0&&(this.current.lineWidth=Et)}setLineCap(Et){this.current.lineCap=ot[Et]}setLineJoin(Et){this.current.lineJoin=at[Et]}setMiterLimit(Et){this.current.miterLimit=Et}setStrokeAlpha(Et){this.current.strokeAlpha=Et}setStrokeRGBColor(Et,xt,kt){this.current.strokeColor=nt.Util.makeHexColor(Et,xt,kt)}setFillAlpha(Et){this.current.fillAlpha=Et}setFillRGBColor(Et,xt,kt){this.current.fillColor=nt.Util.makeHexColor(Et,xt,kt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Et){this.current.strokeColor=this._makeColorN_Pattern(Et)}setFillColorN(Et){this.current.fillColor=this._makeColorN_Pattern(Et)}shadingFill(Et){const{width:xt,height:kt}=this.viewport,Ct=nt.Util.inverseTransform(this.transformMatrix),[At,Lt,Mt,Ht]=nt.Util.getAxialAlignedBoundingBox([0,0,xt,kt],Ct),zt=this.svgFactory.createElement("svg:rect");zt.setAttributeNS(null,"x",At),zt.setAttributeNS(null,"y",Lt),zt.setAttributeNS(null,"width",Mt-At),zt.setAttributeNS(null,"height",Ht-Lt),zt.setAttributeNS(null,"fill",this._makeShadingPattern(Et)),this.current.fillAlpha<1&&zt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(zt)}_makeColorN_Pattern(Et){return Et[0]==="TilingPattern"?this._makeTilingPattern(Et):this._makeShadingPattern(Et)}_makeTilingPattern(Et){const xt=Et[1],kt=Et[2],Ct=Et[3]||nt.IDENTITY_MATRIX,[At,Lt,Mt,Ht]=Et[4],zt=Et[5],Nt=Et[6],Xt=Et[7],rn=`shading${gt++}`,[wn,Wt,fn,Tn]=nt.Util.normalizeRect([...nt.Util.applyTransform([At,Lt],Ct),...nt.Util.applyTransform([Mt,Ht],Ct)]),[Fn,Mn]=nt.Util.singularValueDecompose2dScale(Ct),Ut=zt*Fn,St=Nt*Mn,It=this.svgFactory.createElement("svg:pattern");It.setAttributeNS(null,"id",rn),It.setAttributeNS(null,"patternUnits","userSpaceOnUse"),It.setAttributeNS(null,"width",Ut),It.setAttributeNS(null,"height",St),It.setAttributeNS(null,"x",`${wn}`),It.setAttributeNS(null,"y",`${Wt}`);const Tt=this.svg,Dt=this.transformMatrix,Ot=this.current.fillColor,jt=this.current.strokeColor,qt=this.svgFactory.create(fn-wn,Tn-Wt);if(this.svg=qt,this.transformMatrix=Ct,Xt===2){const Zt=nt.Util.makeHexColor(...xt);this.current.fillColor=Zt,this.current.strokeColor=Zt}return this.executeOpTree(this.convertOpList(kt)),this.svg=Tt,this.transformMatrix=Dt,this.current.fillColor=Ot,this.current.strokeColor=jt,It.append(qt.childNodes[0]),this.defs.append(It),`url(#${rn})`}_makeShadingPattern(Et){switch(typeof Et=="string"&&(Et=this.objs.get(Et)),Et[0]){case"RadialAxial":const xt=`shading${gt++}`,kt=Et[3];let Ct;switch(Et[1]){case"axial":const At=Et[4],Lt=Et[5];Ct=this.svgFactory.createElement("svg:linearGradient"),Ct.setAttributeNS(null,"id",xt),Ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"x1",At[0]),Ct.setAttributeNS(null,"y1",At[1]),Ct.setAttributeNS(null,"x2",Lt[0]),Ct.setAttributeNS(null,"y2",Lt[1]);break;case"radial":const Mt=Et[4],Ht=Et[5],zt=Et[6],Nt=Et[7];Ct=this.svgFactory.createElement("svg:radialGradient"),Ct.setAttributeNS(null,"id",xt),Ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"cx",Ht[0]),Ct.setAttributeNS(null,"cy",Ht[1]),Ct.setAttributeNS(null,"r",Nt),Ct.setAttributeNS(null,"fx",Mt[0]),Ct.setAttributeNS(null,"fy",Mt[1]),Ct.setAttributeNS(null,"fr",zt);break;default:throw new Error(`Unknown RadialAxial type: ${Et[1]}`)}for(const At of kt){const Lt=this.svgFactory.createElement("svg:stop");Lt.setAttributeNS(null,"offset",At[0]),Lt.setAttributeNS(null,"stop-color",At[1]),Ct.append(Lt)}return this.defs.append(Ct),`url(#${xt})`;case"Mesh":return(0,nt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Et[0]}`)}}setDash(Et,xt){this.current.dashArray=Et,this.current.dashPhase=xt}constructPath(Et,xt){const kt=this.current;let Ct=kt.x,At=kt.y,Lt=[],Mt=0;for(const Ht of Et)switch(Ht|0){case nt.OPS.rectangle:Ct=xt[Mt++],At=xt[Mt++];const zt=xt[Mt++],Nt=xt[Mt++],Xt=Ct+zt,rn=At+Nt;Lt.push("M",pt(Ct),pt(At),"L",pt(Xt),pt(At),"L",pt(Xt),pt(rn),"L",pt(Ct),pt(rn),"Z");break;case nt.OPS.moveTo:Ct=xt[Mt++],At=xt[Mt++],Lt.push("M",pt(Ct),pt(At));break;case nt.OPS.lineTo:Ct=xt[Mt++],At=xt[Mt++],Lt.push("L",pt(Ct),pt(At));break;case nt.OPS.curveTo:Ct=xt[Mt+4],At=xt[Mt+5],Lt.push("C",pt(xt[Mt]),pt(xt[Mt+1]),pt(xt[Mt+2]),pt(xt[Mt+3]),pt(Ct),pt(At)),Mt+=6;break;case nt.OPS.curveTo2:Lt.push("C",pt(Ct),pt(At),pt(xt[Mt]),pt(xt[Mt+1]),pt(xt[Mt+2]),pt(xt[Mt+3])),Ct=xt[Mt+2],At=xt[Mt+3],Mt+=4;break;case nt.OPS.curveTo3:Ct=xt[Mt+2],At=xt[Mt+3],Lt.push("C",pt(xt[Mt]),pt(xt[Mt+1]),pt(Ct),pt(At),pt(Ct),pt(At)),Mt+=4;break;case nt.OPS.closePath:Lt.push("Z");break}Lt=Lt.join(" "),kt.path&&Et.length>0&&Et[0]!==nt.OPS.rectangle&&Et[0]!==nt.OPS.moveTo?Lt=kt.path.getAttributeNS(null,"d")+Lt:(kt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(kt.path)),kt.path.setAttributeNS(null,"d",Lt),kt.path.setAttributeNS(null,"fill","none"),kt.element=kt.path,kt.setCurrentPoint(Ct,At)}endPath(){const Et=this.current;if(Et.path=null,!this.pendingClip)return;if(!Et.element){this.pendingClip=null;return}const xt=`clippath${mt++}`,kt=this.svgFactory.createElement("svg:clipPath");kt.setAttributeNS(null,"id",xt),kt.setAttributeNS(null,"transform",ut(this.transformMatrix));const Ct=Et.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ct.setAttributeNS(null,"clip-rule","evenodd"):Ct.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,kt.append(Ct),this.defs.append(kt),Et.activeClipUrl){Et.clipGroup=null;for(const At of this.extraStack)At.clipGroup=null;kt.setAttributeNS(null,"clip-path",Et.activeClipUrl)}Et.activeClipUrl=`url(#${xt})`,this.tgrp=null}clip(Et){this.pendingClip=Et}closePath(){const Et=this.current;if(Et.path){const xt=`${Et.path.getAttributeNS(null,"d")}Z`;Et.path.setAttributeNS(null,"d",xt)}}setLeading(Et){this.current.leading=-Et}setTextRise(Et){this.current.textRise=Et}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setHScale(Et){this.current.textHScale=Et/100}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[xt,kt]of Et)switch(xt){case"LW":this.setLineWidth(kt);break;case"LC":this.setLineCap(kt);break;case"LJ":this.setLineJoin(kt);break;case"ML":this.setMiterLimit(kt);break;case"D":this.setDash(kt[0],kt[1]);break;case"RI":this.setRenderingIntent(kt);break;case"FL":this.setFlatness(kt);break;case"Font":this.setFont(kt);break;case"CA":this.setStrokeAlpha(kt);break;case"ca":this.setFillAlpha(kt);break;default:(0,nt.warn)(`Unimplemented graphic state operator ${xt}`);break}}fill(){const Et=this.current;Et.element&&(Et.element.setAttributeNS(null,"fill",Et.fillColor),Et.element.setAttributeNS(null,"fill-opacity",Et.fillAlpha),this.endPath())}stroke(){const Et=this.current;Et.element&&(this._setStrokeAttributes(Et.element),Et.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Et,xt=1){const kt=this.current;let Ct=kt.dashArray;xt!==1&&Ct.length>0&&(Ct=Ct.map(function(At){return xt*At})),Et.setAttributeNS(null,"stroke",kt.strokeColor),Et.setAttributeNS(null,"stroke-opacity",kt.strokeAlpha),Et.setAttributeNS(null,"stroke-miterlimit",pt(kt.miterLimit)),Et.setAttributeNS(null,"stroke-linecap",kt.lineCap),Et.setAttributeNS(null,"stroke-linejoin",kt.lineJoin),Et.setAttributeNS(null,"stroke-width",pt(xt*kt.lineWidth)+"px"),Et.setAttributeNS(null,"stroke-dasharray",Ct.map(pt).join(" ")),Et.setAttributeNS(null,"stroke-dashoffset",pt(xt*kt.dashPhase)+"px")}eoFill(){var Et;(Et=this.current.element)==null||Et.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Et;(Et=this.current.element)==null||Et.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width","1px"),Et.setAttributeNS(null,"height","1px"),Et.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Et)}paintImageXObject(Et){const xt=this.getObject(Et);if(!xt){(0,nt.warn)(`Dependent image with object ID ${Et} is not ready yet`);return}this.paintInlineImageXObject(xt)}paintInlineImageXObject(Et,xt){const kt=Et.width,Ct=Et.height,At=ct(Et,this.forceDataSchema,!!xt),Lt=this.svgFactory.createElement("svg:rect");Lt.setAttributeNS(null,"x","0"),Lt.setAttributeNS(null,"y","0"),Lt.setAttributeNS(null,"width",pt(kt)),Lt.setAttributeNS(null,"height",pt(Ct)),this.current.element=Lt,this.clip("nonzero");const Mt=this.svgFactory.createElement("svg:image");Mt.setAttributeNS(st,"xlink:href",At),Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y",pt(-Ct)),Mt.setAttributeNS(null,"width",pt(kt)+"px"),Mt.setAttributeNS(null,"height",pt(Ct)+"px"),Mt.setAttributeNS(null,"transform",`scale(${pt(1/kt)} ${pt(-1/Ct)})`),xt?xt.append(Mt):this._ensureTransformGroup().append(Mt)}paintImageMaskXObject(Et){const xt=this.getObject(Et.data,Et);if(xt.bitmap){(0,nt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const kt=this.current,Ct=xt.width,At=xt.height,Lt=kt.fillColor;kt.maskId=`mask${ft++}`;const Mt=this.svgFactory.createElement("svg:mask");Mt.setAttributeNS(null,"id",kt.maskId);const Ht=this.svgFactory.createElement("svg:rect");Ht.setAttributeNS(null,"x","0"),Ht.setAttributeNS(null,"y","0"),Ht.setAttributeNS(null,"width",pt(Ct)),Ht.setAttributeNS(null,"height",pt(At)),Ht.setAttributeNS(null,"fill",Lt),Ht.setAttributeNS(null,"mask",`url(#${kt.maskId})`),this.defs.append(Mt),this._ensureTransformGroup().append(Ht),this.paintInlineImageXObject(xt,Mt)}paintFormXObjectBegin(Et,xt){if(Array.isArray(Et)&&Et.length===6&&this.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]),xt){const kt=xt[2]-xt[0],Ct=xt[3]-xt[1],At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",xt[0]),At.setAttributeNS(null,"y",xt[1]),At.setAttributeNS(null,"width",pt(kt)),At.setAttributeNS(null,"height",pt(Ct)),this.current.element=At,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Et){const xt=this.svgFactory.create(Et.width,Et.height),kt=this.svgFactory.createElement("svg:defs");xt.append(kt),this.defs=kt;const Ct=this.svgFactory.createElement("svg:g");return Ct.setAttributeNS(null,"transform",ut(Et.transform)),xt.append(Ct),this.svg=Ct,xt}_ensureClipGroup(){if(!this.current.clipGroup){const Et=this.svgFactory.createElement("svg:g");Et.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Et),this.current.clipGroup=Et}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ut(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_.SVGGraphics=vt},($,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaText=void 0;class et{static textContent(nt){const rt=[],it={items:rt,styles:Object.create(null)};function st(ot){var ct;if(!ot)return;let at=null;const lt=ot.name;if(lt==="#text")at=ot.value;else if(et.shouldBuildText(lt))(ct=ot==null?void 0:ot.attributes)!=null&&ct.textContent?at=ot.attributes.textContent:ot.value&&(at=ot.value);else return;if(at!==null&&rt.push({str:at}),!!ot.children)for(const dt of ot.children)st(dt)}return st(nt),it}static shouldBuildText(nt){return!(nt==="textarea"||nt==="input"||nt==="option"||nt==="select")}}_.XfaText=et},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerRenderTask=void 0,_.renderTextLayer=ut,_.updateTextLayer=mt;var tt=et(1),nt=et(6);const rt=1e5,it=30,st=.8,ot=new Map;function at(ft,gt){let vt;if(gt&&tt.FeatureTest.isOffscreenCanvasSupported)vt=new OffscreenCanvas(ft,ft).getContext("2d",{alpha:!1});else{const bt=document.createElement("canvas");bt.width=bt.height=ft,vt=bt.getContext("2d",{alpha:!1})}return vt}function lt(ft,gt){const vt=ot.get(ft);if(vt)return vt;const bt=at(it,gt);bt.font=`${it}px ${ft}`;const Et=bt.measureText("");let xt=Et.fontBoundingBoxAscent,kt=Math.abs(Et.fontBoundingBoxDescent);if(xt){const At=xt/(xt+kt);return ot.set(ft,At),bt.canvas.width=bt.canvas.height=0,At}bt.strokeStyle="red",bt.clearRect(0,0,it,it),bt.strokeText("g",0,0);let Ct=bt.getImageData(0,0,it,it).data;kt=0;for(let At=Ct.length-1-3;At>=0;At-=4)if(Ct[At]>0){kt=Math.ceil(At/4/it);break}bt.clearRect(0,0,it,it),bt.strokeText("A",0,it),Ct=bt.getImageData(0,0,it,it).data,xt=0;for(let At=0,Lt=Ct.length;At<Lt;At+=4)if(Ct[At]>0){xt=it-Math.floor(At/4/it);break}if(bt.canvas.width=bt.canvas.height=0,xt){const At=xt/(xt+kt);return ot.set(ft,At),At}return ot.set(ft,st),st}function ct(ft,gt,vt){const bt=document.createElement("span"),Et={angle:0,canvasWidth:0,hasText:gt.str!=="",hasEOL:gt.hasEOL,fontSize:0};ft._textDivs.push(bt);const xt=tt.Util.transform(ft._transform,gt.transform);let kt=Math.atan2(xt[1],xt[0]);const Ct=vt[gt.fontName];Ct.vertical&&(kt+=Math.PI/2);const At=Math.hypot(xt[2],xt[3]),Lt=At*lt(Ct.fontFamily,ft._isOffscreenCanvasSupported);let Mt,Ht;kt===0?(Mt=xt[4],Ht=xt[5]-Lt):(Mt=xt[4]+Lt*Math.sin(kt),Ht=xt[5]-Lt*Math.cos(kt));const zt="calc(var(--scale-factor)*",Nt=bt.style;ft._container===ft._rootContainer?(Nt.left=`${(100*Mt/ft._pageWidth).toFixed(2)}%`,Nt.top=`${(100*Ht/ft._pageHeight).toFixed(2)}%`):(Nt.left=`${zt}${Mt.toFixed(2)}px)`,Nt.top=`${zt}${Ht.toFixed(2)}px)`),Nt.fontSize=`${zt}${At.toFixed(2)}px)`,Nt.fontFamily=Ct.fontFamily,Et.fontSize=At,bt.setAttribute("role","presentation"),bt.textContent=gt.str,bt.dir=gt.dir,ft._fontInspectorEnabled&&(bt.dataset.fontName=gt.fontName),kt!==0&&(Et.angle=kt*(180/Math.PI));let Xt=!1;if(gt.str.length>1)Xt=!0;else if(gt.str!==" "&&gt.transform[0]!==gt.transform[3]){const rn=Math.abs(gt.transform[0]),wn=Math.abs(gt.transform[3]);rn!==wn&&Math.max(rn,wn)/Math.min(rn,wn)>1.5&&(Xt=!0)}Xt&&(Et.canvasWidth=Ct.vertical?gt.height:gt.width),ft._textDivProperties.set(bt,Et),ft._isReadableStream&&ft._layoutText(bt)}function dt(ft){const{div:gt,scale:vt,properties:bt,ctx:Et,prevFontSize:xt,prevFontFamily:kt}=ft,{style:Ct}=gt;let At="";if(bt.canvasWidth!==0&&bt.hasText){const{fontFamily:Lt}=Ct,{canvasWidth:Mt,fontSize:Ht}=bt;(xt!==Ht||kt!==Lt)&&(Et.font=`${Ht*vt}px ${Lt}`,ft.prevFontSize=Ht,ft.prevFontFamily=Lt);const{width:zt}=Et.measureText(gt.textContent);zt>0&&(At=`scaleX(${Mt*vt/zt})`)}bt.angle!==0&&(At=`rotate(${bt.angle}deg) ${At}`),At.length>0&&(Ct.transform=At)}function _t(ft){if(ft._canceled)return;const gt=ft._textDivs,vt=ft._capability;if(gt.length>rt){vt.resolve();return}if(!ft._isReadableStream)for(const Et of gt)ft._layoutText(Et);vt.resolve()}class pt{constructor({textContentSource:gt,container:vt,viewport:bt,textDivs:Et,textDivProperties:xt,textContentItemsStr:kt,isOffscreenCanvasSupported:Ct}){var zt;this._textContentSource=gt,this._isReadableStream=gt instanceof ReadableStream,this._container=this._rootContainer=vt,this._textDivs=Et||[],this._textContentItemsStr=kt||[],this._isOffscreenCanvasSupported=Ct,this._fontInspectorEnabled=!!((zt=globalThis.FontInspector)!=null&&zt.enabled),this._reader=null,this._textDivProperties=xt||new WeakMap,this._canceled=!1,this._capability=new tt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:bt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:at(0,Ct)};const{pageWidth:At,pageHeight:Lt,pageX:Mt,pageY:Ht}=bt.rawDims;this._transform=[1,0,0,-1,-Mt,Ht+Lt],this._pageWidth=At,this._pageHeight=Lt,(0,nt.setLayerDimensions)(vt,bt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new tt.AbortException("TextLayer task cancelled."))}_processItems(gt,vt){for(const bt of gt){if(bt.str===void 0){if(bt.type==="beginMarkedContentProps"||bt.type==="beginMarkedContent"){const Et=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),bt.id!==null&&this._container.setAttribute("id",`${bt.id}`),Et.append(this._container)}else bt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(bt.str),ct(this,bt,vt)}}_layoutText(gt){const vt=this._layoutTextParams.properties=this._textDivProperties.get(gt);if(this._layoutTextParams.div=gt,dt(this._layoutTextParams),vt.hasText&&this._container.append(gt),vt.hasEOL){const bt=document.createElement("br");bt.setAttribute("role","presentation"),this._container.append(bt)}}_render(){const gt=new tt.PromiseCapability;let vt=Object.create(null);if(this._isReadableStream){const bt=()=>{this._reader.read().then(({value:Et,done:xt})=>{if(xt){gt.resolve();return}Object.assign(vt,Et.styles),this._processItems(Et.items,vt),bt()},gt.reject)};this._reader=this._textContentSource.getReader(),bt()}else if(this._textContentSource){const{items:bt,styles:Et}=this._textContentSource;this._processItems(bt,Et),gt.resolve()}else throw new Error('No "textContentSource" parameter specified.');gt.promise.then(()=>{vt=null,_t(this)},this._capability.reject)}}_.TextLayerRenderTask=pt;function ut(ft){!ft.textContentSource&&(ft.textContent||ft.textContentStream)&&((0,nt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ft.textContentSource=ft.textContent||ft.textContentStream);const{container:gt,viewport:vt}=ft,bt=getComputedStyle(gt),Et=bt.getPropertyValue("visibility"),xt=parseFloat(bt.getPropertyValue("--scale-factor"));Et==="visible"&&(!xt||Math.abs(xt-vt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const kt=new pt(ft);return kt._render(),kt}function mt({container:ft,viewport:gt,textDivs:vt,textDivProperties:bt,isOffscreenCanvasSupported:Et,mustRotate:xt=!0,mustRescale:kt=!0}){if(xt&&(0,nt.setLayerDimensions)(ft,{rotation:gt.rotation}),kt){const Ct=at(0,Et),Lt={prevFontSize:null,prevFontFamily:null,div:null,scale:gt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ct};for(const Mt of vt)Lt.properties=bt.get(Mt),Lt.div=Mt,dt(Lt)}}},($,_,et)=>{var lt,ct,dt,_t,pt,ut,mt,ft,gt,vt,bt,Cu,xt,Al,Ct,ku,Lt,Du;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditorLayer=void 0;var tt=et(1),nt=et(4),rt=et(28),it=et(33),st=et(6),ot=et(34);const Ht=class Ht{constructor({uiManager:Nt,pageIndex:Xt,div:rn,accessibilityManager:wn,annotationLayer:Wt,viewport:fn,l10n:Tn}){Qt(this,bt);Qt(this,xt);Qt(this,Ct);Qt(this,Lt);Qt(this,lt,void 0);Qt(this,ct,!1);Qt(this,dt,null);Qt(this,_t,this.pointerup.bind(this));Qt(this,pt,this.pointerdown.bind(this));Qt(this,ut,new Map);Qt(this,mt,!1);Qt(this,ft,!1);Qt(this,gt,!1);Qt(this,vt,void 0);const Fn=[rt.FreeTextEditor,it.InkEditor,ot.StampEditor];if(!Ht._initialized){Ht._initialized=!0;for(const Mn of Fn)Mn.initialize(Tn)}Nt.registerEditorTypes(Fn),Rn(this,vt,Nt),this.pageIndex=Xt,this.div=rn,Rn(this,lt,wn),Rn(this,dt,Wt),this.viewport=fn,wt(this,vt).addLayer(this)}get isEmpty(){return wt(this,ut).size===0}updateToolbar(Nt){wt(this,vt).updateToolbar(Nt)}updateMode(Nt=wt(this,vt).getMode()){hn(this,Lt,Du).call(this),Nt===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Nt!==tt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Nt===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Nt===tt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Nt===tt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Nt){if(!Nt&&wt(this,vt).getMode()!==tt.AnnotationEditorType.INK)return;if(!Nt){for(const rn of wt(this,ut).values())if(rn.isEmpty()){rn.setInBackground();return}}hn(this,xt,Al).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Nt){wt(this,vt).setEditingState(Nt)}addCommands(Nt){wt(this,vt).addCommands(Nt)}enable(){this.div.style.pointerEvents="auto";const Nt=new Set;for(const rn of wt(this,ut).values())rn.enableEditing(),rn.annotationElementId&&Nt.add(rn.annotationElementId);if(!wt(this,dt))return;const Xt=wt(this,dt).getEditableAnnotations();for(const rn of Xt){if(rn.hide(),wt(this,vt).isDeletedAnnotationElement(rn.data.id)||Nt.has(rn.data.id))continue;const wn=this.deserialize(rn);wn&&(this.addOrRebuild(wn),wn.enableEditing())}}disable(){var Xt;Rn(this,gt,!0),this.div.style.pointerEvents="none";const Nt=new Set;for(const rn of wt(this,ut).values()){if(rn.disableEditing(),!rn.annotationElementId||rn.serialize()!==null){Nt.add(rn.annotationElementId);continue}(Xt=this.getEditableAnnotation(rn.annotationElementId))==null||Xt.show(),rn.remove()}if(wt(this,dt)){const rn=wt(this,dt).getEditableAnnotations();for(const wn of rn){const{id:Wt}=wn.data;Nt.has(Wt)||wt(this,vt).isDeletedAnnotationElement(Wt)||wn.show()}}hn(this,Lt,Du).call(this),this.isEmpty&&(this.div.hidden=!0),Rn(this,gt,!1)}getEditableAnnotation(Nt){var Xt;return((Xt=wt(this,dt))==null?void 0:Xt.getEditableAnnotation(Nt))||null}setActiveEditor(Nt){wt(this,vt).getActive()!==Nt&&wt(this,vt).setActiveEditor(Nt)}enableClick(){this.div.addEventListener("pointerdown",wt(this,pt)),this.div.addEventListener("pointerup",wt(this,_t))}disableClick(){this.div.removeEventListener("pointerdown",wt(this,pt)),this.div.removeEventListener("pointerup",wt(this,_t))}attach(Nt){wt(this,ut).set(Nt.id,Nt);const{annotationElementId:Xt}=Nt;Xt&&wt(this,vt).isDeletedAnnotationElement(Xt)&&wt(this,vt).removeDeletedAnnotationElement(Nt)}detach(Nt){var Xt;wt(this,ut).delete(Nt.id),(Xt=wt(this,lt))==null||Xt.removePointerInTextLayer(Nt.contentDiv),!wt(this,gt)&&Nt.annotationElementId&&wt(this,vt).addDeletedAnnotationElement(Nt)}remove(Nt){this.detach(Nt),wt(this,vt).removeEditor(Nt),Nt.div.contains(document.activeElement)&&setTimeout(()=>{wt(this,vt).focusMainContainer()},0),Nt.div.remove(),Nt.isAttachedToDOM=!1,wt(this,ft)||this.addInkEditorIfNeeded(!1)}changeParent(Nt){var Xt;Nt.parent!==this&&(Nt.annotationElementId&&(wt(this,vt).addDeletedAnnotationElement(Nt.annotationElementId),nt.AnnotationEditor.deleteAnnotationElement(Nt),Nt.annotationElementId=null),this.attach(Nt),(Xt=Nt.parent)==null||Xt.detach(Nt),Nt.setParent(this),Nt.div&&Nt.isAttachedToDOM&&(Nt.div.remove(),this.div.append(Nt.div)))}add(Nt){if(this.changeParent(Nt),wt(this,vt).addEditor(Nt),this.attach(Nt),!Nt.isAttachedToDOM){const Xt=Nt.render();this.div.append(Xt),Nt.isAttachedToDOM=!0}Nt.fixAndSetPosition(),Nt.onceAdded(),wt(this,vt).addToAnnotationStorage(Nt)}moveEditorInDOM(Nt){var rn;if(!Nt.isAttachedToDOM)return;const{activeElement:Xt}=document;Nt.div.contains(Xt)&&(Nt._focusEventsAllowed=!1,setTimeout(()=>{Nt.div.contains(document.activeElement)?Nt._focusEventsAllowed=!0:(Nt.div.addEventListener("focusin",()=>{Nt._focusEventsAllowed=!0},{once:!0}),Xt.focus())},0)),Nt._structTreeParentId=(rn=wt(this,lt))==null?void 0:rn.moveElementInDOM(this.div,Nt.div,Nt.contentDiv,!0)}addOrRebuild(Nt){Nt.needsToBeRebuilt()?Nt.rebuild():this.add(Nt)}addUndoableEditor(Nt){const Xt=()=>Nt._uiManager.rebuild(Nt),rn=()=>{Nt.remove()};this.addCommands({cmd:Xt,undo:rn,mustExec:!1})}getNextId(){return wt(this,vt).getId()}pasteEditor(Nt,Xt){wt(this,vt).updateToolbar(Nt),wt(this,vt).updateMode(Nt);const{offsetX:rn,offsetY:wn}=hn(this,Ct,ku).call(this),Wt=this.getNextId(),fn=hn(this,bt,Cu).call(this,{parent:this,id:Wt,x:rn,y:wn,uiManager:wt(this,vt),isCentered:!0,...Xt});fn&&this.add(fn)}deserialize(Nt){switch(Nt.annotationType??Nt.annotationEditorType){case tt.AnnotationEditorType.FREETEXT:return rt.FreeTextEditor.deserialize(Nt,this,wt(this,vt));case tt.AnnotationEditorType.INK:return it.InkEditor.deserialize(Nt,this,wt(this,vt));case tt.AnnotationEditorType.STAMP:return ot.StampEditor.deserialize(Nt,this,wt(this,vt))}return null}addNewEditor(){hn(this,xt,Al).call(this,hn(this,Ct,ku).call(this),!0)}setSelected(Nt){wt(this,vt).setSelected(Nt)}toggleSelected(Nt){wt(this,vt).toggleSelected(Nt)}isSelected(Nt){return wt(this,vt).isSelected(Nt)}unselect(Nt){wt(this,vt).unselect(Nt)}pointerup(Nt){const{isMac:Xt}=tt.FeatureTest.platform;if(!(Nt.button!==0||Nt.ctrlKey&&Xt)&&Nt.target===this.div&&wt(this,mt)){if(Rn(this,mt,!1),!wt(this,ct)){Rn(this,ct,!0);return}if(wt(this,vt).getMode()===tt.AnnotationEditorType.STAMP){wt(this,vt).unselectAll();return}hn(this,xt,Al).call(this,Nt,!1)}}pointerdown(Nt){if(wt(this,mt)){Rn(this,mt,!1);return}const{isMac:Xt}=tt.FeatureTest.platform;if(Nt.button!==0||Nt.ctrlKey&&Xt||Nt.target!==this.div)return;Rn(this,mt,!0);const rn=wt(this,vt).getActive();Rn(this,ct,!rn||rn.isEmpty())}findNewParent(Nt,Xt,rn){const wn=wt(this,vt).findParent(Xt,rn);return wn===null||wn===this?!1:(wn.changeParent(Nt),!0)}destroy(){var Nt,Xt;((Nt=wt(this,vt).getActive())==null?void 0:Nt.parent)===this&&(wt(this,vt).commitOrRemove(),wt(this,vt).setActiveEditor(null));for(const rn of wt(this,ut).values())(Xt=wt(this,lt))==null||Xt.removePointerInTextLayer(rn.contentDiv),rn.setParent(null),rn.isAttachedToDOM=!1,rn.div.remove();this.div=null,wt(this,ut).clear(),wt(this,vt).removeLayer(this)}render({viewport:Nt}){this.viewport=Nt,(0,st.setLayerDimensions)(this.div,Nt);for(const Xt of wt(this,vt).getEditors(this.pageIndex))this.add(Xt);this.updateMode()}update({viewport:Nt}){wt(this,vt).commitOrRemove(),this.viewport=Nt,(0,st.setLayerDimensions)(this.div,{rotation:Nt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Nt,pageHeight:Xt}=this.viewport.rawDims;return[Nt,Xt]}};lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakSet,Cu=function(Nt){switch(wt(this,vt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new rt.FreeTextEditor(Nt);case tt.AnnotationEditorType.INK:return new it.InkEditor(Nt);case tt.AnnotationEditorType.STAMP:return new ot.StampEditor(Nt)}return null},xt=new WeakSet,Al=function(Nt,Xt){const rn=this.getNextId(),wn=hn(this,bt,Cu).call(this,{parent:this,id:rn,x:Nt.offsetX,y:Nt.offsetY,uiManager:wt(this,vt),isCentered:Xt});return wn&&this.add(wn),wn},Ct=new WeakSet,ku=function(){const{x:Nt,y:Xt,width:rn,height:wn}=this.div.getBoundingClientRect(),Wt=Math.max(0,Nt),fn=Math.max(0,Xt),Tn=Math.min(window.innerWidth,Nt+rn),Fn=Math.min(window.innerHeight,Xt+wn),Mn=(Wt+Tn)/2-Nt,Ut=(fn+Fn)/2-Xt,[St,It]=this.viewport.rotation%180===0?[Mn,Ut]:[Ut,Mn];return{offsetX:St,offsetY:It}},Lt=new WeakSet,Du=function(){Rn(this,ft,!0);for(const Nt of wt(this,ut).values())Nt.isEmpty()&&Nt.remove();Rn(this,ft,!1)},cs(Ht,"_initialized",!1);let at=Ht;_.AnnotationEditorLayer=at},($,_,et)=>{var ot,at,lt,ct,dt,_t,pt,ut,mt,ft,ip,vt,sp,Et,op,kt,Lo,At,$u,Mt,ap,zt,Ou;Object.defineProperty(_,"__esModule",{value:!0}),_.FreeTextEditor=void 0;var tt=et(1),nt=et(5),rt=et(4),it=et(29);const Xt=class Xt extends rt.AnnotationEditor{constructor(Wt){super({...Wt,name:"freeTextEditor"});Qt(this,ft);Qt(this,vt);Qt(this,Et);Qt(this,kt);Qt(this,At);Qt(this,Mt);Qt(this,zt);Qt(this,ot,this.editorDivBlur.bind(this));Qt(this,at,this.editorDivFocus.bind(this));Qt(this,lt,this.editorDivInput.bind(this));Qt(this,ct,this.editorDivKeydown.bind(this));Qt(this,dt,void 0);Qt(this,_t,"");Qt(this,pt,`${this.id}-editor`);Qt(this,ut,void 0);Qt(this,mt,null);Rn(this,dt,Wt.color||Xt._defaultColor||rt.AnnotationEditor._defaultLineColor),Rn(this,ut,Wt.fontSize||Xt._defaultFontSize)}static get _keyboardManager(){const Wt=Xt.prototype,fn=Mn=>Mn.isEmpty(),Tn=nt.AnnotationEditorUIManager.TRANSLATE_SMALL,Fn=nt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new nt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Wt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Wt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Wt._translateEmpty,{args:[-Tn,0],checker:fn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Wt._translateEmpty,{args:[-Fn,0],checker:fn}],[["ArrowRight","mac+ArrowRight"],Wt._translateEmpty,{args:[Tn,0],checker:fn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Wt._translateEmpty,{args:[Fn,0],checker:fn}],[["ArrowUp","mac+ArrowUp"],Wt._translateEmpty,{args:[0,-Tn],checker:fn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Wt._translateEmpty,{args:[0,-Fn],checker:fn}],[["ArrowDown","mac+ArrowDown"],Wt._translateEmpty,{args:[0,Tn],checker:fn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Wt._translateEmpty,{args:[0,Fn],checker:fn}]]))}static initialize(Wt){rt.AnnotationEditor.initialize(Wt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const fn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(fn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Wt,fn){switch(Wt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:Xt._defaultFontSize=fn;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:Xt._defaultColor=fn;break}}updateParams(Wt,fn){switch(Wt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:hn(this,ft,ip).call(this,fn);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:hn(this,vt,sp).call(this,fn);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,Xt._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,Xt._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,wt(this,ut)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,wt(this,dt)]]}_translateEmpty(Wt,fn){this._uiManager.translateSelectedEditors(Wt,fn,!0)}getInitialTranslation(){const Wt=this.parentScale;return[-Xt._internalPadding*Wt,-(Xt._internalPadding+wt(this,ut))*Wt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",wt(this,ct)),this.editorDiv.addEventListener("focus",wt(this,at)),this.editorDiv.addEventListener("blur",wt(this,ot)),this.editorDiv.addEventListener("input",wt(this,lt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",wt(this,pt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",wt(this,ct)),this.editorDiv.removeEventListener("focus",wt(this,at)),this.editorDiv.removeEventListener("blur",wt(this,ot)),this.editorDiv.removeEventListener("input",wt(this,lt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Wt){this._focusEventsAllowed&&(super.focusin(Wt),Wt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Wt;if(this.width){hn(this,zt,Ou).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Wt=this._initialOptions)!=null&&Wt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Wt=wt(this,_t),fn=Rn(this,_t,hn(this,Et,op).call(this).trimEnd());if(Wt===fn)return;const Tn=Fn=>{if(Rn(this,_t,Fn),!Fn){this.remove();return}hn(this,At,$u).call(this),this._uiManager.rebuild(this),hn(this,kt,Lo).call(this)};this.addCommands({cmd:()=>{Tn(fn)},undo:()=>{Tn(Wt)},mustExec:!1}),hn(this,kt,Lo).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Wt){this.enterInEditMode()}keydown(Wt){Wt.target===this.div&&Wt.key==="Enter"&&(this.enterInEditMode(),Wt.preventDefault())}editorDivKeydown(Wt){Xt._keyboardManager.exec(this,Wt)}editorDivFocus(Wt){this.isEditing=!0}editorDivBlur(Wt){this.isEditing=!1}editorDivInput(Wt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Wt,fn;this.width&&(Wt=this.x,fn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",wt(this,pt)),this.enableEditing(),rt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Fn=>{var Mn;return(Mn=this.editorDiv)==null?void 0:Mn.setAttribute("aria-label",Fn)}),rt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Fn=>{var Mn;return(Mn=this.editorDiv)==null?void 0:Mn.setAttribute("default-content",Fn)}),this.editorDiv.contentEditable=!0;const{style:Tn}=this.editorDiv;if(Tn.fontSize=`calc(${wt(this,ut)}px * var(--scale-factor))`,Tn.color=wt(this,dt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Fn,Mn]=this.parentDimensions;if(this.annotationElementId){const{position:Ut}=wt(this,mt);let[St,It]=this.getInitialTranslation();[St,It]=this.pageTranslationToScreen(St,It);const[Tt,Dt]=this.pageDimensions,[Ot,jt]=this.pageTranslation;let qt,Zt;switch(this.rotation){case 0:qt=Wt+(Ut[0]-Ot)/Tt,Zt=fn+this.height-(Ut[1]-jt)/Dt;break;case 90:qt=Wt+(Ut[0]-Ot)/Tt,Zt=fn-(Ut[1]-jt)/Dt,[St,It]=[It,-St];break;case 180:qt=Wt-this.width+(Ut[0]-Ot)/Tt,Zt=fn-(Ut[1]-jt)/Dt,[St,It]=[-St,-It];break;case 270:qt=Wt+(Ut[0]-Ot-this.height*Dt)/Tt,Zt=fn+(Ut[1]-jt-this.width*Tt)/Dt,[St,It]=[-It,St];break}this.setAt(qt*Fn,Zt*Mn,St,It)}else this.setAt(Wt*Fn,fn*Mn,this.width*Fn,this.height*Mn);hn(this,At,$u).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Wt,fn,Tn){let Fn=null;if(Wt instanceof it.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ut,fontColor:St},rect:It,rotation:Tt,id:Dt},textContent:Ot,textPosition:jt,parent:{page:{pageNumber:qt}}}=Wt;if(!Ot||Ot.length===0)return null;Fn=Wt={annotationType:tt.AnnotationEditorType.FREETEXT,color:Array.from(St),fontSize:Ut,value:Ot.join(`
`),position:jt,pageIndex:qt-1,rect:It,rotation:Tt,id:Dt,deleted:!1}}const Mn=super.deserialize(Wt,fn,Tn);return Rn(Mn,ut,Wt.fontSize),Rn(Mn,dt,tt.Util.makeHexColor(...Wt.color)),Rn(Mn,_t,Wt.value),Mn.annotationElementId=Wt.id||null,Rn(Mn,mt,Fn),Mn}serialize(Wt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const fn=Xt._internalPadding*this.parentScale,Tn=this.getRect(fn,fn),Fn=rt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:wt(this,dt)),Mn={annotationType:tt.AnnotationEditorType.FREETEXT,color:Fn,fontSize:wt(this,ut),value:wt(this,_t),pageIndex:this.pageIndex,rect:Tn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Wt?Mn:this.annotationElementId&&!hn(this,Mt,ap).call(this,Mn)?null:(Mn.id=this.annotationElementId,Mn)}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakSet,ip=function(Wt){const fn=Fn=>{this.editorDiv.style.fontSize=`calc(${Fn}px * var(--scale-factor))`,this.translate(0,-(Fn-wt(this,ut))*this.parentScale),Rn(this,ut,Fn),hn(this,kt,Lo).call(this)},Tn=wt(this,ut);this.addCommands({cmd:()=>{fn(Wt)},undo:()=>{fn(Tn)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vt=new WeakSet,sp=function(Wt){const fn=wt(this,dt);this.addCommands({cmd:()=>{Rn(this,dt,this.editorDiv.style.color=Wt)},undo:()=>{Rn(this,dt,this.editorDiv.style.color=fn)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Et=new WeakSet,op=function(){const Wt=this.editorDiv.getElementsByTagName("div");if(Wt.length===0)return this.editorDiv.innerText;const fn=[];for(const Tn of Wt)fn.push(Tn.innerText.replace(/\r\n?|\n/,""));return fn.join(`
`)},kt=new WeakSet,Lo=function(){const[Wt,fn]=this.parentDimensions;let Tn;if(this.isAttachedToDOM)Tn=this.div.getBoundingClientRect();else{const{currentLayer:Fn,div:Mn}=this,Ut=Mn.style.display;Mn.style.display="hidden",Fn.div.append(this.div),Tn=Mn.getBoundingClientRect(),Mn.remove(),Mn.style.display=Ut}this.rotation%180===this.parentRotation%180?(this.width=Tn.width/Wt,this.height=Tn.height/fn):(this.width=Tn.height/Wt,this.height=Tn.width/fn),this.fixAndSetPosition()},At=new WeakSet,$u=function(){if(this.editorDiv.replaceChildren(),!!wt(this,_t))for(const Wt of wt(this,_t).split(`
`)){const fn=document.createElement("div");fn.append(Wt?document.createTextNode(Wt):document.createElement("br")),this.editorDiv.append(fn)}},Mt=new WeakSet,ap=function(Wt){const{value:fn,fontSize:Tn,color:Fn,rect:Mn,pageIndex:Ut}=wt(this,mt);return Wt.value!==fn||Wt.fontSize!==Tn||Wt.rect.some((St,It)=>Math.abs(St-Mn[It])>=1)||Wt.color.some((St,It)=>St!==Fn[It])||Wt.pageIndex!==Ut},zt=new WeakSet,Ou=function(Wt=!1){if(!this.annotationElementId)return;if(hn(this,kt,Lo).call(this),!Wt&&(this.width===0||this.height===0)){setTimeout(()=>hn(this,zt,Ou).call(this,!0),0);return}const fn=Xt._internalPadding*this.parentScale;wt(this,mt).rect=this.getRect(fn,fn)},cs(Xt,"_freeTextDefaultContent",""),cs(Xt,"_internalPadding",0),cs(Xt,"_defaultColor",null),cs(Xt,"_defaultFontSize",10),cs(Xt,"_type","freetext");let st=Xt;_.FreeTextEditor=st},($,_,et)=>{var It,Dt,no,jt,lp,Zt,bn,En,In,$n,Hn,Bt,sn,xn,Cn,kn,cn,nn,dn,mn,zn,Gn,ur,cp,sr,Tl,wr,Mu,Er,Fu,pn,on,jn,On,$r,Gr,yn,Lu,ar,Xn,lr,hr,up,Wn,Nu;Object.defineProperty(_,"__esModule",{value:!0}),_.StampAnnotationElement=_.InkAnnotationElement=_.FreeTextAnnotationElement=_.AnnotationLayer=void 0;var tt=et(1),nt=et(6),rt=et(3),it=et(30),st=et(31),ot=et(32);const at=1e3,lt=9,ct=new WeakSet;function dt(or){return{width:or[2]-or[0],height:or[3]-or[1]}}class _t{static create(Gt){switch(Gt.data.annotationType){case tt.AnnotationType.LINK:return new ut(Gt);case tt.AnnotationType.TEXT:return new mt(Gt);case tt.AnnotationType.WIDGET:switch(Gt.data.fieldType){case"Tx":return new gt(Gt);case"Btn":return Gt.data.radioButton?new Et(Gt):Gt.data.checkBox?new bt(Gt):new xt(Gt);case"Ch":return new kt(Gt);case"Sig":return new vt(Gt)}return new ft(Gt);case tt.AnnotationType.POPUP:return new Ct(Gt);case tt.AnnotationType.FREETEXT:return new Lt(Gt);case tt.AnnotationType.LINE:return new Mt(Gt);case tt.AnnotationType.SQUARE:return new Ht(Gt);case tt.AnnotationType.CIRCLE:return new zt(Gt);case tt.AnnotationType.POLYLINE:return new Nt(Gt);case tt.AnnotationType.CARET:return new rn(Gt);case tt.AnnotationType.INK:return new wn(Gt);case tt.AnnotationType.POLYGON:return new Xt(Gt);case tt.AnnotationType.HIGHLIGHT:return new Wt(Gt);case tt.AnnotationType.UNDERLINE:return new fn(Gt);case tt.AnnotationType.SQUIGGLY:return new Tn(Gt);case tt.AnnotationType.STRIKEOUT:return new Fn(Gt);case tt.AnnotationType.STAMP:return new Mn(Gt);case tt.AnnotationType.FILEATTACHMENT:return new Ut(Gt);default:return new pt(Gt)}}}const Tt=class Tt{constructor(Gt,{isRenderable:Rt=!1,ignoreBorder:Vt=!1,createQuadrilaterals:Kt=!1}={}){Qt(this,It,!1);this.isRenderable=Rt,this.data=Gt.data,this.layer=Gt.layer,this.linkService=Gt.linkService,this.downloadManager=Gt.downloadManager,this.imageResourcesPath=Gt.imageResourcesPath,this.renderForms=Gt.renderForms,this.svgFactory=Gt.svgFactory,this.annotationStorage=Gt.annotationStorage,this.enableScripting=Gt.enableScripting,this.hasJSActions=Gt.hasJSActions,this._fieldObjects=Gt.fieldObjects,this.parent=Gt.parent,Rt&&(this.container=this._createContainer(Vt)),Kt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Gt,contentsObj:Rt,richText:Vt}){return!!(Gt!=null&&Gt.str||Rt!=null&&Rt.str||Vt!=null&&Vt.str)}get hasPopupData(){return Tt._hasPopupData(this.data)}_createContainer(Gt){const{data:Rt,parent:{page:Vt,viewport:Kt}}=this,ln=document.createElement("section");ln.setAttribute("data-annotation-id",Rt.id),this instanceof ft||(ln.tabIndex=at),ln.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ln.setAttribute("aria-haspopup","dialog"),Rt.noRotate&&ln.classList.add("norotate");const{pageWidth:gn,pageHeight:Pn,pageX:Bn,pageY:Zn}=Kt.rawDims;if(!Rt.rect||this instanceof Ct){const{rotation:yr}=Rt;return!Rt.hasOwnCanvas&&yr!==0&&this.setRotation(yr,ln),ln}const{width:Jn,height:rr}=dt(Rt.rect),tr=tt.Util.normalizeRect([Rt.rect[0],Vt.view[3]-Rt.rect[1]+Vt.view[1],Rt.rect[2],Vt.view[3]-Rt.rect[3]+Vt.view[1]]);if(!Gt&&Rt.borderStyle.width>0){ln.style.borderWidth=`${Rt.borderStyle.width}px`;const yr=Rt.borderStyle.horizontalCornerRadius,Ir=Rt.borderStyle.verticalCornerRadius;if(yr>0||Ir>0){const Hr=`calc(${yr}px * var(--scale-factor)) / calc(${Ir}px * var(--scale-factor))`;ln.style.borderRadius=Hr}else if(this instanceof Et){const Hr=`calc(${Jn}px * var(--scale-factor)) / calc(${rr}px * var(--scale-factor))`;ln.style.borderRadius=Hr}switch(Rt.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:ln.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:ln.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:ln.style.borderBottomStyle="solid";break}const Vr=Rt.borderColor||null;Vr?(Rn(this,It,!0),ln.style.borderColor=tt.Util.makeHexColor(Vr[0]|0,Vr[1]|0,Vr[2]|0)):ln.style.borderWidth=0}ln.style.left=`${100*(tr[0]-Bn)/gn}%`,ln.style.top=`${100*(tr[1]-Zn)/Pn}%`;const{rotation:nr}=Rt;return Rt.hasOwnCanvas||nr===0?(ln.style.width=`${100*Jn/gn}%`,ln.style.height=`${100*rr/Pn}%`):this.setRotation(nr,ln),ln}setRotation(Gt,Rt=this.container){if(!this.data.rect)return;const{pageWidth:Vt,pageHeight:Kt}=this.parent.viewport.rawDims,{width:ln,height:gn}=dt(this.data.rect);let Pn,Bn;Gt%180===0?(Pn=100*ln/Vt,Bn=100*gn/Kt):(Pn=100*gn/Vt,Bn=100*ln/Kt),Rt.style.width=`${Pn}%`,Rt.style.height=`${Bn}%`,Rt.setAttribute("data-main-rotation",(360-Gt)%360)}get _commonActions(){const Gt=(Rt,Vt,Kt)=>{const ln=Kt.detail[Rt],gn=ln[0],Pn=ln.slice(1);Kt.target.style[Vt]=it.ColorConverters[`${gn}_HTML`](Pn),this.annotationStorage.setValue(this.data.id,{[Vt]:it.ColorConverters[`${gn}_rgb`](Pn)})};return(0,tt.shadow)(this,"_commonActions",{display:Rt=>{const{display:Vt}=Rt.detail,Kt=Vt%2===1;this.container.style.visibility=Kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Kt,noPrint:Vt===1||Vt===2})},print:Rt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Rt.detail.print})},hidden:Rt=>{const{hidden:Vt}=Rt.detail;this.container.style.visibility=Vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Vt,noView:Vt})},focus:Rt=>{setTimeout(()=>Rt.target.focus({preventScroll:!1}),0)},userName:Rt=>{Rt.target.title=Rt.detail.userName},readonly:Rt=>{Rt.target.disabled=Rt.detail.readonly},required:Rt=>{this._setRequired(Rt.target,Rt.detail.required)},bgColor:Rt=>{Gt("bgColor","backgroundColor",Rt)},fillColor:Rt=>{Gt("fillColor","backgroundColor",Rt)},fgColor:Rt=>{Gt("fgColor","color",Rt)},textColor:Rt=>{Gt("textColor","color",Rt)},borderColor:Rt=>{Gt("borderColor","borderColor",Rt)},strokeColor:Rt=>{Gt("strokeColor","borderColor",Rt)},rotation:Rt=>{const Vt=Rt.detail.rotation;this.setRotation(Vt),this.annotationStorage.setValue(this.data.id,{rotation:Vt})}})}_dispatchEventFromSandbox(Gt,Rt){const Vt=this._commonActions;for(const Kt of Object.keys(Rt.detail)){const ln=Gt[Kt]||Vt[Kt];ln==null||ln(Rt)}}_setDefaultPropertiesFromJS(Gt){if(!this.enableScripting)return;const Rt=this.annotationStorage.getRawValue(this.data.id);if(!Rt)return;const Vt=this._commonActions;for(const[Kt,ln]of Object.entries(Rt)){const gn=Vt[Kt];if(gn){const Pn={detail:{[Kt]:ln},target:Gt};gn(Pn),delete Rt[Kt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Gt}=this.data;if(!Gt)return;const[Rt,Vt,Kt,ln]=this.data.rect;if(Gt.length===1){const[,{x:Ir,y:Vr},{x:Hr,y:fs}]=Gt[0];if(Kt===Ir&&ln===Vr&&Rt===Hr&&Vt===fs)return}const{style:gn}=this.container;let Pn;if(wt(this,It)){const{borderColor:Ir,borderWidth:Vr}=gn;gn.borderWidth=0,Pn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ir}" stroke-width="${Vr}">`],this.container.classList.add("hasBorder")}const Bn=Kt-Rt,Zn=ln-Vt,{svgFactory:Jn}=this,rr=Jn.createElement("svg");rr.classList.add("quadrilateralsContainer"),rr.setAttribute("width",0),rr.setAttribute("height",0);const tr=Jn.createElement("defs");rr.append(tr);const nr=Jn.createElement("clipPath"),yr=`clippath_${this.data.id}`;nr.setAttribute("id",yr),nr.setAttribute("clipPathUnits","objectBoundingBox"),tr.append(nr);for(const[,{x:Ir,y:Vr},{x:Hr,y:fs}]of Gt){const Zr=Jn.createElement("rect"),Ps=(Hr-Rt)/Bn,Rs=(ln-Vr)/Zn,ts=(Ir-Hr)/Bn,ro=(Vr-fs)/Zn;Zr.setAttribute("x",Ps),Zr.setAttribute("y",Rs),Zr.setAttribute("width",ts),Zr.setAttribute("height",ro),nr.append(Zr),Pn==null||Pn.push(`<rect vector-effect="non-scaling-stroke" x="${Ps}" y="${Rs}" width="${ts}" height="${ro}"/>`)}wt(this,It)&&(Pn.push("</g></svg>')"),gn.backgroundImage=Pn.join("")),this.container.append(rr),this.container.style.clipPath=`url(#${yr})`}_createPopup(){const{container:Gt,data:Rt}=this;Gt.setAttribute("aria-haspopup","dialog");const Vt=new Ct({data:{color:Rt.color,titleObj:Rt.titleObj,modificationDate:Rt.modificationDate,contentsObj:Rt.contentsObj,richText:Rt.richText,parentRect:Rt.rect,borderStyle:0,id:`popup_${Rt.id}`,rotation:Rt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Vt.render())}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Gt,Rt=null){const Vt=[];if(this._fieldObjects){const Kt=this._fieldObjects[Gt];if(Kt)for(const{page:ln,id:gn,exportValues:Pn}of Kt){if(ln===-1||gn===Rt)continue;const Bn=typeof Pn=="string"?Pn:null,Zn=document.querySelector(`[data-element-id="${gn}"]`);if(Zn&&!ct.has(Zn)){(0,tt.warn)(`_getElementsByName - element not allowed: ${gn}`);continue}Vt.push({id:gn,exportValue:Bn,domElement:Zn})}return Vt}for(const Kt of document.getElementsByName(Gt)){const{exportValue:ln}=Kt,gn=Kt.getAttribute("data-element-id");gn!==Rt&&ct.has(Kt)&&Vt.push({id:gn,exportValue:ln,domElement:Kt})}return Vt}show(){var Gt;this.container&&(this.container.hidden=!1),(Gt=this.popup)==null||Gt.maybeShow()}hide(){var Gt;this.container&&(this.container.hidden=!0),(Gt=this.popup)==null||Gt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Gt=this.getElementsToTriggerPopup();if(Array.isArray(Gt))for(const Rt of Gt)Rt.classList.add("highlightArea");else Gt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Gt,data:{id:Rt}}=this;this.container.addEventListener("dblclick",()=>{var Vt;(Vt=this.linkService.eventBus)==null||Vt.dispatch("switchannotationeditormode",{source:this,mode:Gt,editId:Rt})})}};It=new WeakMap;let pt=Tt;class ut extends pt{constructor(Rt,Vt=null){super(Rt,{isRenderable:!0,ignoreBorder:!!(Vt!=null&&Vt.ignoreBorder),createQuadrilaterals:!0});Qt(this,Dt);Qt(this,jt);this.isTooltipOnly=Rt.data.isTooltipOnly}render(){const{data:Rt,linkService:Vt}=this,Kt=document.createElement("a");Kt.setAttribute("data-element-id",Rt.id);let ln=!1;return Rt.url?(Vt.addLinkAttributes(Kt,Rt.url,Rt.newWindow),ln=!0):Rt.action?(this._bindNamedAction(Kt,Rt.action),ln=!0):Rt.attachment?(this._bindAttachment(Kt,Rt.attachment),ln=!0):Rt.setOCGState?(hn(this,jt,lp).call(this,Kt,Rt.setOCGState),ln=!0):Rt.dest?(this._bindLink(Kt,Rt.dest),ln=!0):(Rt.actions&&(Rt.actions.Action||Rt.actions["Mouse Up"]||Rt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Kt,Rt),ln=!0),Rt.resetForm?(this._bindResetFormAction(Kt,Rt.resetForm),ln=!0):this.isTooltipOnly&&!ln&&(this._bindLink(Kt,""),ln=!0)),this.container.classList.add("linkAnnotation"),ln&&this.container.append(Kt),this.container}_bindLink(Rt,Vt){Rt.href=this.linkService.getDestinationHash(Vt),Rt.onclick=()=>(Vt&&this.linkService.goToDestination(Vt),!1),(Vt||Vt==="")&&hn(this,Dt,no).call(this)}_bindNamedAction(Rt,Vt){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>(this.linkService.executeNamedAction(Vt),!1),hn(this,Dt,no).call(this)}_bindAttachment(Rt,Vt){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>{var Kt;return(Kt=this.downloadManager)==null||Kt.openOrDownloadData(this.container,Vt.content,Vt.filename),!1},hn(this,Dt,no).call(this)}_bindJSAction(Rt,Vt){Rt.href=this.linkService.getAnchorUrl("");const Kt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ln of Object.keys(Vt.actions)){const gn=Kt.get(ln);gn&&(Rt[gn]=()=>{var Pn;return(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vt.id,name:ln}}),!1})}Rt.onclick||(Rt.onclick=()=>!1),hn(this,Dt,no).call(this)}_bindResetFormAction(Rt,Vt){const Kt=Rt.onclick;if(Kt||(Rt.href=this.linkService.getAnchorUrl("")),hn(this,Dt,no).call(this),!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Kt||(Rt.onclick=()=>!1);return}Rt.onclick=()=>{var rr;Kt==null||Kt();const{fields:ln,refs:gn,include:Pn}=Vt,Bn=[];if(ln.length!==0||gn.length!==0){const tr=new Set(gn);for(const nr of ln){const yr=this._fieldObjects[nr]||[];for(const{id:Ir}of yr)tr.add(Ir)}for(const nr of Object.values(this._fieldObjects))for(const yr of nr)tr.has(yr.id)===Pn&&Bn.push(yr)}else for(const tr of Object.values(this._fieldObjects))Bn.push(...tr);const Zn=this.annotationStorage,Jn=[];for(const tr of Bn){const{id:nr}=tr;switch(Jn.push(nr),tr.type){case"text":{const Ir=tr.defaultValue||"";Zn.setValue(nr,{value:Ir});break}case"checkbox":case"radiobutton":{const Ir=tr.defaultValue===tr.exportValues;Zn.setValue(nr,{value:Ir});break}case"combobox":case"listbox":{const Ir=tr.defaultValue||"";Zn.setValue(nr,{value:Ir});break}default:continue}const yr=document.querySelector(`[data-element-id="${nr}"]`);if(yr){if(!ct.has(yr)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${nr}`);continue}}else continue;yr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Jn,name:"ResetForm"}})),!1}}}Dt=new WeakSet,no=function(){this.container.setAttribute("data-internal-link","")},jt=new WeakSet,lp=function(Rt,Vt){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>(this.linkService.executeSetOCGState(Vt),!1),hn(this,Dt,no).call(this)};class mt extends pt{constructor(Gt){super(Gt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Gt=document.createElement("img");return Gt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Gt.alt="[{{type}} Annotation]",Gt.dataset.l10nId="text_annotation_type",Gt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Gt),this.container}}class ft extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Gt){var Rt;this.data.hasOwnCanvas&&(((Rt=Gt.previousSibling)==null?void 0:Rt.nodeName)==="CANVAS"&&(Gt.previousSibling.hidden=!0),Gt.hidden=!1)}_getKeyModifier(Gt){const{isWin:Rt,isMac:Vt}=tt.FeatureTest.platform;return Rt&&Gt.ctrlKey||Vt&&Gt.metaKey}_setEventListener(Gt,Rt,Vt,Kt,ln){Vt.includes("mouse")?Gt.addEventListener(Vt,gn=>{var Pn;(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:ln(gn),shift:gn.shiftKey,modifier:this._getKeyModifier(gn)}})}):Gt.addEventListener(Vt,gn=>{var Pn;if(Vt==="blur"){if(!Rt.focused||!gn.relatedTarget)return;Rt.focused=!1}else if(Vt==="focus"){if(Rt.focused)return;Rt.focused=!0}ln&&((Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:ln(gn)}}))})}_setEventListeners(Gt,Rt,Vt,Kt){var ln,gn,Pn;for(const[Bn,Zn]of Vt)(Zn==="Action"||(ln=this.data.actions)!=null&&ln[Zn])&&((Zn==="Focus"||Zn==="Blur")&&(Rt||(Rt={focused:!1})),this._setEventListener(Gt,Rt,Bn,Zn,Kt),Zn==="Focus"&&!((gn=this.data.actions)!=null&&gn.Blur)?this._setEventListener(Gt,Rt,"blur","Blur",null):Zn==="Blur"&&!((Pn=this.data.actions)!=null&&Pn.Focus)&&this._setEventListener(Gt,Rt,"focus","Focus",null))}_setBackgroundColor(Gt){const Rt=this.data.backgroundColor||null;Gt.style.backgroundColor=Rt===null?"transparent":tt.Util.makeHexColor(Rt[0],Rt[1],Rt[2])}_setTextStyle(Gt){const Rt=["left","center","right"],{fontColor:Vt}=this.data.defaultAppearanceData,Kt=this.data.defaultAppearanceData.fontSize||lt,ln=Gt.style;let gn;const Pn=2,Bn=Zn=>Math.round(10*Zn)/10;if(this.data.multiLine){const Zn=Math.abs(this.data.rect[3]-this.data.rect[1]-Pn),Jn=Math.round(Zn/(tt.LINE_FACTOR*Kt))||1,rr=Zn/Jn;gn=Math.min(Kt,Bn(rr/tt.LINE_FACTOR))}else{const Zn=Math.abs(this.data.rect[3]-this.data.rect[1]-Pn);gn=Math.min(Kt,Bn(Zn/tt.LINE_FACTOR))}ln.fontSize=`calc(${gn}px * var(--scale-factor))`,ln.color=tt.Util.makeHexColor(Vt[0],Vt[1],Vt[2]),this.data.textAlignment!==null&&(ln.textAlign=Rt[this.data.textAlignment])}_setRequired(Gt,Rt){Rt?Gt.setAttribute("required",!0):Gt.removeAttribute("required"),Gt.setAttribute("aria-required",Rt)}}class gt extends ft{constructor(Gt){const Rt=Gt.renderForms||!Gt.data.hasAppearance&&!!Gt.data.fieldValue;super(Gt,{isRenderable:Rt})}setPropertyOnSiblings(Gt,Rt,Vt,Kt){const ln=this.annotationStorage;for(const gn of this._getElementsByName(Gt.name,Gt.id))gn.domElement&&(gn.domElement[Rt]=Vt),ln.setValue(gn.id,{[Kt]:Vt})}render(){var Kt,ln;const Gt=this.annotationStorage,Rt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Vt=null;if(this.renderForms){const gn=Gt.getValue(Rt,{value:this.data.fieldValue});let Pn=gn.value||"";const Bn=Gt.getValue(Rt,{charLimit:this.data.maxLen}).charLimit;Bn&&Pn.length>Bn&&(Pn=Pn.slice(0,Bn));let Zn=gn.formattedValue||((Kt=this.data.textContent)==null?void 0:Kt.join(`
`))||null;Zn&&this.data.comb&&(Zn=Zn.replaceAll(/\s+/g,""));const Jn={userValue:Pn,formattedValue:Zn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Vt=document.createElement("textarea"),Vt.textContent=Zn??Pn,this.data.doNotScroll&&(Vt.style.overflowY="hidden")):(Vt=document.createElement("input"),Vt.type="text",Vt.setAttribute("value",Zn??Pn),this.data.doNotScroll&&(Vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Vt.hidden=!0),ct.add(Vt),Vt.setAttribute("data-element-id",Rt),Vt.disabled=this.data.readOnly,Vt.name=this.data.fieldName,Vt.tabIndex=at,this._setRequired(Vt,this.data.required),Bn&&(Vt.maxLength=Bn),Vt.addEventListener("input",tr=>{Gt.setValue(Rt,{value:tr.target.value}),this.setPropertyOnSiblings(Vt,"value",tr.target.value,"value"),Jn.formattedValue=null}),Vt.addEventListener("resetform",tr=>{const nr=this.data.defaultFieldValue??"";Vt.value=Jn.userValue=nr,Jn.formattedValue=null});let rr=tr=>{const{formattedValue:nr}=Jn;nr!=null&&(tr.target.value=nr),tr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Vt.addEventListener("focus",nr=>{if(Jn.focused)return;const{target:yr}=nr;Jn.userValue&&(yr.value=Jn.userValue),Jn.lastCommittedValue=yr.value,Jn.commitKey=1,Jn.focused=!0}),Vt.addEventListener("updatefromsandbox",nr=>{this.showElementAndHideCanvas(nr.target);const yr={value(Ir){Jn.userValue=Ir.detail.value??"",Gt.setValue(Rt,{value:Jn.userValue.toString()}),Ir.target.value=Jn.userValue},formattedValue(Ir){const{formattedValue:Vr}=Ir.detail;Jn.formattedValue=Vr,Vr!=null&&Ir.target!==document.activeElement&&(Ir.target.value=Vr),Gt.setValue(Rt,{formattedValue:Vr})},selRange(Ir){Ir.target.setSelectionRange(...Ir.detail.selRange)},charLimit:Ir=>{var Zr;const{charLimit:Vr}=Ir.detail,{target:Hr}=Ir;if(Vr===0){Hr.removeAttribute("maxLength");return}Hr.setAttribute("maxLength",Vr);let fs=Jn.userValue;!fs||fs.length<=Vr||(fs=fs.slice(0,Vr),Hr.value=Jn.userValue=fs,Gt.setValue(Rt,{value:fs}),(Zr=this.linkService.eventBus)==null||Zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:fs,willCommit:!0,commitKey:1,selStart:Hr.selectionStart,selEnd:Hr.selectionEnd}}))}};this._dispatchEventFromSandbox(yr,nr)}),Vt.addEventListener("keydown",nr=>{var Vr;Jn.commitKey=1;let yr=-1;if(nr.key==="Escape"?yr=0:nr.key==="Enter"&&!this.data.multiLine?yr=2:nr.key==="Tab"&&(Jn.commitKey=3),yr===-1)return;const{value:Ir}=nr.target;Jn.lastCommittedValue!==Ir&&(Jn.lastCommittedValue=Ir,Jn.userValue=Ir,(Vr=this.linkService.eventBus)==null||Vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Ir,willCommit:!0,commitKey:yr,selStart:nr.target.selectionStart,selEnd:nr.target.selectionEnd}}))});const tr=rr;rr=null,Vt.addEventListener("blur",nr=>{var Ir;if(!Jn.focused||!nr.relatedTarget)return;Jn.focused=!1;const{value:yr}=nr.target;Jn.userValue=yr,Jn.lastCommittedValue!==yr&&((Ir=this.linkService.eventBus)==null||Ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:yr,willCommit:!0,commitKey:Jn.commitKey,selStart:nr.target.selectionStart,selEnd:nr.target.selectionEnd}})),tr(nr)}),(ln=this.data.actions)!=null&&ln.Keystroke&&Vt.addEventListener("beforeinput",nr=>{var Rs;Jn.lastCommittedValue=null;const{data:yr,target:Ir}=nr,{value:Vr,selectionStart:Hr,selectionEnd:fs}=Ir;let Zr=Hr,Ps=fs;switch(nr.inputType){case"deleteWordBackward":{const ts=Vr.substring(0,Hr).match(/\w*[^\w]*$/);ts&&(Zr-=ts[0].length);break}case"deleteWordForward":{const ts=Vr.substring(Hr).match(/^[^\w]*\w*/);ts&&(Ps+=ts[0].length);break}case"deleteContentBackward":Hr===fs&&(Zr-=1);break;case"deleteContentForward":Hr===fs&&(Ps+=1);break}nr.preventDefault(),(Rs=this.linkService.eventBus)==null||Rs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Vr,change:yr||"",willCommit:!1,selStart:Zr,selEnd:Ps}})}),this._setEventListeners(Vt,Jn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nr=>nr.target.value)}if(rr&&Vt.addEventListener("blur",rr),this.data.comb){const nr=(this.data.rect[2]-this.data.rect[0])/Bn;Vt.classList.add("comb"),Vt.style.letterSpacing=`calc(${nr}px * var(--scale-factor) - 1ch)`}}else Vt=document.createElement("div"),Vt.textContent=this.data.fieldValue,Vt.style.verticalAlign="middle",Vt.style.display="table-cell";return this._setTextStyle(Vt),this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class vt extends ft{constructor(Gt){super(Gt,{isRenderable:!!Gt.data.hasOwnCanvas})}}class bt extends ft{constructor(Gt){super(Gt,{isRenderable:Gt.renderForms})}render(){const Gt=this.annotationStorage,Rt=this.data,Vt=Rt.id;let Kt=Gt.getValue(Vt,{value:Rt.exportValue===Rt.fieldValue}).value;typeof Kt=="string"&&(Kt=Kt!=="Off",Gt.setValue(Vt,{value:Kt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ln=document.createElement("input");return ct.add(ln),ln.setAttribute("data-element-id",Vt),ln.disabled=Rt.readOnly,this._setRequired(ln,this.data.required),ln.type="checkbox",ln.name=Rt.fieldName,Kt&&ln.setAttribute("checked",!0),ln.setAttribute("exportValue",Rt.exportValue),ln.tabIndex=at,ln.addEventListener("change",gn=>{const{name:Pn,checked:Bn}=gn.target;for(const Zn of this._getElementsByName(Pn,Vt)){const Jn=Bn&&Zn.exportValue===Rt.exportValue;Zn.domElement&&(Zn.domElement.checked=Jn),Gt.setValue(Zn.id,{value:Jn})}Gt.setValue(Vt,{value:Bn})}),ln.addEventListener("resetform",gn=>{const Pn=Rt.defaultFieldValue||"Off";gn.target.checked=Pn===Rt.exportValue}),this.enableScripting&&this.hasJSActions&&(ln.addEventListener("updatefromsandbox",gn=>{const Pn={value(Bn){Bn.target.checked=Bn.detail.value!=="Off",Gt.setValue(Vt,{value:Bn.target.checked})}};this._dispatchEventFromSandbox(Pn,gn)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gn=>gn.target.checked)),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class Et extends ft{constructor(Gt){super(Gt,{isRenderable:Gt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Gt=this.annotationStorage,Rt=this.data,Vt=Rt.id;let Kt=Gt.getValue(Vt,{value:Rt.fieldValue===Rt.buttonValue}).value;typeof Kt=="string"&&(Kt=Kt!==Rt.buttonValue,Gt.setValue(Vt,{value:Kt}));const ln=document.createElement("input");if(ct.add(ln),ln.setAttribute("data-element-id",Vt),ln.disabled=Rt.readOnly,this._setRequired(ln,this.data.required),ln.type="radio",ln.name=Rt.fieldName,Kt&&ln.setAttribute("checked",!0),ln.tabIndex=at,ln.addEventListener("change",gn=>{const{name:Pn,checked:Bn}=gn.target;for(const Zn of this._getElementsByName(Pn,Vt))Gt.setValue(Zn.id,{value:!1});Gt.setValue(Vt,{value:Bn})}),ln.addEventListener("resetform",gn=>{const Pn=Rt.defaultFieldValue;gn.target.checked=Pn!=null&&Pn===Rt.buttonValue}),this.enableScripting&&this.hasJSActions){const gn=Rt.buttonValue;ln.addEventListener("updatefromsandbox",Pn=>{const Bn={value:Zn=>{const Jn=gn===Zn.detail.value;for(const rr of this._getElementsByName(Zn.target.name)){const tr=Jn&&rr.id===Vt;rr.domElement&&(rr.domElement.checked=tr),Gt.setValue(rr.id,{value:tr})}}};this._dispatchEventFromSandbox(Bn,Pn)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pn=>Pn.target.checked)}return this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class xt extends ut{constructor(Gt){super(Gt,{ignoreBorder:Gt.data.hasAppearance})}render(){const Gt=super.render();Gt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Gt.title=this.data.alternativeText);const Rt=Gt.lastChild;return this.enableScripting&&this.hasJSActions&&Rt&&(this._setDefaultPropertiesFromJS(Rt),Rt.addEventListener("updatefromsandbox",Vt=>{this._dispatchEventFromSandbox({},Vt)})),Gt}}class kt extends ft{constructor(Gt){super(Gt,{isRenderable:Gt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Gt=this.annotationStorage,Rt=this.data.id,Vt=Gt.getValue(Rt,{value:this.data.fieldValue}),Kt=document.createElement("select");ct.add(Kt),Kt.setAttribute("data-element-id",Rt),Kt.disabled=this.data.readOnly,this._setRequired(Kt,this.data.required),Kt.name=this.data.fieldName,Kt.tabIndex=at;let ln=this.data.combo&&this.data.options.length>0;this.data.combo||(Kt.size=this.data.options.length,this.data.multiSelect&&(Kt.multiple=!0)),Kt.addEventListener("resetform",Jn=>{const rr=this.data.defaultFieldValue;for(const tr of Kt.options)tr.selected=tr.value===rr});for(const Jn of this.data.options){const rr=document.createElement("option");rr.textContent=Jn.displayValue,rr.value=Jn.exportValue,Vt.value.includes(Jn.exportValue)&&(rr.setAttribute("selected",!0),ln=!1),Kt.append(rr)}let gn=null;if(ln){const Jn=document.createElement("option");Jn.value=" ",Jn.setAttribute("hidden",!0),Jn.setAttribute("selected",!0),Kt.prepend(Jn),gn=()=>{Jn.remove(),Kt.removeEventListener("input",gn),gn=null},Kt.addEventListener("input",gn)}const Pn=Jn=>{const rr=Jn?"value":"textContent",{options:tr,multiple:nr}=Kt;return nr?Array.prototype.filter.call(tr,yr=>yr.selected).map(yr=>yr[rr]):tr.selectedIndex===-1?null:tr[tr.selectedIndex][rr]};let Bn=Pn(!1);const Zn=Jn=>{const rr=Jn.target.options;return Array.prototype.map.call(rr,tr=>({displayValue:tr.textContent,exportValue:tr.value}))};return this.enableScripting&&this.hasJSActions?(Kt.addEventListener("updatefromsandbox",Jn=>{const rr={value(tr){gn==null||gn();const nr=tr.detail.value,yr=new Set(Array.isArray(nr)?nr:[nr]);for(const Ir of Kt.options)Ir.selected=yr.has(Ir.value);Gt.setValue(Rt,{value:Pn(!0)}),Bn=Pn(!1)},multipleSelection(tr){Kt.multiple=!0},remove(tr){const nr=Kt.options,yr=tr.detail.remove;nr[yr].selected=!1,Kt.remove(yr),nr.length>0&&Array.prototype.findIndex.call(nr,Vr=>Vr.selected)===-1&&(nr[0].selected=!0),Gt.setValue(Rt,{value:Pn(!0),items:Zn(tr)}),Bn=Pn(!1)},clear(tr){for(;Kt.length!==0;)Kt.remove(0);Gt.setValue(Rt,{value:null,items:[]}),Bn=Pn(!1)},insert(tr){const{index:nr,displayValue:yr,exportValue:Ir}=tr.detail.insert,Vr=Kt.children[nr],Hr=document.createElement("option");Hr.textContent=yr,Hr.value=Ir,Vr?Vr.before(Hr):Kt.append(Hr),Gt.setValue(Rt,{value:Pn(!0),items:Zn(tr)}),Bn=Pn(!1)},items(tr){const{items:nr}=tr.detail;for(;Kt.length!==0;)Kt.remove(0);for(const yr of nr){const{displayValue:Ir,exportValue:Vr}=yr,Hr=document.createElement("option");Hr.textContent=Ir,Hr.value=Vr,Kt.append(Hr)}Kt.options.length>0&&(Kt.options[0].selected=!0),Gt.setValue(Rt,{value:Pn(!0),items:Zn(tr)}),Bn=Pn(!1)},indices(tr){const nr=new Set(tr.detail.indices);for(const yr of tr.target.options)yr.selected=nr.has(yr.index);Gt.setValue(Rt,{value:Pn(!0)}),Bn=Pn(!1)},editable(tr){tr.target.disabled=!tr.detail.editable}};this._dispatchEventFromSandbox(rr,Jn)}),Kt.addEventListener("input",Jn=>{var tr;const rr=Pn(!0);Gt.setValue(Rt,{value:rr}),Jn.preventDefault(),(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Bn,changeEx:rr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Kt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Jn=>Jn.target.value)):Kt.addEventListener("input",function(Jn){Gt.setValue(Rt,{value:Pn(!0)})}),this.data.combo&&this._setTextStyle(Kt),this._setBackgroundColor(Kt),this._setDefaultPropertiesFromJS(Kt),this.container.append(Kt),this.container}}class Ct extends pt{constructor(Gt){const{data:Rt,elements:Vt}=Gt;super(Gt,{isRenderable:pt._hasPopupData(Rt)}),this.elements=Vt}render(){this.container.classList.add("popupAnnotation");const Gt=new At({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Rt=[];for(const Vt of this.elements)Vt.popup=Gt,Rt.push(Vt.data.id),Vt.addHighlightArea();return this.container.setAttribute("aria-controls",Rt.map(Vt=>`${tt.AnnotationPrefix}${Vt}`).join(",")),this.container}}class At{constructor({container:Gt,color:Rt,elements:Vt,titleObj:Kt,modificationDate:ln,contentsObj:gn,richText:Pn,parent:Bn,rect:Zn,parentRect:Jn,open:rr}){Qt(this,ur);Qt(this,sr);Qt(this,wr);Qt(this,Er);Qt(this,Zt,null);Qt(this,bn,hn(this,ur,cp).bind(this));Qt(this,En,hn(this,Er,Fu).bind(this));Qt(this,In,hn(this,wr,Mu).bind(this));Qt(this,$n,hn(this,sr,Tl).bind(this));Qt(this,Hn,null);Qt(this,Bt,null);Qt(this,sn,null);Qt(this,xn,null);Qt(this,Cn,null);Qt(this,kn,null);Qt(this,cn,!1);Qt(this,nn,null);Qt(this,dn,null);Qt(this,mn,null);Qt(this,zn,null);Qt(this,Gn,!1);var nr;Rn(this,Bt,Gt),Rn(this,zn,Kt),Rn(this,sn,gn),Rn(this,mn,Pn),Rn(this,Cn,Bn),Rn(this,Hn,Rt),Rn(this,dn,Zn),Rn(this,kn,Jn),Rn(this,xn,Vt);const tr=nt.PDFDateString.toDateObject(ln);tr&&Rn(this,Zt,Bn.l10n.get("annotation_date_string",{date:tr.toLocaleDateString(),time:tr.toLocaleTimeString()})),this.trigger=Vt.flatMap(yr=>yr.getElementsToTriggerPopup());for(const yr of this.trigger)yr.addEventListener("click",wt(this,$n)),yr.addEventListener("mouseenter",wt(this,In)),yr.addEventListener("mouseleave",wt(this,En)),yr.classList.add("popupTriggerArea");for(const yr of Vt)(nr=yr.container)==null||nr.addEventListener("keydown",wt(this,bn));wt(this,Bt).hidden=!0,rr&&hn(this,sr,Tl).call(this)}render(){if(wt(this,nn))return;const{page:{view:Gt},viewport:{rawDims:{pageWidth:Rt,pageHeight:Vt,pageX:Kt,pageY:ln}}}=wt(this,Cn),gn=Rn(this,nn,document.createElement("div"));if(gn.className="popup",wt(this,Hn)){const Zr=gn.style.outlineColor=tt.Util.makeHexColor(...wt(this,Hn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?gn.style.backgroundColor=`color-mix(in srgb, ${Zr} 30%, white)`:gn.style.backgroundColor=tt.Util.makeHexColor(...wt(this,Hn).map(Rs=>Math.floor(.7*(255-Rs)+Rs)))}const Pn=document.createElement("span");Pn.className="header";const Bn=document.createElement("h1");if(Pn.append(Bn),{dir:Bn.dir,str:Bn.textContent}=wt(this,zn),gn.append(Pn),wt(this,Zt)){const Zr=document.createElement("span");Zr.classList.add("popupDate"),wt(this,Zt).then(Ps=>{Zr.textContent=Ps}),Pn.append(Zr)}const Zn=wt(this,sn),Jn=wt(this,mn);if(Jn!=null&&Jn.str&&(!(Zn!=null&&Zn.str)||Zn.str===Jn.str))ot.XfaLayer.render({xfaHtml:Jn.html,intent:"richText",div:gn}),gn.lastChild.classList.add("richText","popupContent");else{const Zr=this._formatContents(Zn);gn.append(Zr)}let rr=!!wt(this,kn),tr=rr?wt(this,kn):wt(this,dn);for(const Zr of wt(this,xn))if(!tr||tt.Util.intersect(Zr.data.rect,tr)!==null){tr=Zr.data.rect,rr=!0;break}const nr=tt.Util.normalizeRect([tr[0],Gt[3]-tr[1]+Gt[1],tr[2],Gt[3]-tr[3]+Gt[1]]),yr=5,Ir=rr?tr[2]-tr[0]+yr:0,Vr=nr[0]+Ir,Hr=nr[1],{style:fs}=wt(this,Bt);fs.left=`${100*(Vr-Kt)/Rt}%`,fs.top=`${100*(Hr-ln)/Vt}%`,wt(this,Bt).append(gn)}_formatContents({str:Gt,dir:Rt}){const Vt=document.createElement("p");Vt.classList.add("popupContent"),Vt.dir=Rt;const Kt=Gt.split(/(?:\r\n?|\n)/);for(let ln=0,gn=Kt.length;ln<gn;++ln){const Pn=Kt[ln];Vt.append(document.createTextNode(Pn)),ln<gn-1&&Vt.append(document.createElement("br"))}return Vt}forceHide(){Rn(this,Gn,this.isVisible),wt(this,Gn)&&(wt(this,Bt).hidden=!0)}maybeShow(){wt(this,Gn)&&(Rn(this,Gn,!1),wt(this,Bt).hidden=!1)}get isVisible(){return wt(this,Bt).hidden===!1}}Zt=new WeakMap,bn=new WeakMap,En=new WeakMap,In=new WeakMap,$n=new WeakMap,Hn=new WeakMap,Bt=new WeakMap,sn=new WeakMap,xn=new WeakMap,Cn=new WeakMap,kn=new WeakMap,cn=new WeakMap,nn=new WeakMap,dn=new WeakMap,mn=new WeakMap,zn=new WeakMap,Gn=new WeakMap,ur=new WeakSet,cp=function(Gt){Gt.altKey||Gt.shiftKey||Gt.ctrlKey||Gt.metaKey||(Gt.key==="Enter"||Gt.key==="Escape"&&wt(this,cn))&&hn(this,sr,Tl).call(this)},sr=new WeakSet,Tl=function(){Rn(this,cn,!wt(this,cn)),wt(this,cn)?(hn(this,wr,Mu).call(this),wt(this,Bt).addEventListener("click",wt(this,$n)),wt(this,Bt).addEventListener("keydown",wt(this,bn))):(hn(this,Er,Fu).call(this),wt(this,Bt).removeEventListener("click",wt(this,$n)),wt(this,Bt).removeEventListener("keydown",wt(this,bn)))},wr=new WeakSet,Mu=function(){wt(this,nn)||this.render(),this.isVisible?wt(this,cn)&&wt(this,Bt).classList.add("focused"):(wt(this,Bt).hidden=!1,wt(this,Bt).style.zIndex=parseInt(wt(this,Bt).style.zIndex)+1e3)},Er=new WeakSet,Fu=function(){wt(this,Bt).classList.remove("focused"),!(wt(this,cn)||!this.isVisible)&&(wt(this,Bt).hidden=!0,wt(this,Bt).style.zIndex=parseInt(wt(this,Bt).style.zIndex)-1e3)};class Lt extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Gt.data.textContent,this.textPosition=Gt.data.textPosition,this.annotationEditorType=tt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Gt=document.createElement("div");Gt.classList.add("annotationTextContent"),Gt.setAttribute("role","comment");for(const Rt of this.textContent){const Vt=document.createElement("span");Vt.textContent=Rt,Gt.append(Vt)}this.container.append(Gt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_.FreeTextAnnotationElement=Lt;class Mt extends pt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Qt(this,pn,null)}render(){this.container.classList.add("lineAnnotation");const Rt=this.data,{width:Vt,height:Kt}=dt(Rt.rect),ln=this.svgFactory.create(Vt,Kt,!0),gn=Rn(this,pn,this.svgFactory.createElement("svg:line"));return gn.setAttribute("x1",Rt.rect[2]-Rt.lineCoordinates[0]),gn.setAttribute("y1",Rt.rect[3]-Rt.lineCoordinates[1]),gn.setAttribute("x2",Rt.rect[2]-Rt.lineCoordinates[2]),gn.setAttribute("y2",Rt.rect[3]-Rt.lineCoordinates[3]),gn.setAttribute("stroke-width",Rt.borderStyle.width||1),gn.setAttribute("stroke","transparent"),gn.setAttribute("fill","transparent"),ln.append(gn),this.container.append(ln),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap;class Ht extends pt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Qt(this,on,null)}render(){this.container.classList.add("squareAnnotation");const Rt=this.data,{width:Vt,height:Kt}=dt(Rt.rect),ln=this.svgFactory.create(Vt,Kt,!0),gn=Rt.borderStyle.width,Pn=Rn(this,on,this.svgFactory.createElement("svg:rect"));return Pn.setAttribute("x",gn/2),Pn.setAttribute("y",gn/2),Pn.setAttribute("width",Vt-gn),Pn.setAttribute("height",Kt-gn),Pn.setAttribute("stroke-width",gn||1),Pn.setAttribute("stroke","transparent"),Pn.setAttribute("fill","transparent"),ln.append(Pn),this.container.append(ln),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,on)}addHighlightArea(){this.container.classList.add("highlightArea")}}on=new WeakMap;class zt extends pt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Qt(this,jn,null)}render(){this.container.classList.add("circleAnnotation");const Rt=this.data,{width:Vt,height:Kt}=dt(Rt.rect),ln=this.svgFactory.create(Vt,Kt,!0),gn=Rt.borderStyle.width,Pn=Rn(this,jn,this.svgFactory.createElement("svg:ellipse"));return Pn.setAttribute("cx",Vt/2),Pn.setAttribute("cy",Kt/2),Pn.setAttribute("rx",Vt/2-gn/2),Pn.setAttribute("ry",Kt/2-gn/2),Pn.setAttribute("stroke-width",gn||1),Pn.setAttribute("stroke","transparent"),Pn.setAttribute("fill","transparent"),ln.append(Pn),this.container.append(ln),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,jn)}addHighlightArea(){this.container.classList.add("highlightArea")}}jn=new WeakMap;class Nt extends pt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Qt(this,On,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Rt=this.data,{width:Vt,height:Kt}=dt(Rt.rect),ln=this.svgFactory.create(Vt,Kt,!0);let gn=[];for(const Bn of Rt.vertices){const Zn=Bn.x-Rt.rect[0],Jn=Rt.rect[3]-Bn.y;gn.push(Zn+","+Jn)}gn=gn.join(" ");const Pn=Rn(this,On,this.svgFactory.createElement(this.svgElementName));return Pn.setAttribute("points",gn),Pn.setAttribute("stroke-width",Rt.borderStyle.width||1),Pn.setAttribute("stroke","transparent"),Pn.setAttribute("fill","transparent"),ln.append(Pn),this.container.append(ln),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,On)}addHighlightArea(){this.container.classList.add("highlightArea")}}On=new WeakMap;class Xt extends Nt{constructor(Gt){super(Gt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rn extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wn extends pt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Qt(this,$r,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Rt=this.data,{width:Vt,height:Kt}=dt(Rt.rect),ln=this.svgFactory.create(Vt,Kt,!0);for(const gn of Rt.inkLists){let Pn=[];for(const Zn of gn){const Jn=Zn.x-Rt.rect[0],rr=Rt.rect[3]-Zn.y;Pn.push(`${Jn},${rr}`)}Pn=Pn.join(" ");const Bn=this.svgFactory.createElement(this.svgElementName);wt(this,$r).push(Bn),Bn.setAttribute("points",Pn),Bn.setAttribute("stroke-width",Rt.borderStyle.width||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),ln.append(Bn)}return this.container.append(ln),this.container}getElementsToTriggerPopup(){return wt(this,$r)}addHighlightArea(){this.container.classList.add("highlightArea")}}$r=new WeakMap,_.InkAnnotationElement=wn;class Wt extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class fn extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Tn extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Fn extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Mn extends pt{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_.StampAnnotationElement=Mn;class Ut extends pt{constructor(Rt){var ln;super(Rt,{isRenderable:!0});Qt(this,yn);Qt(this,Gr,null);const{filename:Vt,content:Kt}=this.data.file;this.filename=(0,nt.getFilenameFromUrl)(Vt,!0),this.content=Kt,(ln=this.linkService.eventBus)==null||ln.dispatch("fileattachmentannotation",{source:this,filename:Vt,content:Kt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Rt,data:Vt}=this;let Kt;Vt.hasAppearance||Vt.fillAlpha===0?Kt=document.createElement("div"):(Kt=document.createElement("img"),Kt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Vt.name)?"paperclip":"pushpin"}.svg`,Vt.fillAlpha&&Vt.fillAlpha<1&&(Kt.style=`filter: opacity(${Math.round(Vt.fillAlpha*100)}%);`)),Kt.addEventListener("dblclick",hn(this,yn,Lu).bind(this)),Rn(this,Gr,Kt);const{isMac:ln}=tt.FeatureTest.platform;return Rt.addEventListener("keydown",gn=>{gn.key==="Enter"&&(ln?gn.metaKey:gn.ctrlKey)&&hn(this,yn,Lu).call(this)}),!Vt.popupRef&&this.hasPopupData?this._createPopup():Kt.classList.add("popupTriggerArea"),Rt.append(Kt),Rt}getElementsToTriggerPopup(){return wt(this,Gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gr=new WeakMap,yn=new WeakSet,Lu=function(){var Rt;(Rt=this.downloadManager)==null||Rt.openOrDownloadData(this.container,this.content,this.filename)};class St{constructor({div:Gt,accessibilityManager:Rt,annotationCanvasMap:Vt,l10n:Kt,page:ln,viewport:gn}){Qt(this,hr);Qt(this,Wn);Qt(this,ar,null);Qt(this,Xn,null);Qt(this,lr,new Map);this.div=Gt,Rn(this,ar,Rt),Rn(this,Xn,Vt),this.l10n=Kt,this.page=ln,this.viewport=gn,this.zIndex=0,this.l10n||(this.l10n=st.NullL10n)}async render(Gt){const{annotations:Rt}=Gt,Vt=this.div;(0,nt.setLayerDimensions)(Vt,this.viewport);const Kt=new Map,ln={data:null,layer:Vt,linkService:Gt.linkService,downloadManager:Gt.downloadManager,imageResourcesPath:Gt.imageResourcesPath||"",renderForms:Gt.renderForms!==!1,svgFactory:new nt.DOMSVGFactory,annotationStorage:Gt.annotationStorage||new rt.AnnotationStorage,enableScripting:Gt.enableScripting===!0,hasJSActions:Gt.hasJSActions,fieldObjects:Gt.fieldObjects,parent:this,elements:null};for(const gn of Rt){if(gn.noHTML)continue;const Pn=gn.annotationType===tt.AnnotationType.POPUP;if(Pn){const Jn=Kt.get(gn.id);if(!Jn)continue;ln.elements=Jn}else{const{width:Jn,height:rr}=dt(gn.rect);if(Jn<=0||rr<=0)continue}ln.data=gn;const Bn=_t.create(ln);if(!Bn.isRenderable)continue;if(!Pn&&gn.popupRef){const Jn=Kt.get(gn.popupRef);Jn?Jn.push(Bn):Kt.set(gn.popupRef,[Bn])}Bn.annotationEditorType>0&&wt(this,lr).set(Bn.data.id,Bn);const Zn=Bn.render();gn.hidden&&(Zn.style.visibility="hidden"),hn(this,hr,up).call(this,Zn,gn.id)}hn(this,Wn,Nu).call(this),await this.l10n.translate(Vt)}update({viewport:Gt}){const Rt=this.div;this.viewport=Gt,(0,nt.setLayerDimensions)(Rt,{rotation:Gt.rotation}),hn(this,Wn,Nu).call(this),Rt.hidden=!1}getEditableAnnotations(){return Array.from(wt(this,lr).values())}getEditableAnnotation(Gt){return wt(this,lr).get(Gt)}}ar=new WeakMap,Xn=new WeakMap,lr=new WeakMap,hr=new WeakSet,up=function(Gt,Rt){var Kt;const Vt=Gt.firstChild||Gt;Vt.id=`${tt.AnnotationPrefix}${Rt}`,this.div.append(Gt),(Kt=wt(this,ar))==null||Kt.moveElementInDOM(this.div,Gt,Vt,!1)},Wn=new WeakSet,Nu=function(){if(!wt(this,Xn))return;const Gt=this.div;for(const[Rt,Vt]of wt(this,Xn)){const Kt=Gt.querySelector(`[data-annotation-id="${Rt}"]`);if(!Kt)continue;const{firstChild:ln}=Kt;ln?ln.nodeName==="CANVAS"?ln.replaceWith(Vt):ln.before(Vt):Kt.append(Vt)}wt(this,Xn).clear()},_.AnnotationLayer=St},($,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorConverters=void 0;function et(rt){return Math.floor(Math.max(0,Math.min(1,rt))*255).toString(16).padStart(2,"0")}function tt(rt){return Math.max(0,Math.min(255,255*rt))}class nt{static CMYK_G([it,st,ot,at]){return["G",1-Math.min(1,.3*it+.59*ot+.11*st+at)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_rgb([it]){return it=tt(it),[it,it,it]}static G_HTML([it]){const st=et(it);return`#${st}${st}${st}`}static RGB_G([it,st,ot]){return["G",.3*it+.59*st+.11*ot]}static RGB_rgb(it){return it.map(tt)}static RGB_HTML(it){return`#${it.map(et).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([it,st,ot,at]){return["RGB",1-Math.min(1,it+at),1-Math.min(1,ot+at),1-Math.min(1,st+at)]}static CMYK_rgb([it,st,ot,at]){return[tt(1-Math.min(1,it+at)),tt(1-Math.min(1,ot+at)),tt(1-Math.min(1,st+at))]}static CMYK_HTML(it){const st=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(st)}static RGB_CMYK([it,st,ot]){const at=1-it,lt=1-st,ct=1-ot,dt=Math.min(at,lt,ct);return["CMYK",at,lt,ct,dt]}}_.ColorConverters=nt},($,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.getL10nFallback=tt;const et={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};et.print_progress_percent="{{progress}}%";function tt(it,st){switch(it){case"find_match_count":it=`find_match_count[${st.total===1?"one":"other"}]`;break;case"find_match_count_limit":it=`find_match_count_limit[${st.limit===1?"one":"other"}]`;break}return et[it]||""}function nt(it,st){return st?it.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ot,at)=>at in st?st[at]:"{{"+at+"}}"):it}const rt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(it,st=null,ot=tt(it,st)){return nt(ot,st)},async translate(it){}};_.NullL10n=rt},($,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayer=void 0;var tt=et(25);class nt{static setupStorage(it,st,ot,at,lt){const ct=at.getValue(st,{value:null});switch(ot.name){case"textarea":if(ct.value!==null&&(it.textContent=ct.value),lt==="print")break;it.addEventListener("input",dt=>{at.setValue(st,{value:dt.target.value})});break;case"input":if(ot.attributes.type==="radio"||ot.attributes.type==="checkbox"){if(ct.value===ot.attributes.xfaOn?it.setAttribute("checked",!0):ct.value===ot.attributes.xfaOff&&it.removeAttribute("checked"),lt==="print")break;it.addEventListener("change",dt=>{at.setValue(st,{value:dt.target.checked?dt.target.getAttribute("xfaOn"):dt.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&it.setAttribute("value",ct.value),lt==="print")break;it.addEventListener("input",dt=>{at.setValue(st,{value:dt.target.value})})}break;case"select":if(ct.value!==null){it.setAttribute("value",ct.value);for(const dt of ot.children)dt.attributes.value===ct.value?dt.attributes.selected=!0:dt.attributes.hasOwnProperty("selected")&&delete dt.attributes.selected}it.addEventListener("input",dt=>{const _t=dt.target.options,pt=_t.selectedIndex===-1?"":_t[_t.selectedIndex].value;at.setValue(st,{value:pt})});break}}static setAttributes({html:it,element:st,storage:ot=null,intent:at,linkService:lt}){const{attributes:ct}=st,dt=it instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${at}`);for(const[_t,pt]of Object.entries(ct))if(pt!=null)switch(_t){case"class":pt.length&&it.setAttribute(_t,pt.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",pt);break;case"style":Object.assign(it.style,pt);break;case"textContent":it.textContent=pt;break;default:(!dt||_t!=="href"&&_t!=="newWindow")&&it.setAttribute(_t,pt)}dt&&lt.addLinkAttributes(it,ct.href,ct.newWindow),ot&&ct.dataId&&this.setupStorage(it,ct.dataId,st,ot)}static render(it){var ut;const st=it.annotationStorage,ot=it.linkService,at=it.xfaHtml,lt=it.intent||"display",ct=document.createElement(at.name);at.attributes&&this.setAttributes({html:ct,element:at,intent:lt,linkService:ot});const dt=[[at,-1,ct]],_t=it.div;if(_t.append(ct),it.viewport){const mt=`matrix(${it.viewport.transform.join(",")})`;_t.style.transform=mt}lt!=="richText"&&_t.setAttribute("class","xfaLayer xfaFont");const pt=[];for(;dt.length>0;){const[mt,ft,gt]=dt.at(-1);if(ft+1===mt.children.length){dt.pop();continue}const vt=mt.children[++dt.at(-1)[1]];if(vt===null)continue;const{name:bt}=vt;if(bt==="#text"){const xt=document.createTextNode(vt.value);pt.push(xt),gt.append(xt);continue}const Et=(ut=vt==null?void 0:vt.attributes)!=null&&ut.xmlns?document.createElementNS(vt.attributes.xmlns,bt):document.createElement(bt);if(gt.append(Et),vt.attributes&&this.setAttributes({html:Et,element:vt,storage:st,intent:lt,linkService:ot}),vt.children&&vt.children.length>0)dt.push([vt,-1,Et]);else if(vt.value){const xt=document.createTextNode(vt.value);tt.XfaText.shouldBuildText(bt)&&pt.push(xt),Et.append(xt)}}for(const mt of _t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))mt.setAttribute("readOnly",!0);return{textDivs:pt}}static update(it){const st=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=st,it.div.hidden=!1}}_.XfaLayer=nt},($,_,et)=>{var at,lt,ct,dt,_t,pt,ut,mt,ft,gt,vt,bt,Et,xt,kt,dp,At,hp,Mt,fp,zt,pp,Xt,Vu,wn,mp,fn,ju,Fn,gp,Ut,_p,It,yp,Dt,vp,jt,Ep,Zt,Gs,En,Uu,$n,Rl,Bt,Pl,xn,po,kn,Bu,nn,Il,mn,wp,Gn,Wu,ir,bp,_r,xp,dr,Hu,Dn,Cl,on,mo;Object.defineProperty(_,"__esModule",{value:!0}),_.InkEditor=void 0;var tt=et(1),nt=et(4),rt=et(29),it=et(6),st=et(5);const On=class On extends nt.AnnotationEditor{constructor(yn){super({...yn,name:"inkEditor"});Qt(this,kt);Qt(this,At);Qt(this,Mt);Qt(this,zt);Qt(this,Xt);Qt(this,wn);Qt(this,fn);Qt(this,Fn);Qt(this,Ut);Qt(this,It);Qt(this,Dt);Qt(this,jt);Qt(this,Zt);Qt(this,En);Qt(this,$n);Qt(this,Bt);Qt(this,xn);Qt(this,kn);Qt(this,nn);Qt(this,_r);Qt(this,dr);Qt(this,Dn);Qt(this,on);Qt(this,at,0);Qt(this,lt,0);Qt(this,ct,this.canvasPointermove.bind(this));Qt(this,dt,this.canvasPointerleave.bind(this));Qt(this,_t,this.canvasPointerup.bind(this));Qt(this,pt,this.canvasPointerdown.bind(this));Qt(this,ut,new Path2D);Qt(this,mt,!1);Qt(this,ft,!1);Qt(this,gt,!1);Qt(this,vt,null);Qt(this,bt,0);Qt(this,Et,0);Qt(this,xt,null);this.color=yn.color||null,this.thickness=yn.thickness||null,this.opacity=yn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(yn){nt.AnnotationEditor.initialize(yn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(yn,qn){switch(yn){case tt.AnnotationEditorParamsType.INK_THICKNESS:On._defaultThickness=qn;break;case tt.AnnotationEditorParamsType.INK_COLOR:On._defaultColor=qn;break;case tt.AnnotationEditorParamsType.INK_OPACITY:On._defaultOpacity=qn/100;break}}updateParams(yn,qn){switch(yn){case tt.AnnotationEditorParamsType.INK_THICKNESS:hn(this,kt,dp).call(this,qn);break;case tt.AnnotationEditorParamsType.INK_COLOR:hn(this,At,hp).call(this,qn);break;case tt.AnnotationEditorParamsType.INK_OPACITY:hn(this,Mt,fp).call(this,qn);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,On._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,On._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(On._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||On._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||On._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??On._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(hn(this,$n,Rl).call(this),hn(this,Bt,Pl).call(this)),this.isAttachedToDOM||(this.parent.add(this),hn(this,xn,po).call(this)),hn(this,on,mo).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,wt(this,vt).disconnect(),Rn(this,vt,null),super.remove())}setParent(yn){!this.parent&&yn?this._uiManager.removeShouldRescale(this):this.parent&&yn===null&&this._uiManager.addShouldRescale(this),super.setParent(yn)}onScaleChanging(){const[yn,qn]=this.parentDimensions,ar=this.width*yn,Xn=this.height*qn;this.setDimensions(ar,Xn)}enableEditMode(){wt(this,mt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",wt(this,pt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",wt(this,pt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){wt(this,mt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Rn(this,mt,!0),this.div.classList.add("disabled"),hn(this,on,mo).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(yn){this._focusEventsAllowed&&(super.focusin(yn),this.enableEditMode())}canvasPointerdown(yn){yn.button!==0||!this.isInEditMode()||wt(this,mt)||(this.setInForeground(),yn.preventDefault(),yn.type!=="mouse"&&this.div.focus(),hn(this,wn,mp).call(this,yn.offsetX,yn.offsetY))}canvasPointermove(yn){yn.preventDefault(),hn(this,fn,ju).call(this,yn.offsetX,yn.offsetY)}canvasPointerup(yn){yn.preventDefault(),hn(this,En,Uu).call(this,yn)}canvasPointerleave(yn){hn(this,En,Uu).call(this,yn)}get isResizable(){return!this.isEmpty()&&wt(this,mt)}render(){if(this.div)return this.div;let yn,qn;this.width&&(yn=this.x,qn=this.y),super.render(),nt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(jr=>{var Wn;return(Wn=this.div)==null?void 0:Wn.setAttribute("aria-label",jr)});const[ar,Xn,lr,hr]=hn(this,zt,pp).call(this);if(this.setAt(ar,Xn,0,0),this.setDims(lr,hr),hn(this,$n,Rl).call(this),this.width){const[jr,Wn]=this.parentDimensions;this.setAspectRatio(this.width*jr,this.height*Wn),this.setAt(yn*jr,qn*Wn,this.width*jr,this.height*Wn),Rn(this,gt,!0),hn(this,xn,po).call(this),this.setDims(this.width*jr,this.height*Wn),hn(this,Zt,Gs).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return hn(this,Bt,Pl).call(this),this.div}setDimensions(yn,qn){const ar=Math.round(yn),Xn=Math.round(qn);if(wt(this,bt)===ar&&wt(this,Et)===Xn)return;Rn(this,bt,ar),Rn(this,Et,Xn),this.canvas.style.visibility="hidden";const[lr,hr]=this.parentDimensions;this.width=yn/lr,this.height=qn/hr,this.fixAndSetPosition(),wt(this,mt)&&hn(this,kn,Bu).call(this,yn,qn),hn(this,xn,po).call(this),hn(this,Zt,Gs).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(yn,qn,ar){var ln,gn,Pn;if(yn instanceof rt.InkAnnotationElement)return null;const Xn=super.deserialize(yn,qn,ar);Xn.thickness=yn.thickness,Xn.color=tt.Util.makeHexColor(...yn.color),Xn.opacity=yn.opacity;const[lr,hr]=Xn.pageDimensions,jr=Xn.width*lr,Wn=Xn.height*hr,Or=Xn.parentScale,or=yn.thickness/2;Rn(Xn,mt,!0),Rn(Xn,bt,Math.round(jr)),Rn(Xn,Et,Math.round(Wn));const{paths:Gt,rect:Rt,rotation:Vt}=yn;for(let{bezier:Bn}of Gt){Bn=hn(ln=On,ir,bp).call(ln,Bn,Rt,Vt);const Zn=[];Xn.paths.push(Zn);let Jn=Or*(Bn[0]-or),rr=Or*(Bn[1]-or);for(let nr=2,yr=Bn.length;nr<yr;nr+=6){const Ir=Or*(Bn[nr]-or),Vr=Or*(Bn[nr+1]-or),Hr=Or*(Bn[nr+2]-or),fs=Or*(Bn[nr+3]-or),Zr=Or*(Bn[nr+4]-or),Ps=Or*(Bn[nr+5]-or);Zn.push([[Jn,rr],[Ir,Vr],[Hr,fs],[Zr,Ps]]),Jn=Zr,rr=Ps}const tr=hn(this,mn,wp).call(this,Zn);Xn.bezierPath2D.push(tr)}const Kt=hn(gn=Xn,dr,Hu).call(gn);return Rn(Xn,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,Kt[2]-Kt[0])),Rn(Xn,at,Math.max(nt.AnnotationEditor.MIN_SIZE,Kt[3]-Kt[1])),hn(Pn=Xn,kn,Bu).call(Pn,jr,Wn),Xn}serialize(){if(this.isEmpty())return null;const yn=this.getRect(0,0),qn=nt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:qn,thickness:this.thickness,opacity:this.opacity,paths:hn(this,_r,xp).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,yn),pageIndex:this.pageIndex,rect:yn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,Et=new WeakMap,xt=new WeakMap,kt=new WeakSet,dp=function(yn){const qn=this.thickness;this.addCommands({cmd:()=>{this.thickness=yn,hn(this,on,mo).call(this)},undo:()=>{this.thickness=qn,hn(this,on,mo).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},At=new WeakSet,hp=function(yn){const qn=this.color;this.addCommands({cmd:()=>{this.color=yn,hn(this,Zt,Gs).call(this)},undo:()=>{this.color=qn,hn(this,Zt,Gs).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Mt=new WeakSet,fp=function(yn){yn/=100;const qn=this.opacity;this.addCommands({cmd:()=>{this.opacity=yn,hn(this,Zt,Gs).call(this)},undo:()=>{this.opacity=qn,hn(this,Zt,Gs).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zt=new WeakSet,pp=function(){const{parentRotation:yn,parentDimensions:[qn,ar]}=this;switch(yn){case 90:return[0,ar,ar,qn];case 180:return[qn,ar,qn,ar];case 270:return[qn,0,ar,qn];default:return[0,0,qn,ar]}},Xt=new WeakSet,Vu=function(){const{ctx:yn,color:qn,opacity:ar,thickness:Xn,parentScale:lr,scaleFactor:hr}=this;yn.lineWidth=Xn*lr/hr,yn.lineCap="round",yn.lineJoin="round",yn.miterLimit=10,yn.strokeStyle=`${qn}${(0,st.opacityToHex)(ar)}`},wn=new WeakSet,mp=function(yn,qn){this.canvas.addEventListener("contextmenu",it.noContextMenu),this.canvas.addEventListener("pointerleave",wt(this,dt)),this.canvas.addEventListener("pointermove",wt(this,ct)),this.canvas.addEventListener("pointerup",wt(this,_t)),this.canvas.removeEventListener("pointerdown",wt(this,pt)),this.isEditing=!0,wt(this,gt)||(Rn(this,gt,!0),hn(this,xn,po).call(this),this.thickness||(this.thickness=On._defaultThickness),this.color||(this.color=On._defaultColor||nt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=On._defaultOpacity)),this.currentPath.push([yn,qn]),Rn(this,ft,!1),hn(this,Xt,Vu).call(this),Rn(this,xt,()=>{hn(this,It,yp).call(this),wt(this,xt)&&window.requestAnimationFrame(wt(this,xt))}),window.requestAnimationFrame(wt(this,xt))},fn=new WeakSet,ju=function(yn,qn){const[ar,Xn]=this.currentPath.at(-1);if(this.currentPath.length>1&&yn===ar&&qn===Xn)return;const lr=this.currentPath;let hr=wt(this,ut);if(lr.push([yn,qn]),Rn(this,ft,!0),lr.length<=2){hr.moveTo(...lr[0]),hr.lineTo(yn,qn);return}lr.length===3&&(Rn(this,ut,hr=new Path2D),hr.moveTo(...lr[0])),hn(this,Dt,vp).call(this,hr,...lr.at(-3),...lr.at(-2),yn,qn)},Fn=new WeakSet,gp=function(){if(this.currentPath.length===0)return;const yn=this.currentPath.at(-1);wt(this,ut).lineTo(...yn)},Ut=new WeakSet,_p=function(yn,qn){Rn(this,xt,null),yn=Math.min(Math.max(yn,0),this.canvas.width),qn=Math.min(Math.max(qn,0),this.canvas.height),hn(this,fn,ju).call(this,yn,qn),hn(this,Fn,gp).call(this);let ar;if(this.currentPath.length!==1)ar=hn(this,jt,Ep).call(this);else{const Wn=[yn,qn];ar=[[Wn,Wn.slice(),Wn.slice(),Wn]]}const Xn=wt(this,ut),lr=this.currentPath;this.currentPath=[],Rn(this,ut,new Path2D);const hr=()=>{this.allRawPaths.push(lr),this.paths.push(ar),this.bezierPath2D.push(Xn),this.rebuild()},jr=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(hn(this,$n,Rl).call(this),hn(this,Bt,Pl).call(this)),hn(this,on,mo).call(this))};this.addCommands({cmd:hr,undo:jr,mustExec:!0})},It=new WeakSet,yp=function(){if(!wt(this,ft))return;Rn(this,ft,!1);const yn=Math.ceil(this.thickness*this.parentScale),qn=this.currentPath.slice(-3),ar=qn.map(hr=>hr[0]),Xn=qn.map(hr=>hr[1]);Math.min(...ar)-yn,Math.max(...ar)+yn,Math.min(...Xn)-yn,Math.max(...Xn)+yn;const{ctx:lr}=this;lr.save(),lr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const hr of this.bezierPath2D)lr.stroke(hr);lr.stroke(wt(this,ut)),lr.restore()},Dt=new WeakSet,vp=function(yn,qn,ar,Xn,lr,hr,jr){const Wn=(qn+Xn)/2,Or=(ar+lr)/2,or=(Xn+hr)/2,Gt=(lr+jr)/2;yn.bezierCurveTo(Wn+2*(Xn-Wn)/3,Or+2*(lr-Or)/3,or+2*(Xn-or)/3,Gt+2*(lr-Gt)/3,or,Gt)},jt=new WeakSet,Ep=function(){const yn=this.currentPath;if(yn.length<=2)return[[yn[0],yn[0],yn.at(-1),yn.at(-1)]];const qn=[];let ar,[Xn,lr]=yn[0];for(ar=1;ar<yn.length-2;ar++){const[Rt,Vt]=yn[ar],[Kt,ln]=yn[ar+1],gn=(Rt+Kt)/2,Pn=(Vt+ln)/2,Bn=[Xn+2*(Rt-Xn)/3,lr+2*(Vt-lr)/3],Zn=[gn+2*(Rt-gn)/3,Pn+2*(Vt-Pn)/3];qn.push([[Xn,lr],Bn,Zn,[gn,Pn]]),[Xn,lr]=[gn,Pn]}const[hr,jr]=yn[ar],[Wn,Or]=yn[ar+1],or=[Xn+2*(hr-Xn)/3,lr+2*(jr-lr)/3],Gt=[Wn+2*(hr-Wn)/3,Or+2*(jr-Or)/3];return qn.push([[Xn,lr],or,Gt,[Wn,Or]]),qn},Zt=new WeakSet,Gs=function(){if(this.isEmpty()){hn(this,nn,Il).call(this);return}hn(this,Xt,Vu).call(this);const{canvas:yn,ctx:qn}=this;qn.setTransform(1,0,0,1,0,0),qn.clearRect(0,0,yn.width,yn.height),hn(this,nn,Il).call(this);for(const ar of this.bezierPath2D)qn.stroke(ar)},En=new WeakSet,Uu=function(yn){this.canvas.removeEventListener("pointerleave",wt(this,dt)),this.canvas.removeEventListener("pointermove",wt(this,ct)),this.canvas.removeEventListener("pointerup",wt(this,_t)),this.canvas.addEventListener("pointerdown",wt(this,pt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",it.noContextMenu)},10),hn(this,Ut,_p).call(this,yn.offsetX,yn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},$n=new WeakSet,Rl=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",nt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(yn=>{var qn;return(qn=this.canvas)==null?void 0:qn.setAttribute("aria-label",yn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Bt=new WeakSet,Pl=function(){Rn(this,vt,new ResizeObserver(yn=>{const qn=yn[0].contentRect;qn.width&&qn.height&&this.setDimensions(qn.width,qn.height)})),wt(this,vt).observe(this.div)},xn=new WeakSet,po=function(){if(!wt(this,gt))return;const[yn,qn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*yn),this.canvas.height=Math.ceil(this.height*qn),hn(this,nn,Il).call(this)},kn=new WeakSet,Bu=function(yn,qn){const ar=hn(this,Dn,Cl).call(this),Xn=(yn-ar)/wt(this,lt),lr=(qn-ar)/wt(this,at);this.scaleFactor=Math.min(Xn,lr)},nn=new WeakSet,Il=function(){const yn=hn(this,Dn,Cl).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+yn,this.translationY*this.scaleFactor+yn)},mn=new WeakSet,wp=function(yn){const qn=new Path2D;for(let ar=0,Xn=yn.length;ar<Xn;ar++){const[lr,hr,jr,Wn]=yn[ar];ar===0&&qn.moveTo(...lr),qn.bezierCurveTo(hr[0],hr[1],jr[0],jr[1],Wn[0],Wn[1])}return qn},Gn=new WeakSet,Wu=function(yn,qn,ar){const[Xn,lr,hr,jr]=qn;switch(ar){case 0:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2)yn[Wn]+=Xn,yn[Wn+1]=jr-yn[Wn+1];break;case 90:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2){const or=yn[Wn];yn[Wn]=yn[Wn+1]+Xn,yn[Wn+1]=or+lr}break;case 180:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2)yn[Wn]=hr-yn[Wn],yn[Wn+1]+=lr;break;case 270:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2){const or=yn[Wn];yn[Wn]=hr-yn[Wn+1],yn[Wn+1]=jr-or}break;default:throw new Error("Invalid rotation")}return yn},ir=new WeakSet,bp=function(yn,qn,ar){const[Xn,lr,hr,jr]=qn;switch(ar){case 0:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2)yn[Wn]-=Xn,yn[Wn+1]=jr-yn[Wn+1];break;case 90:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2){const or=yn[Wn];yn[Wn]=yn[Wn+1]-lr,yn[Wn+1]=or-Xn}break;case 180:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2)yn[Wn]=hr-yn[Wn],yn[Wn+1]-=lr;break;case 270:for(let Wn=0,Or=yn.length;Wn<Or;Wn+=2){const or=yn[Wn];yn[Wn]=jr-yn[Wn+1],yn[Wn+1]=hr-or}break;default:throw new Error("Invalid rotation")}return yn},_r=new WeakSet,xp=function(yn,qn,ar,Xn){var Or,or;const lr=[],hr=this.thickness/2,jr=yn*qn+hr,Wn=yn*ar+hr;for(const Gt of this.paths){const Rt=[],Vt=[];for(let Kt=0,ln=Gt.length;Kt<ln;Kt++){const[gn,Pn,Bn,Zn]=Gt[Kt],Jn=yn*gn[0]+jr,rr=yn*gn[1]+Wn,tr=yn*Pn[0]+jr,nr=yn*Pn[1]+Wn,yr=yn*Bn[0]+jr,Ir=yn*Bn[1]+Wn,Vr=yn*Zn[0]+jr,Hr=yn*Zn[1]+Wn;Kt===0&&(Rt.push(Jn,rr),Vt.push(Jn,rr)),Rt.push(tr,nr,yr,Ir,Vr,Hr),Vt.push(tr,nr),Kt===ln-1&&Vt.push(Vr,Hr)}lr.push({bezier:hn(Or=On,Gn,Wu).call(Or,Rt,Xn,this.rotation),points:hn(or=On,Gn,Wu).call(or,Vt,Xn,this.rotation)})}return lr},dr=new WeakSet,Hu=function(){let yn=1/0,qn=-1/0,ar=1/0,Xn=-1/0;for(const lr of this.paths)for(const[hr,jr,Wn,Or]of lr){const or=tt.Util.bezierBoundingBox(...hr,...jr,...Wn,...Or);yn=Math.min(yn,or[0]),ar=Math.min(ar,or[1]),qn=Math.max(qn,or[2]),Xn=Math.max(Xn,or[3])}return[yn,ar,qn,Xn]},Dn=new WeakSet,Cl=function(){return wt(this,mt)?Math.ceil(this.thickness*this.parentScale):0},on=new WeakSet,mo=function(yn=!1){if(this.isEmpty())return;if(!wt(this,mt)){hn(this,Zt,Gs).call(this);return}const qn=hn(this,dr,Hu).call(this),ar=hn(this,Dn,Cl).call(this);Rn(this,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,qn[2]-qn[0])),Rn(this,at,Math.max(nt.AnnotationEditor.MIN_SIZE,qn[3]-qn[1]));const Xn=Math.ceil(ar+wt(this,lt)*this.scaleFactor),lr=Math.ceil(ar+wt(this,at)*this.scaleFactor),[hr,jr]=this.parentDimensions;this.width=Xn/hr,this.height=lr/jr,this.setAspectRatio(Xn,lr);const Wn=this.translationX,Or=this.translationY;this.translationX=-qn[0],this.translationY=-qn[1],hn(this,xn,po).call(this),hn(this,Zt,Gs).call(this),Rn(this,bt,Xn),Rn(this,Et,lr),this.setDims(Xn,lr);const or=yn?ar/this.scaleFactor/2:0;this.translate(Wn-this.translationX-or,Or-this.translationY-or)},Qt(On,mn),Qt(On,Gn),Qt(On,ir),cs(On,"_defaultColor",null),cs(On,"_defaultOpacity",1),cs(On,"_defaultThickness",1),cs(On,"_type","ink");let ot=On;_.InkEditor=ot},($,_,et)=>{var ot,at,lt,ct,dt,_t,pt,ut,mt,ft,gt,No,bt,Vo,xt,Dl,Ct,zu,Lt,Sp,Ht,Ap,Nt,qu,rn,$l,Wt,Tp;Object.defineProperty(_,"__esModule",{value:!0}),_.StampEditor=void 0;var tt=et(1),nt=et(4),rt=et(6),it=et(29);const Tn=class Tn extends nt.AnnotationEditor{constructor(Ut){super({...Ut,name:"stampEditor"});Qt(this,gt);Qt(this,bt);Qt(this,xt);Qt(this,Ct);Qt(this,Lt);Qt(this,Ht);Qt(this,Nt);Qt(this,rn);Qt(this,Wt);Qt(this,ot,null);Qt(this,at,null);Qt(this,lt,null);Qt(this,ct,null);Qt(this,dt,null);Qt(this,_t,null);Qt(this,pt,null);Qt(this,ut,null);Qt(this,mt,!1);Qt(this,ft,!1);Rn(this,ct,Ut.bitmapUrl),Rn(this,dt,Ut.bitmapFile)}static initialize(Ut){nt.AnnotationEditor.initialize(Ut)}static get supportedTypes(){const Ut=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,tt.shadow)(this,"supportedTypes",Ut.map(St=>`image/${St}`))}static get supportedTypesStr(){return(0,tt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ut){return this.supportedTypes.includes(Ut)}static paste(Ut,St){St.pasteEditor(tt.AnnotationEditorType.STAMP,{bitmapFile:Ut.getAsFile()})}remove(){var Ut,St;wt(this,at)&&(Rn(this,ot,null),this._uiManager.imageManager.deleteId(wt(this,at)),(Ut=wt(this,_t))==null||Ut.remove(),Rn(this,_t,null),(St=wt(this,pt))==null||St.disconnect(),Rn(this,pt,null)),super.remove()}rebuild(){if(!this.parent){wt(this,at)&&hn(this,xt,Dl).call(this);return}super.rebuild(),this.div!==null&&(wt(this,at)&&hn(this,xt,Dl).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(wt(this,lt)||wt(this,ot)||wt(this,ct)||wt(this,dt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ut,St;if(this.width&&(Ut=this.x,St=this.y),super.render(),this.div.hidden=!0,wt(this,ot)?hn(this,Ct,zu).call(this):hn(this,xt,Dl).call(this),this.width){const[It,Tt]=this.parentDimensions;this.setAt(Ut*It,St*Tt,this.width*It,this.height*Tt)}return this.div}static deserialize(Ut,St,It){if(Ut instanceof it.StampAnnotationElement)return null;const Tt=super.deserialize(Ut,St,It),{rect:Dt,bitmapUrl:Ot,bitmapId:jt,isSvg:qt,accessibilityData:Zt}=Ut;jt&&It.imageManager.isValidId(jt)?Rn(Tt,at,jt):Rn(Tt,ct,Ot),Rn(Tt,mt,qt);const[bn,En]=Tt.pageDimensions;return Tt.width=(Dt[2]-Dt[0])/bn,Tt.height=(Dt[3]-Dt[1])/En,Zt&&(Tt.altTextData=Zt),Tt}serialize(Ut=!1,St=null){if(this.isEmpty())return null;const It={annotationType:tt.AnnotationEditorType.STAMP,bitmapId:wt(this,at),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:wt(this,mt),structTreeParentId:this._structTreeParentId};if(Ut)return It.bitmapUrl=hn(this,rn,$l).call(this,!0),It.accessibilityData=this.altTextData,It;const{decorative:Tt,altText:Dt}=this.altTextData;if(!Tt&&Dt&&(It.accessibilityData={type:"Figure",alt:Dt}),St===null)return It;St.stamps||(St.stamps=new Map);const Ot=wt(this,mt)?(It.rect[2]-It.rect[0])*(It.rect[3]-It.rect[1]):null;if(!St.stamps.has(wt(this,at)))St.stamps.set(wt(this,at),{area:Ot,serialized:It}),It.bitmap=hn(this,rn,$l).call(this,!1);else if(wt(this,mt)){const jt=St.stamps.get(wt(this,at));Ot>jt.area&&(jt.area=Ot,jt.serialized.bitmap.close(),jt.serialized.bitmap=hn(this,rn,$l).call(this,!1))}return It}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,_t=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakSet,No=function(Ut,St=!1){if(!Ut){this.remove();return}Rn(this,ot,Ut.bitmap),St||(Rn(this,at,Ut.id),Rn(this,mt,Ut.isSvg)),hn(this,Ct,zu).call(this)},bt=new WeakSet,Vo=function(){Rn(this,lt,null),this._uiManager.enableWaiting(!1),wt(this,_t)&&this.div.focus()},xt=new WeakSet,Dl=function(){if(wt(this,at)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(wt(this,at)).then(St=>hn(this,gt,No).call(this,St,!0)).finally(()=>hn(this,bt,Vo).call(this));return}if(wt(this,ct)){const St=wt(this,ct);Rn(this,ct,null),this._uiManager.enableWaiting(!0),Rn(this,lt,this._uiManager.imageManager.getFromUrl(St).then(It=>hn(this,gt,No).call(this,It)).finally(()=>hn(this,bt,Vo).call(this)));return}if(wt(this,dt)){const St=wt(this,dt);Rn(this,dt,null),this._uiManager.enableWaiting(!0),Rn(this,lt,this._uiManager.imageManager.getFromFile(St).then(It=>hn(this,gt,No).call(this,It)).finally(()=>hn(this,bt,Vo).call(this)));return}const Ut=document.createElement("input");Ut.type="file",Ut.accept=Tn.supportedTypesStr,Rn(this,lt,new Promise(St=>{Ut.addEventListener("change",async()=>{if(!Ut.files||Ut.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const It=await this._uiManager.imageManager.getFromFile(Ut.files[0]);hn(this,gt,No).call(this,It)}St()}),Ut.addEventListener("cancel",()=>{this.remove(),St()})}).finally(()=>hn(this,bt,Vo).call(this))),Ut.click()},Ct=new WeakSet,zu=function(){const{div:Ut}=this;let{width:St,height:It}=wt(this,ot);const[Tt,Dt]=this.pageDimensions,Ot=.75;if(this.width)St=this.width*Tt,It=this.height*Dt;else if(St>Ot*Tt||It>Ot*Dt){const bn=Math.min(Ot*Tt/St,Ot*Dt/It);St*=bn,It*=bn}const[jt,qt]=this.parentDimensions;this.setDims(St*jt/Tt,It*qt/Dt),this._uiManager.enableWaiting(!1);const Zt=Rn(this,_t,document.createElement("canvas"));Ut.append(Zt),Ut.hidden=!1,hn(this,Nt,qu).call(this,St,It),hn(this,Wt,Tp).call(this),wt(this,ft)||(this.parent.addUndoableEditor(this),Rn(this,ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Lt=new WeakSet,Sp=function(Ut,St){var Ot;const[It,Tt]=this.parentDimensions;this.width=Ut/It,this.height=St/Tt,this.setDims(Ut,St),(Ot=this._initialOptions)!=null&&Ot.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,wt(this,ut)!==null&&clearTimeout(wt(this,ut)),Rn(this,ut,setTimeout(()=>{Rn(this,ut,null),hn(this,Nt,qu).call(this,Ut,St)},200))},Ht=new WeakSet,Ap=function(Ut,St){const{width:It,height:Tt}=wt(this,ot);let Dt=It,Ot=Tt,jt=wt(this,ot);for(;Dt>2*Ut||Ot>2*St;){const qt=Dt,Zt=Ot;Dt>2*Ut&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2)),Ot>2*St&&(Ot=Ot>=16384?Math.floor(Ot/2)-1:Math.ceil(Ot/2));const bn=new OffscreenCanvas(Dt,Ot);bn.getContext("2d").drawImage(jt,0,0,qt,Zt,0,0,Dt,Ot),jt=bn.transferToImageBitmap()}return jt},Nt=new WeakSet,qu=function(Ut,St){Ut=Math.ceil(Ut),St=Math.ceil(St);const It=wt(this,_t);if(!It||It.width===Ut&&It.height===St)return;It.width=Ut,It.height=St;const Tt=wt(this,mt)?wt(this,ot):hn(this,Ht,Ap).call(this,Ut,St),Dt=It.getContext("2d");Dt.filter=this._uiManager.hcmFilter,Dt.drawImage(Tt,0,0,Tt.width,Tt.height,0,0,Ut,St)},rn=new WeakSet,$l=function(Ut){if(Ut){if(wt(this,mt)){const Tt=this._uiManager.imageManager.getSvgUrl(wt(this,at));if(Tt)return Tt}const St=document.createElement("canvas");return{width:St.width,height:St.height}=wt(this,ot),St.getContext("2d").drawImage(wt(this,ot),0,0),St.toDataURL()}if(wt(this,mt)){const[St,It]=this.pageDimensions,Tt=Math.round(this.width*St*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=Math.round(this.height*It*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Ot=new OffscreenCanvas(Tt,Dt);return Ot.getContext("2d").drawImage(wt(this,ot),0,0,wt(this,ot).width,wt(this,ot).height,0,0,Tt,Dt),Ot.transferToImageBitmap()}return structuredClone(wt(this,ot))},Wt=new WeakSet,Tp=function(){Rn(this,pt,new ResizeObserver(Ut=>{const St=Ut[0].contentRect;St.width&&St.height&&hn(this,Lt,Sp).call(this,St.width,St.height)})),wt(this,pt).observe(this.div)},cs(Tn,"_type","stamp");let st=Tn;_.StampEditor=st}],__webpack_module_cache__={};function __w_pdfjs_require__($){var _=__webpack_module_cache__[$];if(_!==void 0)return _.exports;var et=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](et,et.exports,__w_pdfjs_require__),et.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AbortException",{enumerable:!0,get:function(){return _.AbortException}}),Object.defineProperty($,"AnnotationEditorLayer",{enumerable:!0,get:function(){return rt.AnnotationEditorLayer}}),Object.defineProperty($,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _.AnnotationEditorParamsType}}),Object.defineProperty($,"AnnotationEditorType",{enumerable:!0,get:function(){return _.AnnotationEditorType}}),Object.defineProperty($,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return it.AnnotationEditorUIManager}}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return st.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return _.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return _.CMapCompressionType}}),Object.defineProperty($,"DOMSVGFactory",{enumerable:!0,get:function(){return tt.DOMSVGFactory}}),Object.defineProperty($,"FeatureTest",{enumerable:!0,get:function(){return _.FeatureTest}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ot.GlobalWorkerOptions}}),Object.defineProperty($,"ImageKind",{enumerable:!0,get:function(){return _.ImageKind}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return _.InvalidPDFException}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return _.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return _.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return et.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return tt.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return et.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return _.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return _.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return tt.PixelsPerInch}}),Object.defineProperty($,"PromiseCapability",{enumerable:!0,get:function(){return _.PromiseCapability}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return tt.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return et.SVGGraphics}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return _.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return _.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return _.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return at.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return et.build}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return et.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return tt.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tt.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return tt.getXfaPageViewport}}),Object.defineProperty($,"isDataScheme",{enumerable:!0,get:function(){return tt.isDataScheme}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return tt.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return tt.loadScript}}),Object.defineProperty($,"noContextMenu",{enumerable:!0,get:function(){return tt.noContextMenu}}),Object.defineProperty($,"normalizeUnicode",{enumerable:!0,get:function(){return _.normalizeUnicode}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty($,"setLayerDimensions",{enumerable:!0,get:function(){return tt.setLayerDimensions}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return _.shadow}}),Object.defineProperty($,"updateTextLayer",{enumerable:!0,get:function(){return nt.updateTextLayer}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return et.version}});var _=__w_pdfjs_require__(1),et=__w_pdfjs_require__(2),tt=__w_pdfjs_require__(6),nt=__w_pdfjs_require__(26),rt=__w_pdfjs_require__(27),it=__w_pdfjs_require__(5),st=__w_pdfjs_require__(29),ot=__w_pdfjs_require__(14),at=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function($){var _=reactExports,et=pdfExports;function tt(Pt){var Ft=Object.create(null);return Pt&&Object.keys(Pt).forEach(function(Yt){if(Yt!=="default"){var Jt=Object.getOwnPropertyDescriptor(Pt,Yt);Object.defineProperty(Ft,Yt,Jt.get?Jt:{enumerable:!0,get:function(){return Pt[Yt]}})}}),Ft.default=Pt,Object.freeze(Ft)}var nt,rt=tt(_),it=tt(et);$.AnnotationType=void 0,(nt=$.AnnotationType||($.AnnotationType={}))[nt.Text=1]="Text",nt[nt.Link=2]="Link",nt[nt.FreeText=3]="FreeText",nt[nt.Line=4]="Line",nt[nt.Square=5]="Square",nt[nt.Circle=6]="Circle",nt[nt.Polygon=7]="Polygon",nt[nt.Polyline=8]="Polyline",nt[nt.Highlight=9]="Highlight",nt[nt.Underline=10]="Underline",nt[nt.Squiggly=11]="Squiggly",nt[nt.StrikeOut=12]="StrikeOut",nt[nt.Stamp=13]="Stamp",nt[nt.Caret=14]="Caret",nt[nt.Ink=15]="Ink",nt[nt.Popup=16]="Popup",nt[nt.FileAttachment=17]="FileAttachment";var st=function(Pt,Ft){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Yt,Jt){Yt.__proto__=Jt}||function(Yt,Jt){for(var an in Jt)Object.prototype.hasOwnProperty.call(Jt,an)&&(Yt[an]=Jt[an])},st(Pt,Ft)};function ot(Pt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Class extends value "+String(Ft)+" is not a constructor or null");function Yt(){this.constructor=Pt}st(Pt,Ft),Pt.prototype=Ft===null?Object.create(Ft):(Yt.prototype=Ft.prototype,new Yt)}var at,lt=function(){return lt=Object.assign||function(Pt){for(var Ft,Yt=1,Jt=arguments.length;Yt<Jt;Yt++)for(var an in Ft=arguments[Yt])Object.prototype.hasOwnProperty.call(Ft,an)&&(Pt[an]=Ft[an]);return Pt},lt.apply(this,arguments)};$.TextDirection=void 0,(at=$.TextDirection||($.TextDirection={})).RightToLeft="RTL",at.LeftToRight="LTR";var ct,dt=rt.createContext({currentTheme:"light",direction:$.TextDirection.LeftToRight,setCurrentTheme:function(){}}),_t=function(Pt){var Ft=[];return Object.keys(Pt).forEach(function(Yt){Yt&&Pt[Yt]&&Ft.push(Yt)}),Ft.join(" ")},pt=typeof window<"u"?rt.useLayoutEffect:rt.useEffect,ut=function(Pt){var Ft=rt.useRef(null),Yt=Pt.once,Jt=Pt.threshold,an=Pt.onVisibilityChanged;return pt(function(){var un=Ft.current;if(un){var An=new IntersectionObserver(function(_n){_n.forEach(function(en){var Sn=en.isIntersecting,vn=en.intersectionRatio;an({isVisible:Sn,ratio:vn}),Sn&&Yt&&(An.unobserve(un),An.disconnect())})},{threshold:Jt||0});return An.observe(un),function(){An.unobserve(un),An.disconnect()}}},[]),Ft},mt=function(Pt){var Ft=Pt.children,Yt=Pt.ignoreDirection,Jt=Yt!==void 0&&Yt,an=Pt.size,un=an===void 0?24:an,An=rt.useContext(dt).direction,_n=!Jt&&An===$.TextDirection.RightToLeft,en="".concat(un||24,"px");return rt.createElement("svg",{"aria-hidden":"true",className:_t({"rpv-core__icon":!0,"rpv-core__icon--rtl":_n}),focusable:"false",height:en,viewBox:"0 0 24 24",width:en},Ft)},ft=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},gt=function(Pt){var Ft=Pt.children,Yt=Pt.testId,Jt=Pt.onClick,an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=Yt?{"data-testid":Yt}:{};return rt.createElement("button",lt({className:_t({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":an}),type:"button",onClick:Jt},un),Ft)},vt=function(Pt){var Ft=Pt.size,Yt=Ft===void 0?"4rem":Ft,Jt=Pt.testId,an=rt.useState(!1),un=an[0],An=an[1],_n=Jt?{"data-testid":Jt}:{},en=ut({onVisibilityChanged:function(Sn){An(Sn.isVisible)}});return rt.createElement("div",lt({},_n,{className:_t({"rpv-core__spinner":!0,"rpv-core__spinner--animating":un}),ref:en,style:{height:Yt,width:Yt}}))},bt=function(Pt){var Ft=Pt.ariaLabel,Yt=Ft===void 0?"":Ft,Jt=Pt.autoFocus,an=Jt!==void 0&&Jt,un=Pt.placeholder,An=un===void 0?"":un,_n=Pt.testId,en=Pt.type,Sn=en===void 0?"text":en,vn=Pt.value,Nn=vn===void 0?"":vn,Vn=Pt.onChange,Ln=Pt.onKeyDown,er=Ln===void 0?function(){}:Ln,Qn=rt.useContext(dt).direction,Yn=rt.useRef(),Nr=Qn===$.TextDirection.RightToLeft,br={ref:Yn,"data-testid":"","aria-label":Yt,className:_t({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Nr}),placeholder:An,value:Nn,onChange:function(xr){return Vn(xr.target.value)},onKeyDown:er};return _n&&(br["data-testid"]=_n),pt(function(){if(an){var xr=Yn.current;if(xr){var Rr=window.scrollX,fr=window.scrollY;xr.focus(),window.scrollTo(Rr,fr)}}},[]),Sn==="text"?rt.createElement("input",lt({type:"text"},br)):rt.createElement("input",lt({type:"password"},br))};(function(Pt){Pt[Pt.ExitFullScreen=0]="ExitFullScreen",Pt[Pt.FullScreenChange=1]="FullScreenChange",Pt[Pt.FullScreenElement=2]="FullScreenElement",Pt[Pt.FullScreenEnabled=3]="FullScreenEnabled",Pt[Pt.RequestFullScreen=4]="RequestFullScreen"})(ct||(ct={}));var Et,xt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},kt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Ct={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},At=typeof window<"u",Lt=At&&(ct.FullScreenEnabled in document&&xt||kt.FullScreenEnabled in document&&kt||Ct.FullScreenEnabled in document&&Ct)||xt,Mt=function(){return At&&Lt.FullScreenEnabled in document&&document[Lt.FullScreenEnabled]===!0},Ht=function(Pt){return At?Pt[Lt.ExitFullScreen]():Promise.resolve({})},zt=function(){return At?document[Lt.FullScreenElement]:null},Nt=function(Pt,Ft){var Yt=rt.useRef(),Jt=function(){Yt.current&&clearTimeout(Yt.current)};return rt.useEffect(function(){return function(){return Jt()}},[]),rt.useCallback(function(){for(var an=[],un=0;un<arguments.length;un++)an[un]=arguments[un];Jt(),Yt.current=setTimeout(function(){Pt.apply(void 0,an)},Ft)},[Pt,Ft])},Xt=function(){var Pt=rt.useRef(!1);return rt.useEffect(function(){return Pt.current=!0,function(){Pt.current=!1}},[]),Pt},rn=function(Pt){var Ft=rt.useRef(Pt);return rt.useEffect(function(){Ft.current=Pt},[Pt]),Ft.current};(function(Pt){Pt.NotRenderedYet="NotRenderedYet",Pt.Rendering="Rendering",Pt.Rendered="Rendered"})(Et||(Et={}));var wn,Wt=-9999,fn=function(Pt){var Ft=Pt.doc,Yt=Ft.numPages,Jt=Ft.loadingTask.docId,an=rt.useMemo(function(){return Array(Yt).fill(null).map(function(_n,en){return{pageIndex:en,renderStatus:Et.NotRenderedYet,visibility:Wt}})},[Jt]),un=rt.useRef({currentRenderingPage:-1,startRange:0,endRange:Yt-1,visibilities:an}),An=function(_n,en){un.current.visibilities[_n].visibility=en};return{getHighestPriorityPage:function(){var _n=un.current.visibilities.slice(un.current.startRange,un.current.endRange+1).filter(function(Vn){return Vn.visibility>Wt});if(!_n.length)return-1;for(var en=_n[0].pageIndex,Sn=_n[_n.length-1].pageIndex,vn=_n.length,Nn=0;Nn<vn;Nn++){if(_n[Nn].renderStatus===Et.Rendering)return-1;if(_n[Nn].renderStatus===Et.NotRenderedYet)return _n[Nn].pageIndex}return Sn+1<Yt&&un.current.visibilities[Sn+1].renderStatus!==Et.Rendered?Sn+1:en-1>=0&&un.current.visibilities[en-1].renderStatus!==Et.Rendered?en-1:-1},isInRange:function(_n){return _n>=un.current.startRange&&_n<=un.current.endRange},markNotRendered:function(){for(var _n=0;_n<Yt;_n++)un.current.visibilities[_n].renderStatus=Et.NotRenderedYet},markRendered:function(_n){un.current.visibilities[_n].renderStatus=Et.Rendered},markRendering:function(_n){un.current.currentRenderingPage!==-1&&un.current.currentRenderingPage!==_n&&un.current.visibilities[un.current.currentRenderingPage].renderStatus===Et.Rendering&&(un.current.visibilities[un.current.currentRenderingPage].renderStatus=Et.NotRenderedYet),un.current.visibilities[_n].renderStatus=Et.Rendering,un.current.currentRenderingPage=_n},setOutOfRange:function(_n){An(_n,Wt)},setRange:function(_n,en){un.current.startRange=_n,un.current.endRange=en;for(var Sn=0;Sn<Yt;Sn++)(Sn<_n||Sn>en)&&(un.current.visibilities[Sn].visibility=Wt,un.current.visibilities[Sn].renderStatus=Et.NotRenderedYet)},setVisibility:An}},Tn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Fn=rt.createContext({l10n:Tn,setL10n:function(){}}),Mn=0,Ut=function(){return Mn++},St=function(Pt,Ft,Yt){var Jt=function(an){var un=Ft.current;if(un){var An=an.target;if(An instanceof Element&&An.shadowRoot){var _n=an.composedPath();_n.length>0&&!un.contains(_n[0])&&Yt()}else un.contains(An)||Yt()}};rt.useEffect(function(){if(Pt){var an={capture:!0};return document.addEventListener("click",Jt,an),function(){document.removeEventListener("click",Jt,an)}}},[])},It=function(Pt){var Ft=function(Yt){Yt.key==="Escape"&&Pt()};rt.useEffect(function(){return document.addEventListener("keyup",Ft),function(){document.removeEventListener("keyup",Ft)}},[])},Tt=function(Pt){var Ft=Pt.ariaControlsSuffix,Yt=Pt.children,Jt=Pt.closeOnClickOutside,an=Pt.closeOnEscape,un=Pt.onToggle,An=rt.useRef(),_n=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return rt.useEffect(function(){var en=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=en}},[]),It(function(){An.current&&an&&un()}),St(Jt,An,un),pt(function(){var en=An.current;if(en){var Sn=.75*document.body.clientHeight;en.getBoundingClientRect().height>=Sn&&(en.style.overflow="auto",en.style.maxHeight="".concat(Sn,"px"))}},[]),rt.createElement("div",{"aria-modal":"true",className:_t({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":_n}),id:"rpv-core__modal-body-".concat(Ft),ref:An,role:"dialog",tabIndex:-1},Yt)},Dt=function(Pt){var Ft=Pt.children;return rt.createElement("div",{className:"rpv-core__modal-overlay"},Ft)};$.ToggleStatus=void 0,(wn=$.ToggleStatus||($.ToggleStatus={})).Close="Close",wn.Open="Open",wn.Toggle="Toggle";var Ot,jt=function(Pt){var Ft=rt.useState(Pt),Yt=Ft[0],Jt=Ft[1];return{opened:Yt,toggle:function(an){switch(an){case $.ToggleStatus.Close:Jt(!1);break;case $.ToggleStatus.Open:Jt(!0);break;case $.ToggleStatus.Toggle:default:Jt(function(un){return!un})}}}},qt=function(Pt){var Ft=Pt.content,Yt=Pt.isOpened,Jt=Yt!==void 0&&Yt,an=Pt.target,un=jt(Jt),An=un.opened,_n=un.toggle;return rt.createElement(rt.Fragment,null,an&&an(_n,An),An&&Ft(_n))};$.Position=void 0,(Ot=$.Position||($.Position={})).TopLeft="TOP_LEFT",Ot.TopCenter="TOP_CENTER",Ot.TopRight="TOP_RIGHT",Ot.RightTop="RIGHT_TOP",Ot.RightCenter="RIGHT_CENTER",Ot.RightBottom="RIGHT_BOTTOM",Ot.BottomLeft="BOTTOM_LEFT",Ot.BottomCenter="BOTTOM_CENTER",Ot.BottomRight="BOTTOM_RIGHT",Ot.LeftTop="LEFT_TOP",Ot.LeftCenter="LEFT_CENTER",Ot.LeftBottom="LEFT_BOTTOM";var Zt,bn,En,In,$n,Hn,Bt,sn,xn=function(Pt,Ft,Yt,Jt,an){pt(function(){var un=Ft.current,An=Pt.current,_n=Yt.current;if(An&&un&&_n){var en=_n.getBoundingClientRect(),Sn=function(Vn,Ln,er,Qn){var Yn=Ln.getBoundingClientRect(),Nr=Vn.getBoundingClientRect(),br=Nr.height,xr=Nr.width,Rr=0,fr=0;switch(er){case $.Position.TopLeft:Rr=Yn.top-br,fr=Yn.left;break;case $.Position.TopCenter:Rr=Yn.top-br,fr=Yn.left+Yn.width/2-xr/2;break;case $.Position.TopRight:Rr=Yn.top-br,fr=Yn.left+Yn.width-xr;break;case $.Position.RightTop:Rr=Yn.top,fr=Yn.left+Yn.width;break;case $.Position.RightCenter:Rr=Yn.top+Yn.height/2-br/2,fr=Yn.left+Yn.width;break;case $.Position.RightBottom:Rr=Yn.top+Yn.height-br,fr=Yn.left+Yn.width;break;case $.Position.BottomLeft:Rr=Yn.top+Yn.height,fr=Yn.left;break;case $.Position.BottomCenter:Rr=Yn.top+Yn.height,fr=Yn.left+Yn.width/2-xr/2;break;case $.Position.BottomRight:Rr=Yn.top+Yn.height,fr=Yn.left+Yn.width-xr;break;case $.Position.LeftTop:Rr=Yn.top,fr=Yn.left-xr;break;case $.Position.LeftCenter:Rr=Yn.top+Yn.height/2-br/2,fr=Yn.left-xr;break;case $.Position.LeftBottom:Rr=Yn.top+Yn.height-br,fr=Yn.left-xr}return{left:fr+(Qn.left||0),top:Rr+(Qn.top||0)}}(An,un,Jt,an),vn=Sn.top,Nn=Sn.left;An.style.top="".concat(vn-en.top,"px"),An.style.left="".concat(Nn-en.left,"px")}},[])},Cn=function(Pt){var Ft,Yt=Pt.customClassName,Jt=Pt.position;return rt.createElement("div",{className:_t((Ft={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Jt===$.Position.TopLeft,"rpv-core__arrow--tc":Jt===$.Position.TopCenter,"rpv-core__arrow--tr":Jt===$.Position.TopRight,"rpv-core__arrow--rt":Jt===$.Position.RightTop,"rpv-core__arrow--rc":Jt===$.Position.RightCenter,"rpv-core__arrow--rb":Jt===$.Position.RightBottom,"rpv-core__arrow--bl":Jt===$.Position.BottomLeft,"rpv-core__arrow--bc":Jt===$.Position.BottomCenter,"rpv-core__arrow--br":Jt===$.Position.BottomRight,"rpv-core__arrow--lt":Jt===$.Position.LeftTop,"rpv-core__arrow--lc":Jt===$.Position.LeftCenter,"rpv-core__arrow--lb":Jt===$.Position.LeftBottom},Ft["".concat(Yt)]=Yt!=="",Ft))})},kn=function(Pt){var Ft=Pt.ariaControlsSuffix,Yt=Pt.children,Jt=Pt.closeOnClickOutside,an=Pt.offset,un=Pt.position,An=Pt.targetRef,_n=Pt.onClose,en=rt.useRef(),Sn=rt.useRef(),vn=rt.useRef(),Nn=rt.useContext(dt).direction===$.TextDirection.RightToLeft;St(Jt,en,_n),xn(en,An,vn,un,an),pt(function(){var Ln=Sn.current;if(Ln){var er=.75*document.body.clientHeight;Ln.getBoundingClientRect().height>=er&&(Ln.style.overflow="auto",Ln.style.maxHeight="".concat(er,"px"))}},[]);var Vn="rpv-core__popover-body-inner-".concat(Ft);return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:vn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{"aria-describedby":Vn,className:_t({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Nn}),id:"rpv-core__popover-body-".concat(Ft),ref:en,role:"dialog",tabIndex:-1},rt.createElement(Cn,{customClassName:"rpv-core__popover-body-arrow",position:un}),rt.createElement("div",{id:Vn,ref:Sn},Yt)))},cn=function(Pt){var Ft=Pt.closeOnEscape,Yt=Pt.onClose,Jt=rt.useRef();return It(function(){Jt.current&&Ft&&Yt()}),rt.createElement("div",{className:"rpv-core__popover-overlay",ref:Jt})},nn=function(Pt){var Ft=Pt.ariaControlsSuffix,Yt=Pt.children,Jt=Pt.contentRef,an=Pt.offset,un=Pt.position,An=Pt.targetRef,_n=rt.useRef(),en=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return xn(Jt,An,_n,un,an),rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:_n,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{className:_t({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":en}),id:"rpv-core__tooltip-body-".concat(Ft),ref:Jt,role:"tooltip"},rt.createElement(Cn,{customClassName:"rpv-core__tooltip-body-arrow",position:un}),rt.createElement("div",{className:"rpv-core__tooltip-body-content"},Yt)))};$.FullScreenMode=void 0,(Zt=$.FullScreenMode||($.FullScreenMode={})).Normal="Normal",Zt.Entering="Entering",Zt.Entered="Entered",Zt.EnteredCompletely="EnteredCompletely",Zt.Exitting="Exitting",Zt.Exited="Exited",$.LayerRenderStatus=void 0,(bn=$.LayerRenderStatus||($.LayerRenderStatus={}))[bn.PreRender=0]="PreRender",bn[bn.DidRender=1]="DidRender",$.PageMode=void 0,(En=$.PageMode||($.PageMode={})).Attachments="UseAttachments",En.Bookmarks="UseOutlines",En.ContentGroup="UseOC",En.Default="UserNone",En.FullScreen="FullScreen",En.Thumbnails="UseThumbs",$.PasswordStatus=void 0,(In=$.PasswordStatus||($.PasswordStatus={})).RequiredPassword="RequiredPassword",In.WrongPassword="WrongPassword",$.RotateDirection=void 0,($n=$.RotateDirection||($.RotateDirection={})).Backward="Backward",$n.Forward="Forward",$.ScrollMode=void 0,(Hn=$.ScrollMode||($.ScrollMode={})).Page="Page",Hn.Horizontal="Horizontal",Hn.Vertical="Vertical",Hn.Wrapped="Wrapped",$.SpecialZoomLevel=void 0,(Bt=$.SpecialZoomLevel||($.SpecialZoomLevel={})).ActualSize="ActualSize",Bt.PageFit="PageFit",Bt.PageWidth="PageWidth",$.ViewMode=void 0,(sn=$.ViewMode||($.ViewMode={})).DualPage="DualPage",sn.DualPageWithCover="DualPageWithCover",sn.SinglePage="SinglePage";var dn,mn=function(Pt,Ft){return Pt.reduce(function(Yt,Jt,an){return an%Ft?Yt[Yt.length-1].push(Jt):Yt.push([Jt]),Yt},[])},zn=function(Pt,Ft){switch(Ft[1].name){case"XYZ":return{bottomOffset:function(Yt,Jt){return Ft[3]===null?Jt:Ft[3]},leftOffset:function(Yt,Jt){return Ft[2]===null?0:Ft[2]},pageIndex:Pt,scaleTo:Ft[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Pt,scaleTo:$.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Ft[2],leftOffset:0,pageIndex:Pt,scaleTo:$.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Pt,scaleTo:1}}},Gn=new Map,ur=new Map,ir=function(Pt,Ft){return"".concat(Pt.loadingTask.docId,"___").concat(Ft.num,"R").concat(Ft.gen===0?"":Ft.gen)},sr=function(Pt,Ft,Yt){Gn.set(ir(Pt,Ft),Yt)},_r=function(Pt,Ft){if(!Pt)return Promise.reject("The document is not loaded yet");var Yt="".concat(Pt.loadingTask.docId,"___").concat(Ft),Jt=ur.get(Yt);return Jt?Promise.resolve(Jt):new Promise(function(an,un){Pt.getPage(Ft+1).then(function(An){ur.set(Yt,An),An.ref&&sr(Pt,An.ref,Ft),an(An)})})},wr=function(Pt,Ft){return new Promise(function(Yt){new Promise(function(Jt){typeof Ft=="string"?Pt.getDestination(Ft).then(function(an){Jt(an)}):Jt(Ft)}).then(function(Jt){if(typeof Jt[0]=="object"&&Jt[0]!==null){var an=Jt[0],un=function(_n,en){var Sn=ir(_n,en);return Gn.has(Sn)?Gn.get(Sn):null}(Pt,an);un===null?Pt.getPageIndex(an).then(function(_n){sr(Pt,an,_n),wr(Pt,Ft).then(function(en){return Yt(en)})}):Yt(zn(un,Jt))}else{var An=zn(Jt[0],Jt);Yt(An)}})})};(function(Pt){Pt[Pt.Solid=1]="Solid",Pt[Pt.Dashed=2]="Dashed",Pt[Pt.Beveled=3]="Beveled",Pt[Pt.Inset=4]="Inset",Pt[Pt.Underline=5]="Underline"})(dn||(dn={}));var dr,Er=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Dn=function(Pt,Ft,Yt,Jt){var an=parseInt(Pt,10);return an>=Ft&&an<=Yt?an:Jt},pn=function(Pt){return Pt.contentsObj?Pt.contentsObj.str:Pt.contents||""},on=function(Pt){return Pt.titleObj?Pt.titleObj.str:Pt.title||""},jn=function(Pt){var Ft=Pt.annotation,Yt=rt.useContext(dt).direction,Jt=on(Ft),an=pn(Ft),un=Yt===$.TextDirection.RightToLeft,An=rt.useRef(),_n="";if(Ft.modificationDate){var en=function(Sn){var vn=Er.exec(Sn);if(!vn)return null;var Nn=parseInt(vn[1],10),Vn=Dn(vn[2],1,12,1)-1,Ln=Dn(vn[3],1,31,1),er=Dn(vn[4],0,23,0),Qn=Dn(vn[5],0,59,0),Yn=Dn(vn[6],0,59,0),Nr=vn[7]||"Z",br=Dn(vn[8],0,23,0),xr=Dn(vn[9],0,59,0);switch(Nr){case"-":er+=br,Qn+=xr;break;case"+":er-=br,Qn-=xr}return new Date(Date.UTC(Nn,Vn,Ln,er,Qn,Yn))}(Ft.modificationDate);_n=en?"".concat(en.toLocaleDateString(),", ").concat(en.toLocaleTimeString()):""}return rt.useLayoutEffect(function(){if(An.current){var Sn=document.querySelector('[data-annotation-id="'.concat(Ft.id,'"]'));if(Sn){var vn=Sn;return vn.style.zIndex+=1,function(){vn.style.zIndex="".concat(parseInt(vn.style.zIndex,10)-1)}}}},[]),rt.createElement("div",{ref:An,className:_t({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":un}),style:{top:Ft.annotationType===$.AnnotationType.Popup?"":"100%"}},Jt&&rt.createElement(rt.Fragment,null,rt.createElement("div",{className:_t({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!un,"rpv-core__annotation-popup-title--rtl":un})},Jt),rt.createElement("div",{className:"rpv-core__annotation-popup-date"},_n)),an&&rt.createElement("div",{className:"rpv-core__annotation-popup-content"},an.split(`
`).map(function(Sn,vn){return rt.createElement(rt.Fragment,{key:vn},Sn,rt.createElement("br",null))})))};(function(Pt){Pt.Click="Click",Pt.Hover="Hover"})(dr||(dr={}));var On,$r=function(Pt){var Ft,Yt=Pt.annotation,Jt=Pt.children,an=Pt.ignoreBorder,un=Pt.hasPopup,An=Pt.isRenderable,_n=Pt.page,en=Pt.viewport,Sn=Yt.rect,vn=function(){var Tr=jt(!1),Yr=Tr.opened,zr=Tr.toggle,Kr=rt.useState(dr.Hover),qr=Kr[0],Xr=Kr[1];return{opened:Yr,closeOnHover:function(){qr===dr.Hover&&zr($.ToggleStatus.Close)},openOnHover:function(){qr===dr.Hover&&zr($.ToggleStatus.Open)},toggleOnClick:function(){switch(qr){case dr.Click:Yr&&Xr(dr.Hover),zr($.ToggleStatus.Toggle);break;case dr.Hover:Xr(dr.Click),zr($.ToggleStatus.Open)}}}}(),Nn=vn.closeOnHover,Vn=vn.opened,Ln=vn.openOnHover,er=vn.toggleOnClick,Qn=(Ft=[Sn[0],_n.view[3]+_n.view[1]-Sn[1],Sn[2],_n.view[3]+_n.view[1]-Sn[3]],[Math.min(Ft[0],Ft[2]),Math.min(Ft[1],Ft[3]),Math.max(Ft[0],Ft[2]),Math.max(Ft[1],Ft[3])]),Yn=Sn[2]-Sn[0],Nr=Sn[3]-Sn[1],br={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!an&&Yt.borderStyle.width>0){switch(Yt.borderStyle.style){case dn.Dashed:br.borderStyle="dashed";break;case dn.Solid:br.borderStyle="solid";break;case dn.Underline:br=Object.assign({borderBottomStyle:"solid"},br);case dn.Beveled:case dn.Inset:}var xr=Yt.borderStyle.width;br.borderWidth="".concat(xr,"px"),Yt.borderStyle.style!==dn.Underline&&(Yn-=2*xr,Nr-=2*xr);var Rr=Yt.borderStyle,fr=Rr.horizontalCornerRadius,kr=Rr.verticalCornerRadius;(fr>0||kr>0)&&(br.borderRadius="".concat(fr,"px / ").concat(kr,"px")),Yt.color?br.borderColor="rgb(".concat(0|Yt.color[0],", ").concat(0|Yt.color[1],", ").concat(0|Yt.color[2],")"):br.borderWidth="0"}return rt.createElement(rt.Fragment,null,An&&Jt({popup:{opened:Vn,closeOnHover:Nn,openOnHover:Ln,toggleOnClick:er},slot:{attrs:{style:Object.assign({height:"".concat(Nr,"px"),left:"".concat(Qn[0],"px"),top:"".concat(Qn[1],"px"),transform:"matrix(".concat(en.transform.join(","),")"),transformOrigin:"-".concat(Qn[0],"px -").concat(Qn[1],"px"),width:"".concat(Yn,"px")},br)},children:rt.createElement(rt.Fragment,null,un&&Vn&&rt.createElement(jn,{annotation:Yt}))}}))},Gr=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},yn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},rt.createElement("circle",{cy:vn/2,fill:"none",rx:Sn/2-Nn/2,ry:vn/2-Nn/2,stroke:"transparent",strokeWidth:Nn||1})),Vn.slot.children)})},qn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=on(Ft),un=pn(Ft),An=!(Ft.hasPopup!==!1||!an&&!un),_n=function(){var en,Sn,vn,Nn,Vn=Ft.file;Vn&&(en=Vn.filename,Sn=Vn.content,vn=typeof Sn=="string"?"":URL.createObjectURL(new Blob([Sn],{type:""})),(Nn=document.createElement("a")).style.display="none",Nn.href=vn||en,Nn.setAttribute("download",function(Ln){var er=Ln.split("/").pop();return er?er.split("#")[0].split("?")[0]:Ln}(en)),document.body.appendChild(Nn),Nn.click(),document.body.removeChild(Nn),vn&&URL.revokeObjectURL(vn))};return rt.createElement($r,{annotation:Ft,hasPopup:An,ignoreBorder:!0,isRenderable:!0,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onDoubleClick:_n,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},ar=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Xn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=on(Ft),un=pn(Ft),An=!(!an&&!un),_n=!Ft.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Ft.parentType)!==-1;return pt(function(){if(Ft.parentId){var en=document.querySelector('[data-annotation-id="'.concat(Ft.parentId,'"]')),Sn=document.querySelector('[data-annotation-id="'.concat(Ft.id,'"]'));if(en&&Sn){var vn=parseFloat(en.style.left),Nn=parseFloat(en.style.top)+parseFloat(en.style.height);Sn.style.left="".concat(vn,"px"),Sn.style.top="".concat(Nn,"px"),Sn.style.transformOrigin="-".concat(vn,"px -").concat(Nn,"px")}}},[]),rt.createElement($r,{annotation:Ft,hasPopup:_n,ignoreBorder:!1,isRenderable:An,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Ft.id}),rt.createElement(jn,{annotation:Ft}))})},lr=function(Pt){var Ft=Pt.annotation,Yt=Pt.childAnnotation,Jt=Pt.page,an=Pt.viewport,un=Ft.hasPopup===!1,An=on(Ft),_n=pn(Ft),en=!!(Ft.hasPopup||An||_n);if(Ft.quadPoints&&Ft.quadPoints.length>0){var Sn=Ft.quadPoints.map(function(vn){return Object.assign({},Ft,{rect:[vn[2].x,vn[2].y,vn[1].x,vn[1].y],quadPoints:[]})});return rt.createElement(rt.Fragment,null,Sn.map(function(vn,Nn){return rt.createElement(lr,{key:Nn,annotation:vn,childAnnotation:Yt,page:Jt,viewport:an})}))}return rt.createElement($r,{annotation:Ft,hasPopup:un,ignoreBorder:!0,isRenderable:en,page:Jt,viewport:an},function(vn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Ft.id,onClick:vn.popup.toggleOnClick,onMouseEnter:vn.popup.openOnHover,onMouseLeave:vn.popup.closeOnHover}),vn.slot.children),Yt&&Yt.annotationType===$.AnnotationType.Popup&&vn.popup.opened&&rt.createElement(Xn,{annotation:Yt,page:Jt,viewport:an}))})},hr=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Ft.inkLists&&Ft.inkLists.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},Ft.inkLists.map(function(Ln,er){return rt.createElement("polyline",{key:er,fill:"none",stroke:"transparent",strokeWidth:Nn||1,points:Ln.map(function(Qn){return"".concat(Qn.x-en[0],",").concat(en[3]-Qn.y)}).join(" ")})})),Vn.slot.children)})},jr=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},rt.createElement("line",{stroke:"transparent",strokeWidth:Nn||1,x1:en[2]-Ft.lineCoordinates[0],x2:en[2]-Ft.lineCoordinates[2],y1:en[3]-Ft.lineCoordinates[1],y2:en[3]-Ft.lineCoordinates[3]})),Vn.slot.children)})},Wn=/^([^\w]*)(javascript|data|vbscript)/im,Or=/&#(\w+)(^\w|;)?/g,or=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Gt=/^([^:]+):/gm,Rt=function(Pt,Ft){Ft===void 0&&(Ft="about:blank");var Yt,Jt=(Yt=Pt||"",Yt.replace(Or,function(_n,en){return String.fromCharCode(en)})).replace(or,"").trim();if(!Jt)return Ft;var an=Jt[0];if(an==="."||an==="/")return Jt;var un=Jt.match(Gt);if(!un)return Jt;var An=un[0];return Wn.test(An)?Ft:Jt},Vt=function(Pt){var Ft,Yt=Pt.annotation,Jt=Pt.annotationContainerRef,an=Pt.doc,un=Pt.outlines,An=Pt.page,_n=Pt.pageIndex,en=Pt.scale,Sn=Pt.viewport,vn=Pt.onExecuteNamedAction,Nn=Pt.onJumpFromLinkAnnotation,Vn=Pt.onJumpToDest,Ln=rt.useRef(),er=un&&un.length&&Yt.dest&&typeof Yt.dest=="string"?(Ft=un.find(function(br){return br.dest===Yt.dest}))===null||Ft===void 0?void 0:Ft.title:"",Qn=!!(Yt.url||Yt.dest||Yt.action||Yt.unsafeUrl),Yn={};if(Yt.url||Yt.unsafeUrl){var Nr=Rt(Yt.url||Yt.unsafeUrl,"");Nr?Yn={"data-target":"external",href:Nr,rel:"noopener noreferrer nofollow",target:Yt.newWindow?"_blank":"",title:Nr}:Qn=!1}else Yn={href:"","data-annotation-link":Yt.id,onClick:function(br){br.preventDefault(),Yt.action?vn(Yt.action):wr(an,Yt.dest).then(function(xr){var Rr=Ln.current,fr=Jt.current;if(Rr&&fr){var kr=Rr.getBoundingClientRect();fr.style.setProperty("height","100%"),fr.style.setProperty("width","100%");var Tr=fr.getBoundingClientRect();fr.style.removeProperty("height"),fr.style.removeProperty("width");var Yr=(kr.left-Tr.left)/en,zr=(Tr.bottom-kr.bottom+kr.height)/en;Nn({bottomOffset:zr,label:er,leftOffset:Yr,pageIndex:_n})}Vn(xr)})}};return er&&(Yn=Object.assign({},Yn,{title:er,"aria-label":er})),rt.createElement($r,{annotation:Yt,hasPopup:!1,ignoreBorder:!1,isRenderable:Qn,page:An,viewport:Sn},function(br){return rt.createElement("div",lt({},br.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Yt.id,"data-testid":"core__annotation--link-".concat(Yt.id)}),rt.createElement("a",lt({ref:Ln},Yn)))})},Kt=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Ft.vertices&&Ft.vertices.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},rt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Nn||1,points:Ft.vertices.map(function(Ln){return"".concat(Ln.x-en[0],",").concat(en[3]-Ln.y)}).join(" ")})),Vn.slot.children)})},ln=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Ft.vertices&&Ft.vertices.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},rt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Nn||1,points:Ft.vertices.map(function(Ln){return"".concat(Ln.x-en[0],",").concat(en[3]-Ln.y)}).join(" ")})),Vn.slot.children)})},gn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An),en=Ft.rect,Sn=en[2]-en[0],vn=en[3]-en[1],Nn=Ft.borderStyle.width;return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(Vn){return rt.createElement("div",lt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Ft.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Sn," ").concat(vn),width:"".concat(Sn,"px")},rt.createElement("rect",{height:vn-Nn,fill:"none",stroke:"transparent",strokeWidth:Nn||1,x:Nn/2,y:Nn/2,width:Sn-Nn})),Vn.slot.children)})},Pn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Bn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Zn=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Jn=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),rt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),rt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),rt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},rr=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),rt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),rt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),rt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),rt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),rt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),rt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),rt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),rt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),rt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},tr=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),rt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},nr=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),rt.createElement("path",{d:"M6 4.5L6 0.5"}),rt.createElement("path",{d:"M18 4.5L18 0.5"}),rt.createElement("path",{d:"M10 4.5L10 0.5"}),rt.createElement("path",{d:"M14 4.5L14 0.5"}))},yr=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),rt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),rt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ir=function(){return rt.createElement(mt,{size:16},rt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Vr=function(Pt){var Ft=Pt.annotation,Yt=Pt.childAnnotation,Jt=Pt.page,an=Pt.viewport,un=Ft.hasPopup===!1,An=on(Ft),_n=pn(Ft),en=!!(Ft.hasPopup||An||_n),Sn=Ft.name?Ft.name.toLowerCase():"";return rt.createElement($r,{annotation:Ft,hasPopup:un,ignoreBorder:!1,isRenderable:en,page:Jt,viewport:an},function(vn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Ft.id,onClick:vn.popup.toggleOnClick,onMouseEnter:vn.popup.openOnHover,onMouseLeave:vn.popup.closeOnHover}),Sn&&rt.createElement("div",{className:"rpv-core__annotation-text-icon"},Sn==="check"&&rt.createElement(ft,null),Sn==="comment"&&rt.createElement(Jn,null),Sn==="help"&&rt.createElement(rr,null),Sn==="insert"&&rt.createElement(Ir,null),Sn==="key"&&rt.createElement(tr,null),Sn==="note"&&rt.createElement(nr,null),(Sn==="newparagraph"||Sn==="paragraph")&&rt.createElement(yr,null)),vn.slot.children),Yt&&Yt.annotationType===$.AnnotationType.Popup&&vn.popup.opened&&rt.createElement(Xn,{annotation:Yt,page:Jt,viewport:an}))})},Hr=function(Pt){var Ft=Pt.annotation,Yt=Pt.page,Jt=Pt.viewport,an=Ft.hasPopup===!1,un=on(Ft),An=pn(Ft),_n=!!(Ft.hasPopup||un||An);return rt.createElement($r,{annotation:Ft,hasPopup:an,ignoreBorder:!0,isRenderable:_n,page:Yt,viewport:Jt},function(en){return rt.createElement("div",lt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Ft.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},fs=function(Pt){var Ft=Pt.annotations,Yt=Pt.doc,Jt=Pt.outlines,an=Pt.page,un=Pt.pageIndex,An=Pt.plugins,_n=Pt.rotation,en=Pt.scale,Sn=Pt.onExecuteNamedAction,vn=Pt.onJumpFromLinkAnnotation,Nn=Pt.onJumpToDest,Vn=rt.useRef(),Ln=an.getViewport({rotation:_n,scale:en}).clone({dontFlip:!0}),er=Ft.filter(function(Qn){return!Qn.parentId});return pt(function(){var Qn=Vn.current;Qn&&An.forEach(function(Yn){Yn.onAnnotationLayerRender&&Yn.onAnnotationLayerRender({annotations:er,container:Qn,pageIndex:un,rotation:_n,scale:en})})},[]),rt.createElement("div",{ref:Vn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(un)},er.map(function(Qn){var Yn=Ft.find(function(Nr){return Nr.parentId===Qn.id});switch(Qn.annotationType){case $.AnnotationType.Caret:return rt.createElement(Gr,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Circle:return rt.createElement(yn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.FileAttachment:return rt.createElement(qn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.FreeText:return rt.createElement(ar,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Highlight:return rt.createElement(lr,{key:Qn.id,annotation:Qn,childAnnotation:Yn,page:an,viewport:Ln});case $.AnnotationType.Ink:return rt.createElement(hr,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Line:return rt.createElement(jr,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Link:return rt.createElement(Vt,{key:Qn.id,annotation:Qn,annotationContainerRef:Vn,doc:Yt,outlines:Jt,page:an,pageIndex:un,scale:en,viewport:Ln,onExecuteNamedAction:Sn,onJumpFromLinkAnnotation:vn,onJumpToDest:Nn});case $.AnnotationType.Polygon:return rt.createElement(Kt,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Polyline:return rt.createElement(ln,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Popup:return rt.createElement(Xn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Square:return rt.createElement(gn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Squiggly:return rt.createElement(Pn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Stamp:return rt.createElement(Bn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.StrikeOut:return rt.createElement(Zn,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});case $.AnnotationType.Text:return rt.createElement(Vr,{key:Qn.id,annotation:Qn,childAnnotation:Yn,page:an,viewport:Ln});case $.AnnotationType.Underline:return rt.createElement(Hr,{key:Qn.id,annotation:Qn,page:an,viewport:Ln});default:return rt.createElement(rt.Fragment,{key:Qn.id})}}))},Zr=function(Pt){var Ft=Pt.page,Yt=Pt.renderAnnotations,Jt=Xt(),an=rt.useState({loading:!0,annotations:[]}),un=an[0],An=an[1];return rt.useEffect(function(){Ft.getAnnotations({intent:"display"}).then(function(_n){Jt.current&&An({loading:!1,annotations:_n})})},[]),un.loading?rt.createElement(rt.Fragment,null):Yt(un.annotations)},Ps=function(Pt){var Ft=Pt.doc,Yt=Pt.outlines,Jt=Pt.page,an=Pt.pageIndex,un=Pt.plugins,An=Pt.rotation,_n=Pt.scale,en=Pt.onExecuteNamedAction,Sn=Pt.onJumpFromLinkAnnotation,vn=Pt.onJumpToDest;return rt.createElement(Zr,{page:Jt,renderAnnotations:function(Nn){return rt.createElement(fs,{annotations:Nn,doc:Ft,outlines:Yt,page:Jt,pageIndex:an,plugins:un,rotation:An,scale:_n,onExecuteNamedAction:en,onJumpFromLinkAnnotation:Sn,onJumpToDest:vn})}})},Rs=function(Pt,Ft){var Yt=Pt%Ft;return Yt===0?Pt:Math.floor(Pt-Yt)},ts=function(Pt){var Ft=Pt.canvasLayerRef,Yt=Pt.height,Jt=Pt.page,an=Pt.pageIndex,un=Pt.plugins,An=Pt.rotation,_n=Pt.scale,en=Pt.width,Sn=Pt.onRenderCanvasCompleted,vn=rt.useRef();return pt(function(){var Nn=vn.current;Nn&&Nn.cancel();var Vn=Ft.current;Vn.removeAttribute("data-testid"),un.forEach(function(Tr){Tr.onCanvasLayerRender&&Tr.onCanvasLayerRender({ele:Vn,pageIndex:an,rotation:An,scale:_n,status:$.LayerRenderStatus.PreRender})});var Ln=Jt.getViewport({rotation:An,scale:_n}),er=window.devicePixelRatio||1,Qn=Math.sqrt(16777216/(Ln.width*Ln.height)),Yn=er>Qn;Yn?Vn.style.transform="scale(1, 1)":Vn.style.removeProperty("transform");var Nr=Math.min(Qn,er),br=function(Tr,Yr){var zr,Kr;if(Math.floor(Tr)===Tr)return[Tr,1];var qr=1/Tr;if(qr>Yr)return[1,Yr];if(Math.floor(qr)===qr)return[1,qr];for(var Xr=Tr>1?qr:Tr,gs=0,ls=1,ys=1,us=1;;){var ps=gs+ys,ds=ls+us;if(ds>Yr)break;Xr<=ps/ds?(ys=(zr=[ps,ds])[0],us=zr[1]):(gs=(Kr=[ps,ds])[0],ls=Kr[1])}return Xr<(gs/ls+ys/us)/2?Xr===Tr?[gs,ls]:[ls,gs]:Xr===Tr?[ys,us]:[us,ys]}(Nr,8),xr=br[0],Rr=br[1];Vn.width=Rs(Ln.width*Nr,xr),Vn.height=Rs(Ln.height*Nr,xr),Vn.style.width="".concat(Rs(Ln.width,Rr),"px"),Vn.style.height="".concat(Rs(Ln.height,Rr),"px"),Vn.hidden=!0;var fr=Vn.getContext("2d",{alpha:!1}),kr=Yn||er!==1?[Nr,0,0,Nr,0,0]:null;return vn.current=Jt.render({canvasContext:fr,transform:kr,viewport:Ln}),vn.current.promise.then(function(){Vn.hidden=!1,Vn.setAttribute("data-testid","core__canvas-layer-".concat(an)),un.forEach(function(Tr){Tr.onCanvasLayerRender&&Tr.onCanvasLayerRender({ele:Vn,pageIndex:an,rotation:An,scale:_n,status:$.LayerRenderStatus.DidRender})}),Sn()},function(){Sn()}),function(){Vn&&(Vn.width=0,Vn.height=0)}},[]),rt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Yt,"px"),width:"".concat(en,"px")}},rt.createElement("canvas",{ref:Ft}))},ro=function(Pt){var Ft=Pt.height,Yt=Pt.page,Jt=Pt.rotation,an=Pt.scale,un=Pt.width,An=rt.useRef();return pt(function(){var _n=An.current,en=Yt.getViewport({rotation:Jt,scale:an});Yt.getOperatorList().then(function(Sn){(function(){var vn=An.current;vn&&(vn.innerHTML="")})(),new it.SVGGraphics(Yt.commonObjs,Yt.objs).getSVG(Sn,en).then(function(vn){vn.style.height="".concat(Ft,"px"),vn.style.width="".concat(un,"px"),_n.appendChild(vn)})})},[]),rt.createElement("div",{className:"rpv-core__svg-layer",ref:An})},Ol=function(Pt){var Ft=Pt.containerRef,Yt=Pt.page,Jt=Pt.pageIndex,an=Pt.plugins,un=Pt.rotation,An=Pt.scale,_n=Pt.onRenderTextCompleted,en=rt.useRef(),Sn=function(){var vn=Ft.current;vn&&([].slice.call(vn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Nn){return vn.removeChild(Nn)}),[].slice.call(vn.querySelectorAll('br[role="presentation"]')).forEach(function(Nn){return vn.removeChild(Nn)}))};return pt(function(){var vn=en.current;vn&&vn.cancel();var Nn=Ft.current;if(Nn){Nn.removeAttribute("data-testid");var Vn=Yt.getViewport({rotation:un,scale:An});return an.forEach(function(Ln){Ln.onTextLayerRender&&Ln.onTextLayerRender({ele:Nn,pageIndex:Jt,scale:An,status:$.LayerRenderStatus.PreRender})}),Yt.getTextContent().then(function(Ln){Sn(),en.current=it.renderTextLayer({container:Nn,textContent:Ln,textContentSource:Ln,viewport:Vn}),en.current.promise.then(function(){Nn.setAttribute("data-testid","core__text-layer-".concat(Jt)),[].slice.call(Nn.children).forEach(function(er){er.classList.contains("rpv-core__text-layer-text--not")||er.classList.add("rpv-core__text-layer-text")}),an.forEach(function(er){er.onTextLayerRender&&er.onTextLayerRender({ele:Nn,pageIndex:Jt,scale:An,status:$.LayerRenderStatus.DidRender})}),_n()},function(){Nn.removeAttribute("data-testid"),_n()})}),function(){var Ln;Sn(),(Ln=en.current)===null||Ln===void 0||Ln.cancel()}}},[]),rt.createElement("div",{className:"rpv-core__text-layer",ref:Ft})},Ml=function(Pt){var Ft=Pt.doc,Yt=Pt.measureRef,Jt=Pt.outlines,an=Pt.pageIndex,un=Pt.pageRotation,An=Pt.pageSize,_n=Pt.plugins,en=Pt.renderPage,Sn=Pt.renderQueueKey,vn=Pt.rotation,Nn=Pt.scale,Vn=Pt.shouldRender,Ln=Pt.viewMode,er=Pt.onExecuteNamedAction,Qn=Pt.onJumpFromLinkAnnotation,Yn=Pt.onJumpToDest,Nr=Pt.onRenderCompleted,br=Pt.onRotatePage,xr=Xt(),Rr=rt.useState(null),fr=Rr[0],kr=Rr[1],Tr=rt.useState(!1),Yr=Tr[0],zr=Tr[1],Kr=rt.useState(!1),qr=Kr[0],Xr=Kr[1],gs=rt.useRef(),ls=rt.useRef(),ys=Math.abs(vn+un)%180==0,us=An.pageWidth*Nn,ps=An.pageHeight*Nn,ds=ys?us:ps,hs=ys?ps:us,Ss=(An.rotation+vn+un)%360,$s=rt.useRef(0),Cs=en||function(bs){return rt.createElement(rt.Fragment,null,bs.canvasLayer.children,bs.textLayer.children,bs.annotationLayer.children)};return rt.useEffect(function(){kr(null),zr(!1),Xr(!1)},[un,vn,Nn]),rt.useEffect(function(){Vn&&xr.current&&!fr&&_r(Ft,an).then(function(bs){xr.current&&($s.current=Sn,kr(bs))})},[Vn,fr]),rt.useEffect(function(){Yr&&qr&&(Sn!==$s.current?(kr(null),zr(!1),Xr(!1)):Nr(an))},[Yr,qr]),rt.createElement("div",{className:_t({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Ln===$.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Ln===$.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Ln===$.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(an),ref:Yt,style:{height:"".concat(hs,"px"),width:"".concat(ds,"px")}},fr?rt.createElement(rt.Fragment,null,Cs({annotationLayer:{attrs:{},children:rt.createElement(Ps,{doc:Ft,outlines:Jt,page:fr,pageIndex:an,plugins:_n,rotation:Ss,scale:Nn,onExecuteNamedAction:er,onJumpFromLinkAnnotation:Qn,onJumpToDest:Yn})},canvasLayer:{attrs:{},children:rt.createElement(ts,{canvasLayerRef:gs,height:hs,page:fr,pageIndex:an,plugins:_n,rotation:Ss,scale:Nn,width:ds,onRenderCanvasCompleted:function(){xr.current&&zr(!0)}})},canvasLayerRendered:Yr,doc:Ft,height:hs,pageIndex:an,rotation:Ss,scale:Nn,svgLayer:{attrs:{},children:rt.createElement(ro,{height:hs,page:fr,rotation:Ss,scale:Nn,width:ds})},textLayer:{attrs:{},children:rt.createElement(Ol,{containerRef:ls,page:fr,pageIndex:an,plugins:_n,rotation:Ss,scale:Nn,onRenderTextCompleted:function(){xr.current&&Xr(!0)}})},textLayerRendered:qr,width:ds,markRendered:Nr,onRotatePage:function(bs){return br(an,bs)}}),_n.map(function(bs,Is){return bs.renderPageLayer?rt.createElement(rt.Fragment,{key:Is},bs.renderPageLayer({canvasLayerRef:gs,canvasLayerRendered:Yr,doc:Ft,height:hs,pageIndex:an,rotation:Ss,scale:Nn,textLayerRef:ls,textLayerRendered:qr,width:ds})):rt.createElement(rt.Fragment,{key:Is})})):rt.createElement(vt,{testId:"core__page-layer-loading-".concat(an)}))},jo=function(Pt,Ft){var Yt=Ft.rect;return Pt.height!==Yt.height||Pt.width!==Yt.width?Yt:Pt};(function(Pt){Pt.Horizontal="Horizontal",Pt.Vertical="Vertical",Pt.Both="Both"})(On||(On={}));var Fl=function(Pt){return 1-Math.pow(1-Pt,4)},io=1e-4,Uo={left:0,top:0},go={capture:!1,passive:!0},Ll=function(Pt){var Ft=Pt.elementRef,Yt=Pt.enableSmoothScroll,Jt=Pt.isRtl,an=Pt.scrollDirection,un=Pt.onSmoothScroll,An=rt.useState(Uo),_n=An[0],en=An[1],Sn=rt.useState(Ft.current),vn=Sn[0],Nn=Sn[1],Vn=Jt?-1:1,Ln=rt.useRef(an);Ln.current=an;var er=rt.useRef(Uo),Qn=rt.useRef(!0),Yn=rt.useCallback(function(){Qn.current=!0,Yt&&en(er.current),un(!1)},[]),Nr=rt.useCallback(function(){if(vn){switch(Ln.current){case On.Horizontal:er.current={left:Vn*vn.scrollLeft,top:0};break;case On.Both:er.current={left:Vn*vn.scrollLeft,top:vn.scrollTop};break;case On.Vertical:default:er.current={left:0,top:vn.scrollTop}}Yt&&!Qn.current||en(er.current)}},[vn]);pt(function(){Nn(Ft.current)}),pt(function(){if(vn)return vn.addEventListener("scroll",Nr,go),function(){vn.removeEventListener("scroll",Nr,go)}},[vn]);var br=rt.useCallback(function(xr,Rr){var fr=Ft.current;if(!fr)return Promise.resolve();var kr={left:0,top:0};switch(Ln.current){case On.Horizontal:kr.left=Vn*xr.left;break;case On.Both:kr.left=Vn*xr.left,kr.top=xr.top;break;case On.Vertical:default:kr.top=xr.top}return Rr?(Qn.current=!1,un(!0),new Promise(function(Tr,Yr){(function(zr,Kr,qr,Xr,gs,ls){gs===void 0&&(gs=function(Is){return Is}),ls===void 0&&(ls=function(){});var ys=0,us=0,ps=!1;switch(Kr){case On.Horizontal:us=zr.scrollLeft,ys=0;case On.Both:us=zr.scrollLeft,ys=zr.scrollTop;break;case On.Vertical:default:us=0,ys=zr.scrollTop}var ds=function(){ps||(ps=!0,zr.scrollLeft=qr.left,zr.scrollTop=qr.top,ls())};if(Math.abs(ys-qr.top)<=io&&Kr===On.Vertical)ds();else if(Math.abs(us-qr.left)<=io&&Kr===On.Horizontal)ds();else{var hs,Ss=-1,$s=us-qr.left,Cs=ys-qr.top,bs=function(Is){Ss===-1&&(Ss=Is);var Os=Is-Ss,Ar=Math.min(Os/Xr,1),Sr=gs(Ar),pr={left:us-$s*Sr,top:ys-Cs*Sr};switch(Kr){case On.Horizontal:zr.scrollLeft=pr.left;break;case On.Both:zr.scrollLeft=pr.left,zr.scrollTop=pr.top;break;case On.Vertical:default:zr.scrollTop=pr.top}Math.abs(pr.top-qr.top)<=io&&Math.abs(pr.left-qr.left)<=io&&!ps&&(window.cancelAnimationFrame(hs),ds()),Os<Xr?hs=window.requestAnimationFrame(bs):window.cancelAnimationFrame(hs)};hs=window.requestAnimationFrame(bs)}})(fr,Ln.current,kr,400,Fl,function(){Yn(),Tr()})})):new Promise(function(Tr,Yr){switch(Ln.current){case On.Horizontal:fr.scrollLeft=kr.left;break;case On.Both:fr.scrollLeft=kr.left,fr.scrollTop=kr.top;break;case On.Vertical:default:fr.scrollTop=kr.top}Tr()})},[Ft]);return{scrollOffset:_n,scrollTo:br}},Ys=function(Pt,Ft,Yt){return Math.max(Pt,Math.min(Yt,Ft))},Nl=function(Pt,Ft){if(Ft!==$.ViewMode.DualPageWithCover)return 0;if(!function(an){var un=an.length;if(un===1)return!1;for(var An=1;An<un;An++)if(an[An].height!==an[0].height||an[An].width!==an[0].width)return!0;return!1}(Pt))return 2*Pt[0].width;var Yt=mn(Pt.slice(1),2).map(function(an){return an.length===2?an[0].width+an[1].width:an[0].width}),Jt=[Pt[0].width].concat(Yt);return Math.max.apply(Math,Jt)},Vl={left:0,top:0},Ul={left:0,top:0},_o={left:0,top:0},Bl={left:0,top:0},Wl={height:0,width:0},Bo={left:0,top:0},yo="data-virtual-index",Hl=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Wo=function(Pt){var Ft=Pt.enableSmoothScroll,Yt=Pt.isRtl,Jt=Pt.numberOfItems,an=Pt.parentRef,un=Pt.setRenderRange,An=Pt.sizes,_n=Pt.scrollMode,en=Pt.viewMode,Sn=rt.useState(!1),vn=Sn[0],Nn=Sn[1],Vn=rt.useCallback(function(Ar){return Nn(Ar)},[]),Ln=rt.useRef(_n);Ln.current=_n;var er=rt.useRef(en);er.current=en;var Qn=_n===$.ScrollMode.Wrapped||en===$.ViewMode.DualPageWithCover||en===$.ViewMode.DualPage?On.Both:_n===$.ScrollMode.Horizontal?On.Horizontal:On.Vertical,Yn=Ll({elementRef:an,enableSmoothScroll:Ft,isRtl:Yt,scrollDirection:Qn,onSmoothScroll:Vn}),Nr=Yn.scrollOffset,br=Yn.scrollTo,xr=function(Ar){var Sr=Ar.elementRef,pr=rt.useState(Sr.current),vr=pr[0],mr=pr[1],Cr=rt.useRef(!1),Dr=rt.useReducer(jo,{height:0,width:0}),gr=Dr[0],cr=Dr[1];return pt(function(){Sr.current!==vr&&mr(Sr.current)}),pt(function(){if(vr&&!Cr.current){Cr.current=!0;var Mr=vr.getBoundingClientRect(),Ur=Mr.height,ns=Mr.width;cr({rect:{height:Ur,width:ns}})}},[vr]),rt.useEffect(function(){if(vr){var Mr=new ResizeObserver(function(Ur,ns){Ur.forEach(function(es){if(es.target===vr){var xs=es.contentRect,ks=xs.height,Lr=xs.width;cr({rect:{height:ks,width:Lr}})}})});return Mr.observe(vr),function(){Mr.unobserve(vr)}}},[vr]),gr}({elementRef:an}),Rr=rt.useRef({scrollOffset:Bo,measurements:[]});Rr.current.scrollOffset=Nr;var fr=rt.useMemo(function(){return Array(Jt).fill(-1)},[]),kr=rt.useState(fr),Tr=kr[0],Yr=kr[1],zr=rt.useMemo(function(){var Ar=new IntersectionObserver(function(Sr){Sr.forEach(function(pr){var vr=pr.isIntersecting?pr.intersectionRatio:-1,mr=pr.target.getAttribute(yo);if(mr){var Cr=parseInt(mr,10);0<=Cr&&Cr<Jt&&Yr(function(Dr){return Dr[Cr]=vr,function(gr,cr,Mr){if(Mr||arguments.length===2)for(var Ur,ns=0,es=cr.length;ns<es;ns++)!Ur&&ns in cr||(Ur||(Ur=Array.prototype.slice.call(cr,0,ns)),Ur[ns]=cr[ns]);return gr.concat(Ur||Array.prototype.slice.call(cr))}([],Dr,!0)})}})},{threshold:Hl});return Ar},[]),Kr=rt.useMemo(function(){return _n===$.ScrollMode.Page&&en===$.ViewMode.SinglePage?function(Ar,Sr,pr){for(var vr=[],mr=0;mr<Ar;mr++){var Cr={height:Math.max(Sr.height,pr[mr].height),width:Math.max(Sr.width,pr[mr].width)},Dr=mr===0?Bl:vr[mr-1].end,gr={left:Dr.left+Cr.width,top:Dr.top+Cr.height};vr[mr]={index:mr,start:Dr,size:Cr,end:gr,visibility:-1}}return vr}(Jt,xr,An):en===$.ViewMode.DualPageWithCover?function(Ar,Sr,pr,vr){for(var mr=[],Cr=0,Dr=0,gr=_o,cr=0;cr<Ar;cr++){var Mr=cr===0?{height:vr===$.ScrollMode.Page?Math.max(Sr.height,pr[cr].height):pr[cr].height,width:vr===$.ScrollMode.Page?Math.max(Sr.width,pr[cr].width):pr[cr].width}:{height:vr===$.ScrollMode.Page?Math.max(Sr.height,pr[cr].height):pr[cr].height,width:Math.max(Sr.width/2,pr[cr].width)};vr===$.ScrollMode.Page?gr=cr===0?_o:{left:cr%2==0?Mr.width:0,top:Math.floor((cr-1)/2)*Mr.height+mr[0].end.top}:cr===0?(gr=_o,Cr=pr[0].height,Dr=0):cr%2==1?(gr={left:0,top:Cr+=Dr},Dr=cr===Ar-1?pr[cr].height:Math.max(pr[cr].height,pr[cr+1].height)):gr={left:mr[cr-1].end.left,top:Cr};var Ur={left:gr.left+Mr.width,top:gr.top+Mr.height};mr[cr]={index:cr,start:gr,size:Mr,end:Ur,visibility:-1}}return mr}(Jt,xr,An,_n):en===$.ViewMode.DualPage?function(Ar,Sr,pr,vr){for(var mr=[],Cr=0,Dr=0,gr=Ul,cr=0;cr<Ar;cr++){var Mr={height:vr===$.ScrollMode.Page?Math.max(Sr.height,pr[cr].height):pr[cr].height,width:Math.max(Sr.width/2,pr[cr].width)};vr===$.ScrollMode.Page?gr={left:cr%2==0?0:Mr.width,top:Math.floor(cr/2)*Mr.height}:cr%2==0?(gr={left:0,top:Cr+=Dr},Dr=cr===Ar-1?pr[cr].height:Math.max(pr[cr].height,pr[cr+1].height)):gr={left:mr[cr-1].end.left,top:Cr};var Ur={left:gr.left+Mr.width,top:gr.top+Mr.height};mr[cr]={index:cr,start:gr,size:Mr,end:Ur,visibility:-1}}return mr}(Jt,xr,An,_n):function(Ar,Sr,pr,vr){for(var mr=[],Cr=0,Dr={left:0,top:0},gr=0,cr=Vl,Mr=0;Mr<Ar;Mr++){var Ur=pr[Mr];if(Mr===0)Cr=Ur.width,Dr={left:0,top:0},gr=Ur.height;else switch(vr){case $.ScrollMode.Wrapped:(Cr+=Ur.width)<Sr.width?(cr={left:mr[Mr-1].end.left,top:Dr.top},gr=Math.max(gr,Ur.height)):(Cr=Ur.width,Dr={left:(cr={left:Dr.left,top:Dr.top+gr}).left,top:cr.top},gr=Ur.height);break;case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:cr=mr[Mr-1].end}var ns={left:cr.left+Ur.width,top:cr.top+Ur.height};mr[Mr]={index:Mr,start:cr,size:Ur,end:ns,visibility:-1}}return mr}(Jt,xr,An,_n)},[_n,An,en,xr]),qr=Kr[Jt-1]?{height:Kr[Jt-1].end.top,width:Kr[Jt-1].end.left}:Wl;Rr.current.measurements=Kr;var Xr=rt.useMemo(function(){var Ar=function(Mr,Ur,ns,es){var xs=0;switch(Mr){case On.Horizontal:xs=es.left;break;case On.Vertical:default:xs=es.top}var ks=Ur.length-1,Lr=function(_i,Fs,Ws,Xs){for(;_i<=Fs;){var Hs=(_i+Fs)/2|0,Zs=Xs(Hs);if(Zs<Ws)_i=Hs+1;else{if(!(Zs>Ws))return Hs;Fs=Hs-1}}return _i>0?_i-1:0}(0,ks,xs,function(_i){switch(Mr){case On.Horizontal:return Ur[_i].start.left;case On.Both:case On.Vertical:default:return Ur[_i].start.top}});if(Mr===On.Both)for(var As=Ur[Lr].start.top;Lr-1>=0&&Ur[Lr-1].start.top===As&&Ur[Lr-1].start.left>=es.left;)Lr--;for(var ss=Lr;ss<=ks;){var os={top:Ur[ss].start.top-es.top,left:Ur[ss].start.left-es.left},ws={height:ns.height-os.top,width:ns.width-os.left};if(Mr===On.Horizontal&&ws.width<0||Mr===On.Vertical&&ws.height<0||Mr===On.Both&&(ws.width<0||ws.height<0))break;ss++}return{start:Lr,end:ss}}(Qn,Kr,xr,Nr),Sr=Ar.start,pr=Ar.end,vr=Tr.slice(Ys(0,Jt,Sr),Ys(0,Jt,pr)),mr=Sr+vr.reduce(function(Mr,Ur,ns,es){return Ur>es[Mr]?ns:Mr},0),Cr=mr=Ys(0,Jt-1,mr),Dr=un({endPage:pr,numPages:Jt,startPage:Sr}),gr=Dr.startPage,cr=Dr.endPage;switch(gr=Math.max(gr,0),cr=Math.min(cr,Jt-1),en){case $.ViewMode.DualPageWithCover:mr>0&&(Cr=mr%2==1?mr:mr-1),gr=gr===0?0:gr%2==1?gr:gr-1,Jt-(cr=cr%2==1?cr-1:cr)<=2&&(cr=Jt-1);break;case $.ViewMode.DualPage:Cr=mr%2==0?mr:mr-1,gr=gr%2==0?gr:gr-1,cr=cr%2==1?cr:cr-1;break;case $.ViewMode.SinglePage:default:Cr=mr}return{startPage:gr,endPage:cr,maxVisbilityIndex:Cr}},[Kr,xr,Nr,en,Tr]),gs=Xr.startPage,ls=Xr.endPage,ys=Xr.maxVisbilityIndex,us=rt.useMemo(function(){for(var Ar=[],Sr=function(vr){var mr=Kr[vr],Cr=lt(lt({},mr),{visibility:Tr[vr]!==void 0?Tr[vr]:-1,measureRef:function(Dr){Dr&&(Dr.setAttribute(yo,"".concat(vr)),zr.observe(Dr))}});Ar.push(Cr)},pr=gs;pr<=ls;pr++)Sr(pr);return Ar},[gs,ls,Tr,Kr]),ps=rt.useCallback(function(Ar,Sr){var pr=Rr.current.measurements[Ys(0,Jt-1,Ar)],vr=Ln.current===$.ScrollMode.Page?Bo:Sr;return pr?br({left:vr.left+pr.start.left,top:vr.top+pr.start.top},Ft):Promise.resolve()},[br,Ft]),ds=rt.useCallback(function(Ar,Sr){var pr=Rr.current.measurements,vr=pr[Ar].start,mr=pr.find(function(Dr){return Dr.start.top-vr.top>1e-12});if(!mr)return Promise.resolve();var Cr=mr.index;switch(er.current){case $.ViewMode.DualPage:Cr=Cr%2==0?Cr:Cr+1;break;case $.ViewMode.DualPageWithCover:Cr=Cr%2==1?Cr:Cr+1}return ps(Cr,Sr)},[]),hs=rt.useCallback(function(Ar,Sr){for(var pr=Rr.current.measurements,vr=pr[Ar].start,mr=Ar,Cr=!1,Dr=Jt-1;Dr>=0;Dr--)if(vr.top-pr[Dr].start.top>1e-12){Cr=!0,mr=pr[Dr].index;break}if(!Cr)return Promise.resolve();switch(er.current){case $.ViewMode.DualPage:mr=mr%2==0?mr:mr-1;break;case $.ViewMode.DualPageWithCover:mr=mr%2==0?mr-1:mr}return mr===Ar&&(mr=Ar-1),ps(mr,Sr)},[]),Ss=rt.useCallback(function(Ar,Sr){if(er.current===$.ViewMode.DualPageWithCover||er.current===$.ViewMode.DualPage)return ds(Ar,Sr);switch(Ln.current){case $.ScrollMode.Wrapped:return ds(Ar,Sr);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return ps(Ar+1,Sr)}},[]),$s=rt.useCallback(function(Ar,Sr){if(er.current===$.ViewMode.DualPageWithCover||er.current===$.ViewMode.DualPage)return hs(Ar,Sr);switch(Ln.current){case $.ScrollMode.Wrapped:return hs(Ar,Sr);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return ps(Ar-1,Sr)}},[]),Cs=rt.useCallback(function(){return function(Ar,Sr){switch(Sr){case $.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Ar.width,"px")};case $.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Ar.height,"px"),width:"100%"}}}(qr,Ln.current)},[qr]),bs=rt.useCallback(function(Ar){return function(Sr,pr,vr){return vr!==$.ScrollMode.Page?{}:{height:"".concat(pr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Sr.start.top,"px)")}}(Ar,xr,Ln.current)},[xr]),Is=rt.useCallback(function(Ar){return function(Sr,pr,vr,mr,Cr){var Dr,gr,cr,Mr,Ur,ns,es,xs=pr?"right":"left",ks=pr?-1:1,Lr=vr.length,As=Sr.start.left*ks,ss=Sr.size,os=ss.height,ws=ss.width;if(mr===$.ViewMode.DualPageWithCover){var _i=Cr===$.ScrollMode.Page?0:Sr.start.top;return Sr.index===0||Lr%2==0&&Sr.index===Lr-1?((Dr={height:"".concat(os,"px"),minWidth:"".concat(Nl(vr,mr),"px"),width:"100%"})[xs]=0,Dr.position="absolute",Dr.top=0,Dr.transform="translate(".concat(As,"px, ").concat(_i,"px)"),Dr):((gr={height:"".concat(os,"px"),width:"".concat(ws,"px")})[xs]=0,gr.position="absolute",gr.top=0,gr.transform="translate(".concat(As,"px, ").concat(_i,"px)"),gr)}if(mr===$.ViewMode.DualPage)return(cr={height:"".concat(os,"px"),width:"".concat(ws,"px")})[xs]=0,cr.position="absolute",cr.top=0,cr.transform="translate(".concat(As,"px, ").concat(Cr===$.ScrollMode.Page?0:Sr.start.top,"px)"),cr;switch(Cr){case $.ScrollMode.Horizontal:return(Mr={height:"100%",width:"".concat(ws,"px")})[xs]=0,Mr.position="absolute",Mr.top=0,Mr.transform="translateX(".concat(As,"px)"),Mr;case $.ScrollMode.Page:return(Ur={height:"".concat(os,"px"),width:"".concat(ws,"px")})[xs]=0,Ur.position="absolute",Ur.top=0,Ur;case $.ScrollMode.Wrapped:return(ns={height:"".concat(os,"px"),width:"".concat(ws,"px")})[xs]=0,ns.position="absolute",ns.top=0,ns.transform="translate(".concat(As,"px, ").concat(Sr.start.top,"px)"),ns;case $.ScrollMode.Vertical:default:return(es={height:"".concat(os,"px"),width:"100%"})[xs]=0,es.position="absolute",es.top=0,es.transform="translateY(".concat(Sr.start.top,"px)"),es}}(Ar,Yt,An,er.current,Ln.current)},[Yt,An]),Os=rt.useCallback(function(Ar,Sr){var pr=Rr.current,vr=pr.measurements,mr=pr.scrollOffset,Cr=vr[Ys(0,Jt-1,Sr)];if(Cr){var Dr=Ln.current===$.ScrollMode.Page?{left:Cr.start.left,top:Cr.start.top}:{left:mr.left*Ar,top:mr.top*Ar};return br(Dr,!1)}return Promise.resolve()},[]);return rt.useEffect(function(){return function(){zr.disconnect()}},[]),{boundingClientRect:xr,isSmoothScrolling:vn,startPage:gs,endPage:ls,maxVisbilityIndex:ys,virtualItems:us,getContainerStyles:Cs,getItemContainerStyles:bs,getItemStyles:Is,scrollToItem:ps,scrollToNextItem:Ss,scrollToPreviousItem:$s,zoom:Os}},vo=function(Pt,Ft,Yt,Jt,an,un){var An=Yt;switch(!0){case(an===$.ViewMode.DualPageWithCover&&un>=3):case(an===$.ViewMode.DualPage&&un>=3):An=2*Yt;break;default:An=Yt}switch(Jt){case $.SpecialZoomLevel.ActualSize:return 1;case $.SpecialZoomLevel.PageFit:return Math.min((Pt.clientWidth-17)/An,(Pt.clientHeight-16)/Ft);case $.SpecialZoomLevel.PageWidth:return(Pt.clientWidth-17)/An}},zl=function(Pt){var Ft,Yt,Jt=Pt.getCurrentPage,an=(Ft=50,Yt=rt.useRef([]),rt.useEffect(function(){return function(){Yt.current=[]}},[]),{push:function(Sn){var vn=Yt.current;vn.length+1>Ft&&vn.shift(),vn.push(Sn),Yt.current=vn},map:function(Sn){return Yt.current.map(function(vn){return Sn(vn)})},pop:function(){var Sn=Yt.current;if(Sn.length===0)return null;var vn=Sn.pop();return Yt.current=Sn,vn}}),un=function(Sn){var vn=rt.useRef([]);return rt.useEffect(function(){return function(){vn.current=[]}},[]),{dequeue:function(){var Nn=vn.current;if(Nn.length===0)return null;var Vn=Nn.shift();return vn.current=Nn,Vn||null},enqueue:function(Nn){var Vn=vn.current;Vn.length+1>Sn&&Vn.pop(),vn.current=[Nn].concat(Vn)},map:function(Nn){return vn.current.map(function(Vn){return Nn(Vn)})}}}(50),An=function(){var Sn=un.dequeue();return Sn&&an.push(Sn),Sn&&Sn.pageIndex===Jt()?An():Sn},_n=function(){var Sn=an.pop();return Sn&&un.enqueue(Sn),Sn&&Sn.pageIndex===Jt()?_n():Sn},en=rt.useCallback(function(Sn){an.push(Sn)},[]);return{getNextDestination:An,getPreviousDestination:_n,markVisitedDestination:en}},Us=function(Pt){var Ft=[];return Pt.map(function(Yt){Ft=Ft.concat(Yt).concat(function(Jt){var an=[];return Jt.items&&Jt.items.length>0&&(an=an.concat(Us(Jt.items))),an}(Yt))}),Ft},Eo={capture:!1,passive:!0},Gl={height:0,width:0},Js={height:0,width:0},Ho=function(Pt){var Ft=Pt.getCurrentPage,Yt=Pt.getCurrentScrollMode,Jt=Pt.jumpToPage,an=Pt.targetRef,un=rt.useState($.FullScreenMode.Normal),An=un[0],_n=un[1],en=function(){var Tr=rt.useState(Gl),Yr=Tr[0],zr=Tr[1],Kr=Nt(function(){zr({height:window.innerHeight,width:window.innerWidth})},100);return pt(function(){return window.addEventListener("resize",Kr,Eo),function(){window.removeEventListener("resize",Kr,Eo)}},[]),Yr}(),Sn=rt.useState(Js),vn=Sn[0],Nn=Sn[1],Vn=rt.useRef(Js),Ln=rt.useRef(Ft()),er=rt.useRef(Js),Qn=rt.useState(an.current),Yn=Qn[0],Nr=Qn[1],br=rt.useRef();pt(function(){an.current!==Yn&&Nr(an.current)},[]),pt(function(){if(Yn){var Tr=new ResizeObserver(function(Yr){Yr.forEach(function(zr){var Kr=zr.target.getBoundingClientRect(),qr=Kr.height,Xr=Kr.width;Nn({height:qr,width:Xr})})});return Tr.observe(Yn),function(){Tr.unobserve(Yn),Tr.disconnect()}}},[Yn]);var xr=rt.useCallback(function(Tr){var Yr=zt();return Yr&&Yr!==Tr?(_n($.FullScreenMode.Normal),Ht(Yr)):Promise.resolve()},[]),Rr=rt.useCallback(function(Tr){Tr&&Mt()&&(Nr(Tr),xr(Tr).then(function(){br.current=Tr,_n($.FullScreenMode.Entering),function(Yr){At&&Yr[Lt.RequestFullScreen]()}(Tr)}))},[]),fr=rt.useCallback(function(){zt()&&(_n($.FullScreenMode.Exitting),Ht(document))},[]),kr=rt.useCallback(function(){Yn&&zt()!==Yn&&_n($.FullScreenMode.Exitting)},[Yn]);return rt.useEffect(function(){switch(An){case $.FullScreenMode.Entering:br.current&&(br.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Ln.current=Ft(),Vn.current={height:window.innerHeight,width:window.innerWidth};break;case $.FullScreenMode.Entered:Yt()===$.ScrollMode.Page?Jt(Ln.current).then(function(){_n($.FullScreenMode.EnteredCompletely)}):_n($.FullScreenMode.EnteredCompletely);break;case $.FullScreenMode.Exitting:br.current&&(br.current.style.backgroundColor="",br.current=null),Ln.current=Ft();break;case $.FullScreenMode.Exited:_n($.FullScreenMode.Normal),Yt()===$.ScrollMode.Page&&Jt(Ln.current)}},[An]),rt.useEffect(function(){if(An!==$.FullScreenMode.Normal)return An===$.FullScreenMode.Entering&&en.height===vn.height&&en.width===vn.width&&en.height>0&&en.width>0&&(er.current.height===0||en.height==er.current.height)?(er.current={height:window.innerHeight,width:window.innerWidth},void _n($.FullScreenMode.Entered)):void(An===$.FullScreenMode.Exitting&&Vn.current.height===en.height&&Vn.current.width===en.width&&en.height>0&&en.width>0&&_n($.FullScreenMode.Exited))},[An,en,vn]),rt.useEffect(function(){var Tr;return Tr=kr,At&&document.addEventListener(Lt.FullScreenChange,Tr),function(){(function(Yr){At&&document.removeEventListener(Lt.FullScreenChange,Yr)})(kr)}},[Yn]),{enterFullScreenMode:Rr,exitFullScreenMode:fr,fullScreenMode:An}},Yl={buildPageStyles:function(){return{}},transformSize:function(Pt){return Pt.size}},Ks={left:0,top:0},Kl=function(Pt){var Ft=Pt.currentFile,Yt=Pt.defaultScale,Jt=Pt.doc,an=Pt.enableSmoothScroll,un=Pt.initialPage,An=Pt.initialRotation,_n=Pt.initialScale,en=Pt.pageLayout,Sn=Pt.pageSizes,vn=Pt.plugins,Nn=Pt.renderPage,Vn=Pt.scrollMode,Ln=Pt.setRenderRange,er=Pt.viewMode,Qn=Pt.viewerState,Yn=Pt.onDocumentLoad,Nr=Pt.onOpenFile,br=Pt.onPageChange,xr=Pt.onRotate,Rr=Pt.onRotatePage,fr=Pt.onZoom,kr=Jt.numPages,Tr=Jt.loadingTask.docId,Yr=rt.useContext(Fn).l10n,zr=rt.useContext(dt),Kr=zr.direction===$.TextDirection.RightToLeft,qr=rt.useRef(),Xr=rt.useRef(),gs=rt.useState(un),ls=gs[0],ys=gs[1],us=rt.useRef(null),ps=zl({getCurrentPage:function(){return Lr.current.pageIndex}}),ds=rt.useState(An),hs=ds[0],Ss=ds[1],$s=rn(hs),Cs=rt.useState(!1),bs=Cs[0],Is=Cs[1],Os=rt.useState(new Map),Ar=Os[0],Sr=Os[1],pr=rt.useState(Vn),vr=pr[0],mr=pr[1],Cr=rn(vr),Dr=rt.useState(er),gr=Dr[0],cr=Dr[1],Mr=rn(gr),Ur=function(Kn){var Fr=Xt(),Br=rt.useState([]),Jr=Br[0],Qr=Br[1];return rt.useEffect(function(){Kn.getOutline().then(function(Wr){if(Fr.current&&Wr!==null){var vs=Us(Wr);Qr(vs)}})},[]),Jr}(Jt),ns=rt.useState(_n),es=ns[0],xs=ns[1],ks=rn(es),Lr=rt.useRef(Qn),As=rt.useRef(typeof Yt=="string"?Yt:null),ss=rt.useRef(-1),os=rt.useRef(-1),ws=rt.useRef(un),_i=Ho({getCurrentPage:function(){return Lr.current.pageIndex},getCurrentScrollMode:function(){return Lr.current.scrollMode},jumpToPage:function(Kn){return Ns(Kn)},targetRef:Xr}),Fs=rt.useState(-1),Ws=Fs[0],Xs=Fs[1],Hs=rt.useState(0),Zs=Hs[0],eu=Hs[1],Ds=fn({doc:Jt});rt.useEffect(function(){return function(){Gn.clear(),ur.clear()}},[Tr]);var eo=rt.useMemo(function(){return Object.assign({},Yl,en)},[]),tu=rt.useMemo(function(){return Array(kr).fill(0).map(function(Kn,Fr){var Br=[Sn[Fr].pageHeight,Sn[Fr].pageWidth],Jr=Math.abs(hs)%180==0?{height:Br[0],width:Br[1]}:{height:Br[1],width:Br[0]},Qr={height:Jr.height*es,width:Jr.width*es};return eo.transformSize({numPages:kr,pageIndex:Fr,size:Qr})})},[hs,es]),rs=Wo({enableSmoothScroll:an,isRtl:Kr,numberOfItems:kr,parentRef:Xr,scrollMode:vr,setRenderRange:Ln,sizes:tu,viewMode:gr}),nu=Nt(function(){!As.current||Lr.current.fullScreenMode!==$.FullScreenMode.Normal||un>0&&ws.current===un||zs(As.current)},200);(function(Kn){var Fr=Kn.targetRef,Br=Kn.onResize;pt(function(){var Jr=new ResizeObserver(function(Wr){Wr.forEach(function(vs){Br(vs.target)})}),Qr=Fr.current;if(Qr)return Jr.observe(Qr),function(){Jr.unobserve(Qr)}},[])})({targetRef:Xr,onResize:nu});var Ls=function(Kn){var Fr=Kn;vn.forEach(function(Br){Br.onViewerStateChange&&(Fr=Br.onViewerStateChange(Fr))}),Lr.current=Fr},qo=function(){return Xr.current},ru=function(){return Lr.current},iu=rt.useCallback(function(Kn){ps.markVisitedDestination(Kn)},[]),So=rt.useCallback(function(Kn){var Fr=Kn.pageIndex,Br=Kn.bottomOffset,Jr=Kn.leftOffset,Qr=Kn.scaleTo,Wr=Xr.current,vs=Lr.current;return Wr&&vs?new Promise(function(js,ko){_r(Jt,Fr).then(function(ao){var Ts=ao.getViewport({scale:1}),qs=0,_s=(typeof Br=="function"?Br(Ts.width,Ts.height):Br)||0,lo=(typeof Jr=="function"?Jr(Ts.width,Ts.height):Jr)||0,Qs=vs.scale;switch(Qr){case $.SpecialZoomLevel.PageFit:qs=0,lo=0,zs($.SpecialZoomLevel.PageFit);break;case $.SpecialZoomLevel.PageWidth:Qs=vo(Wr,Sn[Fr].pageHeight,Sn[Fr].pageWidth,$.SpecialZoomLevel.PageWidth,er,kr),qs=(Ts.height-_s)*Qs,lo*=Qs,zs(Qs);break;default:qs=(Ts.height-_s)*Qs,lo*=Qs}switch(vs.scrollMode){case $.ScrollMode.Horizontal:rs.scrollToItem(Fr,{left:lo,top:0}).then(function(){js()});break;case $.ScrollMode.Vertical:default:rs.scrollToItem(Fr,{left:0,top:qs}).then(function(){js()})}})}):Promise.resolve()},[]),Go=rt.useCallback(function(Kn){return ps.markVisitedDestination(Kn),So(Kn)},[]),Yo=rt.useCallback(function(){var Kn=ps.getNextDestination();return Kn?So(Kn):Promise.resolve()},[]),Ko=rt.useCallback(function(){var Kn=ps.getPreviousDestination();return Kn?So(Kn):Promise.resolve()},[]),su=rt.useCallback(function(){return rs.scrollToNextItem(Lr.current.pageIndex,Ks)},[]),Ns=rt.useCallback(function(Kn){return 0<=Kn&&Kn<kr?rs.scrollToItem(Kn,Ks):Promise.resolve()},[]),ou=rt.useCallback(function(){return rs.scrollToPreviousItem(Lr.current.pageIndex,Ks)},[]),Ao=rt.useCallback(function(Kn){var Fr,Br;(Fr=Kn.name,Br=Fr.split(/\./).pop(),Br?Br.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Jr){var Qr=new FileReader;Qr.readAsArrayBuffer(Kn),Qr.onload=function(){var Wr=new Uint8Array(Qr.result);Jr(Wr)}}).then(function(Jr){Nr(Kn.name,Jr)})},[Nr]),oo=rt.useCallback(function(Kn){var Fr=Kn===$.RotateDirection.Backward?-90:90,Br=Lr.current.rotation,Jr=Br===360||Br===-360?Fr:Br+Fr;Ds.markNotRendered(),Ss(Jr),Ls(lt(lt({},Lr.current),{rotation:Jr})),xr({direction:Kn,doc:Jt,rotation:Jr})},[]),To=rt.useCallback(function(Kn,Fr){var Br=Fr===$.RotateDirection.Backward?-90:90,Jr=Lr.current.pagesRotation,Qr=(Jr.has(Kn)?Jr.get(Kn):An)+Br,Wr=Jr.set(Kn,Qr);Sr(Wr),Is(function(vs){return!vs}),Ls(lt(lt({},Lr.current),{pagesRotation:Wr,rotatedPage:Kn})),Rr({direction:Fr,doc:Jt,pageIndex:Kn,rotation:Qr}),Ds.markRendering(Kn),Xs(Kn)},[]),Xo=rt.useCallback(function(Kn){Ls(lt(lt({},Lr.current),{scrollMode:Kn})),mr(Kn)},[]),Qo=rt.useCallback(function(Kn){Ls(lt(lt({},Lr.current),{viewMode:Kn})),cr(Kn)},[]),zs=rt.useCallback(function(Kn){var Fr=Xr.current,Br=Lr.current.pageIndex;if(!(Br<0||Br>=kr)){var Jr=Sn[Br].pageHeight,Qr=Sn[Br].pageWidth,Wr=Fr?typeof Kn=="string"?vo(Fr,Jr,Qr,Kn,Lr.current.viewMode,kr):Kn:1;As.current=typeof Kn=="string"?Kn:null,Wr!==Lr.current.scale&&(eu(function(vs){return vs+1}),Ds.markNotRendered(),xs(Wr),fr({doc:Jt,scale:Wr}),Ls(lt(lt({},Lr.current),{scale:Wr})))}},[]),Jo=rt.useCallback(function(Kn){_i.enterFullScreenMode(Kn)},[]),au=rt.useCallback(function(){_i.exitFullScreenMode()},[]);rt.useEffect(function(){Ls(lt(lt({},Lr.current),{fullScreenMode:_i.fullScreenMode}))},[_i.fullScreenMode]),rt.useEffect(function(){var Kn={enterFullScreenMode:Jo,exitFullScreenMode:au,getPagesContainer:qo,getViewerState:ru,jumpToDestination:Go,jumpToNextDestination:Yo,jumpToPreviousDestination:Ko,jumpToNextPage:su,jumpToPreviousPage:ou,jumpToPage:Ns,openFile:Ao,rotate:oo,rotatePage:To,setViewerState:Ls,switchScrollMode:Xo,switchViewMode:Qo,zoom:zs};return vn.forEach(function(Fr){Fr.install&&Fr.install(Kn)}),function(){vn.forEach(function(Fr){Fr.uninstall&&Fr.uninstall(Kn)})}},[Tr]),rt.useEffect(function(){Yn({doc:Jt,file:Ft}),vn.forEach(function(Kn){Kn.onDocumentLoad&&Kn.onDocumentLoad({doc:Jt,file:Ft})})},[Tr]);var Ro,Po,Io,Zo=rs.boundingClientRect;Ro=function(){un&&Ns(un)},Po=Zo.height>0&&Zo.width>0,Io=rt.useRef(!1),pt(function(){Po&&!Io.current&&(Io.current=!0,Ro())},[Ro,Po]),pt(function(){var Kn=Lr.current.pageIndex;Kn>-1&&Cr!==vr&&rs.scrollToItem(Kn,Ks).then(function(){_i.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(an||Ds.markNotRendered(),ss.current=-1)})},[vr]),pt(function(){var Kn=Lr.current.pageIndex;Kn>-1&&$s!==hs&&rs.scrollToItem(Kn,Ks)},[hs]),pt(function(){ks!=0&&ks!=Lr.current.scale&&rs.zoom(Lr.current.scale/ks,Lr.current.pageIndex).then(function(){_i.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(os.current=-1)})},[es]),pt(function(){if(Mr!==Lr.current.viewMode){var Kn=rs.startPage,Fr=rs.endPage,Br=rs.virtualItems;Ds.markNotRendered(),Ds.setRange(Kn,Fr);for(var Jr=function(Wr){var vs=Br.find(function(js){return js.index===Wr});vs&&Ds.setVisibility(Wr,vs.visibility)},Qr=Kn;Qr<=Fr;Qr++)Jr(Qr);Co()}},[gr]),pt(function(){var Kn=Lr.current.pageIndex;Kn>-1&&Mr!==gr&&rs.scrollToItem(Kn,Ks)},[gr]),pt(function(){var Kn=Lr.current.pageIndex;Kn>0&&Kn===un&&ws.current===un&&As.current&&(ws.current=-1,zs(As.current))},[ls]),rt.useEffect(function(){rs.isSmoothScrolling||us.current!==null&&us.current===ls||(us.current=ls,br({currentPage:ls,doc:Jt}))},[ls,rs.isSmoothScrolling]),rt.useEffect(function(){_i.fullScreenMode===$.FullScreenMode.Entering&&Lr.current.scrollMode===$.ScrollMode.Page&&(ss.current=Lr.current.pageIndex),_i.fullScreenMode===$.FullScreenMode.EnteredCompletely&&Lr.current.scrollMode===$.ScrollMode.Page&&an&&(ss.current=-1),_i.fullScreenMode===$.FullScreenMode.EnteredCompletely&&As.current&&(os.current=Lr.current.pageIndex,zs(As.current))},[_i.fullScreenMode]),rt.useEffect(function(){if(_i.fullScreenMode!==$.FullScreenMode.Entering&&_i.fullScreenMode!==$.FullScreenMode.Exitting&&!rs.isSmoothScrolling){var Kn=rs.startPage,Fr=rs.endPage,Br=rs.maxVisbilityIndex,Jr=rs.virtualItems,Qr=Br,Wr=_i.fullScreenMode===$.FullScreenMode.Entered||_i.fullScreenMode===$.FullScreenMode.EnteredCompletely;if(!(Wr&&Qr!==ss.current&&ss.current>-1||Wr&&Qr!==os.current&&os.current>-1)){ys(Qr),Ls(lt(lt({},Lr.current),{pageIndex:Qr})),Ds.setRange(Kn,Fr);for(var vs=function(ko){var ao=Jr.find(function(Ts){return Ts.index===ko});ao&&Ds.setVisibility(ko,ao.visibility)},js=Kn;js<=Fr;js++)vs(js);Co()}}},[rs.startPage,rs.endPage,rs.isSmoothScrolling,rs.maxVisbilityIndex,_i.fullScreenMode,bs,hs,es]);var lu=rt.useCallback(function(Kn){Ds.markRendered(Kn),Co()},[Zs]),Co=function(){var Kn=Ds.getHighestPriorityPage();Kn>-1&&Ds.isInRange(Kn)&&(Ds.markRendering(Kn),Xs(Kn))},cu=function(Kn){var Fr=ls-1,Br=ls+1;switch(Kn){case"FirstPage":Ns(0);break;case"LastPage":Ns(kr-1);break;case"NextPage":Br<kr&&Ns(Br);break;case"PrevPage":Fr>=0&&Ns(Fr)}},uu=rt.useCallback(function(){var Kn=rs.virtualItems,Fr=[];switch(gr){case $.ViewMode.DualPage:Fr=mn(Kn,2);break;case $.ViewMode.DualPageWithCover:Kn.length&&(Fr=Kn[0].index===0?[[Kn[0]]].concat(mn(Kn.slice(1),2)):mn(Kn,2));break;case $.ViewMode.SinglePage:default:Fr=mn(Kn,1)}var Br=Yr&&Yr.core?Yr.core.pageLabel:"Page {{pageIndex}}",Jr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:qr,style:{height:"100%"}},children:rt.createElement(rt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:_t({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":vr===$.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Kr,"rpv-core__inner-pages--single":vr===$.ScrollMode.Page,"rpv-core__inner-pages--vertical":vr===$.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":vr===$.ScrollMode.Wrapped}),ref:Xr,style:{height:"100%",position:"relative"}},children:rt.createElement("div",{"data-testid":"core__inner-current-page-".concat(ls),style:Object.assign({"--scale-factor":es},rs.getContainerStyles())},Fr.map(function(Qr){return rt.createElement("div",{className:_t({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":vr===$.ScrollMode.Page}),style:rs.getItemContainerStyles(Qr[0]),key:"".concat(Qr[0].index,"-").concat(gr)},Qr.map(function(Wr){var vs=gr===$.ViewMode.DualPageWithCover&&(Wr.index===0||kr%2==0&&Wr.index===kr-1);return rt.createElement("div",{"aria-label":Br.replace("{{pageIndex}}","".concat(Wr.index+1)),className:_t({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":gr===$.ViewMode.DualPage&&Wr.index%2==0,"rpv-core__inner-page--dual-odd":gr===$.ViewMode.DualPage&&Wr.index%2==1,"rpv-core__inner-page--dual-cover":vs,"rpv-core__inner-page--dual-cover-even":gr===$.ViewMode.DualPageWithCover&&!vs&&Wr.index%2==0,"rpv-core__inner-page--dual-cover-odd":gr===$.ViewMode.DualPageWithCover&&!vs&&Wr.index%2==1,"rpv-core__inner-page--single":gr===$.ViewMode.SinglePage&&vr===$.ScrollMode.Page}),role:"region",key:"".concat(Wr.index,"-").concat(gr),style:Object.assign({},rs.getItemStyles(Wr),eo.buildPageStyles({numPages:kr,pageIndex:Wr.index,scrollMode:vr,viewMode:gr}))},rt.createElement(Ml,{doc:Jt,measureRef:Wr.measureRef,outlines:Ur,pageIndex:Wr.index,pageRotation:Ar.has(Wr.index)?Ar.get(Wr.index):0,pageSize:Sn[Wr.index],plugins:vn,renderPage:Nn,renderQueueKey:Zs,rotation:hs,scale:es,shouldRender:Ws===Wr.index,viewMode:gr,onExecuteNamedAction:cu,onJumpFromLinkAnnotation:iu,onJumpToDest:Go,onRenderCompleted:lu,onRotatePage:To}))}))}))}};return vn.forEach(function(Qr){Qr.renderViewer&&(Jr=Qr.renderViewer({containerRef:qr,doc:Jt,pagesContainerRef:Xr,pagesRotation:Ar,pageSizes:Sn,rotation:hs,slot:Jr,themeContext:zr,jumpToPage:Ns,openFile:Ao,rotate:oo,rotatePage:To,switchScrollMode:Xo,switchViewMode:Qo,zoom:zs}))}),Jr},[vn,rs]),Vs=rt.useCallback(function(Kn){return rt.createElement("div",lt({},Kn.attrs,{style:Kn.attrs&&Kn.attrs.style?Kn.attrs.style:{}}),Kn.children,Kn.subSlot&&Vs(Kn.subSlot))},[]);return Vs(uu())},zo=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xl=function(Pt){var Ft=Pt.defaultScale,Yt=Pt.doc,Jt=Pt.render,an=Pt.scrollMode,un=Pt.viewMode,An=rt.useRef(),_n=rt.useState({pageSizes:[],scale:0}),en=_n[0],Sn=_n[1];return rt.useLayoutEffect(function(){var vn=Array(Yt.numPages).fill(0).map(function(Nn,Vn){return new Promise(function(Ln,er){_r(Yt,Vn).then(function(Qn){var Yn=Qn.getViewport({scale:1});Ln({pageHeight:Yn.height,pageWidth:Yn.width,rotation:Yn.rotation})})})});Promise.all(vn).then(function(Nn){var Vn=An.current;if(Vn&&Nn.length!==0){var Ln=Nn[0].pageWidth,er=Nn[0].pageHeight,Qn=Vn.parentElement,Yn=(Qn.clientWidth-45)/Ln,Nr=(Qn.clientHeight-45)/er,br=Yn;switch(an){case $.ScrollMode.Horizontal:br=Math.min(Yn,Nr);break;case $.ScrollMode.Vertical:default:br=Yn}var xr,Rr,fr=Ft?typeof Ft=="string"?vo(Qn,er,Ln,Ft,un,Yt.numPages):Ft:(xr=br,(Rr=zo.findIndex(function(kr){return kr>=xr}))===-1||Rr===0?xr:zo[Rr-1]);Sn({pageSizes:Nn,scale:fr})}})},[Yt.loadingTask.docId]),en.pageSizes.length===0||en.scale===0?rt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:An},rt.createElement(vt,null)):Jt(en.pageSizes,en.scale)},so=function(){},Bs=function(Pt){function Ft(Yt,Jt){var an=Pt.call(this)||this;return an.verifyPassword=Yt,an.passwordStatus=Jt,an}return ot(Ft,Pt),Ft}(so),Ql=function(Pt){var Ft=Pt.passwordStatus,Yt=Pt.renderProtectedView,Jt=Pt.verifyPassword,an=Pt.onDocumentAskPassword,un=rt.useContext(Fn).l10n,An=rt.useState(""),_n=An[0],en=An[1],Sn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,vn=function(){return Jt(_n)};return rt.useEffect(function(){an&&an({verifyPassword:Jt})},[]),Yt?Yt({passwordStatus:Ft,verifyPassword:Jt}):rt.createElement("div",{className:"rpv-core__asking-password-wrapper"},rt.createElement("div",{className:_t({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Sn})},rt.createElement("div",{className:"rpv-core__asking-password-message"},Ft===$.PasswordStatus.RequiredPassword&&un.core.askingPassword.requirePasswordToOpen,Ft===$.PasswordStatus.WrongPassword&&un.core.wrongPassword.tryAgain),rt.createElement("div",{className:"rpv-core__asking-password-body"},rt.createElement("div",{className:_t({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Sn,"rpv-core__asking-password-input--rtl":Sn})},rt.createElement(bt,{testId:"core__asking-password-input",type:"password",value:_n,onChange:en,onKeyDown:function(Nn){Nn.key==="Enter"&&vn()}})),rt.createElement(gt,{onClick:vn},un.core.askingPassword.submit))))},wo=function(Pt){function Ft(Yt){var Jt=Pt.call(this)||this;return Jt.doc=Yt,Jt}return ot(Ft,Pt),Ft}(so),bo=function(Pt){function Ft(Yt){var Jt=Pt.call(this)||this;return Jt.error=Yt,Jt}return ot(Ft,Pt),Ft}(so),xo=function(Pt){function Ft(Yt){var Jt=Pt.call(this)||this;return Jt.percentages=Yt,Jt}return ot(Ft,Pt),Ft}(so),Jl=function(Pt){var Ft=Pt.characterMap,Yt=Pt.file,Jt=Pt.httpHeaders,an=Pt.render,un=Pt.renderError,An=Pt.renderLoader,_n=Pt.renderProtectedView,en=Pt.transformGetDocumentParams,Sn=Pt.withCredentials,vn=Pt.onDocumentAskPassword,Nn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Vn=rt.useState(new xo(0)),Ln=Vn[0],er=Vn[1],Qn=rt.useRef(""),Yn=Xt();return rt.useEffect(function(){Qn.current="",er(new xo(0));var Nr=new it.PDFWorker({name:"PDFWorker_".concat(Date.now())}),br=Object.assign({httpHeaders:Jt,withCredentials:Sn,worker:Nr},typeof Yt=="string"?{url:Yt}:{data:Yt},Ft?{cMapUrl:Ft.url,cMapPacked:Ft.isCompressed}:{}),xr=en?en(br):br,Rr=it.getDocument(xr);return Rr.onPassword=function(fr,kr){switch(kr){case it.PasswordResponses.NEED_PASSWORD:Yn.current&&er(new Bs(fr,$.PasswordStatus.RequiredPassword));break;case it.PasswordResponses.INCORRECT_PASSWORD:Yn.current&&er(new Bs(fr,$.PasswordStatus.WrongPassword))}},Rr.onProgress=function(fr){var kr=fr.total>0?Math.min(100,100*fr.loaded/fr.total):100;Yn.current&&Qn.current===""&&er(new xo(kr))},Rr.promise.then(function(fr){Qn.current=fr.loadingTask.docId,Yn.current&&er(new wo(fr))},function(fr){return Yn.current&&!Nr.destroyed&&er(new bo({message:fr.message||"Cannot load document",name:fr.name}))}),function(){Rr.destroy(),Nr.destroy()}},[Yt]),Ln instanceof Bs?rt.createElement(Ql,{passwordStatus:Ln.passwordStatus,renderProtectedView:_n,verifyPassword:Ln.verifyPassword,onDocumentAskPassword:vn}):Ln instanceof wo?an(Ln.doc):Ln instanceof bo?un?un(Ln.error):rt.createElement("div",{className:_t({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Nn})},rt.createElement("div",{className:"rpv-core__doc-error-text"},Ln.error.message)):rt.createElement("div",{"data-testid":"core__doc-loading",className:_t({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Nn})},An?An(Ln.percentages):rt.createElement(vt,null))},Zl=function(Pt,Ft){var Yt=rt.useMemo(function(){return Pt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Pt},[]),Jt=rt.useState(Yt),an=Jt[0],un=Jt[1],An=rn(an);return rt.useEffect(function(){if(Pt==="auto"){var _n=window.matchMedia("(prefers-color-scheme: dark)"),en=function(Sn){un(Sn.matches?"dark":"light")};return _n.addEventListener("change",en),function(){return _n.removeEventListener("change",en)}}},[]),rt.useEffect(function(){an!==An&&Ft&&Ft(an)},[an]),rt.useEffect(function(){Pt!==an&&un(Pt)},[Pt]),{currentTheme:an,setCurrentTheme:un}},_c=function(Pt){return{startPage:Pt.startPage-3,endPage:Pt.endPage+3}};$.Button=function(Pt){var Ft=Pt.children,Yt=Pt.testId,Jt=Pt.onClick,an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=Yt?{"data-testid":Yt}:{};return rt.createElement("button",lt({className:_t({"rpv-core__button":!0,"rpv-core__button--rtl":an}),type:"button",onClick:Jt},un),Ft)},$.Icon=mt,$.LazyRender=function(Pt){var Ft=Pt.attrs,Yt=Pt.children,Jt=Pt.testId,an=rt.useState(!1),un=an[0],An=an[1],_n=Jt?lt(lt({},Ft),{"data-testid":Jt}):Ft,en=ut({once:!0,onVisibilityChanged:function(Sn){Sn.isVisible&&An(!0)}});return rt.createElement("div",lt({ref:en},_n),un&&Yt)},$.LocalizationContext=Fn,$.Menu=function(Pt){var Ft=Pt.children,Yt=rt.useRef(),Jt=rt.useRef([]),an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=function(_n){if(Yt.current)switch(_n.key){case"Tab":_n.preventDefault();break;case"ArrowDown":_n.preventDefault(),An(function(en,Sn){return Sn+1});break;case"ArrowUp":_n.preventDefault(),An(function(en,Sn){return Sn-1});break;case"End":_n.preventDefault(),An(function(en,Sn){return en.length-1});break;case"Home":_n.preventDefault(),An(function(en,Sn){return 0})}},An=function(_n){if(Yt.current){var en=Jt.current,Sn=en.findIndex(function(Nn){return Nn.getAttribute("tabindex")==="0"}),vn=Math.min(en.length-1,Math.max(0,_n(en,Sn)));Sn>=0&&Sn<=en.length-1&&en[Sn].setAttribute("tabindex","-1"),en[vn].setAttribute("tabindex","0"),en[vn].focus()}};return pt(function(){var _n=Yt.current;if(_n){var en=function(Sn){var vn=[];return Sn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Nn){if(Nn instanceof HTMLElement){var Vn=Nn.parentElement;(Vn===Sn||window.getComputedStyle(Vn).display!=="none")&&vn.push(Nn)}}),vn}(_n);Jt.current=en}},[]),pt(function(){return document.addEventListener("keydown",un),function(){document.removeEventListener("keydown",un)}},[]),rt.createElement("div",{ref:Yt,"aria-orientation":"vertical",className:_t({"rpv-core__menu":!0,"rpv-core__menu--rtl":an}),role:"menu",tabIndex:0},Ft)},$.MenuDivider=function(){return rt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},$.MenuItem=function(Pt){var Ft=Pt.checked,Yt=Ft!==void 0&&Ft,Jt=Pt.children,an=Pt.icon,un=an===void 0?null:an,An=Pt.isDisabled,_n=An!==void 0&&An,en=Pt.testId,Sn=Pt.onClick,vn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Nn=en?{"data-testid":en}:{};return rt.createElement("button",lt({className:_t({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":_n,"rpv-core__menu-item--ltr":!vn,"rpv-core__menu-item--rtl":vn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Sn},Nn),rt.createElement("div",{className:_t({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!vn,"rpv-core__menu-item-icon--rtl":vn})},un),rt.createElement("div",{className:_t({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!vn,"rpv-core__menu-item-label--rtl":vn})},Jt),rt.createElement("div",{className:_t({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!vn,"rpv-core__menu-item-check--rtl":vn})},Yt&&rt.createElement(ft,null)))},$.MinimalButton=function(Pt){var Ft=Pt.ariaLabel,Yt=Ft===void 0?"":Ft,Jt=Pt.ariaKeyShortcuts,an=Jt===void 0?"":Jt,un=Pt.children,An=Pt.isDisabled,_n=An!==void 0&&An,en=Pt.isSelected,Sn=en!==void 0&&en,vn=Pt.testId,Nn=Pt.onClick,Vn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Ln=vn?{"data-testid":vn}:{};return rt.createElement("button",lt({"aria-label":Yt},an&&{"aria-keyshortcuts":an},_n&&{"aria-disabled":!0},{className:_t({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":_n,"rpv-core__minimal-button--rtl":Vn,"rpv-core__minimal-button--selected":Sn}),type:"button",onClick:Nn},Ln),un)},$.Modal=function(Pt){var Ft=Pt.ariaControlsSuffix,Yt=Pt.closeOnClickOutside,Jt=Pt.closeOnEscape,an=Pt.content,un=Pt.isOpened,An=un!==void 0&&un,_n=Pt.target,en=Ft||"".concat(Ut());return rt.createElement(qt,{target:_n?function(Sn,vn){return rt.createElement("div",{"aria-expanded":vn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(en)},_n(Sn,vn))}:null,content:function(Sn){return rt.createElement(Dt,null,rt.createElement(Tt,{ariaControlsSuffix:en,closeOnClickOutside:Yt,closeOnEscape:Jt,onToggle:Sn},an(Sn)))},isOpened:An})},$.Popover=function(Pt){var Ft=Pt.ariaHasPopup,Yt=Ft===void 0?"dialog":Ft,Jt=Pt.ariaControlsSuffix,an=Pt.closeOnClickOutside,un=Pt.closeOnEscape,An=Pt.content,_n=Pt.lockScroll,en=_n===void 0||_n,Sn=Pt.offset,vn=Pt.position,Nn=Pt.target,Vn=jt(!1),Ln=Vn.opened,er=Vn.toggle,Qn=rt.useRef(),Yn=rt.useMemo(function(){return Jt||"".concat(Ut())},[]);return rt.createElement("div",{ref:Qn,"aria-expanded":Ln?"true":"false","aria-haspopup":Yt,"aria-controls":"rpv-core__popver-body-".concat(Yn)},Nn(er,Ln),Ln&&rt.createElement(rt.Fragment,null,en&&rt.createElement(cn,{closeOnEscape:un,onClose:er}),rt.createElement(kn,{ariaControlsSuffix:Yn,closeOnClickOutside:an,offset:Sn,position:vn,targetRef:Qn,onClose:er},An(er))))},$.PrimaryButton=gt,$.ProgressBar=function(Pt){var Ft=Pt.progress,Yt=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return rt.createElement("div",{className:_t({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Yt})},rt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Ft,"%")}},Ft,"%"))},$.Separator=function(){return rt.createElement("div",{className:"rpv-core__separator"})},$.Spinner=vt,$.Splitter=function(Pt){var Ft=Pt.constrain,Yt=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Jt=rt.useRef(),an=rt.useRef(),un=rt.useRef(),An=rt.useRef(0),_n=rt.useRef(0),en=rt.useRef(0),Sn=rt.useRef(0),vn={capture:!0},Nn=function(Ln){var er=Jt.current,Qn=an.current,Yn=un.current;if(er&&Qn&&Yn){var Nr=Sn.current,br=Ln.clientX-An.current,xr=en.current+(Yt?-br:br),Rr=er.parentElement.getBoundingClientRect().width,fr=100*xr/Rr;if(er.classList.add("rpv-core__splitter--resizing"),Ft){var kr=Rr-xr-Nr;if(!Ft({firstHalfPercentage:fr,firstHalfSize:xr,secondHalfPercentage:100*kr/Rr,secondHalfSize:kr}))return}Qn.style.width="".concat(fr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Qn.classList.add("rpv-core__splitter-sibling--resizing"),Yn.classList.add("rpv-core__splitter-sibling--resizing")}},Vn=function(Ln){var er=Jt.current,Qn=an.current,Yn=un.current;er&&Qn&&Yn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),er.classList.remove("rpv-core__splitter--resizing"),Qn.classList.remove("rpv-core__splitter-sibling--resizing"),Yn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Nn,vn),document.removeEventListener("mouseup",Vn,vn))};return rt.useEffect(function(){var Ln=Jt.current;Ln&&(Sn.current=Ln.getBoundingClientRect().width,an.current=Ln.previousElementSibling,un.current=Ln.nextElementSibling)},[]),rt.createElement("div",{ref:Jt,className:"rpv-core__splitter",onMouseDown:function(Ln){var er=an.current;er&&(An.current=Ln.clientX,_n.current=Ln.clientY,en.current=er.getBoundingClientRect().width,document.addEventListener("mousemove",Nn,vn),document.addEventListener("mouseup",Vn,vn))}})},$.TextBox=bt,$.ThemeContext=dt,$.Tooltip=function(Pt){var Ft=Pt.ariaControlsSuffix,Yt=Pt.content,Jt=Pt.offset,an=Pt.position,un=Pt.target,An=jt(!1),_n=An.opened,en=An.toggle,Sn=rt.useRef(),vn=rt.useRef(),Nn=rt.useMemo(function(){return Ft||"".concat(Ut())},[]);It(function(){Sn.current&&document.activeElement&&Sn.current.contains(document.activeElement)&&Ln()});var Vn=function(){en($.ToggleStatus.Open)},Ln=function(){en($.ToggleStatus.Close)};return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Sn,"aria-describedby":"rpv-core__tooltip-body-".concat(Nn),onBlur:function(er){er.relatedTarget instanceof HTMLElement&&er.currentTarget.parentElement&&er.currentTarget.parentElement.contains(er.relatedTarget)?vn.current&&(vn.current.style.display="none"):Ln()},onFocus:Vn,onMouseEnter:Vn,onMouseLeave:Ln},un),_n&&rt.createElement(nn,{ariaControlsSuffix:Nn,contentRef:vn,offset:Jt,position:an,targetRef:Sn},Yt()))},$.Viewer=function(Pt){var Ft=Pt.characterMap,Yt=Pt.defaultScale,Jt=Pt.enableSmoothScroll,an=Jt===void 0||Jt,un=Pt.fileUrl,An=Pt.httpHeaders,_n=An===void 0?{}:An,en=Pt.initialPage,Sn=en===void 0?0:en,vn=Pt.pageLayout,Nn=Pt.initialRotation,Vn=Nn===void 0?0:Nn,Ln=Pt.localization,er=Pt.plugins,Qn=er===void 0?[]:er,Yn=Pt.renderError,Nr=Pt.renderLoader,br=Pt.renderPage,xr=Pt.renderProtectedView,Rr=Pt.scrollMode,fr=Rr===void 0?$.ScrollMode.Vertical:Rr,kr=Pt.setRenderRange,Tr=kr===void 0?_c:kr,Yr=Pt.transformGetDocumentParams,zr=Pt.theme,Kr=zr===void 0?{direction:$.TextDirection.LeftToRight,theme:"light"}:zr,qr=Pt.viewMode,Xr=qr===void 0?$.ViewMode.SinglePage:qr,gs=Pt.withCredentials,ls=gs!==void 0&&gs,ys=Pt.onDocumentAskPassword,us=Pt.onDocumentLoad,ps=us===void 0?function(){}:us,ds=Pt.onPageChange,hs=ds===void 0?function(){}:ds,Ss=Pt.onRotate,$s=Ss===void 0?function(){}:Ss,Cs=Pt.onRotatePage,bs=Cs===void 0?function(){}:Cs,Is=Pt.onSwitchTheme,Os=Is===void 0?function(){}:Is,Ar=Pt.onZoom,Sr=Ar===void 0?function(){}:Ar,pr=rt.useState({data:un,name:typeof un=="string"?un:"",shouldLoad:!1}),vr=pr[0],mr=pr[1],Cr=function(ss,os){mr({data:os,name:ss,shouldLoad:!0})},Dr=rt.useState(!1),gr=Dr[0],cr=Dr[1],Mr=rn(vr);rt.useEffect(function(){var ss,os,ws,_i;ss=Mr.data,_i=typeof(os=un),(ws=typeof ss)=="string"&&_i==="string"&&ss===os||ws==="object"&&_i==="object"&&ss.length===os.length&&ss.every(function(Fs,Ws){return Fs===os[Ws]})||mr({data:un,name:typeof un=="string"?un:"",shouldLoad:gr})},[un,gr]);var Ur=ut({onVisibilityChanged:function(ss){cr(ss.isVisible),ss.isVisible&&mr(function(os){return Object.assign({},os,{shouldLoad:!0})})}}),ns=typeof Kr=="string"?{direction:$.TextDirection.LeftToRight,theme:Kr}:Kr,es=rt.useState(Ln||Tn),xs=es[0],ks=es[1],Lr={l10n:xs,setL10n:ks},As=Object.assign({},{direction:ns.direction},Zl(ns.theme||"light",Os));return rt.useEffect(function(){Ln&&ks(Ln)},[Ln]),rt.createElement(Fn.Provider,{value:Lr},rt.createElement(dt.Provider,{value:As},rt.createElement("div",{ref:Ur,className:"rpv-core__viewer rpv-core__viewer--".concat(As.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},vr.shouldLoad&&rt.createElement(Jl,{characterMap:Ft,file:vr.data,httpHeaders:_n,render:function(ss){return rt.createElement(Xl,{defaultScale:Yt,doc:ss,render:function(os,ws){return rt.createElement(Kl,{currentFile:{data:vr.data,name:vr.name},defaultScale:Yt,doc:ss,enableSmoothScroll:an,initialPage:Sn,initialRotation:Vn,initialScale:ws,pageLayout:vn,pageSizes:os,plugins:Qn,renderPage:br,scrollMode:fr,setRenderRange:Tr,viewMode:Xr,viewerState:{file:vr,fullScreenMode:$.FullScreenMode.Normal,pageIndex:-1,pageHeight:os[0].pageHeight,pageWidth:os[0].pageWidth,pagesRotation:new Map,rotation:Vn,scale:ws,scrollMode:fr,viewMode:Xr},onDocumentLoad:ps,onOpenFile:Cr,onPageChange:hs,onRotate:$s,onRotatePage:bs,onZoom:Sr})},scrollMode:fr,viewMode:Xr})},renderError:Yn,renderLoader:Nr,renderProtectedView:xr,transformGetDocumentParams:Yr,withCredentials:ls,onDocumentAskPassword:ys}))))},$.Worker=function(Pt){var Ft=Pt.children,Yt=Pt.workerUrl;return it.GlobalWorkerOptions.workerSrc=Yt,rt.createElement(rt.Fragment,null,Ft)},$.chunk=mn,$.classNames=_t,$.createStore=function(Pt){var Ft=Pt||{},Yt={},Jt=function(un,An){var _n;Ft=lt(lt({},Ft),((_n={})[un]=An,_n)),(Yt[un]||[]).forEach(function(en){return en(Ft[un])})},an=function(un){return Ft[un]};return{subscribe:function(un,An){Yt[un]=(Yt[un]||[]).concat(An)},unsubscribe:function(un,An){Yt[un]=(Yt[un]||[]).filter(function(_n){return _n!==An})},update:function(un,An){Jt(un,An)},updateCurrentValue:function(un,An){var _n=an(un);_n!==void 0&&Jt(un,An(_n))},get:function(un){return an(un)}}},$.getDestination=wr,$.getPage=_r,$.isFullScreenEnabled=Mt,$.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},$.useDebounceCallback=Nt,$.useIntersectionObserver=ut,$.useIsMounted=Xt,$.useIsomorphicLayoutEffect=pt,$.usePrevious=rn,$.useRenderQueue=fn})(core_min);const index$1="",index="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3,DEFAULT_MIN_SLEEP_TIME_MILLIS=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(_,et,tt=0){super(prependCode(_),`Firebase Storage: ${et} (${prependCode(_)})`),this.status_=tt,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(_){this.status_=_}_codeEquals(_){return prependCode(_)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_){this.customData.serverResponse=_,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function($){$.UNKNOWN="unknown",$.OBJECT_NOT_FOUND="object-not-found",$.BUCKET_NOT_FOUND="bucket-not-found",$.PROJECT_NOT_FOUND="project-not-found",$.QUOTA_EXCEEDED="quota-exceeded",$.UNAUTHENTICATED="unauthenticated",$.UNAUTHORIZED="unauthorized",$.UNAUTHORIZED_APP="unauthorized-app",$.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",$.INVALID_CHECKSUM="invalid-checksum",$.CANCELED="canceled",$.INVALID_EVENT_NAME="invalid-event-name",$.INVALID_URL="invalid-url",$.INVALID_DEFAULT_BUCKET="invalid-default-bucket",$.NO_DEFAULT_BUCKET="no-default-bucket",$.CANNOT_SLICE_BLOB="cannot-slice-blob",$.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",$.NO_DOWNLOAD_URL="no-download-url",$.INVALID_ARGUMENT="invalid-argument",$.INVALID_ARGUMENT_COUNT="invalid-argument-count",$.APP_DELETED="app-deleted",$.INVALID_ROOT_OPERATION="invalid-root-operation",$.INVALID_FORMAT="invalid-format",$.INTERNAL_ERROR="internal-error",$.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode($){return"storage/"+$}function unknown(){const $="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,$)}function objectNotFound($){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+$+"' does not exist.")}function quotaExceeded($){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const $="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,$)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized($){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+$+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl($){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+$+"'.")}function invalidDefaultBucket($){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+$+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError(StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill($){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${$} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument($){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,$)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation($){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat($,_){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+$+"': "+_)}function internalError($){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(_,et){this.bucket=_,this.path_=et}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const _=encodeURIComponent;return"/b/"+_(this.bucket)+"/o/"+_(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_,et){let tt;try{tt=Location.makeFromUrl(_,et)}catch{return new Location(_,"")}if(tt.path==="")return tt;throw invalidDefaultBucket(_)}static makeFromUrl(_,et){let tt=null;const nt="([A-Za-z0-9.\\-_]+)";function rt(bt){bt.path.charAt(bt.path.length-1)==="/"&&(bt.path_=bt.path_.slice(0,-1))}const it="(/(.*))?$",st=new RegExp("^gs://"+nt+it,"i"),ot={bucket:1,path:3};function at(bt){bt.path_=decodeURIComponent(bt.path)}const lt="v[A-Za-z0-9_]+",ct=et.replace(/[.]/g,"\\."),dt="(/([^?#]*).*)?$",_t=new RegExp(`^https?://${ct}/${lt}/b/${nt}/o${dt}`,"i"),pt={bucket:1,path:3},ut=et===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":et,mt="([^?#]*)",ft=new RegExp(`^https?://${ut}/${nt}/${mt}`,"i"),vt=[{regex:st,indices:ot,postModify:rt},{regex:_t,indices:pt,postModify:at},{regex:ft,indices:{bucket:1,path:2},postModify:at}];for(let bt=0;bt<vt.length;bt++){const Et=vt[bt],xt=Et.regex.exec(_);if(xt){const kt=xt[Et.indices.bucket];let Ct=xt[Et.indices.path];Ct||(Ct=""),tt=new Location(kt,Ct),Et.postModify(tt);break}}if(tt==null)throw invalidUrl(_);return tt}}class FailRequest{constructor(_){this.promise_=Promise.reject(_)}getPromise(){return this.promise_}cancel(_=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start($,_,et){let tt=1,nt=null,rt=null,it=!1,st=0;function ot(){return st===2}let at=!1;function lt(...mt){at||(at=!0,_.apply(null,mt))}function ct(mt){nt=setTimeout(()=>{nt=null,$(_t,ot())},mt)}function dt(){rt&&clearTimeout(rt)}function _t(mt,...ft){if(at){dt();return}if(mt){dt(),lt.call(null,mt,...ft);return}if(ot()||it){dt(),lt.call(null,mt,...ft);return}tt<64&&(tt*=2);let vt;st===1?(st=2,vt=0):vt=(tt+Math.random())*1e3,ct(vt)}let pt=!1;function ut(mt){pt||(pt=!0,dt(),!at&&(nt!==null?(mt||(st=2),clearTimeout(nt),ct(0)):mt||(st=1)))}return ct(0),rt=setTimeout(()=>{it=!0,ut(!0)},et),ut}function stop($){$(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef($){return $!==void 0}function isFunction$1($){return typeof $=="function"}function isNonArrayObject($){return typeof $=="object"&&!Array.isArray($)}function isString$1($){return typeof $=="string"||$ instanceof String}function isNativeBlob($){return isNativeBlobDefined()&&$ instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber($,_,et,tt){if(tt<_)throw invalidArgument(`Invalid value for '${$}'. Expected ${_} or greater.`);if(tt>et)throw invalidArgument(`Invalid value for '${$}'. Expected ${et} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl($,_,et){let tt=_;return et==null&&(tt=`https://${_}`),`${et}://${tt}/v0${$}`}function makeQueryString($){const _=encodeURIComponent;let et="?";for(const tt in $)if($.hasOwnProperty(tt)){const nt=_(tt)+"="+_($[tt]);et=et+nt+"&"}return et=et.slice(0,-1),et}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function($){$[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode($,_){const et=$>=500&&$<600,nt=[408,429].indexOf($)!==-1,rt=_.indexOf($)!==-1;return et||nt||rt}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(_,et,tt,nt,rt,it,st,ot,at,lt,ct,dt=!0){this.url_=_,this.method_=et,this.headers_=tt,this.body_=nt,this.successCodes_=rt,this.additionalRetryCodes_=it,this.callback_=st,this.errorCallback_=ot,this.timeout_=at,this.progressCallback_=lt,this.connectionFactory_=ct,this.retry=dt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_t,pt)=>{this.resolve_=_t,this.reject_=pt,this.start_()})}start_(){const _=(tt,nt)=>{if(nt){tt(!1,new RequestEndStatus(!1,null,!0));return}const rt=this.connectionFactory_();this.pendingConnection_=rt;const it=st=>{const ot=st.loaded,at=st.lengthComputable?st.total:-1;this.progressCallback_!==null&&this.progressCallback_(ot,at)};this.progressCallback_!==null&&rt.addUploadProgressListener(it),rt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&rt.removeUploadProgressListener(it),this.pendingConnection_=null;const st=rt.getErrorCode()===ErrorCode.NO_ERROR,ot=rt.getStatus();if(!st||isRetryStatusCode(ot,this.additionalRetryCodes_)&&this.retry){const lt=rt.getErrorCode()===ErrorCode.ABORT;tt(!1,new RequestEndStatus(!1,null,lt));return}const at=this.successCodes_.indexOf(ot)!==-1;tt(!0,new RequestEndStatus(at,rt))})},et=(tt,nt)=>{const rt=this.resolve_,it=this.reject_,st=nt.connection;if(nt.wasSuccessCode)try{const ot=this.callback_(st,st.getResponse());isJustDef(ot)?rt(ot):rt()}catch(ot){it(ot)}else if(st!==null){const ot=unknown();ot.serverResponse=st.getErrorText(),this.errorCallback_?it(this.errorCallback_(st,ot)):it(ot)}else if(nt.canceled){const ot=this.appDelete_?appDeleted():canceled();it(ot)}else{const ot=retryLimitExceeded();it(ot)}};this.canceled_?et(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(_,et,this.timeout_)}getPromise(){return this.promise_}cancel(_){this.canceled_=!0,this.appDelete_=_||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(_,et,tt){this.wasSuccessCode=_,this.connection=et,this.canceled=!!tt}}function addAuthHeader_($,_){_!==null&&_.length>0&&($.Authorization="Firebase "+_)}function addVersionHeader_($,_){$["X-Firebase-Storage-Version"]="webjs/"+(_??"AppManager")}function addGmpidHeader_($,_){_&&($["X-Firebase-GMPID"]=_)}function addAppCheckHeader_($,_){_!==null&&($["X-Firebase-AppCheck"]=_)}function makeRequest($,_,et,tt,nt,rt,it=!0){const st=makeQueryString($.urlParams),ot=$.url+st,at=Object.assign({},$.headers);return addGmpidHeader_(at,_),addAuthHeader_(at,et),addVersionHeader_(at,rt),addAppCheckHeader_(at,tt),new NetworkRequest(ot,$.method,at,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,nt,it)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...$){const _=getBlobBuilder();if(_!==void 0){const et=new _;for(let tt=0;tt<$.length;tt++)et.append($[tt]);return et.getBlob()}else{if(isNativeBlobDefined())return new Blob($);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob($,_,et){return $.webkitSlice?$.webkitSlice(_,et):$.mozSlice?$.mozSlice(_,et):$.slice?$.slice(_,et):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64($){if(typeof atob>"u")throw missingPolyFill("base-64");return atob($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(_,et){this.data=_,this.contentType=et||null}}function dataFromString($,_){switch($){case StringFormat.RAW:return new StringData(utf8Bytes_(_));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_($,_));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(_),dataURLContentType_(_))}throw unknown()}function utf8Bytes_($){const _=[];for(let et=0;et<$.length;et++){let tt=$.charCodeAt(et);if(tt<=127)_.push(tt);else if(tt<=2047)_.push(192|tt>>6,128|tt&63);else if((tt&64512)===55296)if(!(et<$.length-1&&($.charCodeAt(et+1)&64512)===56320))_.push(239,191,189);else{const rt=tt,it=$.charCodeAt(++et);tt=65536|(rt&1023)<<10|it&1023,_.push(240|tt>>18,128|tt>>12&63,128|tt>>6&63,128|tt&63)}else(tt&64512)===56320?_.push(239,191,189):_.push(224|tt>>12,128|tt>>6&63,128|tt&63)}return new Uint8Array(_)}function percentEncodedBytes_($){let _;try{_=decodeURIComponent($)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(_)}function base64Bytes_($,_){switch($){case StringFormat.BASE64:{const nt=_.indexOf("-")!==-1,rt=_.indexOf("_")!==-1;if(nt||rt)throw invalidFormat($,"Invalid character '"+(nt?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const nt=_.indexOf("+")!==-1,rt=_.indexOf("/")!==-1;if(nt||rt)throw invalidFormat($,"Invalid character '"+(nt?"+":"/")+"' found: is it base64 encoded?");_=_.replace(/-/g,"+").replace(/_/g,"/");break}}let et;try{et=decodeBase64(_)}catch(nt){throw nt.message.includes("polyfill")?nt:invalidFormat($,"Invalid character found")}const tt=new Uint8Array(et.length);for(let nt=0;nt<et.length;nt++)tt[nt]=et.charCodeAt(nt);return tt}class DataURLParts{constructor(_){this.base64=!1,this.contentType=null;const et=_.match(/^data:([^,]+)?,/);if(et===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const tt=et[1]||null;tt!=null&&(this.base64=endsWith$1(tt,";base64"),this.contentType=this.base64?tt.substring(0,tt.length-7):tt),this.rest=_.substring(_.indexOf(",")+1)}}function dataURLBytes_($){const _=new DataURLParts($);return _.base64?base64Bytes_(StringFormat.BASE64,_.rest):percentEncodedBytes_(_.rest)}function dataURLContentType_($){return new DataURLParts($).contentType}function endsWith$1($,_){return $.length>=_.length?$.substring($.length-_.length)===_:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(_,et){let tt=0,nt="";isNativeBlob(_)?(this.data_=_,tt=_.size,nt=_.type):_ instanceof ArrayBuffer?(et?this.data_=new Uint8Array(_):(this.data_=new Uint8Array(_.byteLength),this.data_.set(new Uint8Array(_))),tt=this.data_.length):_ instanceof Uint8Array&&(et?this.data_=_:(this.data_=new Uint8Array(_.length),this.data_.set(_)),tt=_.length),this.size_=tt,this.type_=nt}size(){return this.size_}type(){return this.type_}slice(_,et){if(isNativeBlob(this.data_)){const tt=this.data_,nt=sliceBlob(tt,_,et);return nt===null?null:new FbsBlob(nt)}else{const tt=new Uint8Array(this.data_.buffer,_,et-_);return new FbsBlob(tt,!0)}}static getBlob(..._){if(isNativeBlobDefined()){const et=_.map(tt=>tt instanceof FbsBlob?tt.data_:tt);return new FbsBlob(getBlob$1.apply(null,et))}else{const et=_.map(it=>isString$1(it)?dataFromString(StringFormat.RAW,it).data:it.data_);let tt=0;et.forEach(it=>{tt+=it.byteLength});const nt=new Uint8Array(tt);let rt=0;return et.forEach(it=>{for(let st=0;st<it.length;st++)nt[rt++]=it[st]}),new FbsBlob(nt,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull($){let _;try{_=JSON.parse($)}catch{return null}return isNonArrayObject(_)?_:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent($){if($.length===0)return null;const _=$.lastIndexOf("/");return _===-1?"":$.slice(0,_)}function child($,_){const et=_.split("/").filter(tt=>tt.length>0).join("/");return $.length===0?et:$+"/"+et}function lastComponent($){const _=$.lastIndexOf("/",$.length-2);return _===-1?$:$.slice(_+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_($,_){return _}class Mapping{constructor(_,et,tt,nt){this.server=_,this.local=et||_,this.writable=!!tt,this.xform=nt||noXform_}}let mappings_=null;function xformPath($){return!isString$1($)||$.length<2?$:lastComponent($)}function getMappings(){if(mappings_)return mappings_;const $=[];$.push(new Mapping("bucket")),$.push(new Mapping("generation")),$.push(new Mapping("metageneration")),$.push(new Mapping("name","fullPath",!0));function _(rt,it){return xformPath(it)}const et=new Mapping("name");et.xform=_,$.push(et);function tt(rt,it){return it!==void 0?Number(it):it}const nt=new Mapping("size");return nt.xform=tt,$.push(nt),$.push(new Mapping("timeCreated")),$.push(new Mapping("updated")),$.push(new Mapping("md5Hash",null,!0)),$.push(new Mapping("cacheControl",null,!0)),$.push(new Mapping("contentDisposition",null,!0)),$.push(new Mapping("contentEncoding",null,!0)),$.push(new Mapping("contentLanguage",null,!0)),$.push(new Mapping("contentType",null,!0)),$.push(new Mapping("metadata","customMetadata",!0)),mappings_=$,mappings_}function addRef($,_){function et(){const tt=$.bucket,nt=$.fullPath,rt=new Location(tt,nt);return _._makeStorageReference(rt)}Object.defineProperty($,"ref",{get:et})}function fromResource($,_,et){const tt={};tt.type="file";const nt=et.length;for(let rt=0;rt<nt;rt++){const it=et[rt];tt[it.local]=it.xform(tt,_[it.server])}return addRef(tt,$),tt}function fromResourceString($,_,et){const tt=jsonObjectOrNull(_);return tt===null?null:fromResource($,tt,et)}function downloadUrlFromResourceString($,_,et,tt){const nt=jsonObjectOrNull(_);if(nt===null||!isString$1(nt.downloadTokens))return null;const rt=nt.downloadTokens;if(rt.length===0)return null;const it=encodeURIComponent;return rt.split(",").map(at=>{const lt=$.bucket,ct=$.fullPath,dt="/b/"+it(lt)+"/o/"+it(ct),_t=makeUrl(dt,et,tt),pt=makeQueryString({alt:"media",token:at});return _t+pt})[0]}function toResourceString($,_){const et={},tt=_.length;for(let nt=0;nt<tt;nt++){const rt=_[nt];rt.writable&&(et[rt.server]=$[rt.local])}return JSON.stringify(et)}class RequestInfo{constructor(_,et,tt,nt){this.url=_,this.method=et,this.handler=tt,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck($){if(!$)throw unknown()}function metadataHandler($,_){function et(tt,nt){const rt=fromResourceString($,nt,_);return handlerCheck(rt!==null),rt}return et}function downloadUrlHandler($,_){function et(tt,nt){const rt=fromResourceString($,nt,_);return handlerCheck(rt!==null),downloadUrlFromResourceString(rt,nt,$.host,$._protocol)}return et}function sharedErrorHandler($){function _(et,tt){let nt;return et.getStatus()===401?et.getErrorText().includes("Firebase App Check token is invalid")?nt=unauthorizedApp():nt=unauthenticated():et.getStatus()===402?nt=quotaExceeded($.bucket):et.getStatus()===403?nt=unauthorized($.path):nt=tt,nt.status=et.getStatus(),nt.serverResponse=tt.serverResponse,nt}return _}function objectErrorHandler($){const _=sharedErrorHandler($);function et(tt,nt){let rt=_(tt,nt);return tt.getStatus()===404&&(rt=objectNotFound($.path)),rt.serverResponse=nt.serverResponse,rt}return et}function getMetadata$2($,_,et){const tt=_.fullServerUrl(),nt=makeUrl(tt,$.host,$._protocol),rt="GET",it=$.maxOperationRetryTime,st=new RequestInfo(nt,rt,metadataHandler($,et),it);return st.errorHandler=objectErrorHandler(_),st}function getDownloadUrl($,_,et){const tt=_.fullServerUrl(),nt=makeUrl(tt,$.host,$._protocol),rt="GET",it=$.maxOperationRetryTime,st=new RequestInfo(nt,rt,downloadUrlHandler($,et),it);return st.errorHandler=objectErrorHandler(_),st}function determineContentType_($,_){return $&&$.contentType||_&&_.type()||"application/octet-stream"}function metadataForUpload_($,_,et){const tt=Object.assign({},et);return tt.fullPath=$.path,tt.size=_.size(),tt.contentType||(tt.contentType=determineContentType_(null,_)),tt}function multipartUpload($,_,et,tt,nt){const rt=_.bucketOnlyServerUrl(),it={"X-Goog-Upload-Protocol":"multipart"};function st(){let vt="";for(let bt=0;bt<2;bt++)vt=vt+Math.random().toString().slice(2);return vt}const ot=st();it["Content-Type"]="multipart/related; boundary="+ot;const at=metadataForUpload_(_,tt,nt),lt=toResourceString(at,et),ct="--"+ot+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+lt+`\r
--`+ot+`\r
Content-Type: `+at.contentType+`\r
\r
`,dt=`\r
--`+ot+"--",_t=FbsBlob.getBlob(ct,tt,dt);if(_t===null)throw cannotSliceBlob();const pt={name:at.fullPath},ut=makeUrl(rt,$.host,$._protocol),mt="POST",ft=$.maxUploadRetryTime,gt=new RequestInfo(ut,mt,metadataHandler($,et),ft);return gt.urlParams=pt,gt.headers=it,gt.body=_t.uploadData(),gt.errorHandler=sharedErrorHandler(_),gt}class ResumableUploadStatus{constructor(_,et,tt,nt){this.current=_,this.total=et,this.finalized=!!tt,this.metadata=nt||null}}function checkResumeHeader_($,_){let et=null;try{et=$.getResponseHeader("X-Goog-Upload-Status")}catch{handlerCheck(!1)}return handlerCheck(!!et&&(_||["active"]).indexOf(et)!==-1),et}function createResumableUpload($,_,et,tt,nt){const rt=_.bucketOnlyServerUrl(),it=metadataForUpload_(_,tt,nt),st={name:it.fullPath},ot=makeUrl(rt,$.host,$._protocol),at="POST",lt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${tt.size()}`,"X-Goog-Upload-Header-Content-Type":it.contentType,"Content-Type":"application/json; charset=utf-8"},ct=toResourceString(it,et),dt=$.maxUploadRetryTime;function _t(ut){checkResumeHeader_(ut);let mt;try{mt=ut.getResponseHeader("X-Goog-Upload-URL")}catch{handlerCheck(!1)}return handlerCheck(isString$1(mt)),mt}const pt=new RequestInfo(ot,at,_t,dt);return pt.urlParams=st,pt.headers=lt,pt.body=ct,pt.errorHandler=sharedErrorHandler(_),pt}function getResumableUploadStatus($,_,et,tt){const nt={"X-Goog-Upload-Command":"query"};function rt(at){const lt=checkResumeHeader_(at,["active","final"]);let ct=null;try{ct=at.getResponseHeader("X-Goog-Upload-Size-Received")}catch{handlerCheck(!1)}ct||handlerCheck(!1);const dt=Number(ct);return handlerCheck(!isNaN(dt)),new ResumableUploadStatus(dt,tt.size(),lt==="final")}const it="POST",st=$.maxUploadRetryTime,ot=new RequestInfo(et,it,rt,st);return ot.headers=nt,ot.errorHandler=sharedErrorHandler(_),ot}const RESUMABLE_UPLOAD_CHUNK_SIZE=256*1024;function continueResumableUpload($,_,et,tt,nt,rt,it,st){const ot=new ResumableUploadStatus(0,0);if(it?(ot.current=it.current,ot.total=it.total):(ot.current=0,ot.total=tt.size()),tt.size()!==ot.total)throw serverFileWrongSize();const at=ot.total-ot.current;let lt=at;nt>0&&(lt=Math.min(lt,nt));const ct=ot.current,dt=ct+lt;let _t="";lt===0?_t="finalize":at===lt?_t="upload, finalize":_t="upload";const pt={"X-Goog-Upload-Command":_t,"X-Goog-Upload-Offset":`${ot.current}`},ut=tt.slice(ct,dt);if(ut===null)throw cannotSliceBlob();function mt(bt,Et){const xt=checkResumeHeader_(bt,["active","final"]),kt=ot.current+lt,Ct=tt.size();let At;return xt==="final"?At=metadataHandler(_,rt)(bt,Et):At=null,new ResumableUploadStatus(kt,Ct,xt==="final",At)}const ft="POST",gt=_.maxUploadRetryTime,vt=new RequestInfo(et,ft,mt,gt);return vt.headers=pt,vt.body=ut.uploadData(),vt.progressCallback=st||null,vt.errorHandler=sharedErrorHandler($),vt}const TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState($){switch($){case"running":case"pausing":case"canceling":return TaskState.RUNNING;case"paused":return TaskState.PAUSED;case"success":return TaskState.SUCCESS;case"canceled":return TaskState.CANCELED;case"error":return TaskState.ERROR;default:return TaskState.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Observer{constructor(_,et,tt){if(isFunction$1(_)||et!=null||tt!=null)this.next=_,this.error=et??void 0,this.complete=tt??void 0;else{const rt=_;this.next=rt.next,this.error=rt.error,this.complete=rt.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function async($){return(..._)=>{Promise.resolve().then(()=>$(..._))}}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(_=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,_()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,_()}),this.xhr_.addEventListener("load",()=>{_()})})}send(_,et,tt,nt){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(et,_,!0),nt!==void 0)for(const rt in nt)nt.hasOwnProperty(rt)&&this.xhr_.setRequestHeader(rt,nt[rt].toString());return tt!==void 0?this.xhr_.send(tt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_){return this.xhr_.getResponseHeader(_)}addUploadProgressListener(_){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",_)}removeUploadProgressListener(_){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",_)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTask{constructor(_,et,tt=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=_,this._blob=et,this._metadata=tt,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=nt=>{if(this._request=void 0,this._chunkMultiplier=1,nt._codeEquals(StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const rt=this.isExponentialBackoffExpired();if(isRetryStatusCode(nt.status,[]))if(rt)nt=retryLimitExceeded();else{this.sleepTime=Math.max(this.sleepTime*2,DEFAULT_MIN_SLEEP_TIME_MILLIS),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=nt,this._transition("error")}},this._metadataErrorHandler=nt=>{this._request=void 0,nt._codeEquals(StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=nt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((nt,rt)=>{this._resolve=nt,this._reject=rt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const _=this._transferred;return et=>this._updateProgress(_+et)}_shouldDoResumable(_){return _.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(_){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([et,tt])=>{switch(this._state){case"running":_(et,tt);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((_,et)=>{const tt=createResumableUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(tt,newTextConnection,_,et);this._request=nt,nt.getPromise().then(rt=>{this._request=void 0,this._uploadUrl=rt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const _=this._uploadUrl;this._resolveToken((et,tt)=>{const nt=getResumableUploadStatus(this._ref.storage,this._ref._location,_,this._blob),rt=this._ref.storage._makeRequest(nt,newTextConnection,et,tt);this._request=rt,rt.getPromise().then(it=>{it=it,this._request=void 0,this._updateProgress(it.current),this._needToFetchStatus=!1,it.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const _=RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier,et=new ResumableUploadStatus(this._transferred,this._blob.size()),tt=this._uploadUrl;this._resolveToken((nt,rt)=>{let it;try{it=continueResumableUpload(this._ref._location,this._ref.storage,tt,this._blob,_,this._mappings,et,this._makeProgressCallback())}catch(ot){this._error=ot,this._transition("error");return}const st=this._ref.storage._makeRequest(it,newTextConnection,nt,rt,!1);this._request=st,st.getPromise().then(ot=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ot.current),ot.finalized?(this._metadata=ot.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((_,et)=>{const tt=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),nt=this._ref.storage._makeRequest(tt,newTextConnection,_,et);this._request=nt,nt.getPromise().then(rt=>{this._request=void 0,this._metadata=rt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((_,et)=>{const tt=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(tt,newTextConnection,_,et);this._request=nt,nt.getPromise().then(rt=>{this._request=void 0,this._metadata=rt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(_){const et=this._transferred;this._transferred=_,this._transferred!==et&&this._notifyObservers()}_transition(_){if(this._state!==_)switch(_){case"canceling":case"pausing":this._state=_,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const et=this._state==="paused";this._state=_,et&&(this._notifyObservers(),this._start());break;case"paused":this._state=_,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=_,this._notifyObservers();break;case"error":this._state=_,this._notifyObservers();break;case"success":this._state=_,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const _=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:_,metadata:this._metadata,task:this,ref:this._ref}}on(_,et,tt,nt){const rt=new Observer(et||void 0,tt||void 0,nt||void 0);return this._addObserver(rt),()=>{this._removeObserver(rt)}}then(_,et){return this._promise.then(_,et)}catch(_){return this.then(null,_)}_addObserver(_){this._observers.push(_),this._notifyObserver(_)}_removeObserver(_){const et=this._observers.indexOf(_);et!==-1&&this._observers.splice(et,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(et=>{this._notifyObserver(et)})}_finishPromise(){if(this._resolve!==void 0){let _=!0;switch(taskStateFromInternalTaskState(this._state)){case TaskState.SUCCESS:async(this._resolve.bind(null,this.snapshot))();break;case TaskState.CANCELED:case TaskState.ERROR:const et=this._reject;async(et.bind(null,this._error))();break;default:_=!1;break}_&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(_){switch(taskStateFromInternalTaskState(this._state)){case TaskState.RUNNING:case TaskState.PAUSED:_.next&&async(_.next.bind(_,this.snapshot))();break;case TaskState.SUCCESS:_.complete&&async(_.complete.bind(_))();break;case TaskState.CANCELED:case TaskState.ERROR:_.error&&async(_.error.bind(_,this._error))();break;default:_.error&&async(_.error.bind(_,this._error))()}}resume(){const _=this._state==="paused"||this._state==="pausing";return _&&this._transition("running"),_}pause(){const _=this._state==="running";return _&&this._transition("pausing"),_}cancel(){const _=this._state==="running"||this._state==="pausing";return _&&this._transition("canceling"),_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(_,et){this._service=_,et instanceof Location?this._location=et:this._location=Location.makeFromUrl(et,_.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_,et){return new Reference(_,et)}get root(){const _=new Location(this._location.bucket,"");return this._newRef(this._service,_)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const _=parent(this._location.path);if(_===null)return null;const et=new Location(this._location.bucket,_);return new Reference(this._service,et)}_throwIfRoot(_){if(this._location.path==="")throw invalidRootOperation(_)}}function uploadBytesResumable$1($,_,et){return $._throwIfRoot("uploadBytesResumable"),new UploadTask($,new FbsBlob(_),et)}function getDownloadURL$1($){$._throwIfRoot("getDownloadURL");const _=getDownloadUrl($.storage,$._location,getMappings());return $.storage.makeRequestWithTokens(_,newTextConnection).then(et=>{if(et===null)throw noDownloadURL();return et})}function _getChild$1($,_){const et=child($._location.path,_),tt=new Location($._location.bucket,et);return new Reference($.storage,tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl($){return/^[A-Za-z]+:\/\//.test($)}function refFromURL($,_){return new Reference($,_)}function refFromPath($,_){if($ instanceof FirebaseStorageImpl){const et=$;if(et._bucket==null)throw noDefaultBucket();const tt=new Reference(et,et._bucket);return _!=null?refFromPath(tt,_):tt}else return _!==void 0?_getChild$1($,_):$}function ref$1($,_){if(_&&isUrl(_)){if($ instanceof FirebaseStorageImpl)return refFromURL($,_);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath($,_)}function extractBucket($,_){const et=_==null?void 0:_[CONFIG_STORAGE_BUCKET_KEY];return et==null?null:Location.makeFromBucketSpec(et,$)}function connectStorageEmulator$1($,_,et,tt={}){$.host=`${_}:${et}`,$._protocol="http";const{mockUserToken:nt}=tt;nt&&($._overrideAuthToken=typeof nt=="string"?nt:createMockUserToken(nt,$.app.options.projectId))}class FirebaseStorageImpl{constructor(_,et,tt,nt,rt){this.app=_,this._authProvider=et,this._appCheckProvider=tt,this._url=nt,this._firebaseVersion=rt,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,nt!=null?this._bucket=Location.makeFromBucketSpec(nt,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(_){this._host=_,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,_):this._bucket=extractBucket(_,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxUploadRetryTime=_}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxOperationRetryTime=_}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const _=this._authProvider.getImmediate({optional:!0});if(_){const et=await _.getToken();if(et!==null)return et.accessToken}return null}async _getAppCheckToken(){const _=this._appCheckProvider.getImmediate({optional:!0});return _?(await _.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_=>_.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_){return new Reference(this,_)}_makeRequest(_,et,tt,nt,rt=!0){if(this._deleted)return new FailRequest(appDeleted());{const it=makeRequest(_,this._appId,tt,nt,et,this._firebaseVersion,rt);return this._requests.add(it),it.getPromise().then(()=>this._requests.delete(it),()=>this._requests.delete(it)),it}}async makeRequestWithTokens(_,et){const[tt,nt]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(_,et,tt,nt).getPromise()}}const name="@firebase/storage",version="0.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytesResumable($,_,et){return $=getModularInstance($),uploadBytesResumable$1($,_,et)}function getDownloadURL($){return $=getModularInstance($),getDownloadURL$1($)}function ref($,_){return $=getModularInstance($),ref$1($,_)}function getStorage($=getApp(),_){$=getModularInstance($);const tt=_getProvider($,STORAGE_TYPE).getImmediate({identifier:_}),nt=getDefaultEmulatorHostnameAndPort("storage");return nt&&connectStorageEmulator(tt,...nt),tt}function connectStorageEmulator($,_,et,tt={}){connectStorageEmulator$1($,_,et,tt)}function factory($,{instanceIdentifier:_}){const et=$.getProvider("app").getImmediate(),tt=$.getProvider("auth-internal"),nt=$.getProvider("app-check-internal");return new FirebaseStorageImpl(et,tt,nt,_,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();function bind($,_){return function(){return $.apply(_,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=($=>_=>{const et=toString.call(_);return $[et]||($[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=$=>($=$.toLowerCase(),_=>kindOf(_)===$),typeOfTest=$=>_=>typeof _===$,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer($){return $!==null&&!isUndefined($)&&$.constructor!==null&&!isUndefined($.constructor)&&isFunction($.constructor.isBuffer)&&$.constructor.isBuffer($)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView($){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView($):_=$&&$.buffer&&isArrayBuffer($.buffer),_}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=$=>$!==null&&typeof $=="object",isBoolean=$=>$===!0||$===!1,isPlainObject=$=>{if(kindOf($)!=="object")return!1;const _=getPrototypeOf($);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=$=>isObject($)&&isFunction($.pipe),isFormData=$=>{let _;return $&&(typeof FormData=="function"&&$ instanceof FormData||isFunction($.append)&&((_=kindOf($))==="formdata"||_==="object"&&isFunction($.toString)&&$.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=$=>$.trim?$.trim():$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach($,_,{allOwnKeys:et=!1}={}){if($===null||typeof $>"u")return;let tt,nt;if(typeof $!="object"&&($=[$]),isArray($))for(tt=0,nt=$.length;tt<nt;tt++)_.call(null,$[tt],tt,$);else{const rt=et?Object.getOwnPropertyNames($):Object.keys($),it=rt.length;let st;for(tt=0;tt<it;tt++)st=rt[tt],_.call(null,$[st],st,$)}}function findKey($,_){_=_.toLowerCase();const et=Object.keys($);let tt=et.length,nt;for(;tt-- >0;)if(nt=et[tt],_===nt.toLowerCase())return nt;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=$=>!isUndefined($)&&$!==_global;function merge(){const{caseless:$}=isContextDefined(this)&&this||{},_={},et=(tt,nt)=>{const rt=$&&findKey(_,nt)||nt;isPlainObject(_[rt])&&isPlainObject(tt)?_[rt]=merge(_[rt],tt):isPlainObject(tt)?_[rt]=merge({},tt):isArray(tt)?_[rt]=tt.slice():_[rt]=tt};for(let tt=0,nt=arguments.length;tt<nt;tt++)arguments[tt]&&forEach(arguments[tt],et);return _}const extend=($,_,et,{allOwnKeys:tt}={})=>(forEach(_,(nt,rt)=>{et&&isFunction(nt)?$[rt]=bind(nt,et):$[rt]=nt},{allOwnKeys:tt}),$),stripBOM=$=>($.charCodeAt(0)===65279&&($=$.slice(1)),$),inherits=($,_,et,tt)=>{$.prototype=Object.create(_.prototype,tt),$.prototype.constructor=$,Object.defineProperty($,"super",{value:_.prototype}),et&&Object.assign($.prototype,et)},toFlatObject=($,_,et,tt)=>{let nt,rt,it;const st={};if(_=_||{},$==null)return _;do{for(nt=Object.getOwnPropertyNames($),rt=nt.length;rt-- >0;)it=nt[rt],(!tt||tt(it,$,_))&&!st[it]&&(_[it]=$[it],st[it]=!0);$=et!==!1&&getPrototypeOf($)}while($&&(!et||et($,_))&&$!==Object.prototype);return _},endsWith=($,_,et)=>{$=String($),(et===void 0||et>$.length)&&(et=$.length),et-=_.length;const tt=$.indexOf(_,et);return tt!==-1&&tt===et},toArray=$=>{if(!$)return null;if(isArray($))return $;let _=$.length;if(!isNumber(_))return null;const et=new Array(_);for(;_-- >0;)et[_]=$[_];return et},isTypedArray=($=>_=>$&&_ instanceof $)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=($,_)=>{const tt=($&&$[Symbol.iterator]).call($);let nt;for(;(nt=tt.next())&&!nt.done;){const rt=nt.value;_.call($,rt[0],rt[1])}},matchAll=($,_)=>{let et;const tt=[];for(;(et=$.exec(_))!==null;)tt.push(et);return tt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=$=>$.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,tt,nt){return tt.toUpperCase()+nt}),hasOwnProperty=(({hasOwnProperty:$})=>(_,et)=>$.call(_,et))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=($,_)=>{const et=Object.getOwnPropertyDescriptors($),tt={};forEach(et,(nt,rt)=>{let it;(it=_(nt,rt,$))!==!1&&(tt[rt]=it||nt)}),Object.defineProperties($,tt)},freezeMethods=$=>{reduceDescriptors($,(_,et)=>{if(isFunction($)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const tt=$[et];if(isFunction(tt)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet=($,_)=>{const et={},tt=nt=>{nt.forEach(rt=>{et[rt]=!0})};return isArray($)?tt($):tt(String($).split(_)),et},noop=()=>{},toFiniteNumber=($,_)=>($=+$,Number.isFinite($)?$:_),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=($=16,_=ALPHABET.ALPHA_DIGIT)=>{let et="";const{length:tt}=_;for(;$--;)et+=_[Math.random()*tt|0];return et};function isSpecCompliantForm($){return!!($&&isFunction($.append)&&$[Symbol.toStringTag]==="FormData"&&$[Symbol.iterator])}const toJSONObject=$=>{const _=new Array(10),et=(tt,nt)=>{if(isObject(tt)){if(_.indexOf(tt)>=0)return;if(!("toJSON"in tt)){_[nt]=tt;const rt=isArray(tt)?[]:{};return forEach(tt,(it,st)=>{const ot=et(it,nt+1);!isUndefined(ot)&&(rt[st]=ot)}),_[nt]=void 0,rt}}return tt};return et($,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=$=>$&&(isObject($)||isFunction($))&&isFunction($.then)&&isFunction($.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError($,_,et,tt,nt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=$,this.name="AxiosError",_&&(this.code=_),et&&(this.config=et),tt&&(this.request=tt),nt&&(this.response=nt)}utils$1.inherits(AxiosError,Error,{toJSON:function $(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach($=>{descriptors[$]={value:$}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=($,_,et,tt,nt,rt)=>{const it=Object.create(prototype$1);return utils$1.toFlatObject($,it,function(ot){return ot!==Error.prototype},st=>st!=="isAxiosError"),AxiosError.call(it,$.message,_,et,tt,nt),it.cause=$,it.name=$.name,rt&&Object.assign(it,rt),it};const httpAdapter=null;function isVisitable($){return utils$1.isPlainObject($)||utils$1.isArray($)}function removeBrackets($){return utils$1.endsWith($,"[]")?$.slice(0,-2):$}function renderKey($,_,et){return $?$.concat(_).map(function(nt,rt){return nt=removeBrackets(nt),!et&&rt?"["+nt+"]":nt}).join(et?".":""):_}function isFlatArray($){return utils$1.isArray($)&&!$.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function $(_){return/^is[A-Z]/.test(_)});function toFormData($,_,et){if(!utils$1.isObject($))throw new TypeError("target must be an object");_=_||new FormData,et=utils$1.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ut,mt){return!utils$1.isUndefined(mt[ut])});const tt=et.metaTokens,nt=et.visitor||lt,rt=et.dots,it=et.indexes,ot=(et.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(_);if(!utils$1.isFunction(nt))throw new TypeError("visitor must be a function");function at(pt){if(pt===null)return"";if(utils$1.isDate(pt))return pt.toISOString();if(!ot&&utils$1.isBlob(pt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(pt)||utils$1.isTypedArray(pt)?ot&&typeof Blob=="function"?new Blob([pt]):Buffer.from(pt):pt}function lt(pt,ut,mt){let ft=pt;if(pt&&!mt&&typeof pt=="object"){if(utils$1.endsWith(ut,"{}"))ut=tt?ut:ut.slice(0,-2),pt=JSON.stringify(pt);else if(utils$1.isArray(pt)&&isFlatArray(pt)||(utils$1.isFileList(pt)||utils$1.endsWith(ut,"[]"))&&(ft=utils$1.toArray(pt)))return ut=removeBrackets(ut),ft.forEach(function(vt,bt){!(utils$1.isUndefined(vt)||vt===null)&&_.append(it===!0?renderKey([ut],bt,rt):it===null?ut:ut+"[]",at(vt))}),!1}return isVisitable(pt)?!0:(_.append(renderKey(mt,ut,rt),at(pt)),!1)}const ct=[],dt=Object.assign(predicates,{defaultVisitor:lt,convertValue:at,isVisitable});function _t(pt,ut){if(!utils$1.isUndefined(pt)){if(ct.indexOf(pt)!==-1)throw Error("Circular reference detected in "+ut.join("."));ct.push(pt),utils$1.forEach(pt,function(ft,gt){(!(utils$1.isUndefined(ft)||ft===null)&&nt.call(_,ft,utils$1.isString(gt)?gt.trim():gt,ut,dt))===!0&&_t(ft,ut?ut.concat(gt):[gt])}),ct.pop()}}if(!utils$1.isObject($))throw new TypeError("data must be an object");return _t($),_}function encode$1($){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent($).replace(/[!'()~]|%20|%00/g,function(tt){return _[tt]})}function AxiosURLSearchParams($,_){this._pairs=[],$&&toFormData($,this,_)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function $(_,et){this._pairs.push([_,et])};prototype.toString=function $(_){const et=_?function(tt){return _.call(this,tt,encode$1)}:encode$1;return this._pairs.map(function(nt){return et(nt[0])+"="+et(nt[1])},"").join("&")};function encode($){return encodeURIComponent($).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL($,_,et){if(!_)return $;const tt=et&&et.encode||encode,nt=et&&et.serialize;let rt;if(nt?rt=nt(_,et):rt=utils$1.isURLSearchParams(_)?_.toString():new AxiosURLSearchParams(_,et).toString(tt),rt){const it=$.indexOf("#");it!==-1&&($=$.slice(0,it)),$+=($.indexOf("?")===-1?"?":"&")+rt}return $}class InterceptorManager{constructor(){this.handlers=[]}use(_,et,tt){return this.handlers.push({fulfilled:_,rejected:et,synchronous:tt?tt.synchronous:!1,runWhen:tt?tt.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){utils$1.forEach(this.handlers,function(tt){tt!==null&&_(tt)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=($=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf($)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm($,_){return toFormData($,new platform.classes.URLSearchParams,Object.assign({visitor:function(et,tt,nt,rt){return platform.isNode&&utils$1.isBuffer(et)?(this.append(tt,et.toString("base64")),!1):rt.defaultVisitor.apply(this,arguments)}},_))}function parsePropPath($){return utils$1.matchAll(/\w+|\[(\w*)]/g,$).map(_=>_[0]==="[]"?"":_[1]||_[0])}function arrayToObject($){const _={},et=Object.keys($);let tt;const nt=et.length;let rt;for(tt=0;tt<nt;tt++)rt=et[tt],_[rt]=$[rt];return _}function formDataToJSON($){function _(et,tt,nt,rt){let it=et[rt++];if(it==="__proto__")return!0;const st=Number.isFinite(+it),ot=rt>=et.length;return it=!it&&utils$1.isArray(nt)?nt.length:it,ot?(utils$1.hasOwnProp(nt,it)?nt[it]=[nt[it],tt]:nt[it]=tt,!st):((!nt[it]||!utils$1.isObject(nt[it]))&&(nt[it]=[]),_(et,tt,nt[it],rt)&&utils$1.isArray(nt[it])&&(nt[it]=arrayToObject(nt[it])),!st)}if(utils$1.isFormData($)&&utils$1.isFunction($.entries)){const et={};return utils$1.forEachEntry($,(tt,nt)=>{_(parsePropPath(tt),nt,et,0)}),et}return null}function stringifySafely($,_,et){if(utils$1.isString($))try{return(_||JSON.parse)($),utils$1.trim($)}catch(tt){if(tt.name!=="SyntaxError")throw tt}return(et||JSON.stringify)($)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function $(_,et){const tt=et.getContentType()||"",nt=tt.indexOf("application/json")>-1,rt=utils$1.isObject(_);if(rt&&utils$1.isHTMLForm(_)&&(_=new FormData(_)),utils$1.isFormData(_))return nt?JSON.stringify(formDataToJSON(_)):_;if(utils$1.isArrayBuffer(_)||utils$1.isBuffer(_)||utils$1.isStream(_)||utils$1.isFile(_)||utils$1.isBlob(_))return _;if(utils$1.isArrayBufferView(_))return _.buffer;if(utils$1.isURLSearchParams(_))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_.toString();let st;if(rt){if(tt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_,this.formSerializer).toString();if((st=utils$1.isFileList(_))||tt.indexOf("multipart/form-data")>-1){const ot=this.env&&this.env.FormData;return toFormData(st?{"files[]":_}:_,ot&&new ot,this.formSerializer)}}return rt||nt?(et.setContentType("application/json",!1),stringifySafely(_)):_}],transformResponse:[function $(_){const et=this.transitional||defaults.transitional,tt=et&&et.forcedJSONParsing,nt=this.responseType==="json";if(_&&utils$1.isString(_)&&(tt&&!this.responseType||nt)){const it=!(et&&et.silentJSONParsing)&&nt;try{return JSON.parse(_)}catch(st){if(it)throw st.name==="SyntaxError"?AxiosError.from(st,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):st}}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function $(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],$=>{defaults.headers[$]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=$=>{const _={};let et,tt,nt;return $&&$.split(`
`).forEach(function(it){nt=it.indexOf(":"),et=it.substring(0,nt).trim().toLowerCase(),tt=it.substring(nt+1).trim(),!(!et||_[et]&&ignoreDuplicateOf[et])&&(et==="set-cookie"?_[et]?_[et].push(tt):_[et]=[tt]:_[et]=_[et]?_[et]+", "+tt:tt)}),_},$internals=Symbol("internals");function normalizeHeader($){return $&&String($).trim().toLowerCase()}function normalizeValue($){return $===!1||$==null?$:utils$1.isArray($)?$.map(normalizeValue):String($)}function parseTokens($){const _=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let tt;for(;tt=et.exec($);)_[tt[1]]=tt[2];return _}const isValidHeaderName=$=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test($.trim());function matchHeaderValue($,_,et,tt,nt){if(utils$1.isFunction(tt))return tt.call(this,_,et);if(nt&&(_=et),!!utils$1.isString(_)){if(utils$1.isString(tt))return _.indexOf(tt)!==-1;if(utils$1.isRegExp(tt))return tt.test(_)}}function formatHeader($){return $.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,et,tt)=>et.toUpperCase()+tt)}function buildAccessors($,_){const et=utils$1.toCamelCase(" "+_);["get","set","has"].forEach(tt=>{Object.defineProperty($,tt+et,{value:function(nt,rt,it){return this[tt].call(this,_,nt,rt,it)},configurable:!0})})}class AxiosHeaders{constructor(_){_&&this.set(_)}set(_,et,tt){const nt=this;function rt(st,ot,at){const lt=normalizeHeader(ot);if(!lt)throw new Error("header name must be a non-empty string");const ct=utils$1.findKey(nt,lt);(!ct||nt[ct]===void 0||at===!0||at===void 0&&nt[ct]!==!1)&&(nt[ct||ot]=normalizeValue(st))}const it=(st,ot)=>utils$1.forEach(st,(at,lt)=>rt(at,lt,ot));return utils$1.isPlainObject(_)||_ instanceof this.constructor?it(_,et):utils$1.isString(_)&&(_=_.trim())&&!isValidHeaderName(_)?it(parseHeaders(_),et):_!=null&&rt(et,_,tt),this}get(_,et){if(_=normalizeHeader(_),_){const tt=utils$1.findKey(this,_);if(tt){const nt=this[tt];if(!et)return nt;if(et===!0)return parseTokens(nt);if(utils$1.isFunction(et))return et.call(this,nt,tt);if(utils$1.isRegExp(et))return et.exec(nt);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,et){if(_=normalizeHeader(_),_){const tt=utils$1.findKey(this,_);return!!(tt&&this[tt]!==void 0&&(!et||matchHeaderValue(this,this[tt],tt,et)))}return!1}delete(_,et){const tt=this;let nt=!1;function rt(it){if(it=normalizeHeader(it),it){const st=utils$1.findKey(tt,it);st&&(!et||matchHeaderValue(tt,tt[st],st,et))&&(delete tt[st],nt=!0)}}return utils$1.isArray(_)?_.forEach(rt):rt(_),nt}clear(_){const et=Object.keys(this);let tt=et.length,nt=!1;for(;tt--;){const rt=et[tt];(!_||matchHeaderValue(this,this[rt],rt,_,!0))&&(delete this[rt],nt=!0)}return nt}normalize(_){const et=this,tt={};return utils$1.forEach(this,(nt,rt)=>{const it=utils$1.findKey(tt,rt);if(it){et[it]=normalizeValue(nt),delete et[rt];return}const st=_?formatHeader(rt):String(rt).trim();st!==rt&&delete et[rt],et[st]=normalizeValue(nt),tt[st]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const et=Object.create(null);return utils$1.forEach(this,(tt,nt)=>{tt!=null&&tt!==!1&&(et[nt]=_&&utils$1.isArray(tt)?tt.join(", "):tt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,et])=>_+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...et){const tt=new this(_);return et.forEach(nt=>tt.set(nt)),tt}static accessor(_){const tt=(this[$internals]=this[$internals]={accessors:{}}).accessors,nt=this.prototype;function rt(it){const st=normalizeHeader(it);tt[st]||(buildAccessors(nt,it),tt[st]=!0)}return utils$1.isArray(_)?_.forEach(rt):rt(_),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:$},_)=>{let et=_[0].toUpperCase()+_.slice(1);return{get:()=>$,set(tt){this[et]=tt}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData($,_){const et=this||defaults$1,tt=_||et,nt=AxiosHeaders$1.from(tt.headers);let rt=tt.data;return utils$1.forEach($,function(st){rt=st.call(et,rt,nt.normalize(),_?_.status:void 0)}),nt.normalize(),rt}function isCancel($){return!!($&&$.__CANCEL__)}function CanceledError($,_,et){AxiosError.call(this,$??"canceled",AxiosError.ERR_CANCELED,_,et),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle($,_,et){const tt=et.config.validateStatus;!et.status||!tt||tt(et.status)?$(et):_(new AxiosError("Request failed with status code "+et.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}const cookies=platform.hasStandardBrowserEnv?{write($,_,et,tt,nt,rt){const it=[$+"="+encodeURIComponent(_)];utils$1.isNumber(et)&&it.push("expires="+new Date(et).toGMTString()),utils$1.isString(tt)&&it.push("path="+tt),utils$1.isString(nt)&&it.push("domain="+nt),rt===!0&&it.push("secure"),document.cookie=it.join("; ")},read($){const _=document.cookie.match(new RegExp("(^|;\\s*)("+$+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove($){this.write($,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL($){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test($)}function combineURLs($,_){return _?$.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):$}function buildFullPath($,_){return $&&!isAbsoluteURL(_)?combineURLs($,_):_}const isURLSameOrigin=platform.hasStandardBrowserEnv?function $(){const _=/(msie|trident)/i.test(navigator.userAgent),et=document.createElement("a");let tt;function nt(rt){let it=rt;return _&&(et.setAttribute("href",it),it=et.href),et.setAttribute("href",it),{href:et.href,protocol:et.protocol?et.protocol.replace(/:$/,""):"",host:et.host,search:et.search?et.search.replace(/^\?/,""):"",hash:et.hash?et.hash.replace(/^#/,""):"",hostname:et.hostname,port:et.port,pathname:et.pathname.charAt(0)==="/"?et.pathname:"/"+et.pathname}}return tt=nt(window.location.href),function(it){const st=utils$1.isString(it)?nt(it):it;return st.protocol===tt.protocol&&st.host===tt.host}}():function $(){return function(){return!0}}();function parseProtocol($){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec($);return _&&_[1]||""}function speedometer($,_){$=$||10;const et=new Array($),tt=new Array($);let nt=0,rt=0,it;return _=_!==void 0?_:1e3,function(ot){const at=Date.now(),lt=tt[rt];it||(it=at),et[nt]=ot,tt[nt]=at;let ct=rt,dt=0;for(;ct!==nt;)dt+=et[ct++],ct=ct%$;if(nt=(nt+1)%$,nt===rt&&(rt=(rt+1)%$),at-it<_)return;const _t=lt&&at-lt;return _t?Math.round(dt*1e3/_t):void 0}}function progressEventReducer($,_){let et=0;const tt=speedometer(50,250);return nt=>{const rt=nt.loaded,it=nt.lengthComputable?nt.total:void 0,st=rt-et,ot=tt(st),at=rt<=it;et=rt;const lt={loaded:rt,total:it,progress:it?rt/it:void 0,bytes:st,rate:ot||void 0,estimated:ot&&it&&at?(it-rt)/ot:void 0,event:nt};lt[_?"download":"upload"]=!0,$(lt)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function($){return new Promise(function(et,tt){let nt=$.data;const rt=AxiosHeaders$1.from($.headers).normalize();let{responseType:it,withXSRFToken:st}=$,ot;function at(){$.cancelToken&&$.cancelToken.unsubscribe(ot),$.signal&&$.signal.removeEventListener("abort",ot)}let lt;if(utils$1.isFormData(nt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)rt.setContentType(!1);else if((lt=rt.getContentType())!==!1){const[ut,...mt]=lt?lt.split(";").map(ft=>ft.trim()).filter(Boolean):[];rt.setContentType([ut||"multipart/form-data",...mt].join("; "))}}let ct=new XMLHttpRequest;if($.auth){const ut=$.auth.username||"",mt=$.auth.password?unescape(encodeURIComponent($.auth.password)):"";rt.set("Authorization","Basic "+btoa(ut+":"+mt))}const dt=buildFullPath($.baseURL,$.url);ct.open($.method.toUpperCase(),buildURL(dt,$.params,$.paramsSerializer),!0),ct.timeout=$.timeout;function _t(){if(!ct)return;const ut=AxiosHeaders$1.from("getAllResponseHeaders"in ct&&ct.getAllResponseHeaders()),ft={data:!it||it==="text"||it==="json"?ct.responseText:ct.response,status:ct.status,statusText:ct.statusText,headers:ut,config:$,request:ct};settle(function(vt){et(vt),at()},function(vt){tt(vt),at()},ft),ct=null}if("onloadend"in ct?ct.onloadend=_t:ct.onreadystatechange=function(){!ct||ct.readyState!==4||ct.status===0&&!(ct.responseURL&&ct.responseURL.indexOf("file:")===0)||setTimeout(_t)},ct.onabort=function(){ct&&(tt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,$,ct)),ct=null)},ct.onerror=function(){tt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,$,ct)),ct=null},ct.ontimeout=function(){let mt=$.timeout?"timeout of "+$.timeout+"ms exceeded":"timeout exceeded";const ft=$.transitional||transitionalDefaults;$.timeoutErrorMessage&&(mt=$.timeoutErrorMessage),tt(new AxiosError(mt,ft.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,$,ct)),ct=null},platform.hasStandardBrowserEnv&&(st&&utils$1.isFunction(st)&&(st=st($)),st||st!==!1&&isURLSameOrigin(dt))){const ut=$.xsrfHeaderName&&$.xsrfCookieName&&cookies.read($.xsrfCookieName);ut&&rt.set($.xsrfHeaderName,ut)}nt===void 0&&rt.setContentType(null),"setRequestHeader"in ct&&utils$1.forEach(rt.toJSON(),function(mt,ft){ct.setRequestHeader(ft,mt)}),utils$1.isUndefined($.withCredentials)||(ct.withCredentials=!!$.withCredentials),it&&it!=="json"&&(ct.responseType=$.responseType),typeof $.onDownloadProgress=="function"&&ct.addEventListener("progress",progressEventReducer($.onDownloadProgress,!0)),typeof $.onUploadProgress=="function"&&ct.upload&&ct.upload.addEventListener("progress",progressEventReducer($.onUploadProgress)),($.cancelToken||$.signal)&&(ot=ut=>{ct&&(tt(!ut||ut.type?new CanceledError(null,$,ct):ut),ct.abort(),ct=null)},$.cancelToken&&$.cancelToken.subscribe(ot),$.signal&&($.signal.aborted?ot():$.signal.addEventListener("abort",ot)));const pt=parseProtocol(dt);if(pt&&platform.protocols.indexOf(pt)===-1){tt(new AxiosError("Unsupported protocol "+pt+":",AxiosError.ERR_BAD_REQUEST,$));return}ct.send(nt||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$1.forEach(knownAdapters,($,_)=>{if($){try{Object.defineProperty($,"name",{value:_})}catch{}Object.defineProperty($,"adapterName",{value:_})}});const renderReason=$=>`- ${$}`,isResolvedHandle=$=>utils$1.isFunction($)||$===null||$===!1,adapters={getAdapter:$=>{$=utils$1.isArray($)?$:[$];const{length:_}=$;let et,tt;const nt={};for(let rt=0;rt<_;rt++){et=$[rt];let it;if(tt=et,!isResolvedHandle(et)&&(tt=knownAdapters[(it=String(et)).toLowerCase()],tt===void 0))throw new AxiosError(`Unknown adapter '${it}'`);if(tt)break;nt[it||"#"+rt]=tt}if(!tt){const rt=Object.entries(nt).map(([st,ot])=>`adapter ${st} `+(ot===!1?"is not supported by the environment":"is not available in the build"));let it=_?rt.length>1?`since :
`+rt.map(renderReason).join(`
`):" "+renderReason(rt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+it,"ERR_NOT_SUPPORT")}return tt},adapters:knownAdapters};function throwIfCancellationRequested($){if($.cancelToken&&$.cancelToken.throwIfRequested(),$.signal&&$.signal.aborted)throw new CanceledError(null,$)}function dispatchRequest($){return throwIfCancellationRequested($),$.headers=AxiosHeaders$1.from($.headers),$.data=transformData.call($,$.transformRequest),["post","put","patch"].indexOf($.method)!==-1&&$.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter($.adapter||defaults$1.adapter)($).then(function(tt){return throwIfCancellationRequested($),tt.data=transformData.call($,$.transformResponse,tt),tt.headers=AxiosHeaders$1.from(tt.headers),tt},function(tt){return isCancel(tt)||(throwIfCancellationRequested($),tt&&tt.response&&(tt.response.data=transformData.call($,$.transformResponse,tt.response),tt.response.headers=AxiosHeaders$1.from(tt.response.headers))),Promise.reject(tt)})}const headersToObject=$=>$ instanceof AxiosHeaders$1?{...$}:$;function mergeConfig($,_){_=_||{};const et={};function tt(at,lt,ct){return utils$1.isPlainObject(at)&&utils$1.isPlainObject(lt)?utils$1.merge.call({caseless:ct},at,lt):utils$1.isPlainObject(lt)?utils$1.merge({},lt):utils$1.isArray(lt)?lt.slice():lt}function nt(at,lt,ct){if(utils$1.isUndefined(lt)){if(!utils$1.isUndefined(at))return tt(void 0,at,ct)}else return tt(at,lt,ct)}function rt(at,lt){if(!utils$1.isUndefined(lt))return tt(void 0,lt)}function it(at,lt){if(utils$1.isUndefined(lt)){if(!utils$1.isUndefined(at))return tt(void 0,at)}else return tt(void 0,lt)}function st(at,lt,ct){if(ct in _)return tt(at,lt);if(ct in $)return tt(void 0,at)}const ot={url:rt,method:rt,data:rt,baseURL:it,transformRequest:it,transformResponse:it,paramsSerializer:it,timeout:it,timeoutMessage:it,withCredentials:it,withXSRFToken:it,adapter:it,responseType:it,xsrfCookieName:it,xsrfHeaderName:it,onUploadProgress:it,onDownloadProgress:it,decompress:it,maxContentLength:it,maxBodyLength:it,beforeRedirect:it,transport:it,httpAgent:it,httpsAgent:it,cancelToken:it,socketPath:it,responseEncoding:it,validateStatus:st,headers:(at,lt)=>nt(headersToObject(at),headersToObject(lt),!0)};return utils$1.forEach(Object.keys(Object.assign({},$,_)),function(lt){const ct=ot[lt]||nt,dt=ct($[lt],_[lt],lt);utils$1.isUndefined(dt)&&ct!==st||(et[lt]=dt)}),et}const VERSION="1.6.8",validators$1={};["object","boolean","number","function","string","symbol"].forEach(($,_)=>{validators$1[$]=function(tt){return typeof tt===$||"a"+(_<1?"n ":" ")+$}});const deprecatedWarnings={};validators$1.transitional=function $(_,et,tt){function nt(rt,it){return"[Axios v"+VERSION+"] Transitional option '"+rt+"'"+it+(tt?". "+tt:"")}return(rt,it,st)=>{if(_===!1)throw new AxiosError(nt(it," has been removed"+(et?" in "+et:"")),AxiosError.ERR_DEPRECATED);return et&&!deprecatedWarnings[it]&&(deprecatedWarnings[it]=!0,console.warn(nt(it," has been deprecated since v"+et+" and will be removed in the near future"))),_?_(rt,it,st):!0}};function assertOptions($,_,et){if(typeof $!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const tt=Object.keys($);let nt=tt.length;for(;nt-- >0;){const rt=tt[nt],it=_[rt];if(it){const st=$[rt],ot=st===void 0||it(st,rt,$);if(ot!==!0)throw new AxiosError("option "+rt+" must be "+ot,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError("Unknown option "+rt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(_){this.defaults=_,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(_,et){try{return await this._request(_,et)}catch(tt){if(tt instanceof Error){let nt;Error.captureStackTrace?Error.captureStackTrace(nt={}):nt=new Error;const rt=nt.stack?nt.stack.replace(/^.+\n/,""):"";tt.stack?rt&&!String(tt.stack).endsWith(rt.replace(/^.+\n.+\n/,""))&&(tt.stack+=`
`+rt):tt.stack=rt}throw tt}}_request(_,et){typeof _=="string"?(et=et||{},et.url=_):et=_||{},et=mergeConfig(this.defaults,et);const{transitional:tt,paramsSerializer:nt,headers:rt}=et;tt!==void 0&&validator.assertOptions(tt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),nt!=null&&(utils$1.isFunction(nt)?et.paramsSerializer={serialize:nt}:validator.assertOptions(nt,{encode:validators.function,serialize:validators.function},!0)),et.method=(et.method||this.defaults.method||"get").toLowerCase();let it=rt&&utils$1.merge(rt.common,rt[et.method]);rt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],pt=>{delete rt[pt]}),et.headers=AxiosHeaders$1.concat(it,rt);const st=[];let ot=!0;this.interceptors.request.forEach(function(ut){typeof ut.runWhen=="function"&&ut.runWhen(et)===!1||(ot=ot&&ut.synchronous,st.unshift(ut.fulfilled,ut.rejected))});const at=[];this.interceptors.response.forEach(function(ut){at.push(ut.fulfilled,ut.rejected)});let lt,ct=0,dt;if(!ot){const pt=[dispatchRequest.bind(this),void 0];for(pt.unshift.apply(pt,st),pt.push.apply(pt,at),dt=pt.length,lt=Promise.resolve(et);ct<dt;)lt=lt.then(pt[ct++],pt[ct++]);return lt}dt=st.length;let _t=et;for(ct=0;ct<dt;){const pt=st[ct++],ut=st[ct++];try{_t=pt(_t)}catch(mt){ut.call(this,mt);break}}try{lt=dispatchRequest.call(this,_t)}catch(pt){return Promise.reject(pt)}for(ct=0,dt=at.length;ct<dt;)lt=lt.then(at[ct++],at[ct++]);return lt}getUri(_){_=mergeConfig(this.defaults,_);const et=buildFullPath(_.baseURL,_.url);return buildURL(et,_.params,_.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function $(_){Axios.prototype[_]=function(et,tt){return this.request(mergeConfig(tt||{},{method:_,url:et,data:(tt||{}).data}))}});utils$1.forEach(["post","put","patch"],function $(_){function et(tt){return function(rt,it,st){return this.request(mergeConfig(st||{},{method:_,headers:tt?{"Content-Type":"multipart/form-data"}:{},url:rt,data:it}))}}Axios.prototype[_]=et(),Axios.prototype[_+"Form"]=et(!0)});const Axios$1=Axios;class CancelToken{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(rt){et=rt});const tt=this;this.promise.then(nt=>{if(!tt._listeners)return;let rt=tt._listeners.length;for(;rt-- >0;)tt._listeners[rt](nt);tt._listeners=null}),this.promise.then=nt=>{let rt;const it=new Promise(st=>{tt.subscribe(st),rt=st}).then(nt);return it.cancel=function(){tt.unsubscribe(rt)},it},_(function(rt,it,st){tt.reason||(tt.reason=new CanceledError(rt,it,st),et(tt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const et=this._listeners.indexOf(_);et!==-1&&this._listeners.splice(et,1)}static source(){let _;return{token:new CancelToken(function(nt){_=nt}),cancel:_}}}const CancelToken$1=CancelToken;function spread($){return function(et){return $.apply(null,et)}}function isAxiosError($){return utils$1.isObject($)&&$.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([$,_])=>{HttpStatusCode[_]=$});const HttpStatusCode$1=HttpStatusCode;function createInstance($){const _=new Axios$1($),et=bind(Axios$1.prototype.request,_);return utils$1.extend(et,Axios$1.prototype,_,{allOwnKeys:!0}),utils$1.extend(et,_,null,{allOwnKeys:!0}),et.create=function(nt){return createInstance(mergeConfig($,nt))},et}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function $(_){return Promise.all(_)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=$=>formDataToJSON(utils$1.isHTMLForm($)?new FormData($):$);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,JobDetails=()=>{const{id:$}=useParams(),[_,et]=reactExports.useState(null),tt=useNavigate(),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState(!1),[ot,at]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),[dt,_t]=reactExports.useState(null),pt=JSON.parse(localStorage.getItem("user")),ut=localStorage.getItem("token"),mt=getFirestore(),ft=getStorage(),gt=async()=>{const bt=doc(mt,"jobs",$),Et=await getDoc(bt);et(Et.data()),console.log(Et.data())};reactExports.useEffect(()=>{gt()},[$]);const vt=async()=>{const bt={...pt,appliedJobFor:$,resume:"",userId:ut};at(!0),addDoc(collection(mt,"appliedCandidates"),bt).then(async Et=>{const xt=ref(ft,`resume/${dt.name}`);uploadBytesResumable(xt,dt).then(kt=>{getDownloadURL(kt.ref).then(async Ct=>{console.log("IMAGE UPLOADED",Ct),setDoc(doc(mt,"appliedCandidates",Et.id),{...bt,resume:Ct}).then(async()=>{try{const At=await axios$1.post("https://server-two-navy.vercel.app/send-email",{to:_==null?void 0:_.jobPostedBy,downloadURL:Ct});console.log(At.data)}catch(At){console.log(At)}})}).catch(Ct=>{console.log("IMAGE UPLOAD ERROR",Ct)})}),at(!1),st(!0)}).catch(Et=>{at(!1),console.log(Et)})};return jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsx(R,{color:"#3575E2",loading:ot}),it?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-primary mb-3",children:["Congratulations! Your ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Resume"})," Submitted Successfully"]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-black/70 mb-8 cursor-pointer",onClick:()=>tt("/"),children:"Go back to homepage"})]})}):nt?jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",flexDirection:"column"},children:[jsxRuntimeExports.jsx("input",{onChange:bt=>{ct(URL.createObjectURL(bt.target.files[0])),_t(bt.target.files[0])},id:"cv-upload",type:"file",hidden:!0}),jsxRuntimeExports.jsx("label",{for:"cv-upload",className:"bg-blue py-2 px-8 text-white rounded cursor-pointer",children:"Upload CV"}),lt&&jsxRuntimeExports.jsx("iframe",{src:lt,width:"400px",height:"300px"}),lt&&jsxRuntimeExports.jsx("button",{onClick:vt,for:"cv-upload",className:"bg-blue py-2 px-8 text-white rounded cursor-pointer",children:"Submit"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PageHeader,{title:"Job Details Page",path:"Single Job"}),jsxRuntimeExports.jsxs("div",{className:"mt-10",children:[jsxRuntimeExports.jsxs("div",{className:"my-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-blue",children:"Location"}),jsxRuntimeExports.jsx("p",{className:"text-primary text-lg my-1",children:_==null?void 0:_.jobCompanyAddress})]}),jsxRuntimeExports.jsxs("div",{className:"my-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-blue",children:"Job details"}),jsxRuntimeExports.jsx("p",{className:"text-primary text-sm my-1",children:_==null?void 0:_.jobDescription})]}),jsxRuntimeExports.jsxs("div",{className:"my-4 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaBriefcase,{}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-medium mb-2",children:["Job type: ",_==null?void 0:_.jobType]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("p",{className:"text-md mb-2",children:["Salary Starting from: ",_==null?void 0:_.jobMinimumSalary," - ",_==null?void 0:_.jobMaximumSalary]})}),jsxRuntimeExports.jsx("button",{className:"bg-indigo-700 px-6 py-1 text-white rounded-sm ms-2",onClick:()=>rt(!0),children:"Apply Now"})]})]})]})]})},Login=()=>{var _t,pt;const[$,_]=reactExports.useState(""),[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(""),[it,st]=reactExports.useState("");reactExports.useContext(AuthContext);const ot=new GoogleAuthProvider,at=useLocation(),lt=useNavigate();(pt=(_t=at.state)==null?void 0:_t.from)!=null&&pt.pathname;const ct=()=>{signInWithPopup(auth,ot).then(ut=>{const ft=GoogleAuthProvider.credentialFromResult(ut).accessToken;ut.user,localStorage.setItem("token",ft),window.location.reload(),lt("/"),console.log("Google login error",ut)}).catch(ut=>{console.log("Google login error",ut)})},dt=getFirestore();return jsxRuntimeExports.jsx("div",{className:"h-screen mx-auto container flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[jsxRuntimeExports.jsx(R,{loading:et,color:"#3575E2"}),jsxRuntimeExports.jsx("div",{className:"justify-center flex",children:jsxRuntimeExports.jsx("img",{className:"",style:{height:"61px",width:"170px"},src:"public/images/logo.png"})}),jsxRuntimeExports.jsx("h3",{className:"text-5xl text-center mt-5 font-semibold mb-4 text-blue whitespace-nowrap",children:"Please Login!"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email Address"}),jsxRuntimeExports.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"name@email.com",onChange:ut=>rt(ut.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),jsxRuntimeExports.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************",onChange:ut=>st(ut.target.value)}),$&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs italic",children:$})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{tt(!0),signInWithEmailAndPassword(auth,nt,it).then(async ut=>{console.log("user login succes",ut);const mt=doc(dt,"candidates",ut.user.uid),ft=doc(dt,"companies",ut.user.uid),gt=await getDoc(mt),vt=await getDoc(ft),bt=gt.data()===void 0?vt.data():vt.data()===void 0?gt.data():null;bt&&(localStorage.setItem("token",ut.user.uid),localStorage.setItem("user",JSON.stringify(bt)),window.location.reload()),tt(!1)}).catch(ut=>{tt(!1),_(ut==null?void 0:ut.code),console.log(ut)})},children:"Login"}),jsxRuntimeExports.jsx("a",{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",href:"#",children:"Forgot Password?"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 text-center w-full mx-auto",children:[jsxRuntimeExports.jsxs(Link,{to:"/sign-up",children:["Not a member yet ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Sign up"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center mt-5 gap-4 w-full mx-auto",children:[jsxRuntimeExports.jsx("button",{className:" border-2 text-blue hover:text-white hover:bg-blue font-bold p-3 rounded-full focus:outline-none focus:shadow-outline flex items-center gap-2",type:"button",onClick:ct,children:jsxRuntimeExports.jsx(FaGoogle,{})}),jsxRuntimeExports.jsx("button",{className:" border-2 text-blue hover:text-white hover:bg-blue font-bold p-3 rounded-full focus:outline-none focus:shadow-outline flex items-center gap-2",type:"button",children:jsxRuntimeExports.jsx(FaFacebookF,{})}),jsxRuntimeExports.jsx("button",{className:" border-2 text-blue hover:text-white hover:bg-blue font-bold p-3 rounded-full focus:outline-none focus:shadow-outline flex items-center gap-2",type:"button",children:jsxRuntimeExports.jsx(FaLinkedin,{})}),jsxRuntimeExports.jsx("button",{className:" border-2 text-blue hover:text-white hover:bg-blue font-bold p-3 rounded-full focus:outline-none focus:shadow-outline flex items-center gap-2",type:"button",children:jsxRuntimeExports.jsx(FaInstagram,{})})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 text-xs"})]})})},Signup=()=>{const $=getFirestore(),_=getStorage(),[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(!1),it=getAuth();useLocation();const st=useNavigate(),[ot,at]=reactExports.useState("company"),[lt,ct]=reactExports.useState({name:"",email:"",password:"",address:"",phone:null,image:null,role:"company",createdAt:new Date}),[dt,_t]=reactExports.useState({candidateName:"",candidateEmail:"",password:"",role:"candidate",createdAt:new Date}),pt=(mt,ft)=>{console.log(mt),ot==="company"?ct(gt=>({...gt,[ft]:mt})):_t({...dt,[ft]:mt})};function ut(){if(rt(!0),ot==="company")if(lt.name===""||lt.email===""||lt.address===""||lt.password===""||lt.phone===null)rt(!1),enqueueSnackbar("Fields are required",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}});else{const mt=lt.email,ft=lt.password;createUserWithEmailAndPassword(it,mt,ft).then(async gt=>{console.log("user creation succes",gt.user),setDoc(doc($,"companies",gt.user.uid),{...lt,image:""}).then(async()=>{console.log("company registered"),enqueueSnackbar("Registered Successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),rt(!1),setTimeout(()=>{st("/login")},2e3);const vt=ref(_,"companies",lt.image.name),bt=await uploadBytesResumable(vt,lt.image),Et=await getDownloadURL(bt.ref);Et&&updateDoc(doc($,"companies",gt.user.uid),{...lt,image:Et}),console.log("image uploaded ====>",Et)})}).catch(gt=>{rt(!1),tt(gt.code),enqueueSnackbar(gt==null?void 0:gt.code,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),console.log(gt)})}else if(dt.candidateName===""||dt.candidateEmail===""||dt.password==="")rt(!1),enqueueSnackbar("Fields are required",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}});else{const mt=dt.candidateEmail,ft=dt.password;createUserWithEmailAndPassword(it,mt,ft).then(async gt=>{console.log("user creation succes",gt.user),enqueueSnackbar("Registered Successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),setDoc(doc($,"candidates",gt.user.uid),{...dt}),rt(!1),setTimeout(()=>{st("/login")},2e3)}).catch(gt=>{rt(!1),tt(gt.code),enqueueSnackbar(gt==null?void 0:gt.code,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),console.log(gt)})}}return console.log(lt),console.log(ot),jsxRuntimeExports.jsxs("div",{className:"h-screen mx-auto container flex col",style:{width:"100%",margin:"60px 0"},children:[jsxRuntimeExports.jsx(SnackbarProvider,{}),jsxRuntimeExports.jsx(R,{color:"#3575E2",loading:nt}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-lg mx-auto",style:{width:"100%"},children:[jsxRuntimeExports.jsx("div",{className:"justify-center flex",children:jsxRuntimeExports.jsx("img",{className:"",style:{height:"61px",width:"170px"},src:"public/images/logo.png"})}),jsxRuntimeExports.jsx("h3",{className:"text-3xl text-center font-semibold mb-4 text-blue",children:"Sign Up!"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{className:"w-full bg-blue hover:bg-blue-700 text-white font-bold mt-5 py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:mt=>{mt.preventDefault(),at("candidate")},children:"Candidate"}),jsxRuntimeExports.jsx("span",{className:"mt-5 mx-4",children:"Or"}),jsxRuntimeExports.jsx("button",{className:"w-full bg-blue hover:bg-blue-700 text-white font-bold mt-5 py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:mt=>{mt.preventDefault(),at("employer")},children:"Employer"})]}),ot==="candidate"?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4 mt-5",children:Object.entries(dt).map(([mt,ft])=>{if(mt!=="createdAt"&&mt!=="role")return jsxRuntimeExports.jsx("div",{className:"mb-1",children:jsxRuntimeExports.jsx("input",{className:"shadow appearance-none border rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:`Enter ${mt.slice(0,1).toUpperCase()+mt.slice(1,9)+" "+mt.slice(9,100)}`,onChange:gt=>{pt(gt.target.value,mt),console.log(gt.target.value,mt),console.log("key",mt)}})},mt)})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4 mt-5",style:{width:"100%"},children:Object.entries(lt).map(([mt,ft])=>mt==="createdAt"||mt==="role"||mt==="jobs"?"":mt==="image"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"mb-1",style:{width:"100%"},children:[jsxRuntimeExports.jsx("input",{onChange:gt=>ct(vt=>({...vt,image:gt.target.files[0]})),type:"file",id:"actual-btn",hidden:!0}),jsxRuntimeExports.jsx("label",{for:"actual-btn",className:"bg-blue hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Upload Image"})]},mt)}):jsxRuntimeExports.jsx("div",{className:"mb-1",style:{width:"100%"},children:jsxRuntimeExports.jsx("input",{className:"shadow appearance-none border rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:`Enter ${mt}`,onChange:gt=>{pt(gt.target.value,mt)}})},mt))}),et&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-lg mt-4",children:et}),jsxRuntimeExports.jsx("div",{className:"mt-5 mb-5",children:jsxRuntimeExports.jsx("button",{className:"w-full bg-blue hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:ut,children:"Sign up"})}),jsxRuntimeExports.jsx("div",{className:"mt-8 text-center w-full mx-auto",children:jsxRuntimeExports.jsxs(Link,{to:"/login",children:["Already a member? ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Sign in"})]})})]})]})},Profile=()=>{const[$,_]=reactExports.useState(!1),et=getStorage(),tt=JSON.parse(localStorage.getItem("user")),nt=localStorage.getItem("token"),[rt,it]=reactExports.useState(null),[st,ot]=reactExports.useState(!1);useForm();const[at,lt]=reactExports.useState({name:"",email:"",password:"",address:"",phone:null,image:null,role:"company",jobs:null}),ct=(ut,mt)=>{lt(ft=>({...ft,[ut]:mt}))},dt=getFirestore();function _t(){_(!0),updateDoc(doc(dt,"companies",nt),{...at}).then(async()=>{_(!1),console.log("company registered"),_(!1);const ut=ref(et,"companies",at.image.name),mt=await uploadBytesResumable(ut,at.image),ft=await getDownloadURL(mt.ref);ft&&updateDoc(doc(dt,"companies",nt),{...companyForm,image:ft}),console.log("image uploaded ====>",ft)}).catch(()=>{_(!1)})}reactExports.useEffect(()=>{lt({name:tt==null?void 0:tt.name,email:tt==null?void 0:tt.email,password:tt==null?void 0:tt.password,address:tt==null?void 0:tt.address,phone:tt==null?void 0:tt.phone,image:tt==null?void 0:tt.image,role:tt==null?void 0:tt.role})},[]);const pt=async()=>{ot(!0);try{const ut=collection(dt,"jobs"),ft=(await getDocs(query(ut,where("jobPostId","==",nt)))).docs.map(gt=>({docId:gt.id,...gt.data()}));it(ft),setTimeout(()=>{ot(!1)},2e3)}catch(ut){console.error("Error getting documents: ",ut),ot(!1)}};return reactExports.useEffect(()=>{pt()},[]),console.log(rt),jsxRuntimeExports.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:[jsxRuntimeExports.jsx(SnackbarProvider,{}),jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-primary mb-10 mt-10",children:["Company ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Profile"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-[#FAFAFA] py-10 px-4 lg:px-16",children:[jsxRuntimeExports.jsx(R,{color:"#3575E2",loading:$}),jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Name"}),jsxRuntimeExports.jsx("input",{value:at.name,onChange:ut=>ct("name",ut.target.value),defaultValue:"Web Developer",className:"block w-full flex-1 border-1 bg-white py-1.5 pl-3 text-gray-900 placeholder:text-gray-400 focus:outline-none sm:text-sm sm:leading-6"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Email"}),jsxRuntimeExports.jsx("input",{value:at.email,onChange:ut=>ct("email",ut.target.value),placeholder:"Ex: Microsoft",className:"create-job-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-job-flex",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Password"}),jsxRuntimeExports.jsx("input",{onChange:ut=>ct("password",ut.target.value),value:at.password,placeholder:"$20k",className:"create-job-input"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Address"}),jsxRuntimeExports.jsx("input",{value:at.address,onChange:ut=>ct("address",ut.target.value),placeholder:"$100k",className:"create-job-input"})]})]}),jsxRuntimeExports.jsx("div",{className:"create-job-flex",children:jsxRuntimeExports.jsxs("div",{className:"lg:w-1/2 w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Company Phone"}),jsxRuntimeExports.jsx("input",{value:at.phone,onChange:ut=>ct("phone",ut.target.value),placeholder:"Ex: New York",className:"create-job-input"})]})}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-lg",children:"Profile"}),jsxRuntimeExports.jsx("img",{onClick:()=>navigate("/profile"),className:"inline-block h-20 w-20 rounded-full ring-2 ring-white",src:at==null?void 0:at.image,alt:""}),jsxRuntimeExports.jsx("input",{id:"upload-btn",hidden:!0,onChange:ut=>ct("image",ut.target.files[0]),type:"file",className:"w-full pl-3 py-1.5 focus:outline-none",placeholder:"your email"}),jsxRuntimeExports.jsx("label",{for:"upload-btn",className:"block mb-2 text-lg",children:"Upload"})]}),jsxRuntimeExports.jsx("button",{onClick:_t,className:"block mt-12 bg-blue text-white font-semibold px-8 py-2 rounded-sm cursor-pointer",children:"Submit"})]})]}),jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-primary mb-10 mt-10",children:["Jobs ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Posted"})]}),(rt==null?void 0:rt.length)===0||rt===null?jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-primary mb-10 mt-10",children:["No ",jsxRuntimeExports.jsx("span",{className:"text-blue",children:"Jobs Available"})]}):st?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:"200px"})]}):rt==null?void 0:rt.map(({docId:ut,jobId:mt,jobCompanyLogo:ft,jobTitle:gt,jobCompany:vt,jobCompanyAddress:bt,employmentType:Et,jobMinimumSalary:xt,jobMaximumSalary:kt,postingDate:Ct,jobDescription:At,jobPostedAt:Lt})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("section",{className:"card",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row items-start",onClick:()=>navigate(`/jobs/${ut}`),children:[jsxRuntimeExports.jsx("img",{src:ft,alt:gt,className:"w-16 h-16 mb-4"}),jsxRuntimeExports.jsxs("div",{className:"card-details",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:gt}),jsxRuntimeExports.jsx("h4",{className:"text-primary mb-1",children:vt}),jsxRuntimeExports.jsxs("div",{className:"text-primary/70 text-base flex flex-wrap gap-2 mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiMapPin,{})," ",bt]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiClock,{})," ",Et]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiDollarSign,{})," ",xt,"-",kt,"k"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiCalendar,{})," ",Ct]})]}),jsxRuntimeExports.jsx("p",{className:"text-base text-primary/70",children:At}),jsxRuntimeExports.jsxs("h4",{className:"text-primary mb-1 font-semibold mt-3",children:["Posted ",hooks(Lt.toDate()).fromNow()]})]}),jsxRuntimeExports.jsx("button",{onClick:async()=>{ot(!0),deleteDoc(doc(dt,"jobs",ut)).then(Mt=>{ot(!1),enqueueSnackbar("Job deleted successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})}).catch(Mt=>{ot(!1)})},type:"submit",className:"bg-blue py-2 px-8 text-white rounded",children:"Delete"})]})})}))]})},AppliedCandidates=()=>{reactExports.useContext(AuthContext);const[$,_]=reactExports.useState([]),[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(!0),[it,st]=reactExports.useState(1),ot=4,at=localStorage.getItem("token"),lt=getFirestore(),ct=it*ot,dt=ct-ot;$.slice(dt,ct);const _t=()=>{const ut=$.filter(mt=>mt.jobTitle.toLowerCase().indexOf(et.toLowerCase())!==-1);_(ut),rt(!1)},pt=async()=>{rt(!0);try{const ut=collection(lt,"jobs"),ft=(await getDocs(query(ut,where("jobPostId","==",at)))).docs.map(vt=>({docId:vt.id,...vt.data()})),gt=collection(lt,"appliedCandidates");onSnapshot(gt,vt=>{const bt=vt.docs.map(Et=>({docId:Et.id,...Et.data()})).filter(Et=>ft.some(xt=>Et.appliedJobFor===xt.docId)).map(Et=>({...Et,job:ft.filter(xt=>Et.appliedJobFor===xt.docId)}));_(bt)}),setTimeout(()=>{rt(!1)},2e3)}catch(ut){console.error("Error getting documents: ",ut),rt(!1)}};return reactExports.useEffect(()=>{pt()},[]),console.log($),jsxRuntimeExports.jsx("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4",children:jsxRuntimeExports.jsxs("div",{className:"my-jobs-container",children:[jsxRuntimeExports.jsx("h1",{className:"text-center p-4 ",children:"Search Candidates"}),jsxRuntimeExports.jsxs("div",{className:"search-box p-2 text-center mb-2",children:[jsxRuntimeExports.jsx("input",{onChange:ut=>tt(ut.target.value),type:"text",className:"py-2 pl-3 border focus:outline-none lg:w-6/12 mb-4 w-full",placeholder:"Search Candidates"}),jsxRuntimeExports.jsx("button",{onClick:_t,className:"bg-blue text-white font-semibold px-8 py-2 rounded-sm mb-4",children:"Search"})]}),jsxRuntimeExports.jsx("section",{className:"py-1 bg-blueGray-50",children:jsxRuntimeExports.jsx("div",{className:"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto mt-5",children:jsxRuntimeExports.jsx("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded "})})}),$==null?void 0:$.map(ut=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("section",{className:"card",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row items-start",children:[jsxRuntimeExports.jsx("img",{src:ut.job[0].jobCompanyLogo,alt:"",className:"w-16 h-16 mb-4"}),jsxRuntimeExports.jsxs("div",{className:"card-details",children:[jsxRuntimeExports.jsx("h4",{className:"text-primary mb-1",children:ut.candidateName}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:ut.candidateEmail}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold",children:["Applied for: ",ut.job[0].jobTitle]})]})]})})}))]})})};function RouterApp(){let $=localStorage.getItem("token");return console.log($),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsxs(Route,{path:"/",element:$!==null?jsxRuntimeExports.jsx(App,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"}),children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/my-job",element:jsxRuntimeExports.jsx(MyJobs,{})}),jsxRuntimeExports.jsx(Route,{path:"/applied-candidates",element:jsxRuntimeExports.jsx(AppliedCandidates,{})}),jsxRuntimeExports.jsx(Route,{path:"/salary",element:jsxRuntimeExports.jsx(SalaryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/post-job",element:jsxRuntimeExports.jsx(CreateJob,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsx(Profile,{})}),jsxRuntimeExports.jsx(Route,{path:"edit-job/:id",element:jsxRuntimeExports.jsx(UpdateJob,{}),loader:({params:_})=>fetch(`http://localhost:5000/all-jobs/${_.id}`)}),jsxRuntimeExports.jsx(Route,{path:"/jobs/:id",element:jsxRuntimeExports.jsx(JobDetails,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/login",element:$===null?jsxRuntimeExports.jsx(Login,{}):jsxRuntimeExports.jsx(Navigate,{to:"/"})}),jsxRuntimeExports.jsx(Route,{path:"/sign-up",element:$===null?jsxRuntimeExports.jsx(Signup,{}):jsxRuntimeExports.jsx(Navigate,{to:"/"})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(RouterApp,{})}))});export default Mp();
